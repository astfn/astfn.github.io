<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>test admin</title>
    <url>/2021/04/25/testDir/test-admin/</url>
    <content><![CDATA[<h1 id="test-Admin"><a href="#test-Admin" class="headerlink" title="test Admin"></a>test Admin</h1><p>use Admin create markdown ğŸ˜€</p>
]]></content>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
    <url>/2021/04/22/%E5%85%B3%E4%BA%8E%E6%88%91/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h1 id="Ashuntefannao"><a href="#Ashuntefannao" class="headerlink" title="Ashuntefannao"></a>Ashuntefannao</h1><blockquote>
<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢é¡¹ç›®,æ—¶é—´åŸå› ï¼Œåç»­æŒç»­æ›´æ–°â€¦â€¦</p>
</blockquote>
<iframe src="//player.bilibili.com/player.html?aid=50256015&bvid=BV1jb411G7Ks&cid=88079872&page=1&danmaku=0" scrolling="no" style="border-radius:15px;" frameborder="no" framespacing="0" allowfullscreen="false"> </iframe>

<p>test</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a=<span class="string">&quot;Ashuntefannao&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> b=<span class="string">&quot;Const&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Admin</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">args=&#123;name,age&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.arguments=args</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">name</span>()&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.arguments.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;this is a test String&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
      </categories>
      <tags>
        <tag>ç¬¬ä¸€ç¯‡åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºæˆ‘</title>
    <url>/2021/05/04/%E5%85%B3%E4%BA%8E%E6%88%91/%E7%94%9F%E6%B4%BB/%E5%85%B3%E4%BA%8E%E6%88%91/</url>
    <content><![CDATA[ <style>
      span.ashun {
        color: #d35400;
        font-weight: bold;
      }
      .active {
        display: inline-block;
        animation: active 0.8s 2 linear;
        letter-spacing: 0.4rem;
      }
      @keyframes active {
        25% {
          color: #ecf0f1;
          transform: scale(1.2);
        }
        40% {
          color: #9b59b6;
          transform: scale(1.5);
        }
        50% {
          color: #546de5;
          transform: scale(2);
        }
        60% {
          color: #e67e22;
          transform: scale(1.5);
        }
        80% {
          color: pink;
          transform: scale(1.2);
        }
      }
       strong.Ashun{
     font-size:20px;
     display:block;
     text-align:center;
       }
    </style><body>




<p>   <strong class="Ashun">æ— è®ºæˆ‘æ€æ ·æ”¹å˜ï¼Œéƒ½æ˜¯é‚£ä¸ªå°‘å¹´</strong></p>
<script>let div = document.querySelector("strong.Ashun");let text = div.innerText;[...text].reduce((pre, val) => {pre == 0 && (div.innerHTML = "");let span = document.createElement("span");span.classList.add("ashun");span.innerText = val;div.append(span);span.addEventListener("mouseenter", (e) => {e.target.classList.add("active");});span.addEventListener("animationend", (e) => {e.target.classList.remove("active");});}, 0);</script></body>

<iframe src="//player.bilibili.com/player.html?aid=672756810&bvid=BV1CU4y1b7Sx&cid=332877650&page=1&danmaku=0" scrolling="no" style="border-radius:15px;" frameborder="no" framespacing="0" allowfullscreen="false"> </iframe>

]]></content>
      <tags>
        <tag>å…³äºæˆ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>BFC</title>
    <url>/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/BFC/BFC/</url>
    <content><![CDATA[<img src="BFC.assets/é¦–å›¾.png" alt="é¦–å›¾"/>

<p>è®°ä½é¦–å›¾ï¼Œåé¢è¦è€ƒ(å¸¦ä½ ç†è§£BFC)ğŸ¾</p>
<h2 id="ä»€ä¹ˆæ˜¯BFCï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯BFCï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯BFCï¼Ÿ"></a>ä»€ä¹ˆæ˜¯BFCï¼Ÿ</h2><p>BFC å…¨ç§°ä¸º<code>block formating context</code>ï¼ˆå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰ï¼Œå®ƒæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<p>â€‹    è‹¥ä¸€ä¸ªå…ƒç´ è§¦å‘äº†BFCï¼Œåˆ™è¿™ä¸ªå…ƒç´ å°±å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªä¸å¤–ç•Œéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œåœ¨è¯¥å®¹å™¨å†…çš„å¸ƒå±€è§„åˆ™ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„å¸ƒå±€ã€‚</p>
<p>ä»€ä¹ˆï¼Ÿä¸å¥½ç†è§£ï¼Ÿæˆ‘å½¢è±¡çš„ç»™å¤§å®¶æ¯”å–»ä¸€ä¸‹ï¼š</p>
<p>â€‹    åœ¨å­©ç«¥æ—¶ä»£ï¼Œè°ƒçš®çš„å°å­©å­éƒ½ä¼šç»™æ¡Œå­åˆ»ä¸‹ä¸€æ¡<strong>ä¸‰å…«çº¿</strong>ï¼Œç”¨äºå’Œå¯çˆ±çš„åŒæ¡Œäº•æ°´ä¸çŠ¯æ²³æ°´ ğŸ˜„ï¼Œè¿™æ¡ä¸‰å…«çº¿å°†æ¡Œå­ä¸€åˆ†ä¸ºäºŒï¼Œå·¦è¾¹æ˜¯æˆ‘çš„ï¼Œå³è¾¹æ˜¯ä½ çš„ï¼Œè€Œä¸”æˆ‘çš„åœ°ç›˜ä¸œè¥¿æƒ³æ€ä¹ˆæ‘†å°±æ€ä¹ˆæ‘†ï¼Œæˆ‘ä¹Ÿä¸ä¼šå½±å“åˆ°ä½ çš„åœ°ç›˜ã€‚BFCå…ƒç´ å’Œè¿™ç§æƒ…å†µæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ¡Œå­çš„å·¦å³éƒ¨åˆ†éƒ½å¯è§†ä¸ºä¸€ä¸ªBFCã€‚</p>
<h2 id="å¦‚ä½•è§¦å‘BFC"><a href="#å¦‚ä½•è§¦å‘BFC" class="headerlink" title="å¦‚ä½•è§¦å‘BFC"></a>å¦‚ä½•è§¦å‘BFC</h2><p>ä¸Šæ–‡æˆ‘ä»¬è®²æ˜äº†ä»€ä¹ˆæ˜¯BFCï¼Œé‚£è¦æ€ä¹ˆè§¦å‘å‘¢ï¼Ÿä¸‹é¢æˆ‘å°†æ–¹æ³•åˆ—ä¸¾å‡ºæ¥ï¼š</p>
<ol>
<li>æ ¹å…ƒç´  ï¼ˆhtmlï¼‰</li>
<li>è®¾ç½®æµ®åŠ¨ ï¼ˆ<code>float</code>ä¸ä¸º<code>none</code>é»˜è®¤å€¼ï¼‰</li>
<li>æº¢å‡ºå¤„ç† ï¼ˆ<code>overflow</code>ä¸ä¸º<code>visible</code>é»˜è®¤å€¼ï¼‰</li>
<li>ç¡®åˆ‡å®šä½ ï¼ˆ<code>position</code>ä¸ä¸º<code>static</code>é»˜è®¤å€¼ã€<code>relative</code>ã€<code>sticky</code>ï¼‰</li>
<li>é™ˆåˆ—æ–¹å¼ ï¼ˆ<code>display</code>è®¾ä¸º <code>inline-block</code>ã€<code>inline-flex</code>ã€<code>inline-grid</code>ã€<code>table</code>ï¼‰</li>
</ol>
<h2 id="BFCæœ‰ä½•ä½œç”¨"><a href="#BFCæœ‰ä½•ä½œç”¨" class="headerlink" title="BFCæœ‰ä½•ä½œç”¨"></a>BFCæœ‰ä½•ä½œç”¨</h2><p>ä¸Šæ–‡è®²æ˜BFCæ˜¯ä»€ä¹ˆï¼Œä¹Ÿé˜è¿°äº†è§¦å‘æ¡ä»¶ï¼Œé‚£BFCåˆ°åº•æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ</p>
<p>BFCå¯ä»¥è§£å†³ä¸€äº›å®é™…å¸ƒå±€ä¸Šçš„é—®é¢˜ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ç‰¹ç‚¹ï¼ˆè‡ªèº«ä¸ºå•ç‹¬éš”ç¦»çš„å…ƒç´ ï¼Œè‡ªèº«å†…éƒ¨å¸ƒå±€ä¸ä¼šå½±å“å¤–ç•Œï¼‰ï¼Œä¸‹é¢ä»‹ç»BFCèƒ½è§£å†³çš„ä¸€äº›é—®é¢˜ã€‚</p>
<h3 id="æµ®åŠ¨é‡å "><a href="#æµ®åŠ¨é‡å " class="headerlink" title="æµ®åŠ¨é‡å "></a>æµ®åŠ¨é‡å </h3><p>å¦‚æœä¸€ä¸ªæµ®åŠ¨å…ƒç´ åé¢è·Ÿç€ä¸€ä¸ªéæµ®åŠ¨çš„å…ƒç´ ï¼Œé‚£ä¹ˆæµ®åŠ¨å…ƒç´ å°±ä¼šè¦†ç›–éæµ®åŠ¨å…ƒç´ ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥åšè‡ªé€‚åº”çš„ä¸¤æ å¸ƒå±€ï¼Œä½†åœ¨ä¸€èˆ¬ç½‘é¡µä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¸å¸Œæœ›å‡ºç°è¿™ç§æƒ…å†µï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡è§¦å‘BFCè§£å†³ã€‚</p>
<p><strong>è®©éæµ®åŠ¨å…ƒç´ è§¦å‘BFC</strong>ï¼Œä»è€Œä¸å½±å“å¤–éƒ¨çš„å¸ƒå±€ã€‚</p>
<p>ç¤ºä¾‹:</p>
<p>æœªè§¦å‘BFCï¼š</p>
<img src="BFC.assets/æµ®åŠ¨é‡å 1.png" alt="æµ®åŠ¨é‡å 1" style="zoom:80%;" />

<p>è§¦å‘BFCåï¼š</p>
<img src="BFC.assets/æµ®åŠ¨é‡å 2.png" alt="æµ®åŠ¨é‡å 2" style="zoom:80%;" />

<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµ®åŠ¨å…ƒç´ ä¼šè¦†ç›–éæµ®åŠ¨å…ƒç´ å¦‚å›¾ä¸€</li>
<li>ç»™éæµ®åŠ¨å…ƒç´ è§¦å‘BFCï¼Œè§£å†³é—®é¢˜ï¼Œå¦‚å›¾äºŒ</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#34495e</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .first &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .second &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#2980b9</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="comment">/* float: left; */</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span>æµ®åŠ¨å…ƒç´ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;second&quot;</span>&gt;</span>éæµ®åŠ¨å…ƒç´ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="å¤šä¸ªå­å…ƒç´ æµ®åŠ¨å½±å“çˆ¶å…ƒç´ é«˜åº¦"><a href="#å¤šä¸ªå­å…ƒç´ æµ®åŠ¨å½±å“çˆ¶å…ƒç´ é«˜åº¦" class="headerlink" title="å¤šä¸ªå­å…ƒç´ æµ®åŠ¨å½±å“çˆ¶å…ƒç´ é«˜åº¦"></a>å¤šä¸ªå­å…ƒç´ æµ®åŠ¨å½±å“çˆ¶å…ƒç´ é«˜åº¦</h3><p>è‹¥å­˜åœ¨å¤šä¸ªæµ®åŠ¨çš„å­å…ƒç´ ï¼Œåˆ™çˆ¶å…ƒç´ é«˜åº¦å°†ä¸ä¼šå°†æµ®åŠ¨çš„å­å…ƒç´ è®¡ç®—è¿›å»ã€‚è¿™æ—¶ä¹Ÿå¯ä»¥é€šè¿‡è§¦å‘BFCè§£å†³ã€‚</p>
<p><strong>è®©çˆ¶çº§å…ƒç´ è§¦å‘BFC</strong></p>
<p>ç¤ºä¾‹:</p>
<p>æœªè§¦å‘BFCï¼š</p>
<img src="BFC.assets/æµ®åŠ¨å½±å“çˆ¶çº§é«˜åº¦1.png" alt="æµ®åŠ¨å½±å“çˆ¶çº§é«˜åº¦1" style="zoom:80%;" />

<p>è§¦å‘BFCåï¼š</p>
<img src="BFC.assets/æµ®åŠ¨å½±å“çˆ¶çº§é«˜åº¦2.png" alt="æµ®åŠ¨å½±å“çˆ¶çº§é«˜åº¦2" style="zoom:80%;" />

<p>ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-tag">main</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">border</span>: <span class="number">5px</span> solid black;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="comment">/* display: inline-block; */</span></span></span><br><span class="line"><span class="css">    <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">    <span class="comment">/* overflow: auto; */</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  .first &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .second &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#2980b9</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">float</span>: left;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;second&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h3 id="å¤–è¾¹è·å¡Œé™·"><a href="#å¤–è¾¹è·å¡Œé™·" class="headerlink" title="å¤–è¾¹è·å¡Œé™·"></a>å¤–è¾¹è·å¡Œé™·</h3><p>â€‹    <code>å¤–è¾¹è·å¡Œé™·</code>ä¹Ÿç§°ä¸º<code>å¤–è¾¹è·åˆå¹¶</code>ï¼Œè¿™ç§ç°è±¡æ˜¯æŒ‡ï¼šåœ¨æ­£å¸¸æ–‡æ¡£æµä¸­ä¸¤ä¸ªç›¸é‚»ï¼ˆå…„å¼Ÿæˆ–çˆ¶å­å…³ç³»ï¼‰çš„å—çº§å…ƒç´ çš„å¤–è¾¹è·ï¼Œç»„åˆåœ¨ä¸€èµ·å˜æˆå•ä¸ªå¤–è¾¹è·ã€‚</p>
<p>â€‹    <strong>å€¼å¾—æ³¨æ„çš„æ˜¯</strong>ï¼šåªæœ‰ä¸Šä¸‹å¤–è¾¹è·æ‰ä¼šæœ‰å¡Œé™·ï¼Œå·¦å³å¤–è¾¹è·ä¸ä¼šå‡ºç°è¿™ç§é—®é¢˜ã€‚</p>
<h4 id="çˆ¶å­å¡Œé™·"><a href="#çˆ¶å­å¡Œé™·" class="headerlink" title="çˆ¶å­å¡Œé™·"></a>çˆ¶å­å¡Œé™·</h4><p>ä¸‹é¢é€šè¿‡ç¤ºä¾‹è®²è§£ï¼š</p>
<p>æœªè§¦å‘BFCï¼š</p>
<img src="BFC.assets/çˆ¶å­å¡Œé™·1.png" alt="çˆ¶å­å¡Œé™·1" style="zoom:80%;" />

<p>è§¦å‘BFCåï¼š<strong>è®©çˆ¶çº§å…ƒç´ è§¦å‘BFCè§£å†³</strong></p>
<img src="BFC.assets/çˆ¶å­å¡Œé™·2.png" alt="çˆ¶å­å¡Œé™·2." style="zoom:80%;"/>

<ul>
<li>å­çº§å…ƒç´ (çº¢è‰²box)ä¸çˆ¶çº§å…ƒç´ (é»‘è‰²box)ç›¸é‚»ï¼Œä¼šå‘ç”Ÿå¤–è¾¹è·å¡Œé™·ï¼Œå½“ä¸ºçº¢è‰²boxè®¾ç½®<code>margin-top</code>æ—¶ï¼Œæˆ‘ä»¬é¢„æƒ³çš„æ˜¯çº¢è‰²boxç›¸å¯¹äºçˆ¶çº§å…ƒç´ äº§ç”Ÿé¡¶éƒ¨è¾¹è·ï¼Œä½†äº‹å®å¹¶éè¿™æ ·ï¼Œå®é™…ä¸Šä¼šå°†äºŒè€…çš„å¤–è¾¹è·åˆäºŒä¸ºä¸€ï¼Œå‡ºç°å›¾ä¸€çš„æ•ˆæœã€‚</li>
<li>è‹¥è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦ä¸ºå°†çˆ¶çº§å…ƒç´ (é»‘è‰²box)è®¾ç½®ä¸ºBFCå³å¯ï¼Œè¿™æ ·å†…éƒ¨çš„å¸ƒå±€å°†ä¸ä¼šå½±å“å¤–éƒ¨ï¼Œè¾¾åˆ°å›¾äºŒé¢„æƒ³çš„æ•ˆæœ</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .max &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: black;</span></span><br><span class="line"><span class="css">    <span class="comment">/* display: inline-block; */</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  .child &#123;</span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .first &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .second &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#2980b9</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;max&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;second child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="å…„å¼Ÿå¡Œé™·"><a href="#å…„å¼Ÿå¡Œé™·" class="headerlink" title="å…„å¼Ÿå¡Œé™·"></a>å…„å¼Ÿå¡Œé™·</h4><p>ä¸‹é¢é€šè¿‡ç¤ºä¾‹è®²è§£ï¼š</p>
<p>æœªè§¦å‘BFCï¼š</p>
<img src="BFC.assets/å…„å¼Ÿå¡Œé™·1.png" alt="å…„å¼Ÿå¡Œé™·1" style="zoom:80%;" />

<p>è§¦å‘BFCåï¼š</p>
<img src="BFC.assets/å…„å¼Ÿå¡Œé™·2.png" alt="å…„å¼Ÿå¡Œé™·2." style="zoom:80%;"/>

<ul>
<li>åŒçº§å…ƒç´ (çº¢è‰²box)ä¸(è“è‰²box)ç›¸é‚»ï¼Œä¼šå‘ç”Ÿå¤–è¾¹è·å¡Œé™·ï¼Œå½“ä¸º çº¢è‰²boxè®¾ç½®<code>margin-bottom</code>ã€è“è‰²boxè®¾ç½®<code>margin-top</code>æ—¶ï¼Œæˆ‘ä»¬é¢„æƒ³çš„æ˜¯å¤–è¾¹è·ä¸ºäºŒè€…ä¹‹åˆï¼Œä½†äº‹å®å¹¶éè¿™æ ·ï¼Œå®é™…ä¸Šä¼šå°†äºŒè€…çš„å¤–è¾¹è·åˆäºŒä¸ºä¸€ï¼Œå‡ºç°å›¾ä¸€çš„æ•ˆæœã€‚</li>
<li>è‹¥è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†å…¶ä¸­ä¹‹ä¸€è®¾ç½®ä¸ºBFCå³å¯ï¼Œè¿™æ ·å†…éƒ¨çš„å¸ƒå±€å°†ä¸ä¼šå½±å“å¤–éƒ¨ï¼Œè¾¾åˆ°å›¾äºŒé¢„æƒ³çš„æ•ˆæœ</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#34495e</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-tag">main</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .first &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .second &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">60%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#2980b9</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="comment">/* display: inline-block; */</span></span></span><br><span class="line"><span class="css">    <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">    <span class="comment">/* overflow: auto; */</span></span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;second&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>BFC å…¨ç§°ä¸º<code>block formating context</code>ï¼ˆå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰ï¼Œè‹¥ä¸€ä¸ªå…ƒç´ è§¦å‘äº†BFCï¼Œåˆ™è¿™ä¸ªå…ƒç´ å°±å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªä¸å¤–ç•Œéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œåœ¨è¯¥å®¹å™¨å†…çš„å¸ƒå±€è§„åˆ™ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„å¸ƒå±€ã€‚</p>
<p>è§¦å‘BFCçš„æ¡ä»¶ï¼š</p>
<ol>
<li>  æ ¹å…ƒç´  ï¼ˆhtmlï¼‰</li>
<li>ï¼ˆ<code>float</code>ä¸ä¸º<code>none</code>é»˜è®¤å€¼ï¼‰</li>
<li>ï¼ˆ<code>overflow</code>ä¸ä¸º<code>visible</code>é»˜è®¤å€¼ï¼‰</li>
<li>ï¼ˆ<code>position</code>ä¸ä¸º<code>static</code>é»˜è®¤å€¼ã€<code>relative</code>ã€<code>sticky</code>ï¼‰</li>
<li>ï¼ˆ<code>display</code>è®¾ä¸º <code>inline-block</code>ã€<code>inline-flex</code>ã€<code>inline-grid</code>ã€<code>table</code>ï¼‰</li>
</ol>
<p>BFCè§£å†³çš„é—®é¢˜ï¼š</p>
<ol>
<li>éæµ®åŠ¨å…ƒç´ ç´§è·Ÿæµ®åŠ¨å…ƒç´ å¯¼è‡´é‡å <ul>
<li>éæµ®åŠ¨å…ƒç´ è§¦å‘BFCè§£å†³</li>
</ul>
</li>
<li>å¤šä¸ªå­å…ƒç´ æµ®åŠ¨ï¼Œå½±å“çˆ¶å…ƒç´ é«˜åº¦<ul>
<li>çˆ¶çº§å…ƒç´ è§¦å‘BFCè§£å†³</li>
</ul>
</li>
<li>ä¸Šä¸‹å¤–è¾¹è·å¡Œé™·<ol>
<li>çˆ¶å­å…ƒç´ å¡Œé™·<ul>
<li>è®©çˆ¶çº§å…ƒç´ è§¦å‘BFCè§£å†³</li>
</ul>
</li>
<li>å…„å¼Ÿå…ƒç´ å¡Œé™·<ul>
<li>å…¶ä¸€è§¦å‘BFC</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
<p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
  </entry>
  <entry>
    <title>åœ£æ¯åŒé£ç¿¼å¸ƒå±€</title>
    <url>/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<p>â€‹    åœ¨è¯¦ç»†ä»‹ç»<code>åœ£æ¯</code>ã€<code>åŒé£ç¿¼</code>å¸ƒå±€å‰ï¼Œæˆ‘ä»¬å…ˆè¦äº†è§£ä¸¤ç§å¸ƒå±€æ–¹å¼å…·ä½“è¦å®ç°ä»€ä¹ˆæ•ˆæœï¼š</p>
<ul>
<li>ä¸‰åˆ—å¸ƒå±€ï¼šleftã€centerã€right</li>
<li>leftã€right å®½åº¦å›ºå®š</li>
<li>center å®½åº¦è‡ªé€‚åº”çª—å£å¤§å°</li>
</ul>
<p><code>åœ£æ¯</code>ã€<code>åŒé£ç¿¼</code>å¸ƒå±€å°±æ˜¯ç”¨æ¥å®ç°ä¸Šè¿°æ•ˆæœçš„ï¼Œä½†å…¶å¯¹åº”çš„å®ç°å½¢å¼å´ä¸ç›¸åŒï¼Œå› æ­¤è¢«åˆ’åˆ†ä¸ºä¸¤ç±»ã€‚</p>
<h2 id="åœ£æ¯å¸ƒå±€"><a href="#åœ£æ¯å¸ƒå±€" class="headerlink" title="åœ£æ¯å¸ƒå±€"></a>åœ£æ¯å¸ƒå±€</h2><p>åœ£æ¯å¸ƒå±€å®ç°æ•ˆæœçš„ä¸»è¦æ€è·¯ä¸ºï¼š</p>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><p>å°†leftã€centerã€right ç»Ÿä¸€æ”¾åœ¨ä¸€ä¸ªboxä¸­ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>header<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center float&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left float&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right float&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><ol>
<li>center å®½åº¦è®¾ä¸º <code>100%</code>ï¼Œå¹¶è®¾ç½® <code>paddingLeft</code>ã€<code>paddingRight</code>ï¼Œä¸ºä¸¤ä¾§é¢„ç•™ä½ç½®</li>
<li>leftã€centerã€right éƒ½è¦è®¾ç½®æµ®åŠ¨ <code>float:left</code></li>
<li>è®¾ç½® left ä½ç½®<ul>
<li>è®¾ç½® <code>margin-left: -100%</code> ç›¸å¯¹äºçˆ¶çº§å®½åº¦è·ç¦»ç§»åŠ¨ï¼Œä»è€Œç§»åŠ¨åˆ°centerçš„èµ·å§‹ä½ç½®</li>
<li>å†è®¾ç½® <code>position: relative; left: -selfWidth </code>ç›¸å¯¹äºè‡ªèº«å‘å·¦ç§»åŠ¨è‡ªèº«å®½åº¦è·ç¦»ï¼Œè¾¾åˆ°æœ€å·¦ä¾§</li>
</ul>
</li>
<li>è®¾ç½® right ä½ç½® <ol>
<li>æ–¹æ³•1<ul>
<li>è®¾ç½®<code>margin-left: -selfWidth</code>ï¼Œç§»åŠ¨åˆ°centeræœ«å°¾å¤„</li>
<li>å†è®¾ç½® <code>position: relative; left: selfWidth </code>ç›¸å¯¹äºè‡ªèº«å‘å³ç§»åŠ¨è‡ªèº«å®½åº¦è·ç¦»ï¼Œè¾¾åˆ°æœ€å³ä¾§</li>
</ul>
</li>
<li>æ–¹æ³•äºŒ<ul>
<li>ç›´æ¥è®¾ç½®<code>margin-right: -selfWidth</code>ï¼Œç›¸å¯¹äºå³ä¾§å‘å·¦ç§»åŠ¨è‡ªèº«å®½åº¦ï¼Œå³å¯è¾¾åˆ°æ­£ç¡®ä½ç½®ã€‚</li>
</ul>
</li>
</ol>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span>,</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#636e72</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63031</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00b894</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: -<span class="number">150px</span>;</span><br><span class="line">  <span class="comment">/* </span></span><br><span class="line"><span class="comment">  margin-left: -150px;</span></span><br><span class="line"><span class="comment">  position: relative;</span></span><br><span class="line"><span class="comment">  left: 150px;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdcb6e</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="åŒé£ç¿¼å¸ƒå±€"><a href="#åŒé£ç¿¼å¸ƒå±€" class="headerlink" title="åŒé£ç¿¼å¸ƒå±€"></a>åŒé£ç¿¼å¸ƒå±€</h2><p>åŒé£ç¿¼å¸ƒå±€å®ç°æ•ˆæœçš„ä¸»è¦æ€è·¯ä¸ºï¼š</p>
<h3 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h3><p>å°†centerå•ç‹¬ä½¿ç”¨ä¸€ä¸ªç›’å­åŒ…è£¹èµ·æ¥ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>header<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left float&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right float&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="CSS-1"><a href="#CSS-1" class="headerlink" title="CSS"></a>CSS</h3><ol>
<li>è®¾ç½® center çš„çˆ¶çº§ç›’å­mainï¼šå®½åº¦è®¾ä¸º <code>100%</code></li>
<li>è®¾ç½® center çš„ <code>marginLeft</code>ã€ <code>marginRight</code>ä¸ºä¸¤ä¾§é¢„ç•™ä½ç½®</li>
<li>leftã€mainã€right éƒ½è¦è®¾ç½®æµ®åŠ¨ <code>float:left</code></li>
<li>è®¾ç½® left ä½ç½®<ul>
<li>è®¾ç½® <code>margin-left: -100%</code>ç›¸å¯¹äºçˆ¶çº§å®½åº¦è·ç¦»ç§»åŠ¨ï¼Œä»è€Œç§»åŠ¨åˆ°æœ€å·¦ä¾§</li>
</ul>
</li>
<li>è®¾ç½® right ä½ç½® <ul>
<li>è®¾ç½®<code>margin-left: -selfWidth</code>ï¼Œç›¸å¯¹äºå·¦ä¾§å‘å·¦ç§»åŠ¨è‡ªèº«å®½åº¦ï¼Œå³å¯è¾¾åˆ°æ­£ç¡®ä½ç½®ã€‚</li>
</ul>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span>,</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#636e72</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#d63031</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#00b894</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdcb6e</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80.assets/%E5%9C%A3%E6%9D%AF%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80.gif" alt="åœ£æ¯åŒé£ç¿¼å¸ƒå±€"></p>
<h2 id="äºŒè€…å¯¹æ¯”"><a href="#äºŒè€…å¯¹æ¯”" class="headerlink" title="äºŒè€…å¯¹æ¯”"></a>äºŒè€…å¯¹æ¯”</h2><p>åœ£æ¯å¸ƒå±€å®ç°å…³é”®ï¼š</p>
<p><strong>HTML</strong>ï¼šmain åŒ…è£¹ leftã€centerã€right</p>
<p><strong>CSS</strong>ï¼š</p>
<ul>
<li>main: paddingLeftã€paddingRight</li>
<li>leftã€centerã€rightä¸‰è€…æµ®åŠ¨</li>
<li>left: marginLeftã€relativeã€left</li>
<li>right: marginRight</li>
</ul>
<p>ä¼˜ç‚¹ï¼š HTMLç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä½†cssä»£ç è¾ƒå¤šä¸€ç‚¹</p>
<p>åŒé£ç¿¼å¸ƒå±€å®ç°å…³é”®ï¼š</p>
<p><strong>HTML</strong>ï¼šmain åŒ…è£¹ leftã€centerã€right</p>
<p><strong>CSS</strong>ï¼š</p>
<ul>
<li>mainè®¾ç½® width:100%</li>
<li>leftã€centerã€rightä¸‰è€…æµ®åŠ¨</li>
<li>center è®¾ç½®å·¦å³margin</li>
<li>leftä¸ç”¨å®šä½ç§»åŠ¨ï¼Œç›´æ¥margin-left:-100%</li>
<li>rightè®¾ç½®margin-leftï¼Œä¸åŒäºåœ£æ¯çš„margin-right</li>
</ul>
<p>ä¼˜ç‚¹ï¼šcssä»£ç è¾ƒå°‘ï¼Œä½† HTMLç»“æ„ä¸å¦‚åœ£æ¯å¸ƒå±€æ¸…æ™°ã€‚</p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æœ‰çš„å°ä¼™ä¼´å°±è¦é—®äº†ï¼Œè¿™ç§å¸ƒå±€çš„å½¢å¼æˆ‘æ˜¯ç”¨å…¶ä»–å½¢å¼ä¹Ÿèƒ½å¤Ÿå®ç°ï¼Œä¸Šè¿°åœ£æ¯ã€åŒé£ç¿¼å¸ƒå±€åˆ°åº•æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ</p>
<p><strong>æ¯å¸ƒå±€ä¸åŒé£ç¿¼å¸ƒå±€çš„ä¼˜ç‚¹ï¼šåˆ©ç”¨å¸ƒå±€ï¼Œå¯ä¼˜å…ˆæ¸²æŸ“ä¸»è¦éƒ¨åˆ†</strong></p>
<p>â€‹    ç»†å¿ƒçš„åŒå­¦å¯èƒ½å·²ç»å‘ç°äº†ï¼Œè¿™ä¸¤ç§å¸ƒå±€å½¢å¼éƒ½å°† <strong>center</strong>ä¹Ÿå°±æ˜¯ä¸»è¦å†…å®¹éƒ¨åˆ†æ”¾åœ¨äº†å½“å‰ç»“æ„çš„æœ€å¼€å§‹ä½ç½®ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯èƒ½å¤Ÿä¼˜å…ˆåŠ è½½<strong>center</strong>éƒ¨åˆ†ï¼Œå¦‚æœé‡åˆ°ç½‘ç»œä¸ä½³æƒ…å†µä¹Ÿèƒ½å¤Ÿä¼˜å…ˆåŠ è½½ä¸»è¦å†…å®¹ã€‚</p>
<p>â€‹    å¦‚æœä½¿ç”¨å…¶ä»–å½¢å¼ï¼Œæ¯”å¦‚flexï¼Œå±•ç¤ºé¡ºåºå’Œhtmlç»“æ„æ˜¯ç›¸å…³çš„ï¼Œå°±åšä¸åˆ°ä¼˜å…ˆå±•ç¤º<strong>center</strong>éƒ¨åˆ†ã€‚</p>
<p>ä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>grid</code>å¸ƒå±€å®ç°ï¼Œä¸‹é¢è´´å‡ºä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">text-align</span>: center;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">header</span>,</span></span><br><span class="line"><span class="css">  <span class="selector-tag">footer</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#95a5a6</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-tag">main</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="css">    grid-template-rows: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> auto <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">position</span>: relative;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .center &#123;</span><br><span class="line"><span class="css">    grid-column: <span class="number">2</span>/<span class="number">3</span>;</span></span><br><span class="line">    /* </span><br><span class="line"><span class="css">    grid-column-start: <span class="number">2</span>;</span></span><br><span class="line"><span class="css">    grid-column-end: <span class="number">3</span>; </span></span><br><span class="line">    */</span><br><span class="line"><span class="css">    grid-row: <span class="number">1</span>/<span class="number">2</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#e74c3c</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .left &#123;</span><br><span class="line"><span class="css">    grid-column: <span class="number">1</span>/<span class="number">2</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#1abc9c</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .right &#123;</span><br><span class="line"><span class="css">    grid-column: <span class="number">3</span>/<span class="number">4</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#3498db</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>header<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
<p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
  </entry>
  <entry>
    <title>SEO</title>
    <url>/2021/05/05/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/SEO/SEO/</url>
    <content><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><code>SEO</code>(Search Engine Optimization),å³æœç´¢å¼•æ“ä¼˜åŒ–ã€‚SEOæ˜¯éšç€<code>æœç´¢å¼•æ“</code>çš„å‡ºç°è€Œæ¥çš„ã€‚æœç´¢å¼•æ“ä¼šæ ¹æ®ç½‘ç«™çš„ä¸€äº›<code>ç‰¹ç‚¹</code>è¿›è¡Œæ”¶å½•ï¼Œä»è€Œæé«˜ç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’åã€‚</p>
<p>æ—¢ç„¶æœç´¢å¼•æ“è¦æ”¶å½•ç½‘ç«™çš„<code>ç‰¹ç‚¹</code>ï¼Œå°±éœ€è¦å¯¹ç½‘ç«™çš„ä¿¡æ¯è¿›è¡ŒæŠ“å–ï¼Œæœç´¢å¼•æ“ä¼šä½¿ç”¨<code>Spider(èœ˜è››)</code>å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼š<strong>å°½é‡è®©Spiderè¯†åˆ«ç½‘ç«™çš„ç‰¹ç‚¹</strong>ï¼Œä»è€Œæ­£ç¡®æ”¶å½•ï¼Œæé«˜ç½‘ç«™æ’åã€‚</p>
<p><code>SEO</code>æ‰‹æ®µåˆ†ä¸ºä¸¤å¤§ç±»ï¼šé»‘å¸½ã€ç™½å¸½SEOï¼Œæœ¬æ–‡ä¸»è¦è®²è§£<code>ç™½å¸½SEO</code>ã€‚</p>
<blockquote>
<p>é»‘å¸½ï¼šå°±æ˜¯é‡‡ç”¨æœç´¢å¼•æ“ç¦æ­¢çš„æ–¹å¼ä¼˜åŒ–ç½‘ç«™ï¼Œå½±å“æœç´¢å¼•æ“å¯¹ç½‘ç«™æ’åçš„åˆç†å’Œå…¬æ­£æ€§ã€‚</p>
</blockquote>
<h2 id="ç™½å¸½SEO"><a href="#ç™½å¸½SEO" class="headerlink" title="ç™½å¸½SEO"></a>ç™½å¸½SEO</h2><p>ç™½å¸½SEOï¼Œä¸»è¦æ˜¯é€šè¿‡å‰ç«¯çš„ä¸€äº›åˆç†æ“ä½œï¼Œä»è€Œè®©<code>Spider</code>èƒ½å¤Ÿé«˜æ•ˆæ”¶å½•ä¿¡æ¯ï¼Œå…¶ä¸»è¦æ‰‹æ®µæœ‰ğŸ‘‡ï¼š</p>
<h3 id="çªå‡ºé‡è¦å†…å®¹"><a href="#çªå‡ºé‡è¦å†…å®¹" class="headerlink" title="çªå‡ºé‡è¦å†…å®¹"></a>çªå‡ºé‡è¦å†…å®¹</h3><p>å¯¹ç½‘ç«™çš„<code>title</code>ã€<code>keywords</code>ã€<code>description</code>ç­‰ä¿¡æ¯çš„åˆç†è®¾ç½®ã€‚</p>
<h4 id="title"><a href="#title" class="headerlink" title="title"></a>title</h4><p><code>    title</code>å³ç½‘ç«™æ ‡é¢˜ï¼Œæ˜¯SEOåŠå…¶é‡è¦çš„ä¸€å‘˜ï¼Œç”¨æˆ·åœ¨æµè§ˆå™¨è¿›è¡Œæœç´¢æ—¶ï¼Œé¦–å…ˆå±•ç¤ºçš„å°±æ˜¯ç½‘ç«™çš„<code>title</code>ã€‚å¯¹äºtitleçš„è®¾ç½®ï¼Œæˆ‘ä»¬è¦åšåˆ°ï¼š</p>
<ul>
<li>è´´åˆ‡ç«™å†…å®¹</li>
<li>ç®€æ˜æ‰¼è¦</li>
</ul>
<p>ä»£ç é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;title&gt;AshunBlog&lt;&#x2F;title&gt;</span><br></pre></td></tr></table></figure>

<h4 id="decription"><a href="#decription" class="headerlink" title="decription"></a>decription</h4><p>ç”¨æˆ·åœ¨æµè§ˆå™¨è¿›è¡Œæœç´¢æ—¶ï¼Œé¦–å…ˆå±•ç¤ºçš„æ˜¯ç½‘ç«™çš„<code>title</code>ï¼Œå…¶æ¬¡ä¸º<code>description</code>ï¼Œæ˜¯å¯¹è¯¥é¡µé¢çš„æè¿°ä¿¡æ¯ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>
<ul>
<li>æ¯ä¸ªé¡µé¢æ‰€è®¾ç½®çš„æè¿°ä¸è¦é‡å¤ã€‚</li>
<li>description çš„å€¼è¦å°½å¯èƒ½è¡¨è¿°æ¸…æ¥šé¡µé¢çš„å†…å®¹</li>
<li>å†…å®¹ä¸è¦å¤ªé•¿</li>
</ul>
<p>ä»£ç é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;meta name&#x3D;&quot;description&quot; content&#x3D;&quot;è¿™æ˜¯Ashunçš„åšå®¢ç½‘ç«™ï¼Œç”¨äºè®°å½•è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼ŒåŒæ—¶å°†å…¶è¿›è¡Œåˆ†äº«ï¼Œæ¬¢è¿å¤§å®¶å…±åŒå­¦ä¹ ã€äº¤æµã€è¿›æ­¥ï¼&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="keywords"><a href="#keywords" class="headerlink" title="keywords"></a>keywords</h4><p><code>keywords</code>ä¸»è¦ä¸ºæœç´¢å¼•æ“æä¾›å½“å‰é¡µé¢çš„å…³é”®è¯ä¿¡æ¯ï¼Œ<code>keywords</code>å¯ä»¥è®¾ç½®å¤šä¸ªï¼Œå¤šä¸ªå…³é”®è¯ä¹‹é—´ç”¨<code>,</code>é—´éš”ã€‚å»ºè®®ä¸è¦è®¾ç½®å¤ªå¤šï¼Œä¸åˆ©äº<code>Spider</code>çš„æ”¶å½•ã€‚</p>
<p>ä»£ç é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;meta name&#x3D;&quot;keywords&quot; content&#x3D;&quot;Ashun,é˜¿é¡º,Blog,åšå®¢ç½‘ç«™&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>



<h4 id="h1æ ‡ç­¾"><a href="#h1æ ‡ç­¾" class="headerlink" title="h1æ ‡ç­¾"></a>h1æ ‡ç­¾</h4><p>â€‹    ä»h1æ ‡ç­¾çš„é»˜è®¤æ ·å¼(å­—ä½“å¤§å°ã€åŠ ç²—)ï¼Œå¯å¾—çŸ¥å…¶æ˜¯éå¸¸é†’ç›®ã€é‡è¦çš„ï¼ŒåŒæ ·åœ°ï¼Œæœç´¢å¼•æ“çš„<code>Spider</code>ä¹Ÿä¼šè®¤ä¸ºå…¶éå¸¸é‡è¦ï¼Œä¼šå°†å…¶æ”¶å½•ä¸ºç½‘ç«™é‡è¦ä¿¡æ¯çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤æˆ‘ä»¬è¦åˆç†çš„ä½¿ç”¨h1æ ‡ç­¾ã€‚</p>
<ul>
<li>æ­£æ–‡çš„æ ‡é¢˜è¦ä½¿ç”¨h1æ ‡ç­¾</li>
<li>é¦–é¡µçš„logoå¯ä»¥æ·»åŠ ä¸Šh1æ ‡ç­¾</li>
</ul>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šlogoä¸ºå›¾ç‰‡æ—¶åº”è¯¥æ·»åŠ ä¸Š<code>alt</code>å’Œ<code>title</code>å±æ€§ï¼Œå³ä½¿å›¾ç‰‡æœªèƒ½æ­£å¸¸æ˜¾ç¤ºæ—¶ï¼Œç”¨æˆ·ä¹Ÿèƒ½çœ‹åˆ°æç¤ºæ–‡å­—ï¼Œä¸”<code>alt</code>å±æ€§æ˜¯æœç´¢å¼•æ“åˆ¤æ–­å›¾ç‰‡ä¸æ–‡å­—æ˜¯å¦ç›¸å…³çš„é‡è¦ä¾æ®ã€‚</p>
<hr>
<h3 id="ç»“æ„ä¼˜åŒ–"><a href="#ç»“æ„ä¼˜åŒ–" class="headerlink" title="ç»“æ„ä¼˜åŒ–"></a>ç»“æ„ä¼˜åŒ–</h3><h4 id="è¯­ä¹‰åŒ–æ ‡ç­¾"><a href="#è¯­ä¹‰åŒ–æ ‡ç­¾" class="headerlink" title="è¯­ä¹‰åŒ–æ ‡ç­¾"></a>è¯­ä¹‰åŒ–æ ‡ç­¾</h4><p>H5çš„è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œåœ¨é¡¹ç›®è¶³å¤Ÿå¤§æ—¶ï¼Œè¶Šèƒ½ä½“ç°å…¶ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿè®©å¼€å‘è€…ä¾¿æ·ã€é«˜æ•ˆçš„è®¤å‡ºå¯¹åº”çš„ç»“æ„éƒ¨åˆ†ï¼Œä»è€Œæé«˜å¯ç»´æŠ¤æ€§ã€‚</p>
<p>å½“ç„¶ï¼Œä¸€äº›æœç´¢å¼•æ“ä¹Ÿæ”¯æŒæ›´å¥½åœ°è¯†åˆ«è¯­ä¹‰æ ‡ç­¾ï¼Œä»è€Œæé«˜ä¿¡æ¯çš„æ”¶å½•é‡ã€‚</p>
<h4 id="å°½é‡ç®€å•"><a href="#å°½é‡ç®€å•" class="headerlink" title="å°½é‡ç®€å•"></a>å°½é‡ç®€å•</h4><p>ç½‘ç«™çš„å±‚çº§ç»“æ„è¦å°½é‡ç®€å•ï¼Œä¸è¦åµŒå¥—å¤ªå¤šï¼Œå› ä¸º<code>Spider</code>åœ¨ä¸æ–­çˆ¬å–æ•°æ®æ—¶ï¼Œå±‚çº§è¶Šå¤šï¼Œçˆ¬å–é€Ÿåº¦è¶Šæ…¢ï¼Œä¸åˆ©äºä¿¡æ¯çš„æ”¶å½•ã€‚</p>
<hr>
<h3 id="åŠ è½½é€Ÿåº¦ä¼˜åŒ–"><a href="#åŠ è½½é€Ÿåº¦ä¼˜åŒ–" class="headerlink" title="åŠ è½½é€Ÿåº¦ä¼˜åŒ–"></a>åŠ è½½é€Ÿåº¦ä¼˜åŒ–</h3><p>â€‹    ä¸€ä¸ªç½‘ç«™çš„åŠ è½½é€Ÿåº¦è¶Šå¿«ï¼Œä¹Ÿä¼šæ›´åŠ åˆ©äºæœç´¢å¼•æ“æŠ“å–æ•°æ®è¿›è¡Œæ”¶å½•ï¼Œå› æ­¤æˆ‘ä»¬å°½é‡å¯¹åŠ è½½çš„é€Ÿåº¦è¿›è¡Œä¼˜åŒ–ã€‚</p>
<ol>
<li>lazyLoad</li>
<li>å¯ä»¥å¯¹é¢‘ç¹è§¦å‘è¯·æ±‚çš„æ—¶é—´ï¼Œåšé˜²æŠ–å¤„ç†</li>
<li>ç²¾çµå›¾çš„åº”ç”¨</li>
<li>åˆç†åº”ç”¨æµè§ˆå™¨ç¼“å­˜</li>
</ol>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
  </entry>
  <entry>
    <title>å°è£…ç±»expressæœåŠ¡</title>
    <url>/2021/04/25/%E5%90%8E%E7%AB%AF%E8%AF%AD%E8%A8%80/Nodejs/%E5%8E%9F%E7%94%9Fnode/%E5%B0%81%E8%A3%85%E7%B1%BBexpress%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<p>ä¹‹å‰æˆ‘ä»¬å®Œæˆäº†ä»¥ä¸‹åŠŸèƒ½ï¼Œå¹¶åšäº†æŠ½ç¦»</p>
<ul>
<li>å“åº”å„ç§ç±»å‹çš„æ–‡ä»¶</li>
<li>è·¯ç”±ä¸šåŠ¡çš„æ‰©å±•</li>
<li>404å¤„ç†</li>
</ul>
<p>ä½†æ˜¯ç¼ºç‚¹è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚</p>
<ul>
<li>æ²¡æœ‰å¯¹ä¸åŒçš„è¯·æ±‚ç±»å‹è¿›è¡Œåˆ†ç±»å¤„ç†</li>
<li>ä¸šåŠ¡é€»è¾‘ä¸å¤Ÿæ¸…æ™°</li>
<li>ä»£ç å†—ä½™</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥åŸºäºä¹‹å‰çš„åŠŸèƒ½ï¼Œå°è£…ä¸€ä¸ªç±»expressçš„æœåŠ¡ï¼Œè¿™æ ·ç®¡ç†èµ·æ¥å°±æ¯”è¾ƒæ–¹ä¾¿ï¼Œå¹¶ä¸”æŒ‰ä¸åŒçš„è¯·æ±‚ç±»å‹è¿›è¡Œäº†åˆ†ç±»ã€‚</p>
<h2 id="express"><a href="#express" class="headerlink" title="express"></a>express</h2><p>æ—¢ç„¶è¦å°è£…ç±»expressæœåŠ¡ï¼Œå°±è¦å…ˆäº†è§£expressçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚</p>
<p>è·¯ç”±å¤„ç†<font size="2">ï¼ˆåœ¨çœŸæ­£ä½¿ç”¨expressæ—¶ï¼Œä¸‹é¢çš„appä¸ºexpresså®ä¾‹ï¼‰</font>ï¼š</p>
<ul>
<li><code>app.get(&quot;path&quot;,(req,res)=&gt;&#123;â€¦â€¦&#125;)</code></li>
<li><code>app.post(&quot;path&quot;,(req,res)=&gt;&#123;â€¦â€¦&#125;)</code></li>
<li>å…¶ä»–è¯·æ±‚å¤„ç†åœ¨æ­¤çœç•¥</li>
</ul>
<p>æ‰©å±•APIï¼š</p>
<ul>
<li><code>req.body</code>è·å–postè¯·æ±‚ä¼ å‚</li>
<li><code>res.send(data)</code>å‘Browserå“åº”ä¿¡æ¯<ul>
<li>ä¸‹æ–‡è®²è¿°çš„å°è£…ï¼Œå°†æ­¤APIå‹å…¥appå†…</li>
</ul>
</li>
</ul>
<h2 id="å°è£…ç‰ˆæœ¬1"><a href="#å°è£…ç‰ˆæœ¬1" class="headerlink" title="å°è£…ç‰ˆæœ¬1"></a>å°è£…ç‰ˆæœ¬1</h2><p>â€‹    å¤–éƒ¨ä½¿ç”¨<code>app.get/post</code>æ—¶ï¼Œä¼šä¼ å…¥å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šæ ¹æ® <code>è¯·æ±‚ç±»å‹ã€pathName</code> å‹å…¥åˆ°å†…ç½®<code>Global</code>å˜é‡çš„å¯¹åº”å±æ€§ä¸­ï¼Œåœ¨æ¥æ”¶è¯·æ±‚æ—¶ï¼Œå†æ ¹æ® <code>è¯·æ±‚ç±»å‹ã€pathName</code> æ‰¾åˆ°å¹¶æ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°å³å¯ã€‚</p>
<ul>
<li><p>å½“è¯·æ±‚ç±»å‹ä¸º<code>POST</code>æ—¶ï¼Œæ¶‰åŠåˆ°å‚æ•°çš„æ¥æ”¶ï¼Œä»¥åŠAPIçš„é…ç½®ã€‚</p>
</li>
<li><p>å‘appæ·»åŠ é™æ€æ–¹æ³•<code>get/post</code>ï¼Œä¾›å¤–éƒ¨ä½¿ç”¨ã€‚</p>
</li>
<li><p>æˆ‘ä»¬å°†å°è£…çš„åŠŸèƒ½æŠ½ç¦»åˆ°å¤–éƒ¨<code>./modules/expressServe.js</code></p>
</li>
</ul>
<p>ä»¥ä¸‹ä¸º<code>./modules/expressServe.js</code>ä»£ç ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">&quot;public&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> defaultMimePath = <span class="string">`./modules/mime.json`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileType</span>(<span class="params">pathName, mimePath = defaultMimePath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> mime = <span class="built_in">JSON</span>.parse(_fs.readFileSync(mimePath));</span><br><span class="line">  <span class="keyword">let</span> extName = _path.extname(pathName);</span><br><span class="line">  <span class="keyword">return</span> mime[extName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defaultServe</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> reqUrl = req.url == <span class="string">&quot;/&quot;</span> ? <span class="string">&quot;/index.html&quot;</span> : req.url;</span><br><span class="line">  <span class="keyword">let</span> pathName = _url.parse(reqUrl).pathname;</span><br><span class="line">  <span class="keyword">let</span> fileType = getFileType(pathName);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (reqUrl != <span class="string">&quot;/favicon.ico&quot;</span>) &#123;</span><br><span class="line">      res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`<span class="subst">$&#123;fileType&#125;</span>;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">      <span class="keyword">let</span> data = _fs.readFileSync(staticPath + pathName);</span><br><span class="line">      res.end(data);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">expressServe</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> G = &#123; <span class="attr">_get</span>: &#123;&#125;, <span class="attr">_post</span>: &#123;&#125;, staticPath &#125;;</span><br><span class="line">  <span class="keyword">let</span> app = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    defaultServe(req, res);					<span class="comment">//åˆ›å»ºé»˜è®¤æœåŠ¡è¯»å–æ–‡ä»¶ä¿¡æ¯ã€‚</span></span><br><span class="line">    <span class="keyword">let</span> pathName = _url.parse(req.url).pathname;</span><br><span class="line">    <span class="keyword">let</span> reqMethod = req.method.toLowerCase();</span><br><span class="line">		<span class="comment">//ç±»expressæœåŠ¡å¤„ç†</span></span><br><span class="line">    <span class="keyword">if</span> (G[<span class="string">`_<span class="subst">$&#123;reqMethod&#125;</span>`</span>][pathName]) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((reqMethod = <span class="string">&quot;get&quot;</span>)) &#123;</span><br><span class="line">        G[<span class="string">`_get`</span>][pathName](req, res);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> ((reqMethod = <span class="string">&quot;post&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">let</span> postData = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        req.on(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">          postData += chunk;</span><br><span class="line">        &#125;);</span><br><span class="line">        req.on(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          req.body = postData;</span><br><span class="line">          G[<span class="string">`_post`</span>][pathName](req, res);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">      res.write(<span class="string">`&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot; /&gt;&lt;/head&gt;`</span>);</span><br><span class="line">      res.end(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°è¯¥èµ„æº!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//API</span></span><br><span class="line">  app.get = <span class="function">(<span class="params">pathName, callback</span>) =&gt;</span> &#123;</span><br><span class="line">    G[<span class="string">&quot;_get&quot;</span>][pathName] = callback;</span><br><span class="line">  &#125;;</span><br><span class="line">  app.post = <span class="function">(<span class="params">pathName, callback</span>) =&gt;</span> &#123;</span><br><span class="line">    G[<span class="string">&quot;_post&quot;</span>][pathName] = callback;</span><br><span class="line">  &#125;;</span><br><span class="line">  app.send = <span class="function">(<span class="params">req, res, content</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">    res.write(<span class="string">`&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;/&gt;&lt;/head&gt;`</span>);</span><br><span class="line">    res.end(content);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> app;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = expressServe();</span><br></pre></td></tr></table></figure>

<p>å…¥å£æ–‡ä»¶ä½¿ç”¨ï¼šğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">&quot;public&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> _ejs = <span class="built_in">require</span>(<span class="string">&quot;ejs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="built_in">require</span>(<span class="string">&quot;./modules/createDefaultServer&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8086</span>;</span><br><span class="line">_http.createServer(app).listen(port); <span class="comment">//å¼‚æ­¥æ‰§è¡Œï¼Œä¸‹é¢çš„è¯·æ±‚å·²ç»è¢«å‹å…¥åˆ°å°è£…æ–¹æ³•çš„Gä¸­</span></span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&quot;/login&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> Params = &#123;</span><br><span class="line">    content: <span class="string">&quot;Ashuntefannao&quot;</span>,</span><br><span class="line">    list: [<span class="string">&quot;login&quot;</span>, <span class="string">&quot;testEjs&quot;</span>, <span class="string">&quot;Ashun&quot;</span>],</span><br><span class="line">  &#125;;</span><br><span class="line">  _ejs.renderFile(<span class="string">&quot;./views/login.ejs&quot;</span>, Params, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">      <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&#x27;utf-8&#x27;`</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    res.end(data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/main.html&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;/main.html send POST Request&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`http://localhost:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>

<h2 id="å°è£…ç‰ˆæœ¬2"><a href="#å°è£…ç‰ˆæœ¬2" class="headerlink" title="å°è£…ç‰ˆæœ¬2"></a>å°è£…ç‰ˆæœ¬2</h2><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ä¸Šè¿°å°è£…çš„<code>expressåŸºæœ¬æœåŠ¡ç‰ˆæœ¬1</code>ï¼Œå…¶å®æœ‰ä¸€äº›é—®é¢˜ï¼Œç»†å¿ƒçš„åŒå­¦å¯èƒ½ä¼šç•™æ„åˆ°ã€‚</p>
<p>é—®é¢˜æ¦‚è¿°ï¼š</p>
<p><code>ç‰ˆæœ¬1</code>ä¼šå¯¼è‡´ä¸€äº›æ–‡ä»¶ä¸èƒ½è¯»å–æˆåŠŸï¼Œå…·ä½“åŸå› æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬èµ°ä¸€éå¯¹åº”çš„é€»è¾‘å³å¯</p>
<ul>
<li>é¦–å…ˆæ‰§è¡Œ<code>defaultServe</code>åˆ›å»ºæœ€åŸºæœ¬çš„æœåŠ¡ï¼Œè¯»å–æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚æœæ–‡ä»¶è¯»å–ä¸æˆåŠŸå¹¶ä¸ä¼šç«‹å³æŠ›å‡ºé”™è¯¯ï¼Œè€Œæ˜¯é€‰æ‹©äº¤ç”±å¤–éƒ¨å¤„ç†ï¼Œè¿™æ ·æ‰èƒ½è¿›è¡Œè·¯ç”±ä¸šåŠ¡çš„æ‰©å¼ </li>
<li>ç„¶åæ‰§è¡Œ<code>expressæœåŠ¡</code>çš„é€»è¾‘</li>
</ul>
<p>è¡¨é¢ä¸Šå¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå…¶å®ä¸ç„¶ï¼Œé—®é¢˜äº§ç”Ÿçš„å…³é”®å°±åœ¨äºï¼š<strong>å‘é€çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šå°†<code>expressæœåŠ¡</code>èµ°ä¸€é</strong></p>
<p>ç½‘ç«™è‚¯å®šè¦å±•ç¤ºä¿¡æ¯ç»™ç”¨æˆ·ï¼Œå±•ç¤ºè¿‡ç¨‹å³ <code>defaultServe</code>è¯»å–æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œä½† <code>defaultServe</code>æ‰§è¡Œå®Œæ¯•ååˆä¼šç›´æ¥æ‰§è¡Œ<code>expressæœåŠ¡</code>ï¼Œè€Œè¿™äº›è¯»å–æ–‡ä»¶çš„åŸºæœ¬æœåŠ¡æˆ‘ä»¬éƒ½æ˜¯äº¤ç»™<code>defaultServe</code>å¤„ç†çš„ï¼Œåœ¨<code>å…¥å£æ–‡ä»¶</code>ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨<code>app.get/post</code>å¤„ç†ï¼Œä¹Ÿå°±ä¸ä¼šè¢«å‹å…¥<code>Globalå˜é‡</code>çš„å¯¹åº”å±æ€§ä¸­ã€‚å°±ä¼šæ‰§è¡Œä¸‹è¿°ä»£ç ï¼Œäº§ç”ŸæŠ¥é”™ä¿¡æ¯ã€‚</p>
<p>ä½†è¿™äº›æŠ¥é”™ä¿¡æ¯å¹¶ä¸ä¼šå¯¼è‡´é¡µé¢æ˜¾ç¤º<code>æ²¡æœ‰æ‰¾åˆ°è¯¥èµ„æº!</code>ï¼Œè€Œæ˜¯æŸäº›èµ„æºä¸èƒ½æ­£å¸¸å±•ç¤ºï¼Œè¿™äº›æŠ¥é”™ä¼šåæ˜ åœ¨æœåŠ¡ç«¯ï¼ŒåŸå› æ˜¯ï¼š</p>
<ul>
<li> ç»è¿‡äº†<code>defaultServe</code>è¯»å–æ–‡ä»¶ï¼Œè¦ä½¿ç”¨<code>res.end</code>å“åº”ï¼Œè€Œåœ¨è¿™é‡Œåˆç›´æ¥ä½¿ç”¨äº†<code>res.write</code>,è€Œä½¿ç”¨<code>res.end</code>ä»¥åå°±ä»£è¡¨è¯¥æ¬¡å“åº”ç»“æŸäº†ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (G[<span class="string">`_<span class="subst">$&#123;reqMethod&#125;</span>`</span>][pathName]) &#123;</span><br><span class="line">     â€¦â€¦</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">      res.write(<span class="string">`&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot; /&gt;&lt;/head&gt;`</span>);</span><br><span class="line">      res.end(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°è¯¥èµ„æº!&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰çš„åŒå­¦å°±ä¼šæé—®äº†ï¼šæˆ‘ä»¬åœ¨å¤–éƒ¨ä½¿ç”¨<code>app.get/post</code>é…ç½®è¿™äº›è·¯ç”±ä¸å°±å¥½äº†å—ï¼Ÿ</p>
<p>æˆ‘ä»¬ä¸å¯èƒ½å¯¹è¿™äº›åŸºæœ¬çš„æœåŠ¡ä¾æ¬¡é…ç½®ï¼ŒåŸå› æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>å®é™…å¼€å‘è¯·æ±‚æ˜¯éå¸¸éå¸¸å¤šçš„ï¼Œè€Œä¸”è¿˜æ¶‰åŠåˆ°åŠ¨æ€è·¯ç”±ã€‚</li>
<li>å¦‚æœä¾æ¬¡é…ç½®ï¼Œå°è£…ä¹Ÿå°±æ²¡æœ‰æ„ä¹‰äº†</li>
</ul>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>æˆ‘ä»¬éœ€è¦åˆ¤æ–­<code>defaultServe</code>çš„çŠ¶æ€ï¼Œå¦‚æœå…¶æ­£å¸¸è¯»å–æ–‡ä»¶ï¼Œåˆ™ä¸æ‰§è¡Œ<code>expressæœåŠ¡</code>éƒ¨åˆ†ã€‚</p>
<p>åä¹‹ï¼Œ<code>defaultServe</code>ä¸èƒ½æ­£å¸¸è¯»å–ï¼Œå°±è½®åˆ°äº†æ‰©å±•è·¯ç”±ä¸šåŠ¡éƒ¨åˆ†ï¼Œå†æ‰§è¡Œ<code>expressæœåŠ¡</code>ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå¼€å…³å˜é‡å³å¯ï¼Œå¯¹åº”ä»£ç å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line"><span class="keyword">let</span> FLAG = <span class="literal">true</span>;	<span class="comment">//å…¨å±€å®šä¹‰å¼€å…³å˜é‡</span></span><br><span class="line">â€¦â€¦</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defaultServe</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  â€¦â€¦</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    FLAG = <span class="literal">false</span>;		<span class="comment">//åŸºæœ¬æœåŠ¡ä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼Œç½®ä¸ºfalse</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">expressServe</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> G = &#123; <span class="attr">_get</span>: &#123;&#125;, <span class="attr">_post</span>: &#123;&#125;, staticPath &#125;;</span><br><span class="line">  <span class="keyword">let</span> app = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    defaultServe(req, res);</span><br><span class="line">    <span class="keyword">let</span> pathName = _url.parse(req.url).pathname;</span><br><span class="line">    <span class="keyword">let</span> reqMethod = req.method.toLowerCase();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (!FLAG) &#123;	<span class="comment">//è‹¥åŸºæœ¬æœåŠ¡ä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼Œå†æ‰§è¡ŒexpressæœåŠ¡éƒ¨åˆ†</span></span><br><span class="line">      â€¦â€¦</span><br><span class="line">      FLAG = <span class="literal">true</span>; <span class="comment">//æœ€åè¦ç½®ä¸ºåˆå§‹å€¼,è®©ä¸‹ä¸ªè¯·æ±‚ä¾æ—§æ­£å¸¸é€»è¾‘æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  â€¦â€¦</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = expressServe();</span><br></pre></td></tr></table></figure>



<h2 id="å°è£…ç‰ˆæœ¬3"><a href="#å°è£…ç‰ˆæœ¬3" class="headerlink" title="å°è£…ç‰ˆæœ¬3"></a>å°è£…ç‰ˆæœ¬3</h2><h3 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ä¸Šè¿°å°è£…çš„<code>expressåŸºæœ¬æœåŠ¡ç‰ˆæœ¬2</code>ï¼Œè™½ç„¶èƒ½è®©èµ„æºæ­£å¸¸çš„åŠ è½½ï¼Œä½†è¿˜ä¸å¤Ÿå®Œç¾ã€‚</p>
<p>é—®é¢˜æ¦‚è¿°ï¼š</p>
<p>â€‹    å¦‚æœæˆ‘æƒ³è¦åœ¨æ‰§è¡Œ<code>defaultServe</code>è¯»å–æ–‡ä»¶çš„åŒæ—¶ï¼Œåˆè¦åœ¨å¤–éƒ¨ä½¿ç”¨<code>expressæœåŠ¡</code>éƒ¨åˆ†è¿›è¡Œä¸€äº›æ‹¦æˆªï¼Œè¦æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p>
<p>â€‹    è¿™ä¸ªåŠŸèƒ½æ˜¯éå¸¸æœ‰å¿…è¦å®ç°çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¾€å¾€è¦å®Œæˆçš„ä¸åªæ˜¯å±•ç¤ºï¼Œé€šå¸¸è¿˜è¦åšä¸€äº›æ“ä½œã€‚</p>
<h3 id="è§£å†³-1"><a href="#è§£å†³-1" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>â€‹    è¿™é‡Œæˆ‘å°†æ€è·¯é‡æ–°æ•´ç†äº†ä¸€ä¸‹ï¼Œä¹‹å‰éƒ½æ˜¯å…ˆæ‰§è¡Œ<code>defaultServe</code>ï¼Œå†æ‰§è¡Œ<code>expressæœåŠ¡</code>éƒ¨åˆ†ï¼Œä½†æ—¢ç„¶æˆ‘ä»¬æœ‰å¯èƒ½è¦ä½¿ç”¨è·¯ç”±æ‹¦æˆªï¼Œå°±ä¸å¦‚å°†æ‰§è¡Œé¡ºåºè°ƒæ¢ä¸€ä¸‹ï¼Œå½“ç„¶ä¸åªæ˜¯ç®€å•çš„è°ƒæ¢ï¼Œè¿˜è¦åšä¸€äº›å¤„ç†ï¼Œä¿è¯é€»è¾‘èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚</p>
<ol>
<li>ç”±äºè¦å…ˆæ‰§è¡Œ<code>expressæœåŠ¡</code>éƒ¨åˆ†ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œå¯¹åº”è·¯ç”±æ“ä½œä¹‹å‰ï¼Œå…ˆåˆ¤æ–­æœ‰æ²¡æœ‰è¿™ä¸ªcallback</li>
<li>æŠŠ<code>expressæœåŠ¡</code>éƒ¨åˆ†ä¸­æœ€å¤–å±‚çš„<code>else</code>å–æ¶ˆæ‰ã€‚</li>
<li><code>defaultServe</code>é»˜è®¤æœåŠ¡çš„<code>catch</code>éƒ¨åˆ†ï¼Œè¦å¯¹é”™è¯¯è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºæ˜¯æ”¾åœ¨<code>expressæœåŠ¡</code>åæ‰§è¡Œï¼Œæ‰€ä»¥ä¸å†åƒåŸæ¥ä¸€æ ·ï¼Œå°†é”™è¯¯äº¤ç»™<code>expressæœåŠ¡</code>,è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¦æŠŠ <code>expressæœåŠ¡</code>éƒ¨åˆ†çš„<code>else</code>å–æ¶ˆæ‰ çš„åŸå› </li>
<li>ç”±äºè°ƒæ¢äº†æ‰§è¡Œé¡ºåºï¼Œæ­¤æ—¶ä¹Ÿå°±ä¸éœ€è¦ç‰ˆæœ¬äºŒçš„<code>FLAG</code>å¼€å…³äº†ã€‚</li>
</ol>
<p>æ•´ä½“ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">&quot;public&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> defaultMimePath = <span class="string">`./modules/mime.json`</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileType</span>(<span class="params">pathName, mimePath = defaultMimePath</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> mime = <span class="built_in">JSON</span>.parse(_fs.readFileSync(mimePath));</span><br><span class="line">  <span class="keyword">let</span> extName = _path.extname(pathName);</span><br><span class="line">  <span class="keyword">return</span> mime[extName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defaultServe</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> reqUrl = req.url == <span class="string">&quot;/&quot;</span> ? <span class="string">&quot;/index.html&quot;</span> : req.url;</span><br><span class="line">  <span class="keyword">let</span> pathName = _url.parse(reqUrl).pathname;</span><br><span class="line">  <span class="keyword">let</span> fileType = getFileType(pathName);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (reqUrl != <span class="string">&quot;/favicon.ico&quot;</span>) &#123;</span><br><span class="line">      res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`<span class="subst">$&#123;fileType&#125;</span>;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">      <span class="keyword">let</span> data = _fs.readFileSync(staticPath + pathName);</span><br><span class="line">      res.end(data);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123; </span><br><span class="line">  	<span class="comment">//defaultServeæœ€åæ‰§è¡Œï¼Œè¦å¯¹é”™è¯¯è¿›è¡Œå¤„ç†</span></span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">    res.write(<span class="string">`&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot; /&gt;&lt;/head&gt;`</span>);</span><br><span class="line">    res.end(<span class="string">&quot;æ²¡æœ‰æ‰¾åˆ°è¯¥èµ„æº!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">expressServe</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> G = &#123; <span class="attr">_get</span>: &#123;&#125;, <span class="attr">_post</span>: &#123;&#125;, staticPath &#125;;</span><br><span class="line">  <span class="keyword">let</span> app = <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pathName = _url.parse(req.url).pathname;</span><br><span class="line">    <span class="keyword">let</span> reqMethod = req.method.toLowerCase();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (G[<span class="string">`_<span class="subst">$&#123;reqMethod&#125;</span>`</span>][pathName]) &#123;</span><br><span class="line">      <span class="keyword">if</span> ((reqMethod = <span class="string">&quot;get&quot;</span>)) &#123;</span><br><span class="line">        G[<span class="string">`_get`</span>][pathName] &amp;&amp; G[<span class="string">`_get`</span>][pathName](req, res);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> ((reqMethod = <span class="string">&quot;post&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">let</span> postData = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        req.on(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">          postData += chunk;</span><br><span class="line">        &#125;);</span><br><span class="line">        req.on(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          req.body = postData;</span><br><span class="line">          G[<span class="string">`_post`</span>][pathName] &amp;&amp; G[<span class="string">`_post`</span>][pathName](req, res);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    defaultServe(req, res);	<span class="comment">//é»˜è®¤æœåŠ¡</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//API</span></span><br><span class="line">  app.get = <span class="function">(<span class="params">pathName, callback</span>) =&gt;</span> &#123;</span><br><span class="line">    G[<span class="string">&quot;_get&quot;</span>][pathName] = callback;</span><br><span class="line">  &#125;;</span><br><span class="line">  app.post = <span class="function">(<span class="params">pathName, callback</span>) =&gt;</span> &#123;</span><br><span class="line">    G[<span class="string">&quot;_post&quot;</span>][pathName] = callback;</span><br><span class="line">  &#125;;</span><br><span class="line">  app.send = <span class="function">(<span class="params">req, res, content</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">`text/html;charset=&quot;utf-8&quot;`</span> &#125;);</span><br><span class="line">    res.write(<span class="string">`&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;/&gt;&lt;/head&gt;`</span>);</span><br><span class="line">    res.end(content);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> app;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = expressServe();</span><br></pre></td></tr></table></figure>

<p>å…¥å£æ–‡ä»¶ä½¿ç”¨ï¼šğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> _fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; extname &#125; = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">5505</span>;</span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">&quot;public&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="built_in">require</span>(<span class="string">&quot;./modules/expressServe&quot;</span>);</span><br><span class="line"></span><br><span class="line">_http.createServer(app).listen(port);</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/main.html&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`/main.htmlè·¯ç”±æ˜ å°„çš„æœåŠ¡`</span>);		<span class="comment">//èƒ½å¤Ÿè¿›è¡Œæ‹¦æˆªæ“ä½œ</span></span><br><span class="line">&#125;);</span><br><span class="line">app.get(<span class="string">&quot;/ashun&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  app.send(req, res, <span class="string">&quot;Ashuntefannao&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`http://127.0.0.1:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
<p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
]]></content>
      <categories>
        <category>åå°è¯­è¨€</category>
        <category>Node.js</category>
        <category>åŸç”Ÿnode</category>
      </categories>
  </entry>
  <entry>
    <title>ç›’æ¨¡å‹</title>
    <url>/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%9B%92%E6%A8%A1%E5%9E%8B/%E7%9B%92%E6%A8%A1%E5%9E%8B/</url>
    <content><![CDATA[<h1 id="ç›’æ¨¡å­å‹"><a href="#ç›’æ¨¡å­å‹" class="headerlink" title="ç›’æ¨¡å­å‹"></a>ç›’æ¨¡å­å‹</h1><p>â€‹    åœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œæˆ‘ä¹Ÿé˜…è¯»äº†å…¶ä»–æ–‡ç« ï¼Œä½†æˆ‘æœ‰ä¸ªä¹ æƒ¯ï¼šæ€»æƒ³è‡ªå·±æµ‹è¯•ä¸€éï¼Œå¹¶è®°ä¸‹ç¬”è®°ï¼Œä»è€Œæ›´å¥½çš„ç†è§£ã€‚ä¹Ÿå°±æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ç½‘ä¸Šå¤§éƒ¨åˆ†åšå®¢é˜è¿°å†…å®¹æœ‰ä¸€äº›é—®é¢˜ï¼Œä¸å®é™…æµ‹è¯•å¹¶ä¸ç›¸å¤åˆï¼Œä¸‹é¢æˆ‘å°†è¯¦è§£è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç›’å­æ¨¡å‹ï¼Ÿ</h2><p>â€‹    å±•ç¤ºåœ¨é¡µé¢ä¸Šçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥è§†ä¸ºä¸€ä¸ªç›’æ¨¡å‹ï¼Œä¸”æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€ä¸ªçŸ©å½¢ç›’å­ï¼Œç›’æ¨¡å‹æ€»å…±åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºï¼š<code>W3Cæ ‡å‡†ç›’æ¨¡å‹</code>ã€<code>IEç›’æ¨¡å‹</code>ã€‚</p>
<p>â€‹    ä¹‹æ‰€ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œæ˜¯å› ä¸ºäºŒè€…åœ¨æ€§è´¨ä¸Šæœ‰äº›ä¸åŒï¼Œå…·ä½“æ¥è¯´æ˜¯åœ¨<strong>è®¡ç®—å®½é«˜æ—¶</strong>çš„å·®å¼‚ã€‚</p>
<p>â€‹    é¡µé¢ä¸­çš„çŸ©å½¢ç›’å­å®½é«˜å¯ä»¥é€šè¿‡<code>width</code>ã€<code>heitht</code>å±æ€§è¿›è¡Œé…ç½®ï¼Œä½†è¿™åªæ˜¯è®¾ç½®äº†<strong>content</strong>å†…å®¹éƒ¨åˆ†çš„å®½é«˜ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç›’å­å®½é«˜è¿˜å—<code>padding</code>ã€<code>border</code>ä¸¤ä¸ªå±æ€§çš„å½±å“ã€‚</p>
<p>â€‹    <code>W3Cæ ‡å‡†ç›’æ¨¡å‹</code>ã€<code>IEç›’æ¨¡å‹</code>ä¸¤ç§ç›’å­ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å› ä¸ºå¯¹<code>padding</code>ã€<code>border</code>ä¸¤ä¸ªå±æ€§å¤„ç†çš„å½¢å¼ä¸åŒï¼Œä»è€Œåˆ’åˆ†ä¸ºä¸¤ç±»çš„ã€‚</p>
<h2 id="W3Cæ ‡å‡†ç›’æ¨¡å‹"><a href="#W3Cæ ‡å‡†ç›’æ¨¡å‹" class="headerlink" title="W3Cæ ‡å‡†ç›’æ¨¡å‹"></a>W3Cæ ‡å‡†ç›’æ¨¡å‹</h2><p><code>W3Cæ ‡å‡†ç›’æ¨¡å‹</code>åœ¨è®¡ç®—ç›’å­å®½é«˜æ—¶ï¼Œä¸º<code>width/height</code>ã€<code>padding</code>ã€<code>border</code>å››ä¸ªå±æ€§ç›¸åŠ ã€‚</p>
<p>å®é™…ä¹Ÿå°±æ˜¯ <code>content+padding+border</code>ï¼Œå› ä¸ºæˆ‘ä»¬é€šè¿‡cssè®¾ç½®<code>width/height</code>å±æ€§å°±æ˜¯ç”¨æ¥å®šä¹‰ç›’å­<strong>å†…å®¹</strong>å®½é«˜çš„ã€‚</p>
<p>å®é™…æ“ä½œï¼š</p>
<img src="ç›’æ¨¡å‹.assets/W3CBox1.png" alt="W3CBox1" style="zoom:77%;" />

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">article</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#16a085</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  .box &#123;</span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">border</span>: <span class="number">10px</span> solid black;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span><br><span class="line">    </span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="number">#f39c12</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">color</span>: white;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box W3CBox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>W3CBox<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡æ§åˆ¶å°å·¥å…·ï¼Œçœ‹çœ‹ç›’å­å®½é«˜åˆ°åº•æ˜¯ä¸æ˜¯ä¸Šæ–‡è®²çš„é‚£æ ·ï¼š <code>content+padding+border</code></p>
<img src="ç›’æ¨¡å‹.assets/W3CBox2.png" alt="W3CBox2" style="zoom:77%;" />

<p>ç°åœ¨æ¥åˆ†æä¸€ä¸‹ï¼š</p>
<p><img src="/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%9B%92%E6%A8%A1%E5%9E%8B/%E7%9B%92%E6%A8%A1%E5%9E%8B/%E7%9B%92%E6%A8%A1%E5%9E%8B.assets/W3CBox3.png" alt="image-20210613205341103"></p>
<ol>
<li><strong>contentï¼š</strong>content= width/height =  100 * 100 (px)</li>
<li><strong>paddingï¼š</strong>åœ¨contentçš„åŸºç¡€ä¸Šè®¾ç½®paddingä¸º10px<ul>
<li>æ­¤æ—¶ç›’å­å®½åº¦ width+paddingLeft/Right =100 + 20 (px)</li>
<li>æ­¤æ—¶ç›’å­é«˜åº¦ width+paddingTop/Bottom =100 + 20 (px)</li>
</ul>
</li>
<li><strong>borderï¼š</strong>åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šåˆå¯¹ç›’å­å®½é«˜äº§ç”Ÿäº†å½±å“<ul>
<li>æ­¤æ—¶ç›’å­å®½åº¦ width+paddingLeft/Right + borderLeft/Right =100 + 20 + 20(px)</li>
<li>æ­¤æ—¶ç›’å­é«˜åº¦ width+paddingTop/Bottom + borderTop/Bottom =100 + 20 + 20(px)</li>
</ul>
</li>
</ol>
<p>æ•´ä½“è®¡ç®—ä¸‹æ¥ï¼Œç›’å­å®½é«˜ä¸º <code>140 *140 (px)</code>ï¼Œå®Œå…¨ç¬¦åˆä¸Šè¿°ç»“è®ºã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šç½‘ä¸Šå¥½å¤šåšå®¢æ–‡ç« éƒ½å°†<code>margin</code>ç®—å…¥äº†ç›’å­çš„å®½é«˜ï¼Œè™½ç„¶åœ¨è§†è§‰ä¸Šï¼Œç›’å­æœ€å¤–å±‚çš„ç¡®æœ‰äº†é—´éš™ï¼Œä½†è¿™åªæ˜¯å½±å“äº†å¸ƒå±€ï¼Œ<strong>å¹¶æ²¡æœ‰å½±å“ç›’å­æœ¬èº«çš„å°ºå¯¸</strong>ï¼Œè‹¥ç›’å­å°ºå¯¸åŒ…å«äº†<code>margin</code>ï¼Œé‚£æœ€åå¾—åˆ°çš„ç›’å­å°ºå¯¸åº”ä¸º 150 * 150 (px)ï¼Œä½†äº‹å®å¹¶ä¸æ˜¯è¿™æ ·ã€‚</p>
<h2 id="IEç›’æ¨¡å‹"><a href="#IEç›’æ¨¡å‹" class="headerlink" title="IEç›’æ¨¡å‹"></a>IEç›’æ¨¡å‹</h2><p><code>IEç›’æ¨¡å‹</code>åœ¨è®¡ç®—ç›’å­å®½é«˜æ—¶ï¼ŒåªåŒ…å«<code>width/height</code>å³å†…å®¹<strong>content</strong>éƒ¨åˆ†ã€‚ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™contentåŒ…å«äº†<code>padding</code>ã€<code>border</code>ä¸¤ä¸ªå±æ€§ã€‚</p>
<p>ä¹Ÿå³æ˜¯è¯´ï¼Œç›’å­æœ€ç»ˆçš„å®½é«˜ï¼Œå°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„<code>width/height</code>,è‹¥æˆ‘ä»¬åˆè®¾ç½®äº†<code>padding</code>ã€<code>border</code>ä¸¤ä¸ªå±æ€§ï¼Œåˆ™è¿™ä¸¤ä¸ªå±æ€§ä¸ä¼šå¯¹å®½é«˜é€ æˆå½±å“ï¼Œè€Œæ˜¯åŒ…å«åœ¨äº†è®¾ç½®çš„<code>width/height</code>ä¸­ã€‚</p>
<p>å®é™…æ“ä½œï¼š</p>
<img src="ç›’æ¨¡å‹.assets/IEBox1.png" alt="IEBox1" style="zoom:80%;" />

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.IEBox</span> &#123; <span class="attribute">box-sizing</span>: border-box; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box IEBox&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span>IEBox<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å‘ç°ï¼Œå…¶ä»–é…ç½®ç›¸åŒï¼Œåªæ˜¯æ”¹å˜äº†ç›’å­æ¨¡å‹ï¼Œä½†å°ºå¯¸å´å·®äº†å¥½å¤šï¼Œæˆ‘ä»¬é€šè¿‡æ§åˆ¶å°å·¥å…·ï¼Œçœ‹çœ‹ç›’å­å®½é«˜åˆ°åº•ä¸ºå¤šå°‘ï¼Ÿ</p>
<img src="ç›’æ¨¡å‹.assets/IEBox2.png" alt="IEBox2" style="zoom:80%;" />

<p><img src="/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%9B%92%E6%A8%A1%E5%9E%8B/%E7%9B%92%E6%A8%A1%E5%9E%8B/%E7%9B%92%E6%A8%A1%E5%9E%8B.assets/IEBox3.png" alt="image-20210613205445687"></p>
<p>é€šè¿‡ç»“æœæ¥çœ‹ï¼Œå®Œå…¨ç¬¦åˆä¸Šè¿°ç»“è®ºï¼Œç›’å­çš„å°ºå¯¸åªåŒ…å«<strong>content</strong>éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„ <code>width/height</code>å±æ€§ã€‚ä¹‹åå®šä¹‰çš„<code>padding</code>ã€<code>border</code>éƒ½ä¼šè¢«åŒ…å«åˆ°<strong>content</strong>ä¸­ã€‚</p>
<h2 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h2><p>ä¸Šé¢ä¸¤ä¸ªä¾‹å­å·²ç»è®©æˆ‘ä»¬æ¸…æ™°çš„å‘ç°ä¸¤ç§ç›’æ¨¡å‹çš„å·®å¼‚ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆåˆ‡æ¢ä¸¤ç§ç›’å­æ¨¡å‹å‘¢ï¼Œå…¶å®ä¸Šæ–‡å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œä¹Ÿå°±æ˜¯<code>box-sizing</code>å±æ€§ã€‚</p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">box-sizing: content-box|border-box|inherit;</span><br></pre></td></tr></table></figure>

<ul>
<li>content-box<ul>
<li>é»˜è®¤å€¼ï¼Œè®¾ç½®ä¸ºW3Cæ ‡å‡†ç›’æ¨¡å‹</li>
</ul>
</li>
<li>border-box<ul>
<li>è®¾ç½®ä¸ºIEç›’æ¨¡å‹</li>
</ul>
</li>
<li>inherit<ul>
<li>ç»§æ‰¿çˆ¶çº§ç›’å­ç±»å‹</li>
</ul>
</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li><code>W3Cæ ‡å‡†ç›’æ¨¡å‹</code>åœ¨è®¡ç®—ç›’å­å®½é«˜æ—¶ï¼Œä¸º<code>width/height</code>ã€<code>padding</code>ã€<code>border</code>å››ä¸ªå±æ€§ç›¸åŠ ã€‚</li>
<li><code>IEç›’æ¨¡å‹</code>åœ¨è®¡ç®—ç›’å­å®½é«˜æ—¶ï¼ŒåªåŒ…å«<code>width/height</code>å³å†…å®¹<strong>content</strong>éƒ¨åˆ†ï¼Œä¸”contentåŒ…å«äº†<code>padding</code>ã€<code>border</code>ã€‚</li>
<li><code>margin</code> å¹¶ä¸ä¼šå½±å“ç›’å­çš„å°ºå¯¸ï¼Œè¯¥å±æ€§å½±å“çš„æ˜¯å¸ƒå±€ã€‚</li>
<li>å¯é€šè¿‡<code>box-sizing</code>æ”¹å˜ç›’å­ç±»å‹ã€‚</li>
</ul>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ç›’å­æ¨¡å‹è™½ç„¶éå¸¸åŸºç¡€ï¼Œä½†ä¹ŸåŒ…å«ä¸€äº›ç»†èŠ‚ï¼Œå¯¼è‡´æˆ‘ä»¬è®¤çŸ¥æ¨¡ç³Šï¼Œè¿™ç¯‡æ–‡ç« å¸Œæœ›èƒ½å¸®åˆ°è¯»è€…ã€‚</p>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
<p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>åŸºç¡€çŸ¥è¯†</category>
      </categories>
  </entry>
  <entry>
    <title>JSON</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/JSON/</url>
    <content><![CDATA[<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><ul>
<li>json æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œæ˜“äºäººé˜…è¯»å’Œç¼–å†™ã€‚</li>
<li>ä½¿ç”¨<code>json</code> æ•°æ®æ ¼å¼æ˜¯æ›¿æ¢ <code>xml</code> çš„æœ€ä½³æ–¹å¼ï¼Œä¸»æµè¯­è¨€éƒ½å¾ˆå¥½çš„æ”¯æŒ<code>json</code> æ ¼å¼ã€‚æ‰€ä»¥ <code>json</code> ä¹Ÿæ˜¯å‰åå°ä¼ è¾“æ•°æ®çš„ä¸»è¦æ ¼å¼ã€‚</li>
<li>json æ ‡å‡†ä¸­è¦æ±‚ä½¿ç”¨<code>åŒå¼•å·åŒ…è£¹å±æ€§åç§°</code>ï¼Œè™½ç„¶æœ‰äº›è¯­è¨€ä¸å¼ºåˆ¶ï¼Œä½†ä½¿ç”¨åŒå¼•å·å¯é¿å…å¤šç¨‹åºé—´ä¼ è¾“å‘ç”Ÿé”™è¯¯è¯­è¨€é”™è¯¯çš„å‘ç”Ÿã€‚</li>
</ul>
<p><strong>å…³äºJavascriptä¸­çš„JSON</strong></p>
<ul>
<li><p>javacriptä¸­çš„jsonæ•°æ®è½¬åŒ–ï¼Œä¸»è¦ä¾èµ–ä¸¤ä¸ªå†…ç½®æ–¹æ³•ã€‚</p>
</li>
<li><p>åºåˆ—åŒ–</p>
<ul>
<li><code>JSON.stringify(obj,[...prop],num/str)</code></li>
<li>å‚æ•°è¯´æ˜<ul>
<li>jsonObj</li>
<li>å¯é€‰ï¼Œå¦‚æœåªæƒ³å¾—åˆ°ä¸ªåˆ«å±æ€§ï¼Œåˆ™å¯ä¼ å…¥è¯¥å‚æ•°</li>
<li>å¯é€‰ï¼Œä¸ºnumberæ—¶:æ§åˆ¶ç¼©è¿›æ•°ï¼Œä¸ºstringæ—¶:æ§åˆ¶å¼•å¯¼å­—ç¬¦ä¸²</li>
</ul>
</li>
</ul>
</li>
<li><p>ååºåˆ—åŒ–</p>
</li>
<li><p><code>JSON.parse(jsonStr,(key,val)=&gt;&#123;...&#125;)</code></p>
<ul>
<li>å‚æ•°è¯´æ˜</li>
<li>josnStr<ul>
<li>å¯é€‰ï¼Œå¯åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h3><h5 id="åŸºæœ¬ç»“æ„"><a href="#åŸºæœ¬ç»“æ„" class="headerlink" title="åŸºæœ¬ç»“æ„"></a>åŸºæœ¬ç»“æ„</h5><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let json = &#123;</span><br><span class="line">  &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  &quot;Controller&quot;: &#123;</span><br><span class="line">  	&quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(json.Controller.name);</span><br></pre></td></tr></table></figure>

<h5 id="æ•°ç»„ç»“æ„"><a href="#æ•°ç»„ç»“æ„" class="headerlink" title="æ•°ç»„ç»“æ„"></a><strong>æ•°ç»„ç»“æ„</strong></h5><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;title&quot;: &#x27;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&#x27;,</span><br><span class="line">    &quot;category&quot;: &#x27;css&#x27;,</span><br><span class="line">    &quot;click&quot;: 199</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;title&quot;: &#x27;FLEX å¼¹æ€§ç›’æ¨¡å‹&#x27;,</span><br><span class="line">    &quot;category&quot;: &#x27;css&#x27;,</span><br><span class="line">    &quot;click&quot;: 12</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;title&quot;: &#x27;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&#x27;,</span><br><span class="line">    &quot;category&quot;: &#x27;mysql&#x27;,</span><br><span class="line">    &quot;click&quot;: 89</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">console.log(lessons[0].title);</span><br></pre></td></tr></table></figure>

<h3 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h3><p>åºåˆ—åŒ–æ˜¯å°† <code>jsonå¯¹è±¡</code> è½¬æ¢ä¸º<code>å­—ç¬¦ä¸²</code>ï¼Œä¸€èˆ¬ç”¨æ¥å‘å…¶ä»–è¯­è¨€ä¼ è¾“ä½¿ç”¨ã€‚</p>
<ul>
<li><code>JSON.stringify(obj,[...props])</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  &quot;Controller&quot;: &#123;</span><br><span class="line">  	&quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(JSON.stringify(as));</span><br><span class="line">//&#123;&quot;title&quot;:&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,&quot;url&quot;:&quot;Ashuntefannao.com&quot;,&quot;Controller&quot;:&#123;&quot;name&quot;:&quot;Ashun&quot;&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¿å­˜çš„å±æ€§</p>
<ul>
<li>å¯é€‰ï¼Œè‹¥ä¸æŒ‡å®šï¼Œåˆ™è¿”å›æ‰€æœ‰prop</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(JSON.stringify(as, [&#x27;title&#x27;, &#x27;url&#x27;]));</span><br><span class="line">//&#123;&quot;title&quot;:&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,&quot;url&quot;:&quot;Ashuntefannao.com&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ä¸ªæ˜¯å‚æ•°ç”¨æ¥æ§åˆ¶TABç¼©è¿›æ•°é‡ï¼Œå¦‚æœå­—ç¬¦ä¸²åˆ™ä¸ºå‰å¯¼å­—ç¬¦ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  &quot;Controller&quot;: &#123;</span><br><span class="line">  	&quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(JSON.stringify(as, null, 2));</span><br><span class="line">/*</span><br><span class="line">&#123;</span><br><span class="line">  &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  &quot;Controller&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;Ashun&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">console.log(JSON.stringify(as, null, &quot;-&quot;));</span><br><span class="line">/*</span><br><span class="line">&#123;</span><br><span class="line">-&quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">-&quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">-&quot;Controller&quot;: &#123;</span><br><span class="line">--&quot;name&quot;: &quot;Ashun&quot;</span><br><span class="line">-&#125;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

<p>ä¸ºæ•°æ®æ·»åŠ  <code>toJSON</code> æ–¹æ³•æ¥è‡ªå®šä¹‰è¿”å›æ ¼å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">    &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">    &quot;Controller&quot;: &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;toJSON&quot;: function () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            &quot;title&quot;: this.url,</span><br><span class="line">            &quot;name&quot;: this.Controller.name</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(JSON.stringify(as)); //&#123;&quot;title&quot;:&quot;Ashuntefannao.com&quot;,&quot;name&quot;:&quot;Ashun&quot;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h3><p>ä½¿ç”¨ <code>JSON.parse</code> å°†<code>josnå­—ç¬¦ä¸²</code> è§£ææˆ<code>jsonå¯¹è±¡</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  &quot;title&quot;: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  &quot;url&quot;: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  &quot;Controller&quot;: &#123;</span><br><span class="line">  	&quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let jsonStr = JSON.stringify(as);</span><br><span class="line">console.log(JSON.parse(jsonStr));</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let jsonStr&#x3D;&#96;</span><br><span class="line">&#123;</span><br><span class="line">	&quot;name&quot;:&quot;Ashun&quot;,</span><br><span class="line">	&quot;age&quot;:18	</span><br><span class="line">&#125;</span><br><span class="line">&#96;;</span><br><span class="line">console.log(JSON.parse(jsonStr));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°å‡½æ•°æ¥å¯¹è¿”å›çš„æ•°æ®äºŒæ¬¡å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  title: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;,</span><br><span class="line">  url: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">  Controller: &#123;</span><br><span class="line">  	&quot;name&quot;: &quot;Ashun&quot;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let jsonStr = JSON.stringify(as);</span><br><span class="line">console.log(</span><br><span class="line">  JSON.parse(jsonStr, (key, value) =&gt; &#123;</span><br><span class="line">    if (key == &quot;title&quot;) &#123;</span><br><span class="line">      return `$&#123;value&#125;-SHUN`;</span><br><span class="line">    &#125;</span><br><span class="line">    return value;</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line">/*</span><br><span class="line">&#123;title: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼-SHUN&quot;, url: &quot;Ashuntefannao.com&quot;, Controller: &#123;â€¦&#125;&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Map</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/Map/</url>
    <content><![CDATA[<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><p>Mapæ˜¯ä¸€ç»„<code>é”®å€¼å¯¹</code>çš„ç»“æ„ï¼Œç”¨äºè§£å†³ä»¥å¾€ä¸èƒ½ç”¨å¯¹è±¡åšä¸ºé”®çš„é—®é¢˜</p>
<ul>
<li>å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦</li>
<li>Mapçš„keyå¯ä»¥ä¸º<code>ä»»æ„ç±»å‹</code></li>
</ul>
<h3 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h3><p><code>æ¥å—ä¸€ä¸ªæ•°ç»„ä½œ</code>ä¸ºå‚æ•°ï¼Œè¯¥æ•°ç»„çš„<code>æˆå‘˜æ˜¯ä¸€ä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let map = new Map([</span><br><span class="line">	[&quot;name&quot;, &quot;ashun&quot;],</span><br><span class="line">	[&quot;age&quot;, 18],</span><br><span class="line">]);</span><br><span class="line">console.log(map); 	//Map(2)Â &#123;&quot;name&quot; =&gt; &quot;ashun&quot;, &quot;age&quot; =&gt; 18&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ„é€ å‡½æ•°<code>new Map</code>åˆ›å»ºçš„åŸç†å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = new Map();</span><br><span class="line">const arr = [[&quot;ashun&quot;, &quot;é˜¿é¡º&quot;], [&quot;type&quot;, &quot;Controller&quot;]];</span><br><span class="line"></span><br><span class="line">arr.forEach(([key, value]) =&gt; &#123;</span><br><span class="line">  as.set(key, value);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>

<p>å¯¹äºé”®æ˜¯å¯¹è±¡çš„<code>Map</code>ï¼Œ é”®ä¿å­˜çš„æ˜¯å†…å­˜åœ°å€ï¼Œå€¼ç›¸åŒä½†å†…å­˜åœ°å€ä¸åŒçš„è§†ä¸ºä¸¤ä¸ªé”®ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;é˜¿é¡º&quot;];</span><br><span class="line">const as = new Map();</span><br><span class="line">as.set(arr, &quot;Ashuntefannao.com&quot;);</span><br><span class="line">console.log(as.get(arr)); //&quot;Ashuntefannao.com</span><br><span class="line">console.log(as.get([&quot;é˜¿é¡º&quot;])); //undefined</span><br></pre></td></tr></table></figure>



<h3 id="ç®¡ç†Map"><a href="#ç®¡ç†Map" class="headerlink" title="ç®¡ç†Map"></a>ç®¡ç†Map</h3><h4 id="set"><a href="#set" class="headerlink" title="set"></a>set</h4><p>ä½¿ç”¨<code>set(key,value)</code> æ–¹æ³•æ·»åŠ å…ƒç´ ï¼Œæ”¯æŒé“¾å¼æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map();</span><br><span class="line">let obj &#x3D; &#123;</span><br><span class="line">  name: &quot;Ashun&quot;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">map.set(obj, &quot;Ashuntefannao.com&quot;).set(&quot;name&quot;, &quot;ashun&quot;);</span><br><span class="line"></span><br><span class="line">console.log(map.entries()); &#x2F;&#x2F;MapIterator &#123;&#123;â€¦&#125; &#x3D;&gt; &quot;Ashuntefannao.com&quot;, &quot;name&quot; &#x3D;&gt; &quot;ashun&quot;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h4><p>ä½¿ç”¨<code>delete(key)</code>åˆ é™¤å¯¹åº”é”®å’Œå€¼ã€‚è¿”å›Booleanã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map([</span><br><span class="line">        [&quot;name&quot;, &quot;ashun&quot;],</span><br><span class="line">        [&quot;age&quot;, 18],</span><br><span class="line">]);</span><br><span class="line">map.delete(&quot;age&quot;);</span><br><span class="line">console.log(map);	&#x2F;&#x2F;Map(1)Â &#123;&quot;name&quot; &#x3D;&gt; &quot;ashun&quot;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h4><p>ä½¿ç”¨<code>clear()</code>æ¸…ç©ºMapã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map([</span><br><span class="line">        [&quot;name&quot;, &quot;ashun&quot;],</span><br><span class="line">        [&quot;age&quot;, 18],</span><br><span class="line">]);</span><br><span class="line">map.clear();</span><br><span class="line">console.log(map); 	&#x2F;&#x2F;Map(0)Â &#123;&#125;</span><br></pre></td></tr></table></figure>





<h4 id="éå†æ•°æ®"><a href="#éå†æ•°æ®" class="headerlink" title="éå†æ•°æ®"></a>éå†æ•°æ®</h4><p>ç”±äºMapæ•°æ®ç±»å‹æ˜¯å¯è¿­ä»£çš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡<code>for/ofã€forEach</code>æˆ–è¿­ä»£å™¨è¿›è¡Œéå†ã€‚</p>
<p>ä½¿ç”¨ <code>keys()/values()/entries()</code> éƒ½å¯ä»¥è¿”å›å¯éå†çš„è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"> let map = new Map([</span><br><span class="line">        [&quot;Ashun&quot;, &quot;é˜¿é¡º&quot;],</span><br><span class="line">        [&quot;tefannao&quot;, &quot;ç‰¹çƒ¦æ¼&quot;],</span><br><span class="line">]);</span><br><span class="line">console.log(map.keys()); //MapIterator &#123;&quot;Ashun&quot;, &quot;tefannao&quot;&#125;</span><br><span class="line">console.log(map.values()); //MapIterator &#123;&quot;é˜¿é¡º&quot;, &quot;ç‰¹çƒ¦æ¼&quot;&#125;</span><br><span class="line">console.log(map.entries()); //MapIterator &#123;&quot;Ashun&quot; =&gt; &quot;é˜¿é¡º&quot;, &quot;tefannao&quot; =&gt; &quot;ç‰¹çƒ¦æ¼&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨<code>keys/values</code> å‡½æ•°éå†é”®ä¸å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = new Map([[&quot;Ashun&quot;, &quot;é˜¿é¡º&quot;], [&quot;tefannao&quot;, &quot;ç‰¹çƒ¦æ¼&quot;]]);</span><br><span class="line">for (const key of as.keys()) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br><span class="line">for (const value of as.values()) &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>for/of</code>éå†æ“ä½œï¼Œç›´æ¥éå†Map ç­‰åŒäºä½¿ç”¨<code>entries()</code> å‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = new Map([</span><br><span class="line">        [&quot;Ashun&quot;, &quot;é˜¿é¡º&quot;],</span><br><span class="line">        [&quot;tefannao&quot;, &quot;ç‰¹çƒ¦æ¼&quot;],</span><br><span class="line">]);</span><br><span class="line">for (const [key, value] of as) &#123;</span><br><span class="line">		console.log(`$&#123;key&#125;=&gt;$&#123;value&#125;`);</span><br><span class="line">&#125;</span><br><span class="line">for (const [key, value] of as.entries()) &#123;</span><br><span class="line">		console.log(`$&#123;key&#125;=&gt;$&#123;value&#125;`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>forEach</code>éå†æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = new Map([[&quot;title&quot;, &quot;Ashuntefannao&quot;], [&quot;name&quot;, &quot;Ashun&quot;]]);</span><br><span class="line">as.forEach((value, key) =&gt; &#123;</span><br><span class="line">  console.log(`$&#123;key&#125;=&gt;$&#123;value&#125;`);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="has"><a href="#has" class="headerlink" title="has"></a>has</h4><p>ä½¿ç”¨<code>has(key)</code>æŸ¥æ‰¾æ˜¯å¦æœ‰è¯¥å…ƒç´ ã€‚è¿”å›Boolean</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map([</span><br><span class="line">        [&quot;name&quot;, &quot;ashun&quot;],</span><br><span class="line">        [&quot;age&quot;, 18],</span><br><span class="line">]);</span><br><span class="line">console.log(map.has(&quot;as&quot;));	&#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>



<h4 id="get"><a href="#get" class="headerlink" title="get"></a>get</h4><p>ä½¿ç”¨<code>get(key)</code>è¯»å–å¯¹åº”çš„<code>Value</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; name: &quot;Ashun&quot; &#125;;</span><br><span class="line">let map &#x3D; new Map();</span><br><span class="line">map.set(obj, &quot;SHUN&quot;);</span><br><span class="line"></span><br><span class="line">console.log(map.get(obj));	&#x2F;&#x2F;&quot;SHUN&quot;</span><br><span class="line">console.log(map.get(&#123; name: &quot;Ashun&quot; &#125;));&#x2F;&#x2F;undefined</span><br></pre></td></tr></table></figure>



<h4 id="size"><a href="#size" class="headerlink" title="size"></a>size</h4><p>ä½¿ç”¨<code>size</code>å±æ€§ï¼ŒæŸ¥çœ‹Mapçš„é•¿åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let map &#x3D; new Map([</span><br><span class="line">        [&quot;name&quot;, &quot;ashun&quot;],</span><br><span class="line">        [&quot;age&quot;, 18],</span><br><span class="line">]);</span><br><span class="line">console.log(map.size); &#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>





<h3 id="èŠ‚ç‚¹é›†åˆ"><a href="#èŠ‚ç‚¹é›†åˆ" class="headerlink" title="èŠ‚ç‚¹é›†åˆ"></a>èŠ‚ç‚¹é›†åˆ</h3><p>mapçš„keyå¯ä»¥ä¸ºä»»æ„ç±»å‹ï¼Œä¸‹é¢ä½¿ç”¨DOMèŠ‚ç‚¹åšä¸ºé”®æ¥è®°å½•DOMçš„descå±æ€§ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div desc=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">	&lt;div desc=&quot;é˜¿é¡º&quot;&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const divs = document.querySelectorAll(&quot;div&quot;);</span><br><span class="line">	let map = new Map();</span><br><span class="line"></span><br><span class="line">		divs.forEach((elem) =&gt; &#123;</span><br><span class="line">			map.set(elem, &#123; desc: elem.getAttribute(&quot;desc&quot;) &#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">		map.forEach((val, elem) =&gt; &#123;</span><br><span class="line">			elem.addEventListener(&quot;click&quot;, (_) =&gt; &#123;</span><br><span class="line">				alert(val.desc);</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h3><p>å½“ä¸æ¥å—åè®®ã€ä¸ç¬¦åˆæ¡ä»¶æ—¶æ— æ³•æäº¤è¡¨å•ï¼Œå¹¶æ ¹æ®è‡ªå®šä¹‰ä¿¡æ¯æç¤ºç”¨æˆ·ã€‚</p>
<ul>
<li>ä»¥ä¸‹ä»£ç å·§å¦™ä¹‹å¤„åœ¨äºï¼šçµæ´»çš„è½¬åŒ–äº†æ•°æ®ç±»å‹ï¼Œåˆ©ç”¨æ•°ç»„çš„<code>every</code>æ–¹æ³•è¿”å›çš„Booleanï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸æ»¡è¶³ï¼Œè¿”å›falseï¼Œè¡¨å•æ•°æ®ä¹Ÿå°±ä¸ä¼šæäº¤ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">		&lt;form action=&quot;#&quot; onsubmit=&quot;return commmit()&quot;&gt;</span><br><span class="line">      &lt;label&gt;&lt;input type=&quot;checkbox&quot; message=&quot;è¯·æ¥å—åè®®&quot; /&gt;æ¥å—&lt;/label&gt;</span><br><span class="line">      &lt;label&gt;&lt;input type=&quot;checkbox&quot; message=&quot;æœ¬ç½‘ç«™åªå¯¹å­¦ç”Ÿå¼€æ”¾&quot; /&gt;å­¦ç”Ÿ&lt;/label&gt;</span><br><span class="line">      &lt;button&gt;commit&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"> function commmit() &#123;</span><br><span class="line">        let map = new Map();</span><br><span class="line">        let checkboxs = document.querySelectorAll(&quot;[type=&#x27;checkbox&#x27;]&quot;);</span><br><span class="line">        checkboxs.forEach((v) =&gt; &#123;</span><br><span class="line">          map.set(v, &#123;message:v.getAttribute(&quot;message&quot;),isSelect:v.checked&#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">       return [...map].every((item,index)=&gt;&#123;</span><br><span class="line">         let [elem,obj]=item;</span><br><span class="line">         obj.isSelect||alert(obj.message);</span><br><span class="line">         return obj.isSelect</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h3><p><strong>WeakMap</strong> å¯¹è±¡æ˜¯ä¸€ç»„é”®/å€¼å¯¹çš„é›†</p>
<ul>
<li><p>é”®åå¿…é¡»æ˜¯å¯¹è±¡</p>
</li>
<li><p>WeaMapå¯¹<code>é”®å</code>æ˜¯<code>å¼±å¼•ç”¨</code>çš„ï¼Œ<code>é”®å€¼</code>æ˜¯<code>æ­£å¸¸å¼•ç”¨</code></p>
</li>
<li><p>åƒåœ¾å›æ”¶ä¸è€ƒè™‘WeaMapçš„<code>é”®å</code>ï¼Œä¸ä¼šæ”¹å˜å¼•ç”¨è®¡æ•°å™¨ï¼Œé”®åœ¨å…¶ä»–åœ°æ–¹ä¸è¢«å¼•ç”¨æ—¶å³åˆ é™¤</p>
</li>
<li><p><strong>ä¸å¯è¿­ä»£</strong>ï¼Œå› ä¸ºWeakMap æ˜¯å¼±å¼•ç”¨ï¼Œç”±äºå…¶ä»–åœ°æ–¹æ“ä½œæˆå‘˜å¯èƒ½ä¼šä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¸å¯ä»¥è¿›è¡Œ<code>forEach( )</code>éå†ç­‰æ“ä½œ</p>
</li>
<li><p>ä¹Ÿæ˜¯å› ä¸ºå¼±å¼•ç”¨ï¼ŒWeaMap ç»“æ„æ²¡æœ‰keys( )ï¼Œvalues( )ï¼Œentries( )ç­‰æ–¹æ³•å’Œ size å±æ€§</p>
</li>
<li><p>å½“é”®çš„å¤–éƒ¨å¼•ç”¨åˆ é™¤æ—¶ï¼Œå¸Œæœ›è‡ªåŠ¨åˆ é™¤æ•°æ®æ—¶ä½¿ç”¨ <code>WeakMap</code></p>
</li>
</ul>
<h4 id="å£°æ˜å®šä¹‰-1"><a href="#å£°æ˜å®šä¹‰-1" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h4><p>ä»¥ä¸‹æ“ä½œç”±äºé”®ä¸æ˜¯å¯¹è±¡ç±»å‹å°†äº§ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new WeakMap([[&quot;ashun&quot;, &quot;tefannao&quot;]]); // TypeError: Invalid value used as weak map key</span><br></pre></td></tr></table></figure>

<p>å°†DOMèŠ‚ç‚¹ä¿å­˜åˆ°<code>WeakMap</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;ashuntefannao.com&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;Ashun&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const Wmap = new WeakMap();</span><br><span class="line">  document.querySelectorAll(&quot;div&quot;).forEach(item =&gt; Wmap.set(item, item.innerHTML));</span><br><span class="line">  console.log(as); //WeakMap &#123;div =&gt; &quot;ashuntefannao.com&quot;, div =&gt; &quot;Ashun&quot;&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h4><p>ä¸‹é¢æ˜¯WeakMapçš„å¸¸ç”¨æŒ‡ä»¤</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const Wmap = new WeakMap();</span><br><span class="line">const arr = [&quot;ashun&quot;];</span><br><span class="line">//æ·»åŠ æ“ä½œ</span><br><span class="line">Wmap.set(arr, &quot;Ashuntefannao&quot;);</span><br><span class="line">console.log(Wmap.has(arr)); //true</span><br><span class="line"></span><br><span class="line">//åˆ é™¤æ“ä½œ</span><br><span class="line">Wmap.delete(arr);</span><br><span class="line"></span><br><span class="line">//æ£€ç´¢åˆ¤æ–­</span><br><span class="line">console.log(Wmap.has(arr)); //false</span><br></pre></td></tr></table></figure>



<h4 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h4><p>WakeMapçš„é”®åå¯¹è±¡ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°å™¨ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸è¢«å¼•ç”¨äº†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p>
<ul>
<li>ä¸‹ä¾‹å½“<code>as</code>åˆ é™¤æ—¶å†…å­˜å³æ¸…é™¤ï¼Œå› ä¸ºWeakMapæ˜¯å¼±å¼•ç”¨ä¸ä¼šäº§ç”Ÿå¼•ç”¨è®¡æ•°</li>
<li>å½“åƒåœ¾å›æ”¶æ—¶å› ä¸ºå¯¹è±¡è¢«åˆ é™¤ï¼Œè¿™æ—¶WakeMapä¹Ÿå°±<code>æ²¡æœ‰è®°å½•äº†</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let map = new WeakMap();</span><br><span class="line">let as = &#123;&#125;;</span><br><span class="line">map.set(as, &quot;Ashun&quot;);</span><br><span class="line">as = null;</span><br><span class="line">console.log(map);		//WeakMapÂ &#123;&#123;â€¦&#125; =&gt; &quot;Ashun&quot;&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(map);	//WeakMapÂ &#123;&#125;</span><br><span class="line">&#125;, 3000);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é€‰è¯¾æ¡ˆä¾‹"><a href="#é€‰è¯¾æ¡ˆä¾‹" class="headerlink" title="é€‰è¯¾æ¡ˆä¾‹"></a>é€‰è¯¾æ¡ˆä¾‹</h4><img src="Map.assets/WeakMap.gif" alt="WeakMap.gif" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        position: relative;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        width: 80%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: space-around;</span><br><span class="line">        align-items: center;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">      &#125;</span><br><span class="line">      .left,</span><br><span class="line">      .right &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      .left &#123;</span><br><span class="line">        width: 50%;</span><br><span class="line">      &#125;</span><br><span class="line">      .right &#123;</span><br><span class="line">        width: 43%;</span><br><span class="line">      &#125;</span><br><span class="line">      .l_top,</span><br><span class="line">      .r_top &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 30px;</span><br><span class="line">        background-color: #0984e3;</span><br><span class="line">        color: white;</span><br><span class="line">        line-height: 30px;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">      ul,</span><br><span class="line">      .listBox &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        flex: 1;</span><br><span class="line">        display: flex;</span><br><span class="line">        background-color: white;</span><br><span class="line">      &#125;</span><br><span class="line">      .listBox &#123;</span><br><span class="line">        flex-wrap: wrap;</span><br><span class="line">        padding: 5px;</span><br><span class="line">        padding-bottom: 8px;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &#123;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        list-style: none;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &gt; li &#123;</span><br><span class="line">        flex: 1;</span><br><span class="line">        display: grid;</span><br><span class="line">        grid-template-columns: 85% 15%;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &gt; li:nth-of-type(n + 2) &#123;</span><br><span class="line">        border-top: 2px solid #eee;</span><br><span class="line">      &#125;</span><br><span class="line">      .txt &#123;</span><br><span class="line">        padding: 10px 0px;</span><br><span class="line">      &#125;</span><br><span class="line">      .btn &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        border-radius: 3px;</span><br><span class="line">        margin: 2px 0px;</span><br><span class="line">        transition: 0.8s;</span><br><span class="line">      &#125;</span><br><span class="line">      .delete &#123;</span><br><span class="line">        background-color: #eb4d4b;</span><br><span class="line">      &#125;</span><br><span class="line">      .add &#123;</span><br><span class="line">        background-color: #6ab04c;</span><br><span class="line">      &#125;</span><br><span class="line">      .delete::before &#123;</span><br><span class="line">        content: &quot;-&quot;;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">        color: #fff;</span><br><span class="line">      &#125;</span><br><span class="line">      .add::before &#123;</span><br><span class="line">        content: &quot;+&quot;;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">        color: #fff;</span><br><span class="line">      &#125;</span><br><span class="line">      .list_item &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 3px 10px;</span><br><span class="line">        border-radius: 3px;</span><br><span class="line">        background-color: #00cec9;</span><br><span class="line">        margin: 8px 5px 0px 3px;</span><br><span class="line">        color: white;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;main&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;left&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;l_top&quot;&gt;è¯¾ç¨‹åˆ—è¡¨&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;ul class&#x3D;&quot;course&quot;&gt;</span><br><span class="line">          &lt;li class&#x3D;&quot;course_item&quot;&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;txt&quot;&gt;CSS3&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;btn add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;li class&#x3D;&quot;course_item&quot;&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;txt&quot;&gt;HTML5&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;btn add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;li class&#x3D;&quot;course_item&quot;&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;txt&quot;&gt;JavaScript&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;btn add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;li class&#x3D;&quot;course_item&quot;&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;txt&quot;&gt;Node.js&lt;&#x2F;span&gt;&lt;span class&#x3D;&quot;btn add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;right&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;r_top&quot;&gt;å…±é€‰äº†&lt;span class&#x3D;&quot;count&quot;&gt;0&lt;&#x2F;span&gt;é—¨è¯¾ç¨‹&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;article class&#x3D;&quot;listBox&quot;&gt;&lt;&#x2F;article&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">	&lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">      class Lesson &#123;</span><br><span class="line">        constructor() &#123;</span><br><span class="line">          this.course &#x3D; document.querySelectorAll(&quot;.course_item&quot;);</span><br><span class="line">          this.countDom &#x3D; document.querySelector(&quot;.count&quot;);</span><br><span class="line">          this.listBox &#x3D; document.querySelector(&quot;.listBox&quot;);</span><br><span class="line">          this.Wmap &#x3D; new WeakMap();</span><br><span class="line">          this.run();</span><br><span class="line">        &#125;</span><br><span class="line">        run() &#123;</span><br><span class="line">          this.course.forEach((li, index) &#x3D;&gt; &#123;</span><br><span class="line">            let btn &#x3D; li.querySelector(&quot;.btn&quot;);</span><br><span class="line"></span><br><span class="line">            btn.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">              let isSelect &#x3D; btn.classList.contains(&quot;add&quot;);</span><br><span class="line">              if (isSelect) &#123;</span><br><span class="line">                btn.classList.remove(&quot;add&quot;);</span><br><span class="line">                btn.classList.add(&quot;delete&quot;);</span><br><span class="line">                this.Wmap.set(li, true);</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                btn.classList.remove(&quot;delete&quot;);</span><br><span class="line">                btn.classList.add(&quot;add&quot;);</span><br><span class="line">                this.Wmap.delete(li);</span><br><span class="line">              &#125;</span><br><span class="line">              this.UpDate();</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        UpDate() &#123;</span><br><span class="line">          this.listBox.innerHTML &#x3D; &quot;&quot;;</span><br><span class="line">          let selectArr &#x3D; [...this.course].filter((v) &#x3D;&gt; this.Wmap.has(v));</span><br><span class="line">          selectArr.forEach((li) &#x3D;&gt; &#123;</span><br><span class="line">            let span &#x3D; document.createElement(&quot;span&quot;);</span><br><span class="line">            span.classList.add(&quot;list_item&quot;);</span><br><span class="line">            span.innerText &#x3D; li.querySelector(&quot;.txt&quot;).innerText;</span><br><span class="line">            this.listBox.append(span);</span><br><span class="line">          &#125;);</span><br><span class="line">          this.newCount(selectArr.length);</span><br><span class="line">        &#125;</span><br><span class="line">        newCount(newNum) &#123;</span><br><span class="line">          this.countDom.innerText &#x3D; newNum;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      new Lesson();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Set</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/Set/</url>
    <content><![CDATA[<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p><code>new Set([item1,item2,â€¦])</code>ç”¨äºå­˜å‚¨ä»»ä½•ç±»å‹çš„<font color="#f39c12">å”¯ä¸€å€¼</font >ï¼Œæ— è®ºæ˜¯åŸºæœ¬ç±»å‹è¿˜æ˜¯å¯¹è±¡å¼•ç”¨ã€‚</p>
<ul>
<li>ä»¥æ•°ç»„çš„å½¢å¼ï¼Œä¼ å…¥å„ä¸ªå‚æ•°ã€‚ä½¿ç”¨<code>[]</code>åŒ…è£¹ã€‚</li>
<li>åªèƒ½ä¿å­˜å€¼<code>æ²¡æœ‰é”®å</code></li>
<li>ä¸¥æ ¼ç±»å‹æ£€æµ‹<code>===</code>ï¼šå¦‚å­—ç¬¦ä¸²æ•°å­—ä¸ç­‰äºæ•°å€¼å‹æ•°å­—</li>
<li>å€¼æ˜¯<font color="#f39c12">å”¯ä¸€</font>çš„ï¼Œä¸é‡å¤çš„ã€‚</li>
<li>éå†é¡ºåºæ˜¯æ·»åŠ çš„é¡ºåºï¼Œæ–¹ä¾¿ä¿å­˜å›è°ƒå‡½æ•°</li>
</ul>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p><strong>ç‰¹æ€§çš„ä½“ç°</strong></p>
<p>æ²¡æœ‰é”®åï¼Œé€šè¿‡è¿­ä»£ï¼Œkeysã€entriesï¼Œè¿”å›çš„é”®å€¼å°±æ˜¯<code>valueå€¼</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([1, &quot;1&quot;, 1]);</span><br><span class="line">console.log(set.keys());		&#x2F;&#x2F;SetIteratorÂ &#123;1, &quot;1&quot;&#125;</span><br><span class="line">console.log(set.values());	&#x2F;&#x2F;SetIteratorÂ &#123;1, &quot;1&quot;&#125;</span><br><span class="line">console.log(set.entries());	&#x2F;&#x2F;SetIteratorÂ &#123;1 &#x3D;&gt; 1, &quot;1&quot; &#x3D;&gt; &quot;1&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>å€¼æ˜¯å”¯ä¸€çš„ï¼Œä¼šè‡ªåŠ¨å‰”é™¤é‡å¤å…ƒç´ ã€‚åˆ¤æ–­é‡å¤çš„æ ‡å‡†ï¼šæ˜¯å¦ä¸¥æ ¼ç±»å‹ç­‰ä¸<code>===</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([1, &quot;1&quot;, 1]);</span><br><span class="line">console.log(set);		&#x2F;&#x2F;Set(2)Â &#123;1, &quot;1&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>éå†é¡ºåºæ˜¯æ·»åŠ å…ƒç´ çš„é¡ºåºï¼ŒSetå¯ä»¥ä½¿ç”¨<code>forEach</code>éå†ã€‚<font size="2">Setä¸ºå¯è¿­ä»£æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä½¿ç”¨<font size="2" color="#f39c12">for/of</font>éå†</font>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set();</span><br><span class="line">set.add(&quot;Ashun&quot;);</span><br><span class="line">set.add(&quot;1&quot;);</span><br><span class="line">set.add(&quot;é˜¿é¡º&quot;);</span><br><span class="line">set.add(1);</span><br><span class="line">set.forEach((v) &#x3D;&gt; console.log(v));&#x2F;&#x2F; Ashun &quot;1&quot; é˜¿é¡º 1</span><br></pre></td></tr></table></figure>

<h3 id="ç®¡ç†Set"><a href="#ç®¡ç†Set" class="headerlink" title="ç®¡ç†Set"></a>ç®¡ç†Set</h3><h4 id="add"><a href="#add" class="headerlink" title="add"></a>add</h4><p>é€šè¿‡<code>add(item)</code>æ–¹æ³•ï¼Œå‘Setæ·»åŠ å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set();</span><br><span class="line">set.add(&quot;Ashun&quot;);</span><br><span class="line">console.log(set.values()); &#x2F;&#x2F;SetIteratorÂ &#123;&quot;Ashun&quot;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h4><ul>
<li>é€šè¿‡<code>delete(item)</code>æ–¹æ³•ï¼Œåˆ é™¤Set<code>å¯¹åº”å…ƒç´ </code>ã€‚</li>
<li>è¿”å›å€¼ä¸º<code>boolean</code>ç±»å‹ï¼Œåˆ é™¤æˆåŠŸï¼š<code>true</code>ï¼Œæ²¡æœ‰è¯¥å…ƒç´ :<code>false</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; new Set();</span><br><span class="line">as.add(&quot;ashun&quot;);</span><br><span class="line">as.add(&quot;Ashun&quot;);</span><br><span class="line"></span><br><span class="line">console.log(as.delete(&quot;ashun&quot;)); &#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">console.log(as.values());</span><br><span class="line">console.log(as.has(&quot;ashun&quot;)); &#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>



<h4 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h4><p>é€šè¿‡<code>clear()</code>æ–¹æ³•ï¼Œ<code>æ¸…ç©º</code>Setã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([&quot;Ashun&quot;, &quot;ashun&quot;, &quot;Controller&quot;]);</span><br><span class="line">set.clear();</span><br><span class="line">console.log(set);	&#x2F;&#x2F;Set(0)Â &#123;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="size"><a href="#size" class="headerlink" title="size"></a>size</h4><p>é€šè¿‡<code>size</code>å±æ€§ï¼Œè·å–Setçš„é•¿åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([&#39;é˜¿é¡º&#39;, &#39;ASHUN&#39;]);</span><br><span class="line">console.log(set.size); &#x2F;&#x2F;2</span><br></pre></td></tr></table></figure>



<h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><ul>
<li>å¯åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œæ“ä½œæ•°æ®<code>ä½†ä¸ä¼šæ›´æ”¹Setçš„æ•°æ®</code>ã€‚</li>
<li>å¯ä½¿ç”¨<code>forEach</code>éå†Set</li>
<li>Setä¸ºå¯è¿­ä»£æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä½¿ç”¨<code>for/of</code>éå†ã€‚</li>
</ul>
<p>åœ¨éå†è¿‡ç¨‹ä¸­æ“ä½œSetå…ƒç´ ï¼Œä½†æ˜¯<code>ä¸ä¼šæ›´æ”¹Setæœ¬èº«</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([&quot;Ashun&quot;, &quot;ashun&quot;, &quot;Controller&quot;]);</span><br><span class="line"></span><br><span class="line">for (var val of set) &#123;</span><br><span class="line">	val &#x3D; val &#x3D;&#x3D; &quot;ashun&quot; ? &quot;é˜¿é¡º&quot; : val;</span><br><span class="line">	console.log(val);		&#x2F;&#x2F;Ashun é˜¿é¡º Controller</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(set);	&#x2F;&#x2F;Set(3)Â &#123;&quot;Ashun&quot;, &quot;ashun&quot;, &quot;Controller&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å®šä¹‰æ–°çš„Setï¼Œæ¥æ”¶æ“ä½œåçš„æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let set &#x3D; new Set([&quot;Ashun&quot;, &quot;ashun&quot;, &quot;Controller&quot;]);</span><br><span class="line">let newSet &#x3D; new Set();</span><br><span class="line"></span><br><span class="line">for (var val of set) &#123;</span><br><span class="line">	val &#x3D; val &#x3D;&#x3D; &quot;ashun&quot; ? &quot;é˜¿é¡º&quot; : val;</span><br><span class="line">	newSet.add(val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(newSet);&#x2F;&#x2F;Set(3)Â &#123;&quot;Ashun&quot;, &quot;é˜¿é¡º&quot;, &quot;Controller&quot;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="has"><a href="#has" class="headerlink" title="has"></a>has</h4><p>é€šè¿‡<code>has(item)</code>å±æ€§ï¼Œåˆ¤æ–­è¯¥å…ƒç´ æ˜¯å¦å­˜åœ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; new Set();</span><br><span class="line">as.add(&#39;SHUN&#39;);</span><br><span class="line">console.log(as.has(&#39;SHUN&#39;));&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<h3 id="å»é‡æ“ä½œ"><a href="#å»é‡æ“ä½œ" class="headerlink" title="å»é‡æ“ä½œ"></a>å»é‡æ“ä½œ</h3><p>Stringå»é‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str &#x3D; &quot;Ashuntefannao&quot;;</span><br><span class="line">console.log([...new Set(str)].join(&quot;&quot;)); &#x2F;&#x2F;Ashuntefao</span><br></pre></td></tr></table></figure>

<p>Arrayå»é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr&#x3D;[1,2,3,3,4,5];</span><br><span class="line">console.log([...new Set(arr)]);	&#x2F;&#x2F;[1, 2, 3, 4, 5]</span><br></pre></td></tr></table></figure>



<h3 id="å®ä¾‹ä½“éªŒ"><a href="#å®ä¾‹ä½“éªŒ" class="headerlink" title="å®ä¾‹ä½“éªŒ"></a>å®ä¾‹ä½“éªŒ</h3><p>å®ç°æœç´¢æ¡†<code>å¯æ’é™¤é‡å¤å†…å®¹</code>ã€‚</p>
<img src="Set.assets/Set.gif" alt="Set.gif" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;HTML</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;main&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;search&quot; &#x2F;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;ul&gt;&lt;&#x2F;ul&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">	&lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;CSS</span><br><span class="line">* &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        width: 150px;</span><br><span class="line">        height: 500px;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      input &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      .list &#123;</span><br><span class="line">        flex: 1;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        list-style: none;</span><br><span class="line">        transition: 0.3s;</span><br><span class="line">        transform-origin: top center;</span><br><span class="line">        transform: scale(0);</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        border-radius: 7px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">      .active &#123;</span><br><span class="line">        transform: scale(1);</span><br><span class="line">      &#125;</span><br><span class="line">      li &#123;</span><br><span class="line">        min-height: 30px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        background-color: pink;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        color: white;</span><br><span class="line">      &#125;</span><br><span class="line">      li:nth-of-type(2n) &#123;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;JavaScript</span><br><span class="line"></span><br><span class="line">let input &#x3D; document.querySelector(&quot;input&quot;);</span><br><span class="line">let ul &#x3D; document.querySelector(&quot;ul&quot;);</span><br><span class="line"></span><br><span class="line">let obj &#x3D; &#123;</span><br><span class="line">	words: new Set(),</span><br><span class="line">	add(val) &#123;</span><br><span class="line">		input.value !&#x3D; &quot;&quot; &amp;&amp; this.words.add(val);</span><br><span class="line">	&#125;,</span><br><span class="line">	show() &#123;</span><br><span class="line">		ul.innerHTML &#x3D; &quot;&quot;;</span><br><span class="line">		this.words.forEach((v) &#x3D;&gt; &#123;</span><br><span class="line">			let li &#x3D; document.createElement(&quot;li&quot;);</span><br><span class="line">			li.innerHTML &#x3D; v;</span><br><span class="line">			ul.append(li);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">input.addEventListener(&quot;focus&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">	obj.add(input.value);</span><br><span class="line">	obj.show();</span><br><span class="line">	ul.classList.add(&quot;active&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">input.addEventListener(&quot;blur&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">	ul.classList.remove(&quot;active&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="äº¤-å¹¶-å·®é›†"><a href="#äº¤-å¹¶-å·®é›†" class="headerlink" title="äº¤,å¹¶,å·®é›†"></a>äº¤,å¹¶,å·®é›†</h3><ul>
<li><p>åœ¨æ±‚å¹¶é›†æ—¶ï¼Œä½¿ç”¨Setç±»å‹æ¯”è¾ƒç®€å•ï¼Œç›´æ¥åˆå¹¶Arrayä¼ å…¥å³å¯ã€‚</p>
</li>
<li><p>ä½†æ˜¯åœ¨æ±‚äº¤é›†ã€å·®é›†æ—¶ï¼Œè‹¥ä½¿ç”¨Setç±»å‹è§£å†³å°±æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å…ˆè½¬åŒ–ä¸ºArrayç±»å‹ï¼Œå†ä½¿ç”¨filterã€‚</p>
</li>
<li><p>æ‰€ä»¥çµæ´»ã€åˆç†çš„è½¬åŒ–æ•°æ®ç±»å‹ï¼Œå€ŸåŠ©ä¸åŒç±»çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿé«˜æ•ˆçš„è§£å†³é—®é¢˜ã€‚</p>
</li>
</ul>
<h4 id="äº¤é›†"><a href="#äº¤é›†" class="headerlink" title="äº¤é›†"></a>äº¤é›†</h4><p>æ•°ç»„è§£å†³</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 4];</span><br><span class="line">let arr1 &#x3D; [1, 2, 3, 5, 6];</span><br><span class="line"></span><br><span class="line">console.log(arr.filter((val, key) &#x3D;&gt; val &#x3D;&#x3D; arr1[key]));</span><br></pre></td></tr></table></figure>

<p>Setç±»å‹è§£å†³ï¼ˆè½¬ä¸ºArrayï¼Œä½¿ç”¨filterï¼‰e</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">let set1 &#x3D; new Set(arr);</span><br><span class="line">let set2 &#x3D; new Set(arr1);</span><br><span class="line">let newSet &#x3D; new Set([...set1].filter((item) &#x3D;&gt; set2.has(item)));</span><br><span class="line">console.log(newSet); 	&#x2F;&#x2F;Set(2)Â &#123;1, 2&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å¹¶é›†"><a href="#å¹¶é›†" class="headerlink" title="å¹¶é›†"></a>å¹¶é›†</h4><p>æ•°ç»„è§£å†³</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 4];</span><br><span class="line">let arr1 &#x3D; [1, 2, 3, 5, 6];</span><br><span class="line"></span><br><span class="line">let subArr &#x3D; arr1.filter((v, i) &#x3D;&gt; v !&#x3D; arr[i]);</span><br><span class="line">let result&#x3D;arr.concat(subArr)</span><br><span class="line">console.log(result);</span><br></pre></td></tr></table></figure>

<p>Setç±»å‹è§£å†³ï¼Œç›´æ¥åˆå¹¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">let set &#x3D; new Set(arr.concat(arr1));</span><br><span class="line">console.log([...set]);</span><br></pre></td></tr></table></figure>



<h4 id="å·®é›†"><a href="#å·®é›†" class="headerlink" title="å·®é›†"></a>å·®é›†</h4><p>åœ¨aä¸­å‡ºç°ï¼Œå´ä¸åœ¨bä¸­å‡ºç°çš„å…ƒç´ ã€‚</p>
<p>æ•°ç»„è§£å†³</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 4];</span><br><span class="line">let arr1 &#x3D; [1, 2, 3, 5, 6];</span><br><span class="line">console.log(arr1.filter((val, index) &#x3D;&gt; val !&#x3D; arr[index]));</span><br></pre></td></tr></table></figure>

<p>Setç±»å‹è§£å†³ï¼ˆè½¬ä¸ºArrayï¼Œä½¿ç”¨filterï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">let set &#x3D; new Set(arr);</span><br><span class="line">let set1 &#x3D; new Set(arr1);</span><br><span class="line">let newSet &#x3D; new Set([...set1].filter((item) &#x3D;&gt; !set.has(item)));</span><br><span class="line"></span><br><span class="line">console.log(newSet); &#x2F;&#x2F;Set(3)Â &#123;3, 5, 6&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h3><p>WeakSetç»“æ„åŒæ ·ä¸ä¼šå­˜å‚¨é‡å¤çš„å€¼ï¼Œå®ƒçš„æˆå‘˜<code>å¿…é¡»åªèƒ½æ˜¯å¼•ç”¨ç±»å‹</code>çš„å€¼ã€‚WeakSetæ˜¯ä¸€ç§<code>å¼±å¼•ç”¨çš„ã€ä¸å¯è¿­ä»£</code>çš„æ•°æ®ç»“æ„ã€‚</p>
<ul>
<li>åƒåœ¾å›æ”¶ä¸ç”¨è€ƒè™‘WeakSetï¼Œå³è¢«WeakSetå¼•ç”¨æ—¶å¼•ç”¨è®¡æ•°å™¨ä¸åŠ ä¸€ï¼Œæ‰€ä»¥å¯¹è±¡ä¸è¢«å¼•ç”¨æ—¶ä¸ç®¡WeakSetæ˜¯å¦åœ¨ä½¿ç”¨éƒ½å°†åˆ é™¤</li>
<li><strong>ä¸å¯è¿­ä»£</strong>ï¼Œå› ä¸ºWeakSet æ˜¯å¼±å¼•ç”¨ï¼Œç”±äºå…¶ä»–åœ°æ–¹æ“ä½œæˆå‘˜å¯èƒ½ä¼šä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¸å¯ä»¥è¿›è¡Œ<code>forEach()</code>éå†ç­‰æ“ä½œ</li>
<li>ä¹Ÿæ˜¯å› ä¸ºå¼±å¼•ç”¨ï¼ŒWeakSet ç»“æ„æ²¡æœ‰keys( )ï¼Œvalues( )ï¼Œentries( )ç­‰æ–¹æ³•å’Œsizeå±æ€§</li>
<li>å› ä¸ºæ˜¯å¼±å¼•ç”¨ï¼Œæ‰€ä»¥å½“å¤–éƒ¨çš„å¼•ç”¨åˆ é™¤æ—¶ï¼Œå¸Œæœ›è‡ªåŠ¨åˆ é™¤æ•°æ®æ—¶ä½¿ç”¨ <code>WeakSet</code></li>
</ul>
<h4 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h4><p>ä»¥ä¸‹æ“ä½œç”±äºæ•°æ®ä¸æ˜¯å¯¹è±¡ç±»å‹å°†äº§ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new WeakSet(&quot;Ashun&quot;); //Invalid value used in weak set</span><br><span class="line">new WeakSet([&quot;as&quot;, &quot;Ashun&quot;]); //Invalid value used in weak set</span><br><span class="line"></span><br><span class="line">//ä¼ å‚çš„å½¢å¼å¿…é¡»æ˜¯æ•°ç»„å½¢å¼ï¼Œä½¿ç”¨[]åŒ…è£¹å„ä¸ªitems</span><br></pre></td></tr></table></figure>

<p>WeakSetçš„å€¼å¿…é¡»ä¸º<code>å¼•ç”¨ç±»å‹</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new WeakSet([[&quot;Ashun&quot;], [&quot;Ashun1&quot;]]);</span><br><span class="line">new WeakSet([&#123;name:&quot;Ashun&quot;&#125;,&#123;name:&quot;ES6&quot;&#125;]);</span><br></pre></td></tr></table></figure>

<p>å°†DOMèŠ‚ç‚¹ä¿å­˜åˆ°<code>WeakSet</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">document.querySelectorAll(&quot;button&quot;).forEach(item =&gt; Wset.add(item));</span><br></pre></td></tr></table></figure>



<h4 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h4><p>ä¸‹é¢æ˜¯WeakSetçš„å¸¸ç”¨æŒ‡ä»¤:</p>
<ul>
<li><code>add(item)</code></li>
<li><code>delete(item)</code></li>
<li><code>has(item)</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = new WeakSet();</span><br><span class="line">const arr = [&quot;Ashun&quot;];</span><br><span class="line">//æ·»åŠ æ“ä½œ</span><br><span class="line">as.add(arr);</span><br><span class="line">console.log(as.has(arr));</span><br><span class="line"></span><br><span class="line">//åˆ é™¤æ“ä½œ</span><br><span class="line">as.delete(arr);</span><br><span class="line"></span><br><span class="line">//æ£€ç´¢åˆ¤æ–­</span><br><span class="line">console.log(as.has(arr));</span><br></pre></td></tr></table></figure>



<h4 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h4><p>WeaSetä¿å­˜çš„å¼•ç”¨ç±»å‹<code>ä¸ä¼šå¢åŠ </code>å¼•ç”¨è®¡æ•°å™¨ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸è¢«å¼•ç”¨äº†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p>
<ul>
<li>ä¸‹ä¾‹ä¸­çš„æ•°ç»„è¢« <code>arr</code> å¼•ç”¨äº†ï¼Œå¼•ç”¨è®¡æ•°å™¨+1</li>
<li>æ•°æ®åˆæ·»åŠ åˆ°äº† as çš„WeaSetä¸­ï¼Œå¼•ç”¨è®¡æ•°è¿˜æ˜¯1</li>
<li>å½“ <code>arr</code> è®¾ç½®ä¸ºnullæ—¶ï¼Œå¼•ç”¨è®¡æ•°-1 æ­¤æ—¶å¯¹è±¡å¼•ç”¨ä¸º0</li>
<li>å½“åƒåœ¾å›æ”¶æ—¶å¯¹è±¡è¢«åˆ é™¤ï¼Œè¿™æ—¶WakeSetä¹Ÿå°±æ²¡æœ‰è®°å½•äº†</li>
</ul>
<p><strong>ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶ï¼Ÿ</strong></p>
<p>â€‹    å¤§éƒ¨åˆ†è¯­è¨€éƒ½æœ‰è‡ªèº«çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå› ä¸ºåœ¨è¯­è¨€ä¸­å®šä¹‰çš„å„ç§å˜é‡ï¼Œéƒ½ä¼šå ç”¨ç³»ç»Ÿçš„å†…å­˜ã€‚åœ¨JSä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸å†è¢«ä»»ä½•å˜é‡å¼•ç”¨ï¼Œåˆ™ä¸ºæ— ç”¨çš„åƒåœ¾ï¼ŒJSå¼•æ“å°±ä¼šå°†å…¶åˆ é™¤ï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚</p>
<h5 id="å¼ºå¼•ç”¨"><a href="#å¼ºå¼•ç”¨" class="headerlink" title="å¼ºå¼•ç”¨"></a>å¼ºå¼•ç”¨</h5><p> æ™®é€šçš„èµ‹å€¼ï¼Œä¸ºå¼ºå¼•ç”¨ã€‚</p>
<ul>
<li>aå¼•ç”¨äº†objï¼Œå¼•ç”¨è®¡æ•°å™¨+1</li>
<li>bé€šè¿‡aå¼•ç”¨äº†objï¼Œå¼•ç”¨è®¡æ•°å™¨+1</li>
<li>WeakSetå¼•ç”¨äº†objï¼Œå¼•ç”¨è®¡æ•°å™¨<code>ä¸è®¡æ•°</code>,ï¼ˆå¼±å¼•ç”¨ï¼‰</li>
<li>aæ¸…é™¤äº†å¯¹objçš„å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°å™¨-1</li>
<li>ä½†æ˜¯bå¹¶æ²¡æœ‰æ¸…é™¤å¯¹objçš„å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°å™¨å€¼ä¸º1ï¼Œè¿˜å¯è·å–åˆ°objçš„å€¼ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123; name: &quot;Ashun&quot; &#125;;</span><br><span class="line">let b &#x3D; a;</span><br><span class="line">let wset &#x3D; new WeakSet();</span><br><span class="line">wset.add(a);</span><br><span class="line">a &#x3D; null;</span><br><span class="line">console.log(b);	&#x2F;&#x2F;&#123;name:&quot;Ashun&quot;&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="å¼±å¼•ç”¨"><a href="#å¼±å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨"></a>å¼±å¼•ç”¨</h5><ul>
<li>å½“æ²¡æœ‰å˜é‡å¼•ç”¨objæ—¶ï¼ŒJSå†…éƒ¨å°±ä¼šè¿›è¡Œåƒåœ¾å›æ”¶ï¼Œåˆ é™¤objã€‚</li>
<li>ä½†åƒåœ¾å›æ”¶ä¸ç”¨è€ƒè™‘<code>WeakSet</code>ï¼ŒWeakSetå¯¹objçš„å¼±å¼•ç”¨ï¼Œç³»ç»Ÿçš„å¼•ç”¨è®¡æ•°å™¨<code>ä¸ä¼š+1</code>,æ‰€ä»¥å½“å…¶å®ƒå˜é‡ä¸å†å¼•ç”¨objæ—¶ï¼Œè¿‡ä¸€æ®µæ—¶é—´ç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…é™¤WeakSetä¸­å¯¹åº”çš„æ•°æ®ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123; name: &quot;Ashun&quot; &#125;;</span><br><span class="line">let wSet &#x3D; new WeakSet();</span><br><span class="line"></span><br><span class="line">wSet.add(a);</span><br><span class="line">b &#x3D; a;</span><br><span class="line">a &#x3D; null;</span><br><span class="line">console.log(wSet);		&#x2F;&#x2F;WeakSet &#123;&#123; name: &quot;Ashun&quot; &#125;&#125;</span><br><span class="line">b &#x3D; null;</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">	console.log(wSet);	&#x2F;&#x2F;WeakSet &#123;&#125;</span><br><span class="line">&#125;, 6000);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="æ¡ˆä¾‹æ“ä½œ"><a href="#æ¡ˆä¾‹æ“ä½œ" class="headerlink" title="æ¡ˆä¾‹æ“ä½œ"></a>æ¡ˆä¾‹æ“ä½œ</h5><p><code>ä½¿ç”¨WeakSetç®¡ç†TODO</code></p>
<img src="Set.assets/WeakSet.gif" alt="WeakSet.gif" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        width: 150px;</span><br><span class="line">        height: 500px;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      input &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        transition: 0.8s;</span><br><span class="line">      &#125;</span><br><span class="line">      .list &#123;</span><br><span class="line">        flex: 1;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        list-style: none;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        border-radius: 7px;</span><br><span class="line">      &#125;</span><br><span class="line">      ul &gt; li &#123;</span><br><span class="line">        transition: 0.8s;</span><br><span class="line">        height: 30px;</span><br><span class="line">        margin-top: 8px;</span><br><span class="line">        border: 1px solid black;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: row;</span><br><span class="line">        justify-content: space-between;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">      input &#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">        flex: 1;</span><br><span class="line">        outline: none;</span><br><span class="line">        border: none;</span><br><span class="line">        margin-left: 2px;</span><br><span class="line">      &#125;</span><br><span class="line">      span &#123;</span><br><span class="line">        transition: 0.8s;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        width: 25px;</span><br><span class="line">        background: yellowgreen;</span><br><span class="line">        border-radius: 3px;</span><br><span class="line">        color: white;</span><br><span class="line">      &#125;</span><br><span class="line">      li.delete &#123;</span><br><span class="line">        color: #ddd;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">      &#125;</span><br><span class="line">      .delete &gt; span &#123;</span><br><span class="line">        background-color: #ddd;</span><br><span class="line">      &#125;</span><br><span class="line">      .delete &gt; input &#123;</span><br><span class="line">        color: #ddd;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;main&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">		&lt;ul&gt;</span><br><span class="line">			&lt;li&gt;&lt;input type&#x3D;&quot;text&quot;&#x2F;&gt; &lt;span&gt;Ã—&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">			&lt;li&gt;&lt;input type&#x3D;&quot;text&quot;&#x2F;&gt; &lt;span&gt;Ã—&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">			&lt;li&gt;&lt;input type&#x3D;&quot;text&quot;&#x2F;&gt; &lt;span&gt;Ã—&lt;&#x2F;span&gt;&lt;&#x2F;li&gt;</span><br><span class="line">		&lt;&#x2F;ul&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">      class Todo &#123;</span><br><span class="line">        constructor(listClass) &#123;</span><br><span class="line">          this.listDom &#x3D; document.querySelectorAll(listClass);</span><br><span class="line">          this.WSetList &#x3D; new WeakSet();</span><br><span class="line">          this.links &#x3D; [];</span><br><span class="line">          this.run();</span><br><span class="line">        &#125;</span><br><span class="line">        run() &#123;</span><br><span class="line">          this.init();</span><br><span class="line">          console.log(this.WSetList);</span><br><span class="line">          this.addEvent();</span><br><span class="line">        &#125;</span><br><span class="line">        init() &#123;</span><br><span class="line">          &#x2F;&#x2F;åˆå§‹åŒ–ï¼Œå­˜å‚¨domï¼Œ</span><br><span class="line">          this.listDom.forEach((v) &#x3D;&gt; &#123;</span><br><span class="line">            this.WSetList.add(v);</span><br><span class="line">            this.links.push(v.querySelector(&quot;span&quot;));</span><br><span class="line">          &#125;);</span><br><span class="line">          console.log(this.links);</span><br><span class="line">        &#125;</span><br><span class="line">        addEvent() &#123;</span><br><span class="line">          &#x2F;&#x2F;æ·»åŠ äº‹ä»¶</span><br><span class="line">          this.links.forEach((v) &#x3D;&gt;</span><br><span class="line">            v.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">              let parent &#x3D; e.target.parentElement;</span><br><span class="line">              if (!this.WSetList.has(parent)) &#123;</span><br><span class="line">                alert(&quot;å·²ç»åˆ é™¤æ­¤TODO&quot;);</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                parent.classList.add(&quot;delete&quot;);</span><br><span class="line">                this.WSetList.delete(parent);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      new Todo(&quot;li&quot;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Symbol</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/Symbol/</url>
    <content><![CDATA[<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><p>Symbolç”¨äºé˜²æ­¢å±æ€§åå†²çªè€Œäº§ç”Ÿçš„ï¼Œæ¯”å¦‚å‘ç¬¬ä¸‰æ–¹å¯¹è±¡ä¸­æ·»åŠ å±æ€§æ—¶ã€‚</p>
<p>Symbol çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œç‹¬ä¸€æ— äºŒçš„ä¸ä¼šé‡å¤çš„</p>
<h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p><code>Symbol</code>æ˜¯ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œ<code>æ²¡æœ‰æ„é€ å‡½æ•°</code>æ‰€ä»¥ä¹Ÿå°±ä¸èƒ½é€šè¿‡<code>new</code>å…³é”®å­—æ¥è¿›è¡Œå®ä¾‹åŒ–ã€‚è€Œæ˜¯ç›´æ¥ä½¿ç”¨<code>Symbol()</code>å£°æ˜ã€‚æ—¢ç„¶å…¶æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿä½¿ç”¨<code>instanceof</code>åˆ¤æ–­ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨typeofåˆ¤æ–­ç±»å‹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol();</span><br><span class="line">let edu = Symbol();</span><br><span class="line">console.log(as); //Symbol()</span><br><span class="line">console.log(as == edu); //false</span><br><span class="line"></span><br><span class="line">console.log(typeof as); //symbol</span><br></pre></td></tr></table></figure>

<p>Symbol ä¸å¯ä»¥æ·»åŠ å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol();</span><br><span class="line">as.name = &quot;ashun&quot;;</span><br><span class="line">console.log(as.name); //undefined</span><br></pre></td></tr></table></figure>

<h4 id="æè¿°å‚æ•°"><a href="#æè¿°å‚æ•°" class="headerlink" title="æè¿°å‚æ•°"></a>æè¿°å‚æ•°</h4><p>å¯ä¼ å…¥å­—ç¬¦ä¸²ç”¨äºæè¿°Symbolï¼Œæ–¹ä¾¿åœ¨æ§åˆ¶å°åˆ†è¾¨Symbol</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol(&quot;ashun&quot;);</span><br><span class="line">let sy = Symbol(&quot;Ashuntefannao&quot;);</span><br><span class="line"></span><br><span class="line">console.log(as); //Symbol(ashun)</span><br><span class="line">console.log(sy.toString()); //Symbol(Ashuntefannao)</span><br></pre></td></tr></table></figure>

<p>ä¼ å…¥ç›¸åŒå‚æ•°Symbolä¹Ÿæ˜¯ç‹¬ç«‹å”¯ä¸€çš„ï¼Œå› ä¸ºå‚æ•°åªæ˜¯æè¿°è€Œå·²ï¼Œä½†ä½¿ç”¨ <code>Symbol.for</code>åˆ™ä¸ä¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let symbol1 = Symbol(&quot;ashun&quot;);</span><br><span class="line">let symbol2 = Symbol(&quot;ashun&quot;);</span><br><span class="line">console.log(symbol1 == symbol2); //false</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>description</code>å¯ä»¥è·å–ä¼ å…¥çš„æè¿°å‚æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.description); //é˜¿é¡º</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="Symbol-for"><a href="#Symbol-for" class="headerlink" title="Symbol.for"></a>Symbol.for</h4><p>æ ¹æ®æè¿°è·å–Symbolï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ–°å»ºä¸€ä¸ªSymbol</p>
<ul>
<li>ä½¿ç”¨Symbol.forä¼šåœ¨ç³»ç»Ÿä¸­å°†Symbolç™»è®°</li>
<li>ä½¿ç”¨Symbolåˆ™ä¸ä¼šç™»è®°</li>
</ul>
<p>ç”±äºSymbol.forä¼šä½¿å¾—ç³»ç»Ÿå¯¹Symbolåšè®°å½•ï¼Œæ‰€ä»¥åªè¦<code>æè¿°ç›¸åŒ</code>ï¼Œå¼•ç”¨çš„å°±æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå³æ’ç­‰ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol.for(&quot;ashun&quot;);</span><br><span class="line">let zs = Symbol.for(&quot;ashun&quot;);</span><br><span class="line">console.log(as === zs); //true</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; Symbol.for();</span><br><span class="line">let zs &#x3D; Symbol.for();</span><br><span class="line">console.log(as &#x3D;&#x3D;&#x3D; zs); &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<h4 id="Symbol-keyFor"><a href="#Symbol-keyFor" class="headerlink" title="Symbol.keyFor"></a>Symbol.keyFor</h4><p><code>Symbol.keyFor(Symbol.for())</code> æ ¹æ®ä½¿ç”¨<code>Symbol.for</code>ç™»è®°çš„Symbolè¿”å›æè¿°ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å›undefined ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Symbol.for(&quot;ashun&quot;);</span><br><span class="line">console.log(Symbol.keyFor(as));//ashun</span><br><span class="line">console.log(Symbol.keyFor(Symbol.for()));//undefined</span><br><span class="line"></span><br><span class="line">let symbol=Symbol(&quot;Ashun&quot;);</span><br><span class="line">console.log(Symbol.keyFor(symbol))//undefined</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="è®¾ç½®objå±æ€§"><a href="#è®¾ç½®objå±æ€§" class="headerlink" title="è®¾ç½®objå±æ€§"></a>è®¾ç½®objå±æ€§</h4><p>Symbol æ˜¯ç‹¬ä¸€æ— äºŒçš„æ‰€ä»¥å¯ä»¥ä¿è¯å¯¹è±¡å±æ€§çš„å”¯ä¸€ã€‚</p>
<ul>
<li>Symbol å˜é‡åœ¨ä½œä¸ºå¯¹è±¡å±æ€§å£°æ˜å’Œè®¿é—®æ—¶ï¼Œä½¿ç”¨ <code>[]</code>ï¼ˆå˜é‡ï¼‰å½¢å¼æ“ä½œ</li>
<li>ä¹Ÿä¸èƒ½ä½¿ç”¨ <code>.</code> è¯­æ³•å› ä¸º <code>.</code>è¯­æ³•æ˜¯æ“ä½œå­—ç¬¦ä¸²å±æ€§çš„ã€‚</li>
</ul>
<p>ä¸‹é¢å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œä¼šå°†<code>symbol</code> å½“æˆå­—ç¬¦ä¸²<code>symbol</code>å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let symbol = Symbol(&quot;ashun&quot;);</span><br><span class="line">let obj = &#123;</span><br><span class="line">	symbol: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj);//&#123;symbol: &quot;Ashuntefannao.com&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®å†™æ³•æ˜¯ä»¥<code>[]</code> å˜é‡å½¢å¼å£°æ˜å’Œè®¿é—®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let symbol = Symbol(&quot;ashun&quot;);</span><br><span class="line">let obj = &#123;</span><br><span class="line">  [symbol]: &quot;Ashuntefannao.com&quot;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj);//&#123;Symbol(ashun): &quot;Ashuntefannao.com&quot;&#125;</span><br><span class="line">console.log(obj[symbol]); //Ashuntefannao.com</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h3><h5 id="ç¼“å­˜æ“ä½œ"><a href="#ç¼“å­˜æ“ä½œ" class="headerlink" title="ç¼“å­˜æ“ä½œ"></a><strong>ç¼“å­˜æ“ä½œ</strong></h5><p>ä½¿ç”¨<code>Symbol</code>å¯ä»¥è§£å†³åœ¨ä¿å­˜æ•°æ®æ—¶ç”±äºåç§°ç›¸åŒé€ æˆçš„è€¦åˆè¦†ç›–é—®é¢˜ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Cache &#123;</span><br><span class="line">	static data = &#123;&#125;;</span><br><span class="line">	</span><br><span class="line">	static get(key) &#123;</span><br><span class="line">		return data[key];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	static set(val, key) &#123;</span><br><span class="line">		this.data[key] = val;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = &#123;</span><br><span class="line">	name: &quot;Ashun&quot;,</span><br><span class="line">	type: &quot;Controller&quot;,</span><br><span class="line">	key: Symbol(&quot;ç”¨æˆ·&quot;),</span><br><span class="line">&#125;;</span><br><span class="line">let cart = &#123;</span><br><span class="line">	name: &quot;ShoppingCart&quot;,</span><br><span class="line">	type: &quot;store&quot;,</span><br><span class="line">	key: Symbol(&quot;è´­ç‰©è½¦&quot;),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Cache.set(user, user.key);</span><br><span class="line">Cache.set(cart, cart.key);</span><br><span class="line">console.log(Cache.data[Symbol(&quot;ç”¨æˆ·&quot;)]);	//undefined</span><br><span class="line">console.log(Cache.data[user.key]);		//&#123;name: &quot;Ashun&quot;, type: &quot;Controller&quot;, key: Symbol(ç”¨æˆ·)&#125;</span><br></pre></td></tr></table></figure>



<h5 id="éå†å±æ€§"><a href="#éå†å±æ€§" class="headerlink" title="éå†å±æ€§"></a>éå†å±æ€§</h5><p>Symbolä½œä¸ºå±æ€§åç§°ï¼šä¸èƒ½ä½¿ç”¨ <code>for/in</code>ã€<code>for/of</code> éå†æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let symbol = Symbol(&quot;ashun&quot;);</span><br><span class="line">let obj = &#123;</span><br><span class="line">	 name: &quot;Ashun&quot;,</span><br><span class="line">	 type: &quot;Controller&quot;,</span><br><span class="line">	 [symbol]: &quot;Ashuntedannao.com&quot;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">for (let key in obj) &#123;</span><br><span class="line">console.log(key);   //name type</span><br><span class="line">&#125;</span><br><span class="line">for (let val of Object.values(obj)) &#123;</span><br><span class="line">console.log(val);		//Ashun Controller</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ <code>Object.getOwnPropertySymbols</code> è·å–æ‰€æœ‰<code>Symbol</code>å±æ€§</p>
<ul>
<li><code>Object.getOwnPropertySymbols</code>è¿”å›çš„æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰Symbolç±»å‹å±æ€§åçš„Array</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">for (const key of Object.getOwnPropertySymbols(obj)) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Object.getOwnPropertySymbols(obj));</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Reflect.ownKeys(obj)</code> è·å–æ‰€æœ‰å±æ€§åŒ…æ‹¬<code>Symbol</code></p>
<ul>
<li>Reflect.ownKeys(obj)èƒ½å¤Ÿæ˜ å°„objä¸­çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬<code>Symbol</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">for (const key of Reflect.ownKeys(obj)) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¯¹è±¡å±æ€§ä¸æƒ³è¢«éå†ï¼Œå¯ä»¥ä½¿ç”¨<code>Symbol</code>ç±»å‹è¿›è¡Œä¿æŠ¤</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const site = Symbol(&quot;ç½‘ç«™åç§°&quot;);</span><br><span class="line"></span><br><span class="line">class User &#123;</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">	this[site] = &quot;é˜¿é¡º&quot;;</span><br><span class="line">	this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	getName() &#123;</span><br><span class="line">		return `$&#123;this[site]&#125;--$&#123;this.name&#125;`;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = new User(&quot;Ashuntefannao.com&quot;);</span><br><span class="line">console.log(user.getName());</span><br><span class="line"></span><br><span class="line">for (let key in user) &#123;</span><br><span class="line">		console.log(key); //name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ä»»åŠ¡è½®è¯¢</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E4%BB%BB%E5%8A%A1%E8%BD%AE%E8%AF%A2/</url>
    <content><![CDATA[<h2 id="ä»»åŠ¡è½®è¯¢"><a href="#ä»»åŠ¡è½®è¯¢" class="headerlink" title="ä»»åŠ¡è½®è¯¢"></a>ä»»åŠ¡è½®è¯¢</h2><p>JavaScript è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ªæ—¶é—´åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ã€ç”¨æˆ·äº¤äº’ã€è„šæœ¬ã€UI æ¸²æŸ“å’Œç½‘ç»œå¤„ç†ç­‰è¡Œä¸ºï¼Œé˜²æ­¢ä¸»çº¿ç¨‹çš„ä¸é˜»å¡ï¼Œï¼ˆäº‹ä»¶å¾ªç¯ï¼‰Event Loopæ–¹æ¡ˆè¥è¿è€Œç”Ÿã€‚</p>
<p>JavaScript å¤„ç†ä»»åŠ¡æ˜¯åœ¨ç­‰å¾…ä»»åŠ¡ã€æ‰§è¡Œä»»åŠ¡ ã€ä¼‘çœ ç­‰å¾…æ–°ä»»åŠ¡ä¸­ä¸æ–­å¾ªç¯ä¸­ï¼Œä¹Ÿç§°è¿™ç§æœºåˆ¶ä¸ºäº‹ä»¶å¾ªç¯ã€‚</p>
<ul>
<li>ä¸»çº¿ç¨‹ä¸­çš„ä»»åŠ¡(åŒæ­¥ä»£ç )æ‰§è¡Œå®Œåï¼Œæ‰æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡(å¼‚æ­¥ä»£ç )</li>
<li>æœ‰æ–°ä»»åŠ¡åˆ°æ¥æ—¶ä¼šå°†å…¶æ”¾å…¥é˜Ÿåˆ—ï¼Œé‡‡å–å…ˆè¿›å…ˆæ‰§è¡Œçš„ç­–ç•¥æ‰§è¡Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡</li>
<li>æ¯”å¦‚å¤šä¸ª <code>setTimeout</code> åŒæ—¶åˆ°æ—¶é—´äº†ï¼Œå°±è¦ä¾æ¬¡æ‰§è¡Œ</li>
</ul>
<p>ä»»åŠ¡åŒ…æ‹¬ script(æ•´ä½“ä»£ç )ã€ setTimeoutã€setIntervalã€DOMæ¸²æŸ“ã€DOMäº‹ä»¶ã€Promiseã€XMLHTTPREQUESTç­‰</p>
<h3 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h3><ul>
<li>ç«‹å³æ‰§è¡Œä¸»çº¿ç¨‹åŒæ­¥ä»£ç </li>
<li>æ‰€æœ‰ä¸»çº¿ç¨‹åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå…ˆè½®è¯¢å¼‚æ­¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å…¶ä¸­çš„å¾®ä»»åŠ¡ä¾æ¬¡æ·»åŠ åˆ°ä¸»çº¿ç¨‹å¹¶æ‰§è¡Œã€‚</li>
<li>å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œè½®è¯¢å¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå°†å…¶ä¸­çš„å¼‚æ­¥å®ä»»åŠ¡ä¾æ¬¡æ·»åŠ åˆ°ä¸»çº¿ç¨‹å¹¶æ‰§è¡Œ</li>
<li>æ‰€æœ‰çš„ä»»åŠ¡éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œçš„</li>
</ul>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯¦ç»†åˆ†æå®ä»»åŠ¡ä¸å¾®ä»»åŠ¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashuntefannao&quot;);</span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;setTimeout&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;Promiseä¸­çš„åŒæ­¥ä»£ç &quot;);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">  .then((_) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&quot;Promise.then1&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then((_) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&quot;Promise.then2&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line"></span><br><span class="line"># æ‰§è¡Œç»“æœ</span><br><span class="line">Ashuntefannao</span><br><span class="line">Promiseä¸­çš„åŒæ­¥ä»£ç </span><br><span class="line">é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">Promise.then1</span><br><span class="line">Promise.then2</span><br><span class="line">setTimeout</span><br></pre></td></tr></table></figure>

<ol>
<li>ç«‹å³æ‰§è¡Œæœ€å‰é¢çš„ä¸»çº¿ç¨‹åŒæ­¥ä»£ç ï¼Œæ‰“å°ç»“æœ</li>
<li>æ‰§è¡ŒsetTimeoutï¼Œå°†å…¶æ”¾å…¥å¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç«‹å³æ‰§è¡Œåç»­åŒæ­¥ä»£ç ï¼Œåœ¨Promiseä¸­</li>
<li>æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªthenï¼Œå°†å…¶æ”¾å…¥åˆ°å¼‚æ­¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­</li>
<li>æ‰§è¡Œåˆ°ç¬¬äºŒä¸ªthenï¼Œå°†å…¶æ”¾å…¥åˆ°å¼‚æ­¥å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­</li>
<li>ç«‹å³æ‰§è¡Œæœ«å°¾çš„ä¸»çº¿ç¨‹åŒæ­¥ä»£ç ï¼Œæ‰“å°ç»“æœ</li>
<li>æ‰€æœ‰ä¸»çº¿ç¨‹åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºç¬¬ä¸€ä¸ªthenä»£ç å—ï¼Œæ”¾å…¥ä¸»çº¿ç¨‹å¹¶æ‰§è¡Œ</li>
<li>ä¸»çº¿ç¨‹åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œç»§ç»­è½®è¯¢å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå–å‡ºç¬¬äºŒä¸ªthenä»£ç å—å¹¶æ‰§è¡Œã€‚</li>
<li>ä¸»çº¿ç¨‹ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œè½®è¯¢å¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>å–å‡ºsetTimeoutä¸­çš„ä»£ç å—ï¼Œæ”¾å…¥ä¸»çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œ</li>
<li>ä¸»çº¿ç¨‹åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œå¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º</li>
</ol>
<img src="ä»»åŠ¡è½®è¯¢.assets/EventLoop_1.png" alt="EventLoop_1" style="zoom:65%;" />



<h3 id="è„šæœ¬åŠ è½½"><a href="#è„šæœ¬åŠ è½½" class="headerlink" title="è„šæœ¬åŠ è½½"></a>è„šæœ¬åŠ è½½</h3><p>å¼•æ“åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ä¸ä¼šè¿›è¡ŒDOMæ¸²æŸ“ï¼Œæ‰€ä»¥å¦‚æœæŠŠ<code>script</code> å®šä¹‰åœ¨å‰é¢ï¼Œè¦å…ˆæ‰§è¡Œå®Œä»»åŠ¡åå†æ¸²æŸ“DOMã€‚</p>
<p>è§£å†³:</p>
<ol>
<li>å°†<code>script</code> æ”¾åœ¨ BODY ç»“æŸæ ‡ç­¾å‰ã€‚</li>
<li>ä¸º<code>script</code>æ ‡ç­¾æ·»åŠ <code>type=&quot;module&quot;</code>,ä¹Ÿä¼šå»¶è¿Ÿè§£ææ‰§è¡Œ</li>
<li>ä¸º<code>script</code>æ ‡ç­¾æ·»åŠ <code>defer=&quot;defer&quot;</code>å±æ€§</li>
<li>ä¸º<code>script</code>æ ‡ç­¾æ·»åŠ <code>async=&quot;async&quot;</code>å±æ€§</li>
</ol>
<ul>
<li><code>defer/async</code>å±æ€§ï¼Œåªå¯¹å¤–éƒ¨è„šæœ¬å¼•å…¥ç”Ÿæ•ˆï¼Œå¤šæ¬¡ä½¿ç”¨è¯¥å±æ€§å¼•å…¥å…¶å®ƒå¤–éƒ¨è„šæœ¬ï¼Œä¸èƒ½å¤Ÿä¿è¯å…ˆåé¡ºåºï¼Œè‹¥å¼•å…¥çš„å¤šä¸ªè„šæœ¬ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œéœ€è¦æ³¨æ„ã€‚</li>
</ul>
<h3 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h3><p>å®šæ—¶å™¨ä¼šæ”¾å…¥å¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œéœ€è¦ç­‰å¾…åŒæ­¥ä»»åŠ¡ã€å¼‚æ­¥å¾®ä»»åŠ¡æ‰§è¡Œå®Œæˆåæ‰§è¡Œã€‚</p>
<p>ä¸‹é¢è®¾ç½®äº† 6 æ¯«ç§’æ‰§è¡Œï¼Œå¦‚æœä¸»çº¿ç¨‹ä»£ç æ‰§è¡Œ10æ¯«ç§’ï¼Œå®šæ—¶å™¨è¦ç­‰ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ‰æ‰§è¡Œã€‚</p>
<p>HTMLæ ‡å‡†è§„å®šæœ€å°æ—¶é—´ä¸èƒ½ä½äº4æ¯«ç§’ï¼Œæœ‰äº›å¼‚æ­¥æ“ä½œå¦‚DOMæ“ä½œæœ€ä½æ˜¯16æ¯«ç§’ï¼Œæ€»ä¹‹æŠŠæ—¶é—´è®¾ç½®å¤§äº›å¯¹æ€§èƒ½æ›´å¥½ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">setTimeout(func,6);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä»£ç ä¼šå…ˆè¾“å‡º <code>Ashuntefannao</code> ä¹‹åè¾“å‡º <code>é˜¿é¡ºç‰¹çƒ¦æ¼</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;, 0);</span><br><span class="line">console.log(&quot;Ashuntefannao&quot;);</span><br></pre></td></tr></table></figure>



<h3 id="å¾®ä»»åŠ¡"><a href="#å¾®ä»»åŠ¡" class="headerlink" title="å¾®ä»»åŠ¡"></a>å¾®ä»»åŠ¡</h3><p>å¾®ä»»åŠ¡ä¸€èˆ¬ç”±ç”¨æˆ·ä»£ç äº§ç”Ÿï¼Œå¾®ä»»åŠ¡è¾ƒå®ä»»åŠ¡æ‰§è¡Œä¼˜å…ˆçº§æ›´é«˜ï¼Œ<code>Promise.then</code> æ˜¯å…¸å‹çš„å¾®ä»»åŠ¡ï¼Œå®ä¾‹åŒ– Promise æ—¶æ‰§è¡Œçš„ä»£ç æ˜¯åŒæ­¥çš„ï¼Œthenæ³¨å†Œçš„å›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥å¾®ä»»åŠ¡ã€‚</p>
<p>ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºæ˜¯åŒæ­¥ä»»åŠ¡ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡æ‰€ä»¥ä¸‹é¢æ‰§è¡Œç»“æœæ˜¯ <code>1ã€2ã€3ã€4</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; console.log(4));</span><br><span class="line"></span><br><span class="line">new Promise(resolve &#x3D;&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;).then(_ &#x3D;&gt; &#123;</span><br><span class="line">  console.log(3);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(2);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å†æ¥çœ‹ä¸‹é¢ç¨å¤æ‚çš„ä»»åŠ¡ä»£ç </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;å®šæ—¶å™¨&quot;);</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;timeout timeout&quot;);</span><br><span class="line">  &#125;, 0);</span><br><span class="line">  new Promise(resolve =&gt; &#123;</span><br><span class="line">    console.log(&quot;settimeout Promise&quot;);</span><br><span class="line">    resolve();</span><br><span class="line">  &#125;).then(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;settimeout then&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;, 0);</span><br><span class="line">new Promise(resolve =&gt; &#123;</span><br><span class="line">  console.log(&quot;Promise&quot;);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;).then(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;then&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœä¸º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Promise</span><br><span class="line">é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">then</span><br><span class="line">å®šæ—¶å™¨</span><br><span class="line">settimeout Promise</span><br><span class="line">settimeout then</span><br><span class="line">timeout timeout</span><br></pre></td></tr></table></figure>



<h3 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h3><h4 id="è¿›åº¦æ¡"><a href="#è¿›åº¦æ¡" class="headerlink" title="è¿›åº¦æ¡"></a>è¿›åº¦æ¡</h4><p>ä¸‹é¢çš„å®šæ—¶å™¨è™½ç„¶éƒ½å®šæ—¶äº†ä¸€ç§’é’Ÿï¼Œä½†ä»»åŠ¡é˜Ÿåˆ—æ˜¯æŒ‰å…ˆè¿›å…ˆå‡ºï¼ˆå…ˆè¿›å…ˆæ‰§è¡Œï¼‰åŸåˆ™ï¼Œä¾æ¬¡æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let i = 0;</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(++i);</span><br><span class="line">  console.log(&quot;timeout1&quot;);</span><br><span class="line">&#125;, 1000);</span><br><span class="line"></span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(++i);</span><br><span class="line">  console.log(&quot;timeout2&quot;);</span><br><span class="line">&#125;, 1000);</span><br><span class="line"></span><br><span class="line">//ä¸€ç§’åæ‰“å°ç»“æœ</span><br><span class="line">1</span><br><span class="line">timeout1</span><br><span class="line">2</span><br><span class="line">timeout2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¿›åº¦æ¡çš„ç¤ºä¾‹ï¼Œå°†æ¯ä¸ªæ•°å­—æ”¾åœ¨ä¸€ä¸ªä»»åŠ¡ä¸­æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">      padding: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .loading &#123;</span><br><span class="line">      height: 30px;</span><br><span class="line">      background: yellowgreen;</span><br><span class="line">      width: 0;</span><br><span class="line">      text-align: center;</span><br><span class="line">      font-weight: bold;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;loading&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let laodBox=document.querySelector(&quot;.loading&quot;);</span><br><span class="line">  function view() &#123;</span><br><span class="line">    let i = 0;</span><br><span class="line">    (function handle() &#123;</span><br><span class="line">      laodBox.innerHTML = i + &quot;%&quot;;</span><br><span class="line">      laodBox.style.width = i + &quot;%&quot;;</span><br><span class="line">      if (i++ &lt; 100) &#123;</span><br><span class="line">        setTimeout(handle, 20);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">  &#125;</span><br><span class="line">  view();</span><br><span class="line">  console.log(&quot;å®šæ—¶å™¨å¼€å§‹äº†...&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡åˆ†è§£"><a href="#ä»»åŠ¡åˆ†è§£" class="headerlink" title="ä»»åŠ¡åˆ†è§£"></a>ä»»åŠ¡åˆ†è§£</h4><p>ä¸€ä¸ªæ¯”è¾ƒè€—æ—¶çš„ä»»åŠ¡å¯èƒ½é€ æˆæ¸¸è§ˆå™¨å¡æ­»ç°è±¡ï¼Œæ‰€ä»¥å¯ä»¥å°†ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå¼‚æ­¥å°ä»»åŠ¡æ‰§è¡Œï¼Œæš‚æ—¶ç½®äºå¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå½“ä¸»çº¿ç¨‹ç©ºé—²æ—¶ï¼Œåœ¨è¿›è¡Œä»»åŠ¡è½®è¯¢ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ•°å­—ç»Ÿè®¡çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿è¡Œæ—¶é—´ç‰¹åˆ«é•¿</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        console.time(&quot;runtime&quot;);</span><br><span class="line">        function sub(num) &#123;</span><br><span class="line">          let count = 0;</span><br><span class="line">          for (let i = 0; i &lt;= num; i++) &#123;</span><br><span class="line">            count += i;</span><br><span class="line">          &#125;</span><br><span class="line">          console.log(count);</span><br><span class="line">          console.timeEnd(&quot;runtime&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        let num = 987654321;</span><br><span class="line">        sub(num);</span><br><span class="line">        console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;); //éœ€è¦ç­‰å¾…ä¸Šé¢æ‰§è¡Œå®Œæ‰ä¼šæ‰§è¡Œ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æŠŠä»»åŠ¡åˆ†è§£æˆå°å—æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ¸¸è§ˆå™¨å°±ä¸ä¼šå‡ºç°å¡æ­»çš„ç°è±¡äº†ï¼Œä¹Ÿä¸ä¼šå½±å“åç»­ä»£ç çš„æ‰§è¡Œ</p>
<ul>
<li>æ‰§è¡Œrunæ—¶ï¼Œé‡åˆ°ç¬¬ä¸€ä¸ªsetTimeoutï¼Œå…ˆå°†å…¶æ·»åŠ åˆ°å¼‚æ­¥å®ä»»åŠ¡é˜Ÿåˆ—ã€‚</li>
<li>åé¢é‡åˆ°åŒæ­¥ä»£ç ï¼Œæ‰“å°ç»“æœï¼Œåˆé‡åˆ°å¼‚æ­¥å®ä»»åŠ¡ï¼Œæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­</li>
<li>åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå–å‡ºç¬¬ä¸€ä¸ªsetTimeoutåˆ°ä¸»çº¿ç¨‹å¹¶æ‰§è¡Œï¼ˆè¿ç®—forå¾ªç¯ï¼‰</li>
<li>åé¢é‡åˆ°åŒæ­¥ä»£ç ï¼Œæ‰“å°ç»“æœï¼Œåˆé‡åˆ°å¼‚æ­¥å®ä»»åŠ¡ï¼Œæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­</li>
<li>åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå–å‡ºç¬¬äºŒä¸ªsetTimeoutåˆ°ä¸»çº¿ç¨‹å¹¶æ‰§è¡Œï¼ˆè°ƒç”¨runï¼‰</li>
<li>ä»¥æ­¤å¾€å¤ï¼Œä»»åŠ¡è½®è¯¢â€¦â€¦</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let count = 0;</span><br><span class="line">        let num = 987654321;</span><br><span class="line">        function run() &#123;</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            for (let i = 0; i &lt; 100000000; i++) &#123;</span><br><span class="line">              if (num &lt;= 0) break;</span><br><span class="line">              count += num--;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">          if (num &gt; 0) &#123;</span><br><span class="line">            console.log(num);</span><br><span class="line">            setTimeout(run);</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            console.log(num);</span><br><span class="line">            console.log(count);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        run();</span><br><span class="line">        console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äº¤ç»™å¾®ä»»åŠ¡å¤„ç†æ˜¯æ›´å¥½çš„é€‰æ‹©</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        async function run(num) &#123;</span><br><span class="line">          let res = await Promise.resolve().then((_) =&gt; &#123;</span><br><span class="line">            let count = 0;</span><br><span class="line">            for (let i = 0; i &lt; num; i++) &#123;</span><br><span class="line">              count += num--;</span><br><span class="line">            &#125;</span><br><span class="line">            return count;</span><br><span class="line">          &#125;);</span><br><span class="line">          console.log(res);</span><br><span class="line">        &#125;</span><br><span class="line">        run(987654321);</span><br><span class="line">        console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ä½œç”¨åŸŸä¸é—­åŒ…</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85/</url>
    <content><![CDATA[<h2 id="ä½œç”¨åŸŸä¸é—­åŒ…"><a href="#ä½œç”¨åŸŸä¸é—­åŒ…" class="headerlink" title="ä½œç”¨åŸŸä¸é—­åŒ…"></a>ä½œç”¨åŸŸä¸é—­åŒ…</h2><h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸæœ‰ä¸‰ç§:</p>
<ul>
<li>å…¨å±€ä½œç”¨åŸŸ</li>
<li>å‡½æ•°ä½œç”¨åŸŸ</li>
<li>let\const ä¸ <code>&#123;&#125;</code> å½¢æˆçš„å—çº§ä½œç”¨åŸŸ</li>
</ul>
<p>å˜é‡å¼•ç”¨è§„åˆ™</p>
<ul>
<li>ç¼–è¯‘å™¨è¿è¡Œæ—¶ä¼šå°†å˜é‡å®šä¹‰åœ¨ï¼šå½“å‰æ‰€åœ¨çš„ä½œç”¨åŸŸ</li>
<li>ä½¿ç”¨å˜é‡æ—¶ä¼šä»å½“å‰ä½œç”¨åŸŸå¼€å§‹å‘ä¸ŠæŸ¥æ‰¾å˜é‡</li>
<li>ä½œç”¨åŸŸå°±åƒæ”€äº²äº²ä¸€æ ·ï¼Œæ™šè¾ˆæ€»æ˜¯å¯ä»¥å‘ä¸Šè¾ˆè¦äº›ä¸œè¥¿</li>
<li>é»˜è®¤è¯·å†µä¸‹ï¼šçˆ¶çº§ä½œç”¨åŸŸä¸èƒ½å¤Ÿè®¿é—®å­çº§ä½œç”¨åŸŸçš„å˜é‡ï¼ˆä½¿ç”¨é—­åŒ…è§£å†³ï¼‰ï¼Œä½†æ˜¯å­çº§ä½œç”¨åŸŸå´å¯ä»¥è®¿é—®ç¥–å…ˆä½œç”¨åŸŸçš„å˜é‡ã€‚</li>
</ul>
<h4 id="ä½¿ç”¨è§„èŒƒ"><a href="#ä½¿ç”¨è§„èŒƒ" class="headerlink" title="ä½¿ç”¨è§„èŒƒ"></a>ä½¿ç”¨è§„èŒƒ</h4><p>â€‹    ä½œç”¨åŸŸé“¾åªå‘ä¸ŠæŸ¥æ‰¾ï¼Œæ‰¾åˆ°å…¨å±€windowå³ç»ˆæ­¢ï¼Œåº”è¯¥å°½é‡ä¸è¦åœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ·»åŠ å˜é‡ã€‚</p>
<p>å‡½æ•°è¢«æ‰§è¡Œåå…¶ç¯å¢ƒå˜é‡å°†ä»å†…å­˜ä¸­åˆ é™¤ã€‚ä¸‹é¢å‡½æ•°åœ¨æ¯æ¬¡æ‰§è¡Œåå°†åˆ é™¤å‡½æ•°å†…éƒ¨çš„totalå˜é‡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function count() &#123;</span><br><span class="line">  let total = 0;</span><br><span class="line">&#125;</span><br><span class="line">count();</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°<code>æ¯æ¬¡è°ƒç”¨</code>éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°ä½œç”¨åŸŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let site = &#x27;é˜¿é¡º&#x27;;</span><br><span class="line"></span><br><span class="line">function a() &#123;</span><br><span class="line">  let as = &#x27;ashuntefannao.com&#x27;;</span><br><span class="line"></span><br><span class="line">  function b() &#123;</span><br><span class="line">      let cms = &#x27;Ashun.com&#x27;;</span><br><span class="line">      console.log(as);</span><br><span class="line">      console.log(site);</span><br><span class="line">  &#125;</span><br><span class="line">  b();</span><br><span class="line">&#125;</span><br><span class="line">a();</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­å‡½æ•°è¢«å¤–éƒ¨(windowä½œç”¨åŸŸ)ä½¿ç”¨æ—¶ï¼Œçˆ¶çº§ç¯å¢ƒå°†è¢«ä¿ç•™ï¼Œå› æ­¤åœ¨å…¨å±€ä½œç”¨åŸŸèƒ½å¤Ÿ<code>é—´æ¥è®¿é—®</code>å‡½æ•°å†…çš„å˜é‡ã€‚è¿™å°±æ˜¯<code>é—­åŒ…</code>çš„ç‰¹æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function as() &#123;</span><br><span class="line">  let n = 1;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    let b = 1;</span><br><span class="line">    return function() &#123;</span><br><span class="line">      console.log(++n);</span><br><span class="line">      console.log(++b);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let a = as()();</span><br><span class="line">a(); //2,2</span><br><span class="line">a(); //3,3</span><br></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°ä¹Ÿæ˜¯å¾ˆå¥½çš„ç¯å¢ƒä¾‹å­ï¼Œå­å‡½æ•°è¢«å¤–éƒ¨ä½¿ç”¨çˆ¶çº§ç¯å¢ƒå°†è¢«ä¿ç•™ã€‚</p>
<p>é€šè¿‡è¿™ä¸¤ä¸ªä¾‹å­å¯ä»¥å‘ç°ï¼Œé—­åŒ…å¯ä»¥ä¿æŠ¤æŸäº›å˜é‡ï¼Œä¸è¢«å¤–éƒ¨ç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯è®©å¤–éƒ¨é€šè¿‡æ¥å£(å­å‡½æ•°ã€æ–¹æ³•)è¿›è¡Œé—´æ¥è®¿é—®ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;</span><br><span class="line">  let a = 1;</span><br><span class="line">  this.show = function() &#123;</span><br><span class="line">    console.log(a++);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let a = new User();</span><br><span class="line">a.show(); //1</span><br><span class="line">a.show(); //2</span><br><span class="line">let b = new User();</span><br><span class="line">b.show(); //1</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="let-const"><a href="#let-const" class="headerlink" title="let/const"></a>let/const</h4><p>ä½¿ç”¨ <code>let/const</code> å¯ä»¥å°†å˜é‡å£°æ˜åœ¨å—ä½œç”¨åŸŸä¸­ï¼ˆæ”¾åœ¨æ–°çš„ç¯å¢ƒä¸­ï¼Œè€Œä¸æ˜¯å…¨å±€ä¸­ï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let a = 9;</span><br><span class="line">&#125;</span><br><span class="line">console.log(a); //ReferenceError: a is not defined</span><br><span class="line">if (true) &#123;</span><br><span class="line">	var i = 1;</span><br><span class="line">&#125;</span><br><span class="line">console.log(i);//1</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å®šæ—¶å™¨å‡½æ•°æ¥ä½“éªŒ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">for (let i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">  &#125;, 500);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>for</code> å¾ªç¯ä¸­ä½¿ç”¨<code>let/const</code> ä¼šåœ¨æ¯ä¸€æ¬¡è¿­ä»£ä¸­é‡æ–°ç”Ÿæˆä¸åŒçš„å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [];</span><br><span class="line">for (let i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">	arr.push((() =&gt; i));</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr[3]()); //3 å¦‚æœä½¿ç”¨varå£°æ˜å°†æ˜¯10</span><br></pre></td></tr></table></figure>

<p>åœ¨æ²¡æœ‰<code>let/const</code> çš„å†å²ä¸­ä½¿ç”¨ä»¥ä¸‹æ–¹å¼äº§ç”Ÿä½œç”¨åŸŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//è‡ªè¡Œæ„å»ºé—­åŒ…</span><br><span class="line">var arr = [];</span><br><span class="line">for (var i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  (function (a) &#123;</span><br><span class="line">      arr.push(()=&gt;a);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr[3]()); //3</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p>é—­åŒ…æŒ‡å­å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸå˜é‡çš„å‡½æ•°ç‰¹æ€§ï¼Œå³ä½¿åœ¨å­å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸå¤–ä¹Ÿå¯ä»¥è®¿é—®ã€‚å¦‚æœæ²¡æœ‰é—­åŒ…é‚£ä¹ˆåœ¨å¤„ç†äº‹ä»¶ç»‘å®šï¼Œå¼‚æ­¥è¯·æ±‚æ—¶éƒ½ä¼šå˜å¾—å›°éš¾ã€‚</p>
<ul>
<li>é—­åŒ…ä¸€èˆ¬åœ¨å­å‡½æ•°æœ¬èº«ä½œç”¨åŸŸä»¥å¤–æ‰§è¡Œã€‚</li>
<li>é—­åŒ…ä¸€èˆ¬çš„å½¢å¼ï¼šå‡½æ•°å¥—å‡½æ•°ï¼Œåœ¨å­å‡½æ•°ä¸­ä½¿ç”¨çˆ¶çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œå°†å­å‡½æ•°returnå‡ºå»ã€‚</li>
<li>ä½†é—­åŒ…çš„å½¢å¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå…¶æœ¬è´¨æ˜¯ï¼š**<code>å½“å‰ä½œç”¨åŸŸå—å­˜åœ¨å¯¹çˆ¶çº§ä½œç”¨åŸŸå—çš„å¼•ç”¨</code>**</li>
</ul>
<h4 id="åŸºæœ¬ç¤ºä¾‹"><a href="#åŸºæœ¬ç¤ºä¾‹" class="headerlink" title="åŸºæœ¬ç¤ºä¾‹"></a>åŸºæœ¬ç¤ºä¾‹</h4><p>å‰é¢åœ¨è®²ä½œç”¨åŸŸæ—¶å·²ç»åœ¨ä½¿ç”¨é—­åŒ…ç‰¹æ€§äº†ï¼Œä¸‹é¢å†æ¬¡é‡æ¸©ä¸€ä¸‹é—­åŒ…ã€‚</p>
<ul>
<li>ä»¥ä¸‹ä¸‰ä¾‹ä»£ç è™½ç„¶å½¢å¼ä¸åŒï¼Œä½†éƒ½å®ç°äº†å†…éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œé—´æ¥çš„è®©å¤–éƒ¨è®¿é—®ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function first() &#123;</span><br><span class="line">	let a &#x3D; 1;</span><br><span class="line">	return function second() &#123;</span><br><span class="line">		return ++a;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let func &#x3D; first();</span><br><span class="line">console.log(func());&#x2F;&#x2F;2</span><br><span class="line">console.log(func());&#x2F;&#x2F;3</span><br><span class="line">console.log(func());&#x2F;&#x2F;4</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function first() &#123;</span><br><span class="line">	let a = 1;</span><br><span class="line">	function second() &#123;</span><br><span class="line">		return ++a;</span><br><span class="line">	&#125;</span><br><span class="line">	window.func = second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">first();</span><br><span class="line">console.log(func());//2</span><br><span class="line">console.log(func());//3</span><br><span class="line">console.log(func());//4</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let fuc;</span><br><span class="line">function first() &#123;</span><br><span class="line">  let a &#x3D; 0;</span><br><span class="line">  fuc &#x3D; function () &#123;</span><br><span class="line">    console.log(++a);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">first();</span><br><span class="line">fuc();</span><br><span class="line">fuc();</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨é—­åŒ…è¿”å›æ•°ç»„åŒºé—´å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [3, 2, 4, 1, 5, 6];</span><br><span class="line">function between(a, b) &#123;</span><br><span class="line">  return function(v) &#123;</span><br><span class="line">    return v &gt;= a &amp;&amp; v &lt;= b;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr.filter(between(3, 5)));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨é—­åŒ…ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶æ˜¾ç¤ºå½“å‰ç‚¹å‡»çš„æ˜¯ç¬¬å‡ ä¸ªæŒ‰é’®ã€‚</p>
<ul>
<li>åˆ©ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°åˆ›å»ºä½œç”¨åŸŸï¼Œå½¢æˆé—­åŒ…</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button message=&quot;ashun&quot;&gt;button&lt;/button&gt;</span><br><span class="line">  &lt;button message=&quot;SHUN&quot;&gt;button&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  var btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">  for (let i = 0; i &lt; btns.length; i++) &#123;</span><br><span class="line">    btns[i].onclick = (function(i) &#123;</span><br><span class="line">      return function() &#123;</span><br><span class="line">        alert(`ç‚¹å‡»äº†ç¬¬$&#123;i + 1&#125;ä¸ªæŒ‰é’®`);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(i);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨æ™®é€šå‡½æ•°ç»“åˆcall\apply</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">var btns &#x3D; document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">      for (let i &#x3D; 0; i &lt; btns.length; i++) &#123;</span><br><span class="line">        btns[i].onclick &#x3D; function () &#123;</span><br><span class="line">          return function () &#123;</span><br><span class="line">            alert(&#96;ç‚¹å‡»äº†ç¬¬$&#123;i + 1&#125;ä¸ªæŒ‰é’®&#96;);</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;.call(btns[i], i);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç§»åŠ¨åŠ¨ç”»"><a href="#ç§»åŠ¨åŠ¨ç”»" class="headerlink" title="ç§»åŠ¨åŠ¨ç”»"></a>ç§»åŠ¨åŠ¨ç”»</h4><p>è®¡æ—¶å™¨ä¸­ä½¿ç”¨é—­åŒ…æ¥è·å–ç‹¬æœ‰å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button message=&quot;é˜¿é¡º&quot;&gt;Ashun&lt;/button&gt;</span><br><span class="line">	&lt;button message=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;&gt;Ashuntefannao&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"> let btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">      btns.forEach(function (elem) &#123;</span><br><span class="line">        let checked = false;</span><br><span class="line">        let L = 0;</span><br><span class="line">        elem.addEventListener(&quot;click&quot;, function () &#123;</span><br><span class="line">          !checked &amp;&amp;</span><br><span class="line">            (checked = setInterval(function () &#123;</span><br><span class="line">              elem.style.marginLeft = ++L + &quot;px&quot;;</span><br><span class="line">            &#125;, 40));</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="é—­åŒ…æ’åº"><a href="#é—­åŒ…æ’åº" class="headerlink" title="é—­åŒ…æ’åº"></a>é—­åŒ…æ’åº</h4><p>ä¸‹ä¾‹ä½¿ç”¨é—­åŒ…æŒ‰æŒ‡å®šå­—æ®µæ’åº</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&quot;,</span><br><span class="line">    click: 89,</span><br><span class="line">    price: 12</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;FLEX å¼¹æ€§ç›’æ¨¡å‹&quot;,</span><br><span class="line">    click: 45,</span><br><span class="line">    price: 120</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;GRID æ …æ ¼ç³»ç»Ÿ&quot;,</span><br><span class="line">    click: 19,</span><br><span class="line">    price: 67</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;ç›’å­æ¨¡å‹è¯¦è§£&quot;,</span><br><span class="line">    click: 29,</span><br><span class="line">    price: 300</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line">function order(field) &#123;</span><br><span class="line">  return (a, b) =&gt; (a[field] &gt; b[field] ? 1 : -1);</span><br><span class="line">&#125;</span><br><span class="line">console.table(lessons.sort(order(&quot;price&quot;)));</span><br></pre></td></tr></table></figure>

<h4 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h4><p>é—­åŒ…ç‰¹æ€§ä¸­ä¸Šçº§ä½œç”¨åŸŸä¼šä¸ºå‡½æ•°ä¿å­˜æ•°æ®ï¼Œä»è€Œé€ æˆçš„å¦‚ä¸‹æ‰€ç¤ºçš„å†…å­˜æ³„æ¼é—®é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div desc=&quot;ashun&quot;&gt;é˜¿é¡º&lt;/div&gt;</span><br><span class="line">  &lt;div desc=&quot;Ashuntefannao&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let divs = document.querySelectorAll(&quot;div&quot;);</span><br><span class="line">  divs.forEach(function(item) &#123;</span><br><span class="line">    item.addEventListener(&quot;click&quot;, function() &#123;</span><br><span class="line">      console.log(item.getAttribute(&quot;desc&quot;));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢é€šè¿‡æ¸…é™¤ä¸éœ€è¦çš„æ•°æ®è§£å†³å†…å­˜æ³„æ¼é—®é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let divs = document.querySelectorAll(&quot;div&quot;);</span><br><span class="line">divs.forEach(function(item) &#123;</span><br><span class="line">  let desc = item.getAttribute(&quot;desc&quot;);</span><br><span class="line">  item.addEventListener(&quot;click&quot;, function() &#123;</span><br><span class="line">    console.log(desc);</span><br><span class="line">  &#125;);</span><br><span class="line">  item = null;		//åŠæ—¶æ¸…ç©ºå¼•ç”¨ã€‚</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>åŸºç¡€çŸ¥è¯†</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="ä¸€ã€å…³äºå˜é‡"><a href="#ä¸€ã€å…³äºå˜é‡" class="headerlink" title="ä¸€ã€å…³äºå˜é‡"></a>ä¸€ã€å…³äºå˜é‡</h3><h4 id="1-1-å¼±ç±»å‹"><a href="#1-1-å¼±ç±»å‹" class="headerlink" title="1.1 å¼±ç±»å‹"></a>1.1 å¼±ç±»å‹</h4><p>â€‹    JavaScriptæ˜¯ä¸€ç§å¼±ç±»å‹è¯­è¨€ï¼Œå£°æ˜å˜é‡æ—¶ä¸ç”¨æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œå˜é‡ç±»å‹ç”±èµ‹äºˆçš„å€¼æ‰€å†³å®šã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var web = &quot;ashun.com&quot;;</span><br><span class="line">console.log(typeof web); //string</span><br><span class="line">web = 99;</span><br><span class="line">console.log(typeof web); //number</span><br><span class="line">web = &#123;&#125;;</span><br><span class="line">console.log(typeof web); //object</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="1-2-å˜é‡æå‡"><a href="#1-2-å˜é‡æå‡" class="headerlink" title="1.2 å˜é‡æå‡"></a>1.2 å˜é‡æå‡</h4><p>â€‹    ä»£ç åœ¨æ‰§è¡Œå‰ä¼šè¿›è¡Œé¢„è§£æï¼Œä¼šæŠŠvarå½¢å¼çš„å˜é‡çš„å£°æ˜æå‡åˆ°å½“å‰ä½œç”¨åŸŸ(windowã€function)æœ€å‰ã€‚</p>
<p>é¢„è§£æç¤ºä¾‹:</p>
<p>â€‹    æˆ‘ä»¬çŸ¥é“<code>while</code>æ˜¯jsçš„å…³é”®å­—ï¼Œæ˜¯ä¸èƒ½å¤Ÿä½œä¸ºå˜é‡åç§°çš„ï¼Œä¸‹é¢ä»£ç åœ¨è§£æè¿‡ç¨‹ä¸­å‘ç°<code>while</code>ä¸èƒ½åšä¸ºå˜é‡åï¼Œæ²¡æœ‰åˆ°æ‰§è¡Œç¯èŠ‚å°±å‡ºé”™äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é¢„è§£æè¿‡ç¨‹çš„ä½“éªŒã€‚</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">var web = &#x27;ashun&#x27;;</span><br><span class="line">console.log(web);</span><br><span class="line">let while = &#x27;ashuntefannao&#x27;; //Uncaught SyntaxError: Unexpected token &#x27;while&#x27;</span><br></pre></td></tr></table></figure>

<p>â€‹    ä½¿ç”¨ <code>var</code> å£°æ˜ä»£ç ä¼šè¢«æå‡åˆ°å‰é¢ï¼ŒæŒ‰ç†æ¥è¯´ï¼Œå˜é‡æœªå®šä¹‰å°±ä½¿ç”¨åº”è¯¥æŠ¥é”™ï¼Œä½†æ˜¯ç”±äºå˜é‡æå‡çš„ç¼˜æ•…ï¼Œå¹¶ä¸ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(a); //undefined</span><br><span class="line">var a = 1;</span><br><span class="line">console.log(a);  //1</span><br><span class="line"></span><br><span class="line">//ä»¥ä¸Šä»£ç è§£æå™¨æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹</span><br><span class="line">var a;</span><br><span class="line">console.log(a); //1</span><br><span class="line">a = 1;</span><br><span class="line">console.log(a); //1</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ <code>if(false)</code> ä¸­å®šä¹‰çš„varä¹Ÿä¼šå‘ç”Ÿå˜é‡æå‡ï¼Œæ³¨é‡Šæ‰<code>if</code> ç»“æœä¼šä¸åŒ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var web = &quot;ashun&quot;;</span><br><span class="line">function as() &#123;</span><br><span class="line">  if (false) &#123;</span><br><span class="line">    var web = &quot;é˜¿é¡º&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(web);</span><br><span class="line">&#125;</span><br><span class="line">as();//undefined</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="1-3-TDZ"><a href="#1-3-TDZ" class="headerlink" title="1.3 TDZ"></a>1.3 TDZ</h4><p>â€‹    TDZ åˆç§°æš‚æ—¶æ€§æ­»åŒºï¼ŒæŒ‡å˜é‡åœ¨ä½œç”¨åŸŸå†…å·²ç»å­˜åœ¨ï¼Œä½†å¿…é¡»åœ¨<code>let/const</code>å£°æ˜åæ‰å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>TDZå¯ä»¥è®©ç¨‹åºä¿æŒå…ˆå£°æ˜åä½¿ç”¨çš„ä¹ æƒ¯ï¼Œè®©ç¨‹åºæ›´ç¨³å®šã€‚</p>
<ul>
<li>å˜é‡è¦å…ˆå£°æ˜åä½¿ç”¨</li>
<li>å»ºè®®ä½¿ç”¨let/const è€Œå°‘ä½¿ç”¨var</li>
</ul>
<p>ä½¿ç”¨<code>let/const</code> å£°æ˜çš„å˜é‡åœ¨å£°æ˜å‰å­˜åœ¨ä¸´æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰ä½¿ç”¨ä¼šå‘ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(x); // Cannot access &#x27;x&#x27; before initialization</span><br><span class="line">let x = 1;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>run</code>å‡½æ•°ä½œç”¨åŸŸä¸­äº§ç”ŸTDZï¼Œä¸å…è®¸å˜é‡åœ¨æœªå£°æ˜å‰ä½¿ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">as = &quot;Ashuntefannao&quot;;</span><br><span class="line">function run() &#123;</span><br><span class="line">  console.log(as);</span><br><span class="line">  let as = &quot;Ashun&quot;;</span><br><span class="line">&#125;</span><br><span class="line">run();</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°å‚æ•°çš„è§£æï¼Œè‡ªå·¦å‘å³ï¼Œä¸‹é¢ä»£ç bæ²¡æœ‰å£°æ˜èµ‹å€¼ä¸å…è®¸ç›´æ¥ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function test(a = b, b = 3) &#123;&#125;</span><br><span class="line">test(); //Cannot access &#x27;b&#x27; before initialization</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºaå·²ç»èµ‹å€¼ï¼Œæ‰€ä»¥bå¯ä»¥ä½¿ç”¨aå˜é‡ï¼Œä¸‹é¢ä»£ç è®¿é—®æ­£å¸¸</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function test(a = 2, b = a) &#123;&#125;</span><br><span class="line">test(); </span><br></pre></td></tr></table></figure>

<h3 id="äºŒã€å—çº§ä½œç”¨åŸŸ"><a href="#äºŒã€å—çº§ä½œç”¨åŸŸ" class="headerlink" title="äºŒã€å—çº§ä½œç”¨åŸŸ"></a>äºŒã€å—çº§ä½œç”¨åŸŸ</h3><p>â€‹    varä¸å…·æœ‰å—çº§ä½œç”¨åŸŸï¼ŒES6çš„letã€constå…·æœ‰å—çº§ä½œç”¨åŸŸã€‚ä½†æ˜¯å®ƒä»¬éƒ½å…·æœ‰å‡½æ•°ã€å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h4 id="2-1-å…±åŒç‚¹"><a href="#2-1-å…±åŒç‚¹" class="headerlink" title="2.1 å…±åŒç‚¹"></a>2.1 å…±åŒç‚¹</h4><p>â€‹    åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡ï¼Œèƒ½å¤Ÿè¢«å­çº§ä½œç”¨åŸŸè®¿é—®ï¼Œä½†å­çº§ä½œç”¨åŸŸä¸­çš„å˜é‡ä¸èƒ½å¤Ÿè¢«çˆ¶çº§è®¿é—®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var as &#x3D; &quot;ashunte&quot;;</span><br><span class="line"></span><br><span class="line">function test() &#123;</span><br><span class="line">    var site &#x3D; &quot;ashuntefannao.com&quot;;</span><br><span class="line">    console.log(as);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();	&#x2F;&#x2F;ashunte</span><br><span class="line">onsole.log(site);&#x2F;&#x2F;Uncaught ReferenceError: site is not defined</span><br></pre></td></tr></table></figure>

<h4 id="2-2-let"><a href="#2-2-let" class="headerlink" title="2.2 let"></a>2.2 let</h4><p>â€‹    <code>let</code>ã€<code>const</code>éƒ½å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œä¼šä¸<code>&#123; &#125;</code>å½¢æˆä¸€ä¸ªä½œç”¨åŸŸï¼Œå—çº§ä½œç”¨åŸŸä¸å…¨å±€ã€å‡½æ•°ä½œç”¨åŸŸä¸€æ ·ï¼šåœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡ï¼Œèƒ½å¤Ÿè¢«å­çº§ä½œç”¨åŸŸè®¿é—®ï¼Œä½†å­çº§ä½œç”¨åŸŸä¸­çš„å˜é‡ä¸èƒ½å¤Ÿè¢«çˆ¶çº§è®¿é—®ã€‚</p>
<p>â€‹    ä½†<code>let</code>ã€<code>const</code>å½¢æˆçš„å—çº§ä½œç”¨åŸŸæ‰€å®šä¹‰çš„å˜é‡ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€, å¹¶ä¸”<code>let</code>ã€<code>const</code>å®šä¹‰çš„å˜é‡å…¨å±€ä¸ä¼šæ·»åŠ åˆ°<code>window</code>ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">        let as &#x3D; &quot;ashun&quot;;</span><br><span class="line">        &#123;</span><br><span class="line">          console.log(as);&#x2F;&#x2F;ashun</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(as);&#x2F;&#x2F;Uncaught ReferenceError: as is not defined</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€å±‚éƒ½æ˜¯ç‹¬ç«‹ä½œç”¨åŸŸï¼Œé‡Œå±‚ä½œç”¨åŸŸå¯ä»¥å£°æ˜å¤–å±‚ä½œç”¨åŸŸåŒåå˜é‡ï¼Œä½†ä¸ä¼šæ”¹å˜å¤–å±‚å˜é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function run() &#123;</span><br><span class="line">        let as &#x3D; &quot;Ashuntefannao&quot;;</span><br><span class="line">        if (true) &#123;</span><br><span class="line">          let as &#x3D; &quot;Ashun&quot;;</span><br><span class="line">          console.log(as); &#x2F;&#x2F;Ashun</span><br><span class="line">        &#125;</span><br><span class="line">        console.log(as); &#x2F;&#x2F;Ashuntefannao</span><br><span class="line">&#125;</span><br><span class="line">run();</span><br></pre></td></tr></table></figure>



<p>â€“varä¸å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œä½¿ç”¨ <code>var</code> å£°æ˜çš„å˜é‡å­˜åœ¨äºæœ€è¿‘çš„å‡½æ•°æˆ–å…¨å±€ä½œç”¨åŸŸä¸­ã€‚</p>
<p>æ²¡æœ‰å—ä½œç”¨åŸŸå¾ˆå®¹æ˜“æ±¡æŸ“å…¨å±€ï¼Œä¸‹é¢å‡½æ•°ä¸­çš„å˜é‡æ±¡æŸ“äº†å…¨å±€ç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function run() &#123;</span><br><span class="line">    web &#x3D; &quot;ashun&quot;;</span><br><span class="line">&#125;</span><br><span class="line">run();</span><br><span class="line">console.log(web); &#x2F;&#x2F;ashun</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸Šé¢ç¤ºä¾‹çš„ä»£ç ä¸­ï¼Œwebå˜é‡æ²¡æœ‰ä½¿ç”¨varå£°æ˜ï¼Œå¦‚æœä½¿ç”¨varå£°æ˜ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<p>ä½¿ç”¨varå£°æ˜æŠ¥é”™çš„åŸå› :</p>
<p>â€‹    å¦‚æœä½¿ç”¨varå£°æ˜äº†webå˜é‡ï¼Œè¯æ˜webå˜é‡å±äºrunå‡½æ•°çš„ä½œç”¨åŸŸã€‚æ‰€ä»¥å¤–éƒ¨ä½œç”¨åŸŸä¸èƒ½è®¿é—®è¯¥å˜é‡ã€‚</p>
<p>æ²¡æœ‰ä½¿ç”¨varå£°æ˜:</p>
<p>â€‹    è¯æ˜ä½¿ç”¨çš„æ˜¯å…¨å±€å˜é‡ï¼Œå˜é‡æå‡åœ¨å…¨å±€ä½œç”¨åŸŸï¼Œå› æ­¤åœ¨å‡½æ•°å¤–éƒ¨ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰èƒ½å¤Ÿè®¿é—®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var web;&#x2F;&#x2F;å˜é‡æå‡è¿‡ç¨‹</span><br><span class="line">function run() &#123;</span><br><span class="line">web &#x3D; &quot;ashun&quot;;</span><br><span class="line">&#125;</span><br><span class="line">run();</span><br><span class="line">console.log(web); &#x2F;&#x2F;ashun</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé—®é¢˜è™½ç„¶è¯´å‡ºæ¥å¾ˆç†æ‰€å½“ç„¶ï¼Œä½†æ˜¯åœ¨ä¸€å¼€å§‹å¯èƒ½å¾ˆéš¾getåˆ°è¿™ä¸ªç‚¹ã€‚</p>
<p>â€“æ²¡æœ‰å—ä½œç”¨ä½œç”¨åŸŸæ—¶<code>var</code>åœ¨<code>forå¾ªç¯</code>ä¸­ä¹Ÿä¼šæ±¡æŸ“å…¨å±€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">for (var i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">  console.log(i);</span><br><span class="line">&#125;</span><br><span class="line">console.log(i);	//10</span><br></pre></td></tr></table></figure>

<p>â€“<code>var</code> å…¨å±€å£°æ˜çš„å˜é‡ä¹Ÿå­˜åœ¨äº <code>window</code>å¯¹è±¡ä¸­</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">var as = &quot;ashun&quot;;</span><br><span class="line">console.log(window.as); //ashun</span><br></pre></td></tr></table></figure>

<p>â€“ä½¿ç”¨<code>letã€const</code>å…¨å±€å£°æ˜çš„å˜é‡ä¸ä¼šæ·»åŠ åˆ°<code>window</code>ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &quot;ashun&quot;;</span><br><span class="line">console.log(window.as); &#x2F;&#x2F;undefined</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="2-3-const"><a href="#2-3-const" class="headerlink" title="2.3 const"></a>2.3 const</h4><p>ä½¿ç”¨ <code>const</code> ç”¨æ¥å£°æ˜å¸¸é‡ï¼Œè¿™ä¸å…¶ä»–è¯­è¨€å·®åˆ«ä¸å¤§ï¼Œæ¯”å¦‚å¯ä»¥ç”¨æ¥å£°æ˜åå°æ¥å£çš„URIåœ°å€ã€‚</p>
<ul>
<li><p>å¸¸é‡åå»ºè®®å…¨éƒ¨å¤§å†™</p>
</li>
<li><p>constå¸¸é‡åªèƒ½å£°æ˜ä¸€æ¬¡</p>
</li>
<li><p>å£°æ˜æ—¶å¿…é¡»åŒæ—¶èµ‹å€¼</p>
</li>
<li><p>ä¸å…è®¸å†æ¬¡å…¨æ–°èµ‹å€¼</p>
</li>
<li><p>æ‹¥æœ‰å—ã€å‡½æ•°ã€å…¨å±€ä½œç”¨åŸŸ</p>
</li>
<li><p>å¯ä»¥ä¿®æ”¹<code>å¼•ç”¨ç±»å‹</code>å˜é‡çš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const INFO &#x3D; &#123;</span><br><span class="line">  url: &#39;https:&#x2F;&#x2F;www.ashuntefannao.com&#39;,</span><br><span class="line">  port: &#39;8080&#39;</span><br><span class="line">&#125;;</span><br><span class="line">INFO.port &#x3D; &#39;443&#39;;</span><br><span class="line">console.log(INFO); &#x2F;&#x2F;443</span><br></pre></td></tr></table></figure>

<h5 id="Object-freeze"><a href="#Object-freeze" class="headerlink" title="Object.freeze"></a><font color="yellowgreen">Object.freeze</font></h5><p>å¦‚æœå†»ç»“å˜é‡åï¼Œå˜é‡ä¹Ÿä¸å¯ä»¥ä¿®æ”¹äº†ï¼Œè‹¥ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼è¿˜ä¼šæŠ¥å‡ºé”™è¯¯ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const INFO = &#123;</span><br><span class="line">	url: &quot;https://www.ashun.com&quot;,</span><br><span class="line">	port: &quot;8080&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">Object.freeze(INFO);</span><br><span class="line">INFO.port = &quot;443&quot;; //Cannot assign to read only property</span><br><span class="line">console.log(INFO);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h4 id="2-4-é‡å¤å®šä¹‰"><a href="#2-4-é‡å¤å®šä¹‰" class="headerlink" title="2.4 é‡å¤å®šä¹‰"></a>2.4 é‡å¤å®šä¹‰</h4><ul>
<li>ä½¿ç”¨<code>var</code>å®šä¹‰å˜é‡ï¼Œå¯åœ¨<code>åŒä½œç”¨åŸŸ</code>ä¸‹å®šä¹‰åŒåå˜é‡è¿›è¡Œè¦†ç›–ã€‚</li>
<li>ä½¿ç”¨<code>letã€const</code>å®šä¹‰çš„å˜é‡ï¼Œä¸å¯åœ¨<code>åŒä½œç”¨åŸŸ</code>ä¸‹å®šä¹‰åŒåå˜é‡</li>
</ul>
<p>ä½¿ç”¨ var å¯èƒ½é€ æˆä¸å°å¿ƒå®šä¹‰äº†åŒåå˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//ä¼˜æƒ ä»·</span><br><span class="line">var price = 90;</span><br><span class="line">//å•†å“ä»·æ ¼</span><br><span class="line">var price = 100;</span><br><span class="line">console.log(`å•†å“ä¼˜æƒ ä»·æ ¼æ˜¯:$&#123;price&#125;`);//100</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>let</code> å¯ä»¥é¿å…ä¸Šé¢çš„é—®é¢˜ï¼Œå› ä¸ºletå£°æ˜åçš„å˜é‡ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸä¸­é‡æ–°å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let web = &#x27;astfn.github.io&#x27;;</span><br><span class="line">let web = &#x27;é˜¿é¡º&#x27;; //Identifier &#x27;web&#x27; has already been declared</span><br></pre></td></tr></table></figure>

<p>ä¸åŒä½œç”¨åŸŸå¯ä»¥é‡æ–°å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let web = &quot;ashun.com&quot;;</span><br><span class="line">if (1) &#123;</span><br><span class="line">   let web = &quot;Ashun&quot;;</span><br><span class="line">   console.log(web);//Ashun</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ä¸‰ã€-ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸‰ã€-ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸‰ã€ ä¸¥æ ¼æ¨¡å¼"></a>ä¸‰ã€ ä¸¥æ ¼æ¨¡å¼</h3><p>â€‹    ä¸¥æ ¼æ¨¡å¼(â€œuse strictâ€)ï¼Œå¯ä»¥å®šä¹‰åœ¨scriptæ ‡ç­¾å¯¹é¡¶éƒ¨å®šä¹‰ï¼ˆèŒƒå›´ä¸ºè¯¥æ ‡ç­¾å¯¹å†…ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨å‡½æ•°ä½“é¡¶éƒ¨å®šä¹‰ï¼ˆèŒƒå›´ä¸ºè¯¥å‡½æ•°å†…éƒ¨ï¼‰ã€‚</p>
<p>â€‹    ä¸¥æ ¼æ¨¡å¼çš„ä½¿ç”¨ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ çš„è§„èŒƒï¼Œæ‰€ä»¥å¼ºåŠ›æ¨èä½¿ç”¨<code>&quot;use strict&quot;</code></p>
<h4 id="3-1-ä¸åŒç‚¹"><a href="#3-1-ä¸åŒç‚¹" class="headerlink" title="3.1 ä¸åŒç‚¹"></a>3.1 ä¸åŒç‚¹</h4><ul>
<li><p>å˜é‡å¿…é¡»<code>å…ˆå®šä¹‰åä½¿ç”¨</code></p>
</li>
<li><p>å‡½æ•°å½¢å‚åç§°ä¸èƒ½é‡å¤</p>
</li>
<li><p>å…³é”®è¯ä¸å…è®¸åšå˜é‡ä½¿ç”¨</p>
</li>
<li><p>å•ç‹¬ä¸ºå‡½æ•°è®¾ç½®ä¸¥æ ¼æ¨¡å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function strict()&#123;  </span><br><span class="line">  &quot;use strict&quot;;  </span><br><span class="line">  return &quot;ä¸¥æ ¼æ¨¡å¼&quot;;  </span><br><span class="line">&#125;  </span><br><span class="line">function notStrict() &#123;  </span><br><span class="line">  return &quot;æ­£å¸¸æ¨¡å¼&quot;;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†åœ¨å¤šæ–‡ä»¶åˆå¹¶æ—¶ï¼Œé˜²æ­¢å…¨å±€è®¾ç½®ä¸¥æ ¼æ¨¡å¼å¯¹å…¶ä»–æ²¡ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼æ–‡ä»¶çš„å½±å“ï¼Œå°†è„šæœ¬æ”¾åœ¨ä¸€ä¸ªæ‰§è¡Œå‡½æ•°ä¸­ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">(function () &#123;</span><br><span class="line">  &quot;use strict&quot;;</span><br><span class="line">  url = &#x27;ashun.com&#x27;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></li>
<li><p>è§£æ„å·®å¼‚</p>
<p>éä¸¥æ ¼æ¨¡å¼å¯ä»¥ä¸ä½¿ç”¨å£°æ˜æŒ‡ä»¤ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹å¿…é¡»ä½¿ç”¨å£°æ˜ã€‚æ‰€ä»¥å»ºè®®ä½¿ç”¨ let ç­‰å£°æ˜è¯­æ³•è¿›è¡Œå£°æ˜ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;name,url&#125; = &#123;name:&#x27;ashun&#x27;,url:&#x27;ashuntefannao.com&#x27;&#125;;</span><br><span class="line">console.log(name, url);	//ashun ashuntefannao.com</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">&#123;name,url&#125; &#x3D; &#123;name:&#39;ashun&#39;,url:&#39;ashuntefannao.com&#39;&#125;;</span><br><span class="line">console.log(name, url); &#x2F;&#x2F;Uncaught ReferenceError: age is not defined</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const &#123;name,url&#125; &#x3D; &#123;name:&#39;ashun&#39;,url:&#39;ashuntefannao.com&#39;&#125;;</span><br><span class="line">console.log(name, url);	&#x2F;&#x2F;ashun ashuntefannao.com</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="å››ã€è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶"><a href="#å››ã€è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶" class="headerlink" title="å››ã€è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶"></a>å››ã€è¿ç®—ç¬¦ä¸æµç¨‹æ§åˆ¶</h3><p>â€‹    åœ¨JavaScriptä¸­ï¼Œä¸å…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œéƒ½å…·æœ‰å¸¸ç”¨çš„è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶è¯­æ³•ã€‚è¿™é‡Œä¸å†å¯¹å…¶è¿›è¡Œèµ˜è¿°ï¼Œåªå¯¹æ¯”è¾ƒç‰¹æ®Šçš„è¿ç®—ç¬¦ã€æµç¨‹æ§åˆ¶è¯­æ³•è¿›è¡Œè¯¦ç»†çš„è§£é‡Šã€‚</p>
<h4 id="4-1-è¿ç®—ç¬¦"><a href="#4-1-è¿ç®—ç¬¦" class="headerlink" title="4.1 è¿ç®—ç¬¦"></a>4.1 è¿ç®—ç¬¦</h4><ul>
<li>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰</li>
<li>ç®—æ•°è¿ç®—ç¬¦ï¼ˆ+ã€-ã€*ã€/ã€%ï¼‰</li>
<li>å¤åˆè¿ç®—ç¬¦ï¼ˆ+=ã€-=ã€*=ã€/=ã€%=ï¼‰</li>
<li>ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆ++ã€â€“ï¼‰</li>
<li>æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ&gt;ã€&gt;=ã€&lt;ã€&lt;=ã€==ã€===ï¼‰</li>
<li>é€»è¾‘è¿ç®—ç¬¦ï¼ˆ&amp;&amp;ã€||ã€ï¼ï¼‰</li>
</ul>
<h4 id="4-2-æµç¨‹æ§åˆ¶"><a href="#4-2-æµç¨‹æ§åˆ¶" class="headerlink" title="4.2 æµç¨‹æ§åˆ¶"></a>4.2 æµç¨‹æ§åˆ¶</h4><ul>
<li><p>ifã€elseã€else if</p>
</li>
<li><p>switch</p>
</li>
<li><p>while</p>
</li>
<li><p>do/while</p>
</li>
<li><p>for</p>
</li>
<li><p>break/continue</p>
</li>
<li><p>ä¸‰å…ƒè¡¨è¾¾å¼</p>
</li>
<li><p>for/in</p>
<p>for/inå¾ªç¯èƒ½å¤Ÿéå†Arrayï¼ŒObjectçš„<code>key</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [&quot;A&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;];</span><br><span class="line">for (let i in arr) &#123;</span><br><span class="line">	 console.log(i);		&#x2F;&#x2F;0~4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; baseURL: &quot;http:&#x2F;&#x2F;ashuntefannao.com&quot;, port: 8081 &#125;;</span><br><span class="line">for (let i in obj) &#123;</span><br><span class="line">	console.log(i);			&#x2F;&#x2F;baseURL port</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€“éå†windowå¯¹è±¡çš„æ‰€æœ‰å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (name in window) &#123;</span><br><span class="line">		console.log(window[name]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>for/of</p>
<p>for/of,èƒ½å¤Ÿéå†æ‰€æœ‰çš„<code>å¯è¿­ä»£</code>æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼šDomå…ƒç´ ã€Arrayã€Stringã€Setã€Mapã€‚</p>
<p><code>ä½†æ˜¯Objectã€WeakSetã€WeakMapæ˜¯ä¸å¯è¿­ä»£çš„ï¼Œå› æ­¤ä¹Ÿå°±ä¸èƒ½å¤Ÿä½¿ç”¨for/inè¿›è¡Œéå†</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 3];</span><br><span class="line">for (const iterator of arr) &#123;</span><br><span class="line">console.log(iterator);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str &#x3D; &#39;Ashun&#39;;</span><br><span class="line">for (const iterator of str) &#123;</span><br><span class="line">console.log(iterator);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>--ä½¿ç”¨è¿­ä»£ç‰¹æ€§éå†æ•°ç»„ï¼ŒåæœŸåœ¨è¿­ä»£å™¨éƒ¨åˆ†ä¼šè¯¦è§£ã€‚</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let site &#x3D; [&quot;ashun&quot;, &quot;Ashuntefannao&quot;];</span><br><span class="line">for (const [key, value] of site.entries()) &#123;</span><br><span class="line">	console.log(key, value);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;0 ashun 1 Ashuntefannao</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>for/of</code> ä¹Ÿå¯ä»¥ç”¨æ¥éå†DOMå…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	let lis = document.querySelectorAll(&quot;li&quot;);</span><br><span class="line">	for (const li of lis) &#123;</span><br><span class="line">		li.addEventListener(&quot;click&quot;, function() &#123;</span><br><span class="line">		this.style.backgroundColor = &quot;red&quot;;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>lable</p>
<p>æ ‡ç­¾(label) ä¸ºç¨‹åºå®šä¹‰ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨<code>continue/break</code>è·³åˆ°è¯¥ä½ç½®ã€‚</p>
<p>ä¸‹é¢å–<code>i+n</code> å¤§äº15æ—¶é€€å‡ºå¾ªç¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ashuntefan: for (let i &#x3D; 1; i &lt;&#x3D; 10; i++) &#123;</span><br><span class="line">ashun: for (let n &#x3D; 1; n &lt;&#x3D; 10; n++) &#123;</span><br><span class="line">	if (n % 2 !&#x3D; 0) &#123;</span><br><span class="line">		continue ashun;</span><br><span class="line">	&#125;</span><br><span class="line">	console.log(i, n);</span><br><span class="line">	if (i + n &gt; 15) &#123;</span><br><span class="line">		break ashuntefan;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ç½‘ç»œè¯·æ±‚</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<h2 id="ç½‘ç»œè¯·æ±‚"><a href="#ç½‘ç»œè¯·æ±‚" class="headerlink" title="ç½‘ç»œè¯·æ±‚"></a>ç½‘ç»œè¯·æ±‚</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>æµè§ˆå™¨å¤©ç”Ÿå…·å‘é€HTTPè¯·æ±‚çš„èƒ½åŠ›ï¼Œæ¯”å¦‚åœ¨åœ¨å€æ è¾“å…¥å†…å®¹ï¼Œæäº¤FORMè¡¨å•ç­‰ã€‚æœ¬ç« æ¥å­¦ä¹ é€šè¿‡JSç¨‹åºæ¥ç®¡ç†HTTPè¯·æ±‚çš„èƒ½åŠ›ã€‚</p>
<h4 id="å±€éƒ¨æ›´æ–°"><a href="#å±€éƒ¨æ›´æ–°" class="headerlink" title="å±€éƒ¨æ›´æ–°"></a>å±€éƒ¨æ›´æ–°</h4><p>æœ€ä¼ ç»Ÿçš„ç½‘ç»œè¯·æ±‚æ˜¯é€šè¿‡æäº¤è¡¨å•è¿›è¡Œçš„ï¼Œè¡¨å•çš„æäº¤ã€åœ°å€æ è¾“å…¥å†…å®¹ï¼Œéƒ½ä¼šå¯¼è‡´ç•Œé¢çš„å…¨éƒ¨åˆ·æ–°ã€‚</p>
<p>è€Œä½¿ç”¨JSè„šæœ¬å‘é€HTTPè¯·æ±‚ï¼Œ**<code>ä¸ä¼šå¸¦æ¥é¡µé¢çš„åˆ·æ–°</code>**ï¼Œæˆ‘ä»¬å¯ä»¥å‘åå°è¯·æ±‚æ•°æ®ï¼Œæ‹¿åˆ°æ•°æ®åæ¸²æŸ“åˆ°ç•Œé¢ä¸Šï¼Œä¼šæœ‰é¡µé¢å±€éƒ¨æ›´æ–°çš„æ•ˆæœï¼Œæ‰€ä»¥ç”¨æˆ·ä½“éªŒéå¸¸å¥½ã€‚</p>
<h4 id="è¯·æ±‚æ–¹å¼"><a href="#è¯·æ±‚æ–¹å¼" class="headerlink" title="è¯·æ±‚æ–¹å¼"></a>è¯·æ±‚æ–¹å¼</h4><p>è¯·æ±‚æ–¹å¼æœ‰å¾ˆå¤šï¼Œä¸€èˆ¬ä½¿ç”¨ä»¥ä¸‹4ç§</p>
<ol>
<li><p>GET</p>
<blockquote>
<p>è¯¥æ–¹å¼ä¸€èˆ¬åº”ç”¨äº å•çº¯è·å–æ•°æ® çš„ä¸šåŠ¡ï¼Œè¯·æ±‚å‚æ•°åŒ…å«åœ¨URLå†…</p>
</blockquote>
</li>
<li><p>POST</p>
<blockquote>
<p>è¯¥æ–¹å¼ä¸€èˆ¬åº”ç”¨äº å‘æœåŠ¡å™¨æäº¤æ•°æ® ï¼Œè¯·æ±‚å‚æ•°ç½®äºè¯·æ±‚ä½“å½“ä¸­</p>
</blockquote>
</li>
<li><p>PUT</p>
<blockquote>
<p>è¯¥æ–¹å¼ä¸€èˆ¬åº”ç”¨äº æ›´æ”¹æœåŠ¡å™¨æ•°æ® çš„ä¸šåŠ¡</p>
</blockquote>
</li>
<li><p>DELETE</p>
<blockquote>
<p>è¯¥æ–¹å¼ä¸€èˆ¬åº”ç”¨äº åˆ é™¤æœåŠ¡å™¨æ•°æ® çš„ä¸šåŠ¡</p>
</blockquote>
</li>
</ol>
<hr>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><h4 id="æ–¹æ³•ä»‹ç»"><a href="#æ–¹æ³•ä»‹ç»" class="headerlink" title="æ–¹æ³•ä»‹ç»"></a>æ–¹æ³•ä»‹ç»</h4><h5 id="open"><a href="#open" class="headerlink" title="open"></a>open</h5><p><code>open()</code>ç”¨äºåˆ›å»ºè¯·æ±‚ï¼ˆå•çº¯åˆ›å»ºï¼Œå¹¶ä¸å‘é€ï¼‰</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœ<code>open()</code>çš„<code>method</code>ä¸º<code>GET</code>ï¼Œåˆ™<code>url</code>éœ€è¦è‡ªå¸¦å‚æ•°ã€‚</p>
<ul>
<li>getè¯·æ±‚å°±æ˜¯é€šè¿‡urlè¿›è¡Œçš„</li>
<li>å‚æ•°æ ¼å¼<code>key=val</code>å¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨<code>&amp;</code>éš”å¼€</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>method</td>
<td>è¯·æ±‚æ–¹å¼</td>
</tr>
<tr>
<td>url</td>
<td>è¯·æ±‚åœ°å€</td>
</tr>
<tr>
<td>async</td>
<td>æ˜¯å¦å¼‚æ­¥(é»˜è®¤ä¸ºtrue)</td>
</tr>
</tbody></table>
<h5 id="send"><a href="#send" class="headerlink" title="send"></a>send</h5><p><code>send(body)</code>ç”¨äºå‘é€è¯·æ±‚</p>
<ul>
<li>è‹¥è¯·æ±‚æ–¹å¼ä¸º<code>GET</code>ï¼Œåˆ™ä¸ç”¨ä¸ºå…¶ä¼ é€’å‚æ•°(getè¯·æ±‚åœ¨urlä¸­ä¼ å‚)ã€‚</li>
<li>è‹¥è¯·æ±‚æ–¹å¼ä¸º<code>POST</code>,åˆ™è¦æŠŠå‚æ•°ä¼ é€’åˆ°<code>send(body)</code>ä¸­</li>
</ul>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>body</td>
<td>è¯·æ±‚ä½“(è¦å‘é€çš„æ•°æ®)ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">xhr.open(&quot;GET&quot;, &quot;http:&#x2F;&#x2F;127.0.0.1:5500&#x2F;test?name&#x3D;Ashun&quot;);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application&#x2F;json&quot;);</span><br><span class="line">xhr.open(&quot;POST&quot;, &quot;http:&#x2F;&#x2F;127.0.0.1:5500&#x2F;test&quot;);</span><br><span class="line">let body&#x3D;&#123; name: &quot;Ashun&quot; &#125;;</span><br><span class="line">xhr.send(body);</span><br></pre></td></tr></table></figure>



<h5 id="setRequestHeader"><a href="#setRequestHeader" class="headerlink" title="setRequestHeader"></a>setRequestHeader</h5><p>ç”¨äºè®¾ç½®è¯·æ±‚å¤´ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šæŒ‡å®šç¼–ç æ–¹å¼ã€‚</p>
<ul>
<li>è¯·æ±‚æ–¹å¼ä¸º<code>POST</code>ï¼Œéœ€è¦è®¾ç½®è¯·æ±‚å¤´çš„ç¼–ç æ–¹å¼ï¼Œ<code>GET</code>ä¸ç”¨è®¾ç½®ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>header</td>
<td>è¯·æ±‚å¤´çš„keyï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</td>
</tr>
<tr>
<td>vlaue</td>
<td>è¯·æ±‚å¤´çš„valueï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</td>
</tr>
</tbody></table>
<ul>
<li><p>å½“ä¼ é€’çš„å‚æ•°ä¸ºformè¡¨å•å½¢å¼çš„æ•°æ®ï¼Œåˆ™éœ€è¦è®¾ç½®<code>Content-type:application/x-www-form-urlencoded</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">xhr.open(&quot;post&quot;, &quot;http:&#x2F;&#x2F;127.0.0.1:5500&#x2F;test&quot;);</span><br><span class="line">xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application&#x2F;x-www-form-urlencoded&quot;);</span><br><span class="line">xhr.send(&quot;name&#x3D;Ashun&quot;);</span><br></pre></td></tr></table></figure></li>
<li><p>è‹¥ä¼ é€’çš„å‚æ•°ä¸ºjsonå­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦è®¾ç½®<code>Content-type:application/json</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">xhr.open(&quot;post&quot;, &quot;http:&#x2F;&#x2F;127.0.0.1:5500&#x2F;test&quot;);</span><br><span class="line">xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application&#x2F;json&quot;);</span><br><span class="line">xhr.send(JSON.stringify(&#123; name: &quot;Ashun&quot; &#125;));</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="getAllResponseHeaders"><a href="#getAllResponseHeaders" class="headerlink" title="getAllResponseHeaders"></a>getAllResponseHeaders</h5><p>ç”¨äºè·å–å“åº”å¤´ï¼Œè¿”å›æ‰€æœ‰çš„å“åº”å¤´æ•°æ®ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ã€‚</p>
<h5 id="getResponseHeader"><a href="#getResponseHeader" class="headerlink" title="getResponseHeader"></a>getResponseHeader</h5><p>è·å–å“åº”å¤´ä¸­æŒ‡å®š<code>header</code>çš„å€¼ï¼Œè¿”å›è¯¥å“åº”å¤´çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>header</td>
<td>å“åº”å¤´çš„keyï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</td>
</tr>
</tbody></table>
<h5 id="abort"><a href="#abort" class="headerlink" title="abort"></a>abort</h5><p>ç»ˆæ­¢è¯·æ±‚ã€‚</p>
<hr>
<h4 id="å±æ€§ä»‹ç»"><a href="#å±æ€§ä»‹ç»" class="headerlink" title="å±æ€§ä»‹ç»"></a>å±æ€§ä»‹ç»</h4><h5 id="status"><a href="#status" class="headerlink" title="status"></a>status</h5><p><code>HTTP</code>çŠ¶æ€ç ï¼Œå¦‚<code>200/404</code>ç­‰ç­‰ã€‚</p>
<h5 id="statusText"><a href="#statusText" class="headerlink" title="statusText"></a>statusText</h5><p><code>HTTP</code>çŠ¶æ€æ–‡æœ¬ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œä¸çŠ¶æ€ç å¯¹åº”å¦‚ï¼šOKã€NotFoundâ€¦</p>
<table>
<thead>
<tr>
<th align="center">status</th>
<th align="center">statusText</th>
</tr>
</thead>
<tbody><tr>
<td align="center">200</td>
<td align="center">OK</td>
</tr>
<tr>
<td align="center">404</td>
<td align="center">NotFound</td>
</tr>
</tbody></table>
<h5 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h5><p><code>xhr</code>çŠ¶æ€ç ï¼Œä½¿ç”¨<code>XmlHttpRequest</code>æ—¶å…±æœ‰5ç§çŠ¶æ€ã€‚</p>
<table>
<thead>
<tr>
<th>çŠ¶æ€å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>æœªåˆå§‹åŒ–ï¼Œå°šæœªè°ƒç”¨open()æ–¹æ³•</td>
</tr>
<tr>
<td>1</td>
<td>åˆå§‹åŒ–ï¼Œè°ƒç”¨äº†open()æ–¹æ³•ï¼Œæœªè°ƒç”¨send()æ–¹æ³•</td>
</tr>
<tr>
<td>2</td>
<td>å‘é€ï¼Œå·²ç»è°ƒç”¨äº†send()æ–¹æ³•ï¼Œæœªæ¥æ”¶åˆ°å“åº”</td>
</tr>
<tr>
<td>3</td>
<td>æ¥æ”¶ï¼Œå·²ç»æ¥æ”¶åˆ°éƒ¨åˆ†å“åº”æ•°æ®</td>
</tr>
<tr>
<td>4</td>
<td>å®Œæˆï¼Œå·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”æ•°æ®</td>
</tr>
</tbody></table>
<h5 id="responseText"><a href="#responseText" class="headerlink" title="responseText"></a>responseText</h5><p>è¿™æ˜¯æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</p>
<hr>
<h4 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h4><p>ä»¥ä¸‹å›è°ƒå‡½æ•°éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é…ç½®ï¼Œå½“è¾¾åˆ°å¯¹åº”çš„çŠ¶æ€åè‡ªåŠ¨å›è°ƒ</p>
<h5 id="onload"><a href="#onload" class="headerlink" title="onload"></a>onload</h5><p>å½“è¯·æ±‚å®Œæ¯•åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xhr.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  console.log(xhr.getAllResponseHeaders());</span><br><span class="line">  console.log(xhr.responseText);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="onerror"><a href="#onerror" class="headerlink" title="onerror"></a>onerror</h5><p>å½“è¯·æ±‚äº§ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xhr.onerror &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  console.log(xhr.status);</span><br><span class="line">  console.log(&quot;è¯·æ±‚å¤±è´¥&quot;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h5 id="onreadystatechange"><a href="#onreadystatechange" class="headerlink" title="onreadystatechange"></a>onreadystatechange</h5><p>å½“xhrçŠ¶æ€ç æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨å›è°ƒã€‚ å¯ä»¥ç»“åˆxhrã€HTTPçŠ¶æ€ç ï¼Œå¯¹è¯·æ±‚æ˜¯å¦æˆåŠŸåšå‡ºåˆ¤æ–­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">xhr.onreadystatechange &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F;è¯·æ±‚ç»“æŸï¼Œå¹¶ä¸”æˆåŠŸ</span><br><span class="line">  if (xhr.readyState &#x3D;&#x3D; 4 &amp;&amp; xhr.status &#x3D;&#x3D;&#x3D; 200) &#123; </span><br><span class="line">    console.log(xhr.responseText);</span><br><span class="line">  &#125; else if (xhr.status &#x3D;&#x3D; 404) &#123;</span><br><span class="line">    console.log(&quot;è¯·æ±‚å¤±è´¥&quot;);</span><br><span class="line">  &#125;	else if(xhr.status &#x3D;&#x3D; 500)&#123;</span><br><span class="line">    console.log(&quot;æœåŠ¡å™¨å†…éƒ¨é”™è¯¯&quot;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="FormData"><a href="#FormData" class="headerlink" title="FormData"></a>FormData</h4><p><code>FormData</code>æ˜¯JavaScriptçš„ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œå½“æ»¡è¶³ä»¥ä¸‹ä½¿ç”¨æ¡ä»¶æ—¶ï¼Œä¼šä½¿è¯·æ±‚å˜å¾—æ›´åŠ ç®€ä¾¿</p>
<ul>
<li>ä½¿ç”¨è¡¨å•<code>form</code>å‘é€è¯·æ±‚</li>
<li>è¯·æ±‚æ–¹å¼ä¸º<code>POST</code></li>
</ul>
<p><strong>ä½¿ç”¨æ­¥éª¤</strong></p>
<ol>
<li>å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¹¶ä¼ å…¥è¡¨å•Dom<code>let formdata=new FormData(formDom)</code></li>
<li>å°†å…¶ç½®äºè¯·æ±‚ä½“ä¸­<code>xhr.send(formdata)</code></li>
</ol>
<p>FormDataå¯¹è±¡ï¼Œä¼šè‡ªåŠ¨å°†ä¼ å…¥çš„è¡¨å•Domä¸­çš„æ•°æ®ï¼Œè½¬åŒ–ä¸ºæ­£ç¡®çš„å½¢å¼ï¼ˆ<code>key=val</code>å¤šä¸ªå‚æ•°ä½¿ç”¨<code>&amp;</code>éš”å¼€ï¼‰ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨æ­¥éª¤å¯çŸ¥ï¼Œä½¿ç”¨FormDataè¯·æ±‚çš„æ–¹å¼å¿…é¡»ä¸º<code>POST</code>(è¯·æ±‚å‚æ•°ç½®äºè¯·æ±‚ä½“å½“ä¸­)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot; &#x2F;&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot; &#x2F;&gt;</span><br><span class="line">      &lt;button type&#x3D;&quot;button&quot;&gt;Login&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let formDom &#x3D; document.querySelector(&quot;form&quot;);</span><br><span class="line">      let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">      let btn &#x3D; document.querySelector(&quot;button&quot;);</span><br><span class="line">      btn.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;å¦‚æœè¯·æ±‚çš„æ˜¯åŒæºæœåŠ¡å™¨ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥æ‰åè®®ã€åŸŸåã€ç«¯å£</span><br><span class="line">        xhr.open(&quot;post&quot;, &quot;&#x2F;formdata0&quot;);</span><br><span class="line">        let formdata &#x3D; new FormData(formDom);</span><br><span class="line">        xhr.send(formdata);</span><br><span class="line">        xhr.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">          xhr.status &#x3D;&#x3D; 200 &amp;&amp; console.log(xhr.responseText);</span><br><span class="line">        &#125;;</span><br><span class="line">        xhr.onerror &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">          console.log(xhr.status);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¸ä½¿ç”¨FormDataï¼Œåˆ™æˆ‘ä»¬éœ€è¦åšæ›´å¤šçš„æ“ä½œ</p>
<ul>
<li>æ”¶é›†è¡¨å•å…ƒç´ çš„æ•°æ®ï¼Œå¹¶ä»¥æ­£ç¡®æ ¼å¼æ‹¼æ¥ï¼ˆ<code>FormData</code>è‡ªåŠ¨æ”¶é›†ï¼‰</li>
<li>å‘é€è¯·æ±‚å‰ï¼Œéœ€è¦è®¾ç½®è¯·æ±‚å¤´ï¼ˆ<code>FormData</code>ä¸éœ€è¦ï¼‰</li>
</ul>
<hr>
<h4 id="è¯·æ±‚-è¿”å›ç±»å‹"><a href="#è¯·æ±‚-è¿”å›ç±»å‹" class="headerlink" title="è¯·æ±‚/è¿”å›ç±»å‹"></a>è¯·æ±‚/è¿”å›ç±»å‹</h4><p>é¡µé¢å‘æœåŠ¡å™¨æäº¤æ•°æ®ã€æœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨æ•°æ®ã€‚åœ¨è¿™ä¸¤ä¸ªè¿‡ç¨‹ä¸­ï¼Œè‹¥ä¼ é€’çš„æ˜¯<code>å¼•ç”¨ç±»å‹æ•°æ®</code>ï¼Œåˆ™æœ€ç»ˆéƒ½éœ€è¦è½¬åŒ–ä¸º<code>JSON String</code>ã€‚</p>
<p><strong>é¡µé¢å‘æœåŠ¡å™¨æäº¤æ•°æ®</strong></p>
<p>å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œè¯·æ±‚æ–¹å¼ä¸º<code>POST</code>ï¼Œè‹¥å‘é€çš„æ•°æ®ä¸ºå¼•ç”¨ç±»å‹ï¼Œéœ€è¦è®¾ç½®å“åº”å¤´ä¿¡æ¯<code>Content-Type:application/json</code>,ä¸”æ”¾å…¥è¯·æ±‚ä½“ä¸­çš„æ•°æ®å¿…é¡»æ˜¯JSONå­—ç¬¦ä¸²(<code>send(JSON.stringify(data))</code>)</p>
<p><strong>æœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨æ•°æ®</strong></p>
<p>æœåŠ¡å™¨å¯ä»¥ç›´æ¥è¿”å›é¡µé¢ å¼•ç”¨ç±»å‹ æ•°æ®ï¼Œä½†æ˜¯é¡µé¢æ¥æ”¶åˆ°çš„è¿˜æ˜¯<code>JSON String</code>ï¼Œéœ€è¦å°†æ•°æ®ååºåˆ—åŒ–å¾—åˆ°çœŸæ­£çš„æ•°æ®ã€‚</p>
<p>å‘é€è¯·æ±‚</p>
<ul>
<li>è‹¥ç›´æ¥æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„å¼•ç”¨ç±»å‹æ•°æ®ï¼Œåˆ™ä¸ºJSON String</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">xhr.open(&quot;post&quot;, &quot;&#x2F;test&quot;);</span><br><span class="line">xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application&#x2F;json&quot;);</span><br><span class="line">xhr.send(JSON.stringify(&#123; name: &quot;Ashun&quot; &#125;));</span><br><span class="line">xhr.onload &#x3D; function () &#123;</span><br><span class="line">  console.log(typeof xhr.responseText, xhr.responseText);</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F;ç»“æœï¼š string &#123; &quot;name&quot;: &quot;Ashun&quot; &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯ä»¥åˆ¤æ–­å“åº”å¤´ä¿¡æ¯ï¼Œè¿”å›å¯¹åº”çš„æ•°æ®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      xhr.onload &#x3D; function () &#123;</span><br><span class="line">        let isJson &#x3D; xhr</span><br><span class="line">          .getResponseHeader(&quot;Content-Type&quot;)</span><br><span class="line">          .includes(&quot;application&#x2F;json&quot;);</span><br><span class="line">        isJson</span><br><span class="line">          ? console.log(JSON.parse(xhr.responseText))</span><br><span class="line">          : console.log(xhr.responseText);</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>

<p>æœåŠ¡å™¨å“åº”</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.post(&quot;&#x2F;test&quot;, (req, res) &#x3D;&gt; &#123;</span><br><span class="line">  let postRes &#x3D; &quot;&quot;;</span><br><span class="line">  req.on(&quot;data&quot;, (chunk) &#x3D;&gt; &#123;</span><br><span class="line">    postRes +&#x3D; chunk;</span><br><span class="line">  &#125;);</span><br><span class="line">  req.on(&quot;end&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">    res.send(JSON.parse(postRes));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="ç®€å•å°è£…"><a href="#ç®€å•å°è£…" class="headerlink" title="ç®€å•å°è£…"></a>ç®€å•å°è£…</h3><p>â€‹    ä¸Šé¢æˆ‘ä»¬äº†è§£äº†<code>Ajax</code>çš„åŸºæœ¬ä½¿ç”¨ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ª<code>Ajax</code>è¯·æ±‚å¤„ç†å‡½æ•°ï¼Œè®©è¯·æ±‚æ›´åŠ çš„ç®€ä¾¿ã€‚</p>
<p><strong>éœ€æ±‚</strong></p>
<p>æ¯æ¬¡è¯·æ±‚çš„è¿‡ç¨‹ï¼Œéƒ½éœ€è¦ç»å†ä»¥ä¸‹æ­¥éª¤</p>
<ul>
<li>åˆ›å»ºxhrå¯¹è±¡</li>
<li>åˆå§‹åŒ–è¯·æ±‚</li>
<li>è®¾ç½®è¯·æ±‚å¤´(post)</li>
<li>å‘é€è¯·æ±‚</li>
<li>è¯·æ±‚å®Œæˆåçš„å¤„ç†</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°æ­¥éª¤æŠ½ç¦»å‡ºæ¥ï¼ŒæŠŠéœ€è¦æ”¹å˜çš„éƒ¨åˆ†æš´éœ²å‡ºå»ï¼Œè®©å¤–éƒ¨æ¥å†³å®šï¼Œå³ï¼šè¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ã€æ˜¯å¦è®¾ç½®è¯·æ±‚å¤´ã€ä¼ é€’çš„å‚æ•°ã€è¯·æ±‚å®Œæ¯•åçš„å…·ä½“æ“ä½œã€‚</p>
<p>è¿˜è¦æ ¹æ®æœåŠ¡å™¨è¿”å›ä¸åŒç±»å‹çš„ç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œæ­£ç¡®æäº¤ç»™å¤–éƒ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function ajax(preset) &#123;</span><br><span class="line">  let options &#x3D; Object.assign(</span><br><span class="line">    &#123;</span><br><span class="line">      type: &quot;get&quot;,</span><br><span class="line">      url: &quot;&quot;,</span><br><span class="line">      data: &#123;&#125;,</span><br><span class="line">      header: &#123;</span><br><span class="line">        [&quot;Content-Type&quot;]: &quot;application&#x2F;x-www-form-urlencoded&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      success: (result, xhr) &#x3D;&gt; console.log(result),</span><br><span class="line">      error: (xhr) &#x3D;&gt; console.log(xhr.status),</span><br><span class="line">    &#125;,</span><br><span class="line">    preset</span><br><span class="line">  );</span><br><span class="line">  &#x2F;&#x2F;æ•°æ®æ‹¼æ¥</span><br><span class="line">  let queryStr &#x3D; Object.entries(options.data)</span><br><span class="line">    .map(([key, val]) &#x3D;&gt; &#96;$&#123;key&#125;&#x3D;$&#123;val&#125;&#96;)</span><br><span class="line">    .join(&quot;&amp;&quot;);</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F;è¯·æ±‚å¤„ç†</span><br><span class="line">  const xhr &#x3D; new XMLHttpRequest();</span><br><span class="line">  if (options.type &#x3D;&#x3D; &quot;get&quot;) &#123;</span><br><span class="line">    xhr.open(options.type, &#96;$&#123;options.url&#125;?$&#123;queryStr&#125;&#96;);</span><br><span class="line">    xhr.send();</span><br><span class="line">  &#125;</span><br><span class="line">  if (options.type &#x3D;&#x3D; &quot;post&quot;) &#123;</span><br><span class="line">    xhr.open(options.type, options.url);</span><br><span class="line">    &#x2F;&#x2F;è®¾ç½®header</span><br><span class="line">    Object.entries(options.header).forEach(([prop, val]) &#x3D;&gt; &#123;</span><br><span class="line">      xhr.setRequestHeader(prop, val);</span><br><span class="line">    &#125;);</span><br><span class="line">    let contentType &#x3D; options.header[&quot;Content-Type&quot;];</span><br><span class="line">    &#x2F;&#x2F;æ ¹æ®è¯·æ±‚å¤´ä¿¡æ¯ï¼Œåˆ¤æ–­å‘é€æ•°æ®çš„å½¢å¼</span><br><span class="line">    contentType.includes(&quot;json&quot;)</span><br><span class="line">      ? xhr.send(JSON.stringify(options.data))</span><br><span class="line">      : xhr.send(queryStr);</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;æ ¹æ®å“åº”å¤´ä¿¡æ¯ï¼Œè¿”å›å¯¹åº”ç±»å‹çš„æ•°æ®</span><br><span class="line">    let isJson &#x3D; xhr.getResponseHeader(&quot;Content-Type&quot;).includes(&quot;json&quot;);</span><br><span class="line">    let result &#x3D; isJson ? JSON.parse(xhr.responseText) : xhr.responseText;</span><br><span class="line">    &#x2F;&#x2F;æ ¹æ®HTTPçŠ¶æ€ç ï¼Œæ‰§è¡Œä¸åŒçš„callback</span><br><span class="line">    xhr.status &#x3D;&#x3D; 200 ? options.success(result, xhr) : options.error(xhr);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å®ä¾‹æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ajax(&#123;</span><br><span class="line">  type: &quot;post&quot;,</span><br><span class="line">  url: &quot;test&quot;,</span><br><span class="line">  header: &#123;</span><br><span class="line">    [&quot;Content-Type&quot;]: &quot;application&#x2F;json&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    name: &quot;Ashun&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  success: (res, xhr) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(res, xhr.status);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="FETCH"><a href="#FETCH" class="headerlink" title="FETCH"></a>FETCH</h3><p><code>fetch(url,&#123;options&#125;)</code>æ˜¯JSå‡çº§åæä¾›çš„æ›´ç®€ä¾¿çš„ç½‘ç»œè¯·æ±‚çš„æ“ä½œæ–¹æ³•ï¼Œå†…éƒ¨ä½¿ç”¨Promiseæ¥å®Œæˆå¼‚æ­¥è¯·æ±‚ã€‚</p>
<ul>
<li>response.json()å¤„ç†ä¸ºJSONå¯¹è±¡ï¼Œå°†åå°è¿”å›çš„JSONå­—ç¬¦ä¸²å¤„ç†ä¸ºJSONå¯¹è±¡</li>
<li>response.text()å¤„ç†ä¸ºTEXTç±»å‹æ•°æ®</li>
<li>response.blog()å¤„ç†ä¸ºBlogäºŒè¿›åˆ¶æ•°æ®</li>
</ul>
<h4 id="è¯·ç¤ºæ­¥éª¤"><a href="#è¯·ç¤ºæ­¥éª¤" class="headerlink" title="è¯·ç¤ºæ­¥éª¤"></a>è¯·ç¤ºæ­¥éª¤</h4><p>ä½¿ç”¨fetchæ–¹æ³•å‘é€å¼‚æ­¥è¯·æ±‚éœ€è¦åˆ†ä»¥ä¸‹ä¸¤æ­¥æ“ä½œ</p>
<h5 id="å“åº”å¤´è§£æ"><a href="#å“åº”å¤´è§£æ" class="headerlink" title="å“åº”å¤´è§£æ"></a>å“åº”å¤´è§£æ</h5><p>ç¬¬ä¸€æ­¥å¯¹æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´è¿›è¡Œè§£æï¼Œä¼šæ¥åˆ°Responseç±»åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ï¼Œé‡Œé¢åŒ…å«ä»¥ä¸‹å±æ€§ã€‚</p>
<ul>
<li><code>status</code>:HTTPçŠ¶æ€ç </li>
<li><code>ok</code>:çŠ¶æ€ç ä¸º200-299 æ—¶ä¸ºtrueçš„å¸ƒå°”å€¼</li>
</ul>
<h5 id="å“åº”å†…å®¹è§£æ"><a href="#å“åº”å†…å®¹è§£æ" class="headerlink" title="å“åº”å†…å®¹è§£æ"></a>å“åº”å†…å®¹è§£æ</h5><p>ç¬¬äºŒæ­¥å¯¹è¿”å›çš„ ä¿å­˜åœ¨response.body ä¸­çš„å“åº”ç»“æœè¿›è¡Œè§£æï¼Œæ”¯æŒäº†ä»¥ä¸‹å‡ ç§æ–¹å¼å¯¹ç»“æœè¿›è¡Œè§£æï¼Œä¸”ä»¥ä¸‹æ–¹æ³•éƒ½é»˜è®¤è¿”å›Promise</p>
<ul>
<li>response.json()å¤„ç†ä¸ºJSONå¯¹è±¡ï¼Œå°†åå°è¿”å›çš„JSONå­—ç¬¦ä¸²å¤„ç†ä¸ºJSONå¯¹è±¡</li>
<li>response.text()å¤„ç†ä¸ºTEXTç±»å‹æ•°æ®</li>
<li>response.blog()å¤„ç†ä¸ºBlogäºŒè¿›åˆ¶æ•°æ®</li>
</ul>
<blockquote>
<p>ä»¥ä¸Šæ–¹æ³•ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œå› ä¸ºä½¿ç”¨ä¸€ä¸ªæ–¹æ³•åæ•°æ®å·²ç»è¢«å¤„ç†ï¼Œå…¶ä»–æ–¹æ³•å°±ä¸å¯ä»¥æ“ä½œäº†</p>
</blockquote>
<h4 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h4><p>ä¸‹é¢æ¥ä½“éªŒä½¿ç”¨fetchå‘é€è¯·æ±‚</p>
<p><strong>åå°æœåŠ¡</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.get(&quot;&#x2F;test&quot;, (req, res) &#x3D;&gt; &#123;</span><br><span class="line">  res.send(&#123; name: &quot;é˜¿é¡º&quot; &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>å‘é€è¯·æ±‚</strong></p>
<p>ä»¥ä¸‹ä¸ºå‘é€getè¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fetch(&quot;&#x2F;test&quot;).then((result) &#x3D;&gt; &#123;</span><br><span class="line">          return result.json();</span><br><span class="line">        &#125;)</span><br><span class="line">        .then((result) &#x3D;&gt; console.log(result))</span><br><span class="line">        .catch((err) &#x3D;&gt; console.log(err));</span><br></pre></td></tr></table></figure>



<h4 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h4><p>å‘é€POSTè¯·æ±‚éœ€è¦è®¾ç½®è¯·æ±‚å¤´Request header</p>
<p><strong>å‘é€è¯·æ±‚</strong></p>
<ul>
<li>å‘é€çš„JSONç±»å‹éœ€è¦è®¾ç½®è¯·æ±‚å¤´ä¸º <code>application/json;charset=utf-8</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function post() &#123;</span><br><span class="line">  let response = await fetch(&quot;/test&quot;, &#123;</span><br><span class="line">    method: &quot;post&quot;,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &quot;Content-Type&quot;: &quot;application/json;charset=utf-8&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    body: JSON.stringify(&#123; name: &quot;é˜¿é¡º&quot;, title: &quot;Ashuntefannao&quot; &#125;),</span><br><span class="line">  &#125;);</span><br><span class="line">  if (response.ok) &#123;</span><br><span class="line">    let result = await response.json();</span><br><span class="line">    console.log(result);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åå°å“åº”</strong></p>
<p>å°†æ•°æ®åŸæ ·è¿”å›</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">app.post(&quot;/test&quot;, (req, res) =&gt; &#123;</span><br><span class="line">  let postRes = &quot;&quot;;</span><br><span class="line">  req.on(&quot;data&quot;, (chunk) =&gt; &#123;</span><br><span class="line">    postRes += chunk;</span><br><span class="line">  &#125;);</span><br><span class="line">  req.on(&quot;end&quot;, () =&gt; &#123;</span><br><span class="line">    res.send(JSON.parse(postRes));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>transitionè¿‡æ¸¡åŠ¨ç”»</title>
    <url>/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/CSS/transition%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB/transition%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<h2 id="åŸºæœ¬äº†è§£"><a href="#åŸºæœ¬äº†è§£" class="headerlink" title="åŸºæœ¬äº†è§£"></a>åŸºæœ¬äº†è§£</h2><p>â€‹    cssä¸­å®ç°åŠ¨ç”»æœ‰ä¸¤ç§æ–¹å¼ï¼š<code>transition</code>è¿‡æ¸¡åŠ¨ç”»ã€ <code>animation</code>è‡ªå®šä¹‰åŠ¨ç”»ã€‚</p>
<p>â€‹    æœ¬æ–‡ä¸»è¦è®²è§£<code>transition</code>è¿‡æ¸¡åŠ¨ç”»çš„ä½¿ç”¨ï¼Œè‹¥è¦äº†è§£<code>animation</code>åŠ¨ç”»è¯·å‰å¾€<a href="##">animationè‡ªå®šä¹‰åŠ¨è¯</a>ã€‚</p>
<p>â€‹    åœ¨ä¸ä½¿ç”¨<code>transition</code>æ—¶ï¼Œè‹¥é€šè¿‡ç”¨æˆ·çš„äº¤äº’ç›´æ¥æ”¹å˜<code>cssæ ·å¼å±æ€§</code>ï¼Œå‘ˆç°çš„å½¢å¼æ˜¯ç«‹åˆ»è½¬å˜ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªå˜åŒ–æ˜¯æœ‰è¿‡æ¸¡æ•ˆæœçš„ï¼Œè¿™æ—¶å°±å¯åº”ç”¨<code>transition</code>è¿‡æ¸¡åŠ¨ç”»äº†ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥ç®€å•äº†è§£ä¸‹<code>transition</code>æ—å±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>transition-property</td>
<td>æŒ‡å®šä½¿ç”¨è¿‡æ¸¡æ•ˆæœçš„csså±æ€§</td>
</tr>
<tr>
<td>transition-duration</td>
<td>è®¾ç½®è¿‡æ¸¡åŠ¨ç”»æŒç»­æ—¶é—´</td>
</tr>
<tr>
<td>transition-timing-function</td>
<td>è®¾ç½®åŠ¨ç”»çš„æ—¶é—´å‡½æ•°ã€‚</td>
</tr>
<tr>
<td>transition-delay</td>
<td>è®¾ç½®åŠ¨ç”»çš„å»¶è¿Ÿæ—¶é—´</td>
</tr>
</tbody></table>
<p>ä¸‹é¢è¯¦ç»†ä»‹ç»å„ä¸ªå±æ€§ğŸ‘‡</p>
<h2 id="transition-property"><a href="#transition-property" class="headerlink" title="transition-property"></a>transition-property</h2><p><code>transition-property </code>: ç”¨äºæŒ‡å®šä½¿ç”¨è¿‡æ¸¡æ•ˆæœçš„csså±æ€§ï¼Œé»˜è®¤å€¼ä¸º<code>all</code>ã€‚</p>
<p>æ¡ˆä¾‹å±•ç¤ºï¼š</p>
<img src="transitionè¿‡æ¸¡åŠ¨ç”».assets/transition1.gif" alt="transition1" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    transition-property: all;</span><br><span class="line">    transition-duration: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  .box::after &#123;</span><br><span class="line">    content: &quot;â˜…&quot;;</span><br><span class="line">    color: rgba(255, 255, 255, 0.8);</span><br><span class="line">    width: inherit;</span><br><span class="line">    height: inherit;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    transition-duration: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  .box:hover &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">  &#125;</span><br><span class="line">  .box:hover::after &#123;</span><br><span class="line">    content: &quot;â™¥&quot;;</span><br><span class="line">    font-size: 100px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ä½¿åŠ¨ç”»æœ‰è¿‡æ¸¡æ•ˆæœï¼Œå¿…é¡»è®¾ç½®è¿‡æ¸¡æ—¶é—´ï¼Œè¿™ä¹Ÿæ˜¯è¿‡æ¸¡åŠ¨ç”»çš„åŸºæœ¬è¦ç´ ï¼Œæ‰€ä»¥ä¸Šè¿°å…·æœ‰åŠ¨ç”»çš„å…ƒç´ éƒ½è®¾ç½®äº†<code>transition-duration</code>ã€‚</p>
<h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><h4 id="transition-propertyçš„é»˜è®¤å€¼"><a href="#transition-propertyçš„é»˜è®¤å€¼" class="headerlink" title="transition-propertyçš„é»˜è®¤å€¼"></a>transition-propertyçš„é»˜è®¤å€¼</h4><p>â€‹    ä¸Šè¿°æ¡ˆä¾‹åœ¨è§¦å‘<code>hover</code>æ—¶,æˆ‘åªæ”¹å˜äº†æ–‡å­—å’Œå¤§å°ï¼Œå¯å®é™…æ•ˆæœå´å½±å“äº†æ–‡å­—çš„å¸ƒå±€ï¼ˆæ–‡å­—ç§»åŠ¨ï¼‰ï¼Œäº§ç”Ÿçš„åŸå› å°±æ˜¯å¿½ç•¥äº†<code>transition-property</code>çš„é»˜è®¤å€¼ã€‚</p>
<p>â€‹    æˆ‘ä»¬å·²ç»å¤šæ¬¡æåŠäº†transition-propertyçš„é»˜è®¤å€¼ï¼Œä¸Šè¿°ä»£ç ç»™<code>.box</code>çš„ä¼ªç±»<code>::after</code>åªæ·»åŠ äº†ä¸€ä¸ª<code>transition-duration</code>ï¼Œè€Œæ²¡æœ‰è®¾ç½®<code>transition-property</code>,æ‰€ä»¥ä¼šåº”ç”¨å…¶é»˜è®¤å€¼<code>all</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š<strong>æ‰€æœ‰èƒ½å¤Ÿè¢«transitionæ”¯æŒçš„å±æ€§éƒ½ä¼šæœ‰è¿‡æ¸¡æ•ˆæœ</strong>ã€‚</p>
<p>æˆ‘ä»¬æ¥å…·ä½“åˆ†æä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šäº§ç”Ÿå˜åŠ¨ï¼š</p>
<p>â€‹    <code>.box</code>ä¼ªç±»<code>::after</code>çš„å®½é«˜æ˜¯ç»§æ‰¿çˆ¶çº§çš„ï¼Œç”±äºåœ¨è§¦å‘<code>hover</code>æ—¶ï¼Œçˆ¶çº§å®½é«˜å‘ç”Ÿæ”¹å˜ï¼Œæ‰€ä»¥ä¼ªç±»å®½é«˜ä¹Ÿä¼šè·Ÿéšæ”¹å˜ï¼Œä»è€Œå½±å“äº†å¸ƒå±€ã€‚</p>
<p>â€‹    ä¸ºäº†æ›´æ¸…æ™°çš„çœ‹åˆ°åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¼ªç±»æ·»åŠ ä¸€ä¸ªèƒŒæ™¯</p>
<img src="transitionè¿‡æ¸¡åŠ¨ç”».assets/transition1.1.gif" alt="transition1.1" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box::after &#123;</span><br><span class="line">  â€¦â€¦</span><br><span class="line">  background-color: rgba(0, 0, 0, 0.3); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬åªæƒ³è®©æ–‡å­—å¤§å°äº§ç”Ÿè¿‡æ¸¡æ•ˆæœï¼Œåªéœ€è¦æ˜ç¡®æŒ‡å®š<code>transition-property:font-size</code>å³å¯ã€‚</p>
<h4 id="transitionä¸èƒ½æ”¯æŒçš„è¿‡æ¸¡"><a href="#transitionä¸èƒ½æ”¯æŒçš„è¿‡æ¸¡" class="headerlink" title="transitionä¸èƒ½æ”¯æŒçš„è¿‡æ¸¡"></a>transitionä¸èƒ½æ”¯æŒçš„è¿‡æ¸¡</h4><p>â€‹    ä¸Šè¿°åŠ¨ç”»ä¸­å¯å‘ç°ï¼Œæ–‡å­—å†…å®¹æ˜¯çªå˜çš„ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–transitionä¸æ”¯æŒè¿‡æ¸¡çš„é€‰é¡¹ï¼Œä¹Ÿéƒ½å¾ˆå¥½ç†è§£:</p>
<ul>
<li><code>z-index</code></li>
<li><code>display</code></li>
</ul>
<h2 id="transition-duration"><a href="#transition-duration" class="headerlink" title="transition-duration"></a>transition-duration</h2><p><code>transition-duration</code>å®šä¹‰åŠ¨ç”»çš„è¿‡æ¸¡æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º<code>0s</code>,ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸è®¾ç½®è¯¥å±æ€§ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰è¿‡æ¸¡æ•ˆæœçš„ã€‚</p>
<h2 id="transition-timing-function"><a href="#transition-timing-function" class="headerlink" title="transition-timing-function"></a>transition-timing-function</h2><p>å®šä¹‰åŠ¨ç”»äº‹ä»¶å‡½æ•°ï¼Œ<code>animation</code>æ—å±æ€§ä¸­ä¹Ÿæœ‰è¯¥å±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥æ”¹å˜åŠ¨ç”»çš„æ‰§è¡Œé€Ÿç‡ä»¥åŠè½¨è¿¹ã€‚</p>
<p>å…¶å€¼å¯¹åº”<code>animation-timing-function</code></p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">linear</td>
<td align="left">åŠ¨ç”»ä»å¤´åˆ°å°¾çš„é€Ÿåº¦æ˜¯ç›¸åŒçš„ã€‚</td>
</tr>
<tr>
<td align="left">easeï¼ˆç¼“è§£ï¼‰</td>
<td align="left">**<code>é»˜è®¤å€¼</code>**ï¼šåŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ï¼Œç„¶ååŠ å¿«ï¼Œåœ¨ç»“æŸå‰å˜æ…¢ã€‚</td>
</tr>
<tr>
<td align="left">ease-in</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ã€‚</td>
</tr>
<tr>
<td align="left">ease-out</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿç»“æŸã€‚</td>
</tr>
<tr>
<td align="left">ease-in-out</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹å’Œç»“æŸã€‚</td>
</tr>
<tr>
<td align="left">cubic-bezier(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td>
<td align="left">è´å¡å°”æ›²çº¿ï¼ˆè‡ªå®šä¹‰æ•°å€¼ï¼‰ï¼Œå¯åˆ°<a href="https://cubic-bezier.com/">ç›¸å…³ç½‘ç«™</a>å¯è§†åŒ–è®¾ç½®ã€‚</td>
</tr>
</tbody></table>
<p>æ¡ˆä¾‹å±•ç¤ºï¼š</p>
<img src="transitionè¿‡æ¸¡åŠ¨ç”».assets/transition2.gif" alt="transition2" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  transition-property: all;</span><br><span class="line">  transition-duration: 0.8s;</span><br><span class="line">  transition-timing-function: cubic-bezier(0.49, 1.59, 0.46, -0.21);</span><br><span class="line">&#125;</span><br><span class="line">.box:hover &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  transform: rotate(360deg);</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="transition-delay"><a href="#transition-delay" class="headerlink" title="transition-delay"></a>transition-delay</h2><p><code>transition-delay</code>ç”¨äºè®¾ç½®åŠ¨ç”»å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸º<code>s</code></p>
<p>ä¸‹ä¾‹åŠ¨ç”»ï¼šè§¦å‘<code>hover</code>äº<code>1s</code>åæ‰§è¡Œï¼Œ<strong>ç¦»å¼€å…ƒç´ åä¹Ÿä¼šå»¶æ—¶1så†è¿‡æ¸¡</strong></p>
<img src="transitionè¿‡æ¸¡åŠ¨ç”».assets/transition3.gif" alt="transition3" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  main &#123;</span><br><span class="line">    width: 300px;</span><br><span class="line">    min-height: 300px;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    transform: perspective(500px) rotateY(50deg);</span><br><span class="line">    transform-style: preserve-3d;</span><br><span class="line">    background-color: #ddd;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">  &#125;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    transition-property: all;</span><br><span class="line">    transition-duration: 0.8s;</span><br><span class="line">    transition-delay: 1s;</span><br><span class="line">    transform-origin: center;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  main:hover .box &#123;</span><br><span class="line">    width: 70px;</span><br><span class="line">    height: 70px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    transform: rotateY(90deg) translateZ(180px);</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">    &#x2F;* transition-delay: 0s; *&#x2F;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;p&gt;è·¨è¿‡è¿™å µå¢™&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>è‹¥æˆ‘ä»¬æƒ³è¦ç«‹å³è§¦å‘åŠ¨ç”»ï¼Œåªåœ¨æ¢å¤æ—¶å»¶è¿Ÿè¿‡æ¸¡ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬åªéœ€è¦åœ¨åŠ¨ç”»è§¦å‘æ—¶ï¼Œé‡æ–°è®¾ç½®<code>transition-delay: 0s </code>å³å¯ï¼ŒåŠ¨ç”»ä¸€æ—¦å‡ºå‘å°±ä¼šåº”ç”¨å¯¹åº”çš„æ ·å¼è¡¨ï¼Œè¿™æ—¶é‡ç½®å»¶æ—¶ä¸º<code>0s</code>ï¼ŒåŠ¨ç”»æ‰§è¡Œå®Œæ¯•ï¼Œæ¢å¤åŸæ¥æ ·å¼ï¼Œè€ŒåŸæ¥æ ·å¼è¡¨ä¸­<code>transition-delay: 1s</code>è®¾ç½®å»¶æ—¶ä¸º<code>1s</code>ï¼Œæ¢å¤æ—¶å°±ä¼šå»¶æ—¶1sã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦åœ¨åŸæœ‰ä»£ç åŸºç¡€ä¸Šæ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">main:hover .box &#123;</span><br><span class="line">	â€¦â€¦</span><br><span class="line">	transition-delay: 0s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä¹‹åæ•ˆæœï¼š</p>
<img src="transitionè¿‡æ¸¡åŠ¨ç”».assets/transition3.1.gif" alt="transition3.1" style="zoom:67%;" />

<p>å½“åŒæ—¶ä½¿ç”¨å¤šä¸ªåŠ¨ç”»æ—¶ï¼Œè¿™ä¸ªå±æ€§ä½¿ç”¨é¢‘ç‡éå¸¸é«˜ï¼Œå¯ä¾æ¬¡å®šä¹‰æ¯ä¸ªåŠ¨ç”»çš„å»¶è¿Ÿæ‰§è¡Œæ—¶é—´ï¼ŒåŒºåˆ†å¼€æ¯ä¸ªåŠ¨ç”»ã€‚</p>
<p>å½“ç„¶å…¶å®ä¹Ÿå¯åˆ†åˆ«è®¾ç½®æ¯ä¸ªåŠ¨ç”»çš„å…¶å®ƒtransitionæ—å±æ€§ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»å¤šåŠ¨ç”»ç´¯åŠ ã€‚</p>
<h2 id="å¤šå±æ€§ç´¯åŠ "><a href="#å¤šå±æ€§ç´¯åŠ " class="headerlink" title="å¤šå±æ€§ç´¯åŠ "></a>å¤šå±æ€§ç´¯åŠ </h2><p>â€‹    æˆ‘ä»¬çŸ¥é“ï¼Œå½“<code>transition-property</code>å±æ€§å€¼ä¸º<code>all</code>ï¼Œåˆ™æ‰€æœ‰transitionèƒ½å¤Ÿæ”¯æŒçš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œéƒ½ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœï¼Œä½†èƒ½ä¸èƒ½å¯¹æ¯ä¸ªå±æ€§çš„è¿‡æ¸¡åˆ†åˆ«è¿›è¡Œè®¾ç½®å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å½“ç„¶å¯ä»¥ï¼Œä¹‹å‰ä»‹ç»çš„transitionæ—å±æ€§éƒ½å¯ä»¥è®¾ç½®å¤šä¸ªå€¼ï¼Œå„ä¸ªå€¼ä¹‹é—´ä½¿ç”¨<code>,</code>éš”å¼€ï¼Œä»è€Œåˆ†åˆ«è®¾ç½®å„ä¸ªå±æ€§çš„è¿‡æ¸¡æ•ˆæœã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå…¶å®ƒtransitionæ—å±æ€§åœ¨è®¾ç½®å¤šä¸ªå€¼æ—¶ï¼Œè¦ä¸<code>transition-property</code>å®šä¹‰çš„å„ä¸ªå±æ€§å¯¹åº”èµ·æ¥ï¼Œæ‰èƒ½å‡†ç¡®å¯¹ç›®æ ‡å±æ€§å®šåˆ¶è¿‡æ¸¡æ•ˆæœã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transition-property: width, heitht, color ;</span><br><span class="line">trnasition-duration: 1s, 1.5s, 2s ;</span><br><span class="line">transition-timing-function: ease, linear, ease-in-out ;</span><br><span class="line">transition-delay: 0s, 1s, 0s ;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œä¹Ÿå¯ä½¿ç”¨<code>transitionç»¼åˆå±æ€§</code>:</p>
<p>å®šä¹‰é¡ºåºåˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>transition-property</li>
<li>transition-duration</li>
<li>transition-timing-function</li>
<li>transition-delay</li>
</ul>
<p>ä¸‹é¢ä»£ç ä¸ä¸Šä¾‹æ•ˆæœç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transition: width 1s ease ,heitht 1.5s linear 1s, color 2s ease-in-out ;</span><br></pre></td></tr></table></figure>



<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>CSS</category>
        <category>transitionè¿‡æ¸¡åŠ¨ç”»</category>
      </categories>
  </entry>
  <entry>
    <title>transformå˜å½¢</title>
    <url>/2021/05/08/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/CSS/transform%E5%8F%98%E5%BD%A2/transform%E5%8F%98%E5%BD%A2/</url>
    <content><![CDATA[<h2 id="åŸºæ“"><a href="#åŸºæ“" class="headerlink" title="åŸºæ“"></a>åŸºæ“</h2><p>â€‹    å¦‚æœè¯´CSS3çš„çµé­‚åœ¨äºç¾å¦™çš„åŠ¨ç”»ï¼Œé‚£åœ¨å®ç°ç‚«é…·åŠ¨ç”»è¿‡ç¨‹ä¸­ï¼Œå°±ä¸€å®šå°‘ä¸äº†<code>transform</code>å˜å½¢ï¼Œåœ¨<code>transform</code>ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰æ•ˆæœï¼ŒåŒæ—¶transformä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›æ—å±æ€§ï¼Œæ¥åº”å¯¹ä¸åŒçš„åœºæ™¯ï¼Œåªè¦ä½ æ•¢æƒ³å°±èƒ½è®¾è®¡å‡ºä¸åŒçš„åŠ¨æ•ˆã€‚</p>
<h3 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h3><p>transformçš„å±æ€§å¦‚ä¸‹ï¼š</p>
<h4 id="translateï¼š"><a href="#translateï¼š" class="headerlink" title="translateï¼š"></a>translateï¼š</h4><table>
<thead>
<tr>
<th>translateç›¸å…³</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>translate(x,y)</td>
<td>å¯åŒæ—¶è®¾ç½®æ²¿(x,y)è½´çš„ç§»åŠ¨é•¿åº¦</td>
</tr>
<tr>
<td>translateX(x)</td>
<td>åªè®¾ç½®xè½´ç§»åŠ¨é•¿åº¦</td>
</tr>
<tr>
<td>translateY(y)</td>
<td>åªè®¾ç½®yè½´ç§»åŠ¨é•¿åº¦</td>
</tr>
<tr>
<td>translateZ(z)</td>
<td>åªè®¾ç½®zè½´ç§»åŠ¨é•¿åº¦ï¼Œåªæœ‰åœ¨3Dåœºæ™¯ä¸‹ï¼Œè¯¥å±æ€§æ‰èƒ½ä½“ç°</td>
</tr>
<tr>
<td>translate3d(<em>x</em>,<em>y</em>,<em>z</em>)</td>
<td>å¯åˆ†åˆ«è®¾ç½®æ²¿(x,y,z)è½´çš„ç§»åŠ¨é•¿åº¦</td>
</tr>
</tbody></table>
<h4 id="rotate"><a href="#rotate" class="headerlink" title="rotate"></a>rotate</h4><table>
<thead>
<tr>
<th>rotateç›¸å…³</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>rotate(<code>n</code>deg)</td>
<td>ä¸rotateZç›¸åŒã€‚</td>
</tr>
<tr>
<td>rotateX(<code>n</code>deg)</td>
<td>åªè®¾ç½®xè½´æ—‹è½¬è§’åº¦ï¼Œåœ¨3dåœºæ™¯å°¤ä¸ºæ˜æ˜¾</td>
</tr>
<tr>
<td>rotateY(<code>n</code>deg)</td>
<td>åªè®¾ç½®yè½´æ—‹è½¬è§’åº¦ï¼Œåœ¨3dåœºæ™¯å°¤ä¸ºæ˜æ˜¾</td>
</tr>
<tr>
<td>rotateZ(<code>n</code>deg)</td>
<td>åªè®¾ç½®zè½´æ—‹è½¬è§’åº¦</td>
</tr>
<tr>
<td>rotate3d(<em>x</em>,<em>y</em>,<em>z</em>ï¼Œ<code>n</code>deg)</td>
<td>å¯åˆ†åˆ«è®¾ç½®æ²¿(x,y,z)è½´çš„æ—‹è½¬è§’åº¦ï¼Œå‰ä¸‰ä¸ªå‚æ•°å€¼ä¸º<code>0</code>æˆ–<code>1</code>,æ„ä¸ºæ˜¯å¦è®¾ç½®æŸä¸ªè½´çš„æ—‹è½¬ã€‚</td>
</tr>
</tbody></table>
<h4 id="scale"><a href="#scale" class="headerlink" title="scale"></a>scale</h4><table>
<thead>
<tr>
<th>scaleç›¸å…³</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>scale(<em>x</em>,<em>y</em>)</td>
<td>åˆ†åˆ«å®šä¹‰(<em>x</em>,<em>y</em>)è½´çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå€¼ä¸º<code>0~n</code>ï¼Œè‹¥åªä¼ å…¥ä¸€ä¸ªå€¼ï¼Œåˆ™(<em>x</em>,<em>y</em>)è½´éƒ½åº”ç”¨è¿™ä¸ªå€¼ã€‚</td>
</tr>
<tr>
<td>scaleX(<em>x</em>)</td>
<td>åªè®¾ç½®xè½´ç¼©æ”¾ã€‚</td>
</tr>
<tr>
<td>scaleY(<em>y</em>)</td>
<td>åªè®¾ç½®yè½´ç¼©æ”¾ã€‚</td>
</tr>
<tr>
<td>scaleZ(<em>z</em>)</td>
<td>åªè®¾ç½®zè½´ç¼©æ”¾</td>
</tr>
<tr>
<td>scale3d(<em>x</em>,<em>y</em>,<em>z</em>)</td>
<td>å¯åˆ†åˆ«è®¾ç½®æ²¿(x,y,z)è½´çš„ç¼©æ”¾å€æ•°ã€‚</td>
</tr>
</tbody></table>
<h4 id="skew"><a href="#skew" class="headerlink" title="skew"></a>skew</h4><table>
<thead>
<tr>
<th>scaleç›¸å…³</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>skew(<em>x</em>,<em>y</em>)</td>
<td>åˆ†åˆ«å®šä¹‰(<em>x</em>,<em>y</em>)è½´çš„å€¾æ–œè§’åº¦ï¼Œå•ä½<code>deg</code>,è‹¥åªä¼ å…¥ä¸€ä¸ªå€¼ï¼Œåˆ™(<em>x</em>,<em>y</em>)è½´éƒ½åº”ç”¨è¿™ä¸ªå€¼ã€‚</td>
</tr>
<tr>
<td>skewX(<em>x</em>)</td>
<td>åªè®¾ç½®xè½´å€¾æ–œè§’åº¦ã€‚</td>
</tr>
<tr>
<td>skewY(<em>y</em>)</td>
<td>åªè®¾ç½®yè½´å€¾æ–œè§’åº¦ã€‚</td>
</tr>
</tbody></table>
<h4 id="perspective"><a href="#perspective" class="headerlink" title="perspective"></a>perspective</h4><p>â€‹    <code>transform: perspective(arg)</code>,å‚æ•°å•ä½ä¸º<code>px</code>ï¼Œè§„å®š3Dåœºæ™¯çš„<strong>è§†è§’è·ç¦»</strong>ï¼Œè¯¥å±æ€§å¯è®¾ç½®åœ¨3Dç›’å­æœ¬èº«ï¼Œä¹Ÿå¯è®¾ç½®åœ¨çˆ¶çº§å…ƒç´ ï¼Œéƒ½èƒ½æˆåŠŸæ˜¾ç¤ºè§†å£è·ç¦»æ•ˆæœã€‚</p>
<p>â€‹    è¿˜æœ‰ä¸€ä¸ªå…¨å±€å±æ€§<code>perspective: arg</code>,ç”¨æ³•ä¸<code>transform: perspective(arg)</code>ç›¸åŒï¼Œä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™ä¸ªå…¨å±€å±æ€§å¿…é¡»è®¾ç½®åœ¨æƒ³è¦å±•ç¤º3Dæ•ˆæœç›’å­çš„<strong>çˆ¶çº§</strong>å…ƒç´ ä¸Šï¼Œæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºè§†è§’è·ç¦»æ•ˆæœã€‚</p>
<hr>
<h3 id="æ—å±æ€§"><a href="#æ—å±æ€§" class="headerlink" title="æ—å±æ€§"></a>æ—å±æ€§</h3><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>transform-origin</td>
<td>è®¾ç½®transformå˜æ¢çš„åŸºç‚¹</td>
</tr>
<tr>
<td>transform-style</td>
<td>è§„å®šè¢«åµŒå¥—å…ƒç´ å¦‚ä½•åœ¨ 3D ç©ºé—´ä¸­æ˜¾ç¤ºã€‚</td>
</tr>
</tbody></table>
<h3 id="å…¶å®ƒç›¸å…³"><a href="#å…¶å®ƒç›¸å…³" class="headerlink" title="å…¶å®ƒç›¸å…³"></a>å…¶å®ƒç›¸å…³</h3><table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>perspective</td>
<td>è®¾ç½®3Dåœºæ™¯çš„è§†è§’è·ç¦»</td>
</tr>
<tr>
<td>perspective-origin</td>
<td>è®¾ç½®3Dåœºæ™¯çš„è§†è§’åŸºç‚¹</td>
</tr>
<tr>
<td>backface-visibility</td>
<td>è®¾ç½®å…ƒç´ èƒŒé¢æ˜¯å¦å¯è§ï¼Œå¯è®¾ç½®<code>visible</code>ã€<code>hidden</code>ã€‚</td>
</tr>
</tbody></table>
<ul>
<li><p>perspectiveï¼Œè¦æ³¨æ„å…¶ä¸<code>transform: perspective(arg)</code>çš„åŒºåˆ«ï¼Œå…¶åªèƒ½è®¾ç½®åœ¨3dç›’å­çš„çˆ¶çº§å…ƒç´ ä¸Š</p>
</li>
<li><p>backface-visibility<br>è¿™ä¸ªå±æ€§åœ¨åšæ—‹è½¬å¡ç‰‡æ—¶å¾ˆé‡è¦ï¼Œå› ä¸ºæ—‹è½¬å¡ç‰‡è¦å±•ç¤ºä¸¤é¢ï¼Œé»˜è®¤æƒ…å†µä¸‹æ­£é¢å¡ç‰‡åœ¨æ—‹è½¬åï¼Œå…¶èƒŒé¢ä¹Ÿä¼šé€è§†æ˜¾ç¤ºï¼Œä»è€Œå½±å“èƒŒé¢å¡ç‰‡çš„æ˜¾ç¤ºï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸¤å¼ å¡ç‰‡èƒŒé¢ä¸å¯è§ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p>æœªè®¾ç½®ï¼š</p>
<img src="transformå˜å½¢.assets/backface-visibility1.gif" alt="backface-visibility1" style="zoom:50%;" />

<p>è®¾ç½®åï¼š</p>
<img src="transformå˜å½¢.assets/backface-visibility2.gif" alt="backface-visibility2" style="zoom:50%;" /></li>
</ul>
<hr>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>äº†è§£äº†å˜å½¢çš„åŸºæœ¬æ“ä½œï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™äº›å±æ€§éšæ„å‘æŒ¥æƒ³è±¡åŠ›äº†ï¼Œä¸‹é¢ç¤ºä¾‹å°†ä¼šè¿ç”¨transformå®ç°ã€‚</p>
<p>ä¸€ã€è¡¨å•æ•ˆæœ</p>
<img src="transformå˜å½¢.assets/translateè¡¨å•.gif" alt="translateè¡¨å•" style="zoom:75%;" />

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<code>input[type=&quot;text&quot;]</code>ä¸èƒ½æ·»åŠ ä¼ªç±»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  main &#123;</span><br><span class="line">    width: 80%;</span><br><span class="line">  &#125;</span><br><span class="line">  form &#123;</span><br><span class="line">    width: inherit;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">    align-items: center;</span><br><span class="line">    background: #2c3e50;</span><br><span class="line">  &#125;</span><br><span class="line">  span &#123;</span><br><span class="line">    width: 60px;</span><br><span class="line">    display: inline-flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">    align-items: center;</span><br><span class="line">    letter-spacing: 2px;</span><br><span class="line">    color: white;</span><br><span class="line">  &#125;</span><br><span class="line">  label &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    min-height: 50px;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  .inputBox &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 150px;</span><br><span class="line">    min-height: 30px;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    margin-left: 8px;</span><br><span class="line">    background: white;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    transition: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  input &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    min-height: 30px;</span><br><span class="line">  &#125;</span><br><span class="line">  .after &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0px;</span><br><span class="line">    left: 0px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 2.1px;</span><br><span class="line">    border-radius: 2px;</span><br><span class="line">    background: linear-gradient(</span><br><span class="line">      to right,</span><br><span class="line">      white,</span><br><span class="line">      #e74c3c,</span><br><span class="line">      #e67e22,</span><br><span class="line">      #f1c40f,</span><br><span class="line">      #bdc3c7,</span><br><span class="line">      #1abc9c,</span><br><span class="line">      #3498db,</span><br><span class="line">      #9b59b6,</span><br><span class="line">      white</span><br><span class="line">    );</span><br><span class="line">    transform: translateX(-100%);</span><br><span class="line">    transition: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  .inputBox:hover &#123;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">  .inputBox:hover .after &#123;</span><br><span class="line">    transform: translateX(0);</span><br><span class="line">  &#125;</span><br><span class="line">  button &#123;</span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 40px;</span><br><span class="line">    margin: 10px;</span><br><span class="line">    color: white;</span><br><span class="line">    background: transparent;</span><br><span class="line">    border: 2px solid white;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    transition: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  button &gt; span &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    z-index: 1;</span><br><span class="line">    background: transparent;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">  &#125;</span><br><span class="line">  button::after &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    width: 98%;</span><br><span class="line">    height: inherit;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    background: transparent;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">    transition: 0.8s;</span><br><span class="line">  &#125;</span><br><span class="line">  button:hover &#123;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">  button:hover:after &#123;</span><br><span class="line">    transform: skewX(45deg) translate(-10px, -50%);</span><br><span class="line">    background: #e74c3c;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;form action&#x3D;&quot;#&quot;&gt;</span><br><span class="line">      &lt;label&gt;</span><br><span class="line">        &lt;span&gt;ç”¨æˆ·å:&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;inputBox&quot;&gt;</span><br><span class="line">          &lt;input type&#x3D;&quot;text&quot; &#x2F;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;after&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;label&gt;</span><br><span class="line">      &lt;label&gt;</span><br><span class="line">        &lt;span&gt;å¯†ç :&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;inputBox&quot;&gt;</span><br><span class="line">          &lt;input type&#x3D;&quot;text&quot; &#x2F;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;after&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;label&gt;</span><br><span class="line">      &lt;button&gt;&lt;span&gt;Login&lt;&#x2F;span&gt;&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;form&gt;</span><br><span class="line">  &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>


<h2 id="3D"><a href="#3D" class="headerlink" title="3D"></a>3D</h2><p>å¯¹äº3Dæ•ˆæœï¼Œæˆ‘ä»¬å°±éœ€è¦è¿›è¡Œä¸€äº›é¢„è®¾ï¼Œåªæœ‰é…ç½®äº†è¿™äº›é¢„è®¾ï¼Œæ‰èƒ½å¤Ÿæœ‰è§†è§‰æ•ˆæœã€‚</p>
<h3 id="transform-style"><a href="#transform-style" class="headerlink" title="transform-style"></a>transform-style</h3><p><code>transform-style</code>: è§„å®šè¢«åµŒå¥—å…ƒç´ å¦‚ä½•åœ¨ 3D ç©ºé—´ä¸­æ˜¾ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th>å±æ€§å€¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>flat</td>
<td>å­å…ƒç´ å°†ä¸ä¿ç•™å…¶ 3D ä½ç½®ã€‚</td>
</tr>
<tr>
<td>preserve-3d</td>
<td>å­å…ƒç´ å°†ä¿ç•™å…¶ 3D ä½ç½®ã€‚</td>
</tr>
</tbody></table>
<p>å½“æˆ‘ä»¬è®¾ç½®<code>transform-style: preserve-3d</code>æ—¶ï¼ŒåæœŸæ”¹å˜å…ƒç´ ä½ç½®ï¼Œæ‰ä¼šæœ‰è§†å£è·ç¦»æ•ˆæœã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜è¦é…ç½®è§†å£è·ç¦»ğŸ‘‡ã€‚</p>
<h3 id="perspective-1"><a href="#perspective-1" class="headerlink" title="perspective"></a>perspective</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼å®šä¹‰è§†å£è·ç¦»ï¼Œå•ä½éƒ½ä¸º<code>px</code>ï¼š</p>
<ol>
<li><code>perspective: arg</code></li>
<li><code>transform: perspective(arg)</code></li>
</ol>
<p>ä½†å€¼å¾—æ³¨æ„çš„æ˜¯äºŒè€…çš„åŒºåˆ«ï¼Œä¸Šæ–‡å·²ç»è¯´æ˜ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œä½†åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œç”¨å“ªä¸ªæ¯”è¾ƒå¥½å‘¢ï¼Ÿ</p>
<p>ä¸ªäººæ¨èä½¿ç”¨<code>perspective</code>,ä¸ä½¿ç”¨<code>transform: perspective(arg)</code>çš„åŸå› å¦‚ä¸‹:</p>
<p>â€‹    <strong>å½“è§¦å‘é€‰é¡¹å¾ˆå¤šæ—¶</strong>ï¼Œä¸ºäº†ä¿è¯å…·æœ‰è§†å£æ•ˆæœï¼Œåœ¨è§¦å‘æ—¶çš„æ ·å¼è¡¨ä¸­è¿˜è¦é‡å¤é…ç½®<code>transform: perspective(arg)</code>ã€‚</p>
<p>â€‹    å› ä¸ºåŠ¨ç”»è¢«è§¦å‘æ—¶ï¼Œåº”ç”¨çš„æ˜¯è§¦å‘æ—¶çš„æ ·å¼è¡¨ï¼Œè‹¥æ­¤æ—¶ä¸é…ç½®<code>transform: perspective(arg)</code>,åˆ™ä¼šå‡ºç°ï¼šåŠ¨ç”»è§¦å‘å‰è¿˜æœ‰è§†å£æ•ˆæœï¼Œè§¦å‘åå´æ²¡æœ‰äº†ã€‚</p>
<p>â€‹    è€Œæˆ‘ä»¬ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œåªéœ€è¦åœ¨å…¶çˆ¶çº§ç›’å­ä¸Šè®¾ç½®<code>perspective</code>å³å¯ï¼Œå› ä¸ºå…¶ä¸å±äº<code>transform</code>, æ‰€ä»¥åœ¨åæœŸè§¦å‘æ—¶ï¼Œä¸ç”¨è€ƒè™‘transformé‡æ–°é…ç½®çš„é—®é¢˜ã€‚</p>
<hr>
<p>å½“æˆ‘ä»¬åšå¥½äº†å‰æœŸçš„é¢„è®¾ï¼Œåé¢å°±å¯ä»¥é¡ºåˆ©å±•ç¤º3dæ•ˆæœäº†ï¼š</p>
<ul>
<li><p>ï¼ˆ<em>z</em>ï¼‰è½´ç›¸å…³ç‰¹æ•ˆå¾—ä»¥ä½“ç°</p>
</li>
<li><p>ä¸€äº›ï¼ˆ<em>x</em>,<em>y</em>ï¼‰è½´çš„ç‰¹æ•ˆä¼šæ›´åŠ æ˜æ˜¾</p>
</li>
</ul>
<p>è®©æˆ‘ä»¬æ¥å¯¹æ¯”ä¸€ä¸‹ï¼š</p>
<p>ä¸€ã€æœªé…ç½®é¢„è®¾æ—¶çš„translateZæ•ˆæœ</p>
<p>â€‹    æ²¡é”™ï¼æ²¡æœ‰æ•ˆæœï¼Œç”±äºæ²¡æœ‰ä¿ç•™å…ƒç´ 3dä½ç½®ï¼Œæ‰€ä»¥Zè½´æ•ˆæœä¸èƒ½å¤Ÿå¾—åˆ°ä½“ç°ã€‚</p>
<img src="transformå˜å½¢.assets/3Då¯¹æ¯”-æœªè®¾ç½®.gif" alt="3Då¯¹æ¯”-æœªè®¾ç½®.gif" style="zoom:50%;" />

<p>äºŒã€é…ç½®é¢„è®¾å</p>
<img src="transformå˜å½¢.assets/3Då¯¹æ¯”-è®¾ç½®.gif" alt="3Då¯¹æ¯”-è®¾ç½®.gif" style="zoom:50%;" />

<p>ä»€ä¹ˆï¼Ÿæ•ˆæœä¸æ˜æ˜¾ï¼Ÿè®©æˆ‘ä»¬ç®€å•çš„æ—‹è½¬ä¸€ä¸‹ã€‚</p>
<img src="transformå˜å½¢.assets/3Dæ•ˆæœ1.gif" alt="3Dæ•ˆæœ1.gif" style="zoom:50%;" />

<p>â€‹    </p>
<h3 id="æ¡ˆä¾‹å±•ç¤º"><a href="#æ¡ˆä¾‹å±•ç¤º" class="headerlink" title="æ¡ˆä¾‹å±•ç¤º"></a>æ¡ˆä¾‹å±•ç¤º</h3><p>ä¸‹é¢è®©æˆ‘ä»¬å±•ç¤ºä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ›´å¥½çš„ç†Ÿæ‚‰3DåŠ¨ç”»</p>
<img src="transformå˜å½¢.assets/3Dæ•ˆæœ2.gif" alt="3Dæ•ˆæœ2.gif" style="zoom:55%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  * &#123;</span><br><span class="line">    margin: 0px;</span><br><span class="line">    padding: 0px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">  &#125;</span><br><span class="line">  body &#123;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    min-height: 100vh;</span><br><span class="line">    background-color: #7f8c8d;</span><br><span class="line">  &#125;</span><br><span class="line">  main &#123;</span><br><span class="line">    width: inherit;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  section &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: 400px;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &#123;</span><br><span class="line">    width: inherit;</span><br><span class="line">    height: inherit;</span><br><span class="line">    border: 2px solid white;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    transform-style: preserve-3d;</span><br><span class="line">    transform: perspective(900px) rotate3d(0, 1, 0, 45deg);</span><br><span class="line">    transition-duration: 1s;</span><br><span class="line">    transition-delay: 1s;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &gt; div &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    transition: 1s;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &gt; div:nth-of-type(1) &#123;</span><br><span class="line">    background: #badc58;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &gt; div:nth-of-type(2) &#123;</span><br><span class="line">    background: #ff7979;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &gt; div:nth-of-type(3) &#123;</span><br><span class="line">    background: #ffbe76;</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D &gt; div:nth-of-type(4) &#123;</span><br><span class="line">    background: #22a6b3;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .box3D:hover &#123;</span><br><span class="line">    transform: perspective(900px) rotate3d(0, 1, 1, 225deg);</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D:hover &gt; div:nth-of-type(1) &#123;</span><br><span class="line">    transform: translate3d(-50%, -50%, 100px);</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D:hover &gt; div:nth-of-type(2) &#123;</span><br><span class="line">    transform: translate3d(-50%, -50%, -200px);</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D:hover &gt; div:nth-of-type(3) &#123;</span><br><span class="line">    transform: translate3d(-50%, -50%, -100px);</span><br><span class="line">  &#125;</span><br><span class="line">  .box3D:hover &gt; div:nth-of-type(4) &#123;</span><br><span class="line">    transform: translate3d(-50%, -50%, 200px);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;section&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;box3D&quot;&gt;</span><br><span class="line">        &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">  &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å½“ç„¶ï¼Œæˆ‘æ›´æ¨èä½¿ç”¨<code>perspective</code>æ¥åœ¨3dç›’å­çš„<code>çˆ¶çº§å…ƒç´ </code>ä¸­è®¾ç½®è§†å£ã€‚</p>
</li>
<li><p>è™½ç„¶è¯¥æ¡ˆä¾‹å¯¹äº3dç›’å­(<code>.box3D</code>)æ¥è¯´ï¼Œåªæœ‰ä¸€ä¸ª<code>hover</code>è¿›è¡Œè§¦å‘ï¼Œä½†å¦‚æœæˆ‘å¸Œæœ›clickã€è¡¨å•æäº¤æ—¶ï¼Œç­‰ç­‰åœºæ™¯ä¸‹éƒ½è§¦å‘è¯¥åŠ¨ç”»ï¼Œæ— è®ºåœ¨CSSè¿˜æ˜¯åœ¨JSä¸­ï¼Œéƒ½éœ€è¦é‡å¤é…ç½®<code>transformï¼šperspective(900px)</code>ã€‚</p>
</li>
</ul>
<p>è¿›è¡Œä»¥ä¸‹æ›´æ”¹å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">section &#123;</span><br><span class="line">    width: 400px;</span><br><span class="line">    height: 400px;</span><br><span class="line">    perspective: 900px; &#x2F;&#x2F;åœ¨çˆ¶çº§å…ƒç´ é…ç½®è§†å£</span><br><span class="line">&#125;</span><br><span class="line">.box3D &#123;</span><br><span class="line">   â€¦â€¦</span><br><span class="line">   transform: rotate3d(0, 1, 0, 45deg);  &#x2F;&#x2F;å»æ‰transform:perspective(900px)</span><br><span class="line">   â€¦â€¦</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå†å‡ºå‘æ—¶ï¼Œå°±ä¸ç”¨é‡å¤é…ç½®<code>transform: perspective(900px)</code>é€‰é¡¹äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box3D:hover &#123;</span><br><span class="line">    transform: rotate3d(0, 1, 1, 225deg);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå’Œä¹‹å‰ä¸€æ ·ï¼Œè¿˜èƒ½å‡å°‘ä»£ç å†—ä½™ã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>CSS</category>
        <category>transformå˜å½¢</category>
      </categories>
  </entry>
  <entry>
    <title>animationåŠ¨ç”»</title>
    <url>/2021/05/07/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/CSS/animation%E5%8A%A8%E7%94%BB/animation%E5%8A%A8%E7%94%BB/</url>
    <content><![CDATA[<h2 id="åŸºæœ¬äº†è§£"><a href="#åŸºæœ¬äº†è§£" class="headerlink" title="åŸºæœ¬äº†è§£"></a>åŸºæœ¬äº†è§£</h2><p>cssä¸­å®ç°åŠ¨ç”»æœ‰ä¸¤ç§æ–¹å¼ï¼š<code>transition</code>è¿‡æ¸¡åŠ¨ç”»ã€ <code>animation</code>è‡ªå®šä¹‰åŠ¨ç”»ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦è®²è§£<code>animation</code>åŠ¨ç”»çš„ä½¿ç”¨ï¼Œè‹¥è¦äº†è§£<code>transition</code>è¿‡æ¸¡åŠ¨ç”»è¯·å‰å¾€<a href="##">transitionè¿‡æ¸¡åŠ¨ç”»</a>ã€‚</p>
<p>æˆ‘ä»¬å…ˆç®€å•äº†è§£ä¸‹animationçš„ä¸€äº›è¯­æ³•å’Œä½¿ç”¨è¿‡ç¨‹ï¼Œåé¢ä¼šè¯¦ç»†è§£è¯´ï¼š</p>
<ol>
<li>é€šè¿‡<code>@keyframes</code>è‡ªå®šä¹‰å…³é”®å¸§åŠ¨ç”»å¹¶ä¸ºåŠ¨ç”»å‘½åï¼Œå¯ä»¥åœ¨å…¶ä¸­å¯¹æ¯ä¸€å¸§è¿›è¡Œè®¾ç½®ã€‚</li>
<li>ä½¿ç”¨è‡ªå®šä¹‰åŠ¨ç”»çš„å…ƒç´ ï¼Œéœ€è¦é€šè¿‡<code>animation</code>ç›¸å…³å±æ€§è¿›è¡Œé…ç½®<ul>
<li>animation-name</li>
<li>animation-duration</li>
<li>animation-timing-function</li>
<li>animation-delay</li>
<li>animation-iteration-count</li>
<li>animation-direction</li>
<li>animation-fill-mode</li>
<li>animation-play-state</li>
</ul>
</li>
</ol>
<p>æˆ‘ä»¬è¿˜å¯åœ¨JavaScriptä¸­ï¼Œé€šè¿‡é©¼å³°å¼å‘½åæ¥è®¿é—®/è®¾ç½®<code>animation</code>ç›¸å…³å±æ€§ã€‚</p>
<h2 id="keyframes"><a href="#keyframes" class="headerlink" title="@keyframes"></a>@keyframes</h2><p>keyframes(å…³é”®å¸§)ï¼Œåœ¨cssæ ·å¼è¡¨ä¸­å¯ä»¥é€šè¿‡<code>@keyframes</code>æ¥è®¾ç½®å…³é”®å¸§åŠ¨ç”»ï¼Œå¹¶æŒ‡å®šåŠ¨ç”»åç§°ä¾›ä½¿ç”¨è€…é”å®šã€‚</p>
<p>å…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç™¾åˆ†æ¯”æ¥è®¾ç½®å…·ä½“å¸§æ•°çš„æ ·å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@keyframes animateName&#123;</span><br><span class="line">    0%   &#123; width:50px; height:50px; &#125;	</span><br><span class="line">    50%  &#123; width:100px; height:100px; &#125;	</span><br><span class="line">    100% &#123; width:50px; height:50px; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>0%</code>å’Œ<code>100%</code>ä»£è¡¨<code>é¦–å°¾å¸§</code>,ä¹Ÿå¯åˆ†åˆ«ä½¿ç”¨<code>from</code>ã€<code>to</code>æ›¿ä»£ã€‚ä¸‹é¢ä»£ç ä¸ä¸Šè¿°ä»£ç æ•ˆæœç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@keyframes animateName&#123;</span><br><span class="line">    from &#123; width:50px; height:50px; &#125;	</span><br><span class="line">    50%  &#123; width:100px; height:100px; &#125;	</span><br><span class="line">    to	 &#123; width:50px; height:50px; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š è‹¥è‡ªå®šä¹‰åŠ¨ç”»<strong>æœªå®šä¹‰é¦–å°¾å¸§</strong>ï¼Œåˆ™é¦–å°¾å¸§å°†ä¼š<strong>åº”ç”¨ä½¿ç”¨è€…çš„åŸæœ‰æ ·å¼</strong></p>
<p>ç°åœ¨åŠ¨ç”»å®šä¹‰å®Œæ¯•ï¼Œä½¿ç”¨è€…éœ€è¦é…ç½®<code>animation</code>ç›¸å…³å±æ€§å¯¹åŠ¨ç”»è¿›è¡Œé…ç½®ã€‚</p>
<h2 id="animation-name"><a href="#animation-name" class="headerlink" title="animation-name"></a>animation-name</h2><p>è‹¥æŸä¸ªå…ƒç´ æƒ³è¦ä½¿ç”¨å¯¹åº”åç§°çš„åŠ¨ç”»ï¼Œéœ€è¦é…ç½®<code>animation-name: animateName</code>å±æ€§è¿›è¡Œé”å®šã€‚</p>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„åŠ¨ç”»ä¸ºä¾‹ï¼š</p>
<img src="animationåŠ¨ç”».assets/animate1.gif" alt="animate1" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    animation-name: test;</span><br><span class="line">    animation-duration: 1s;</span><br><span class="line">    animation-iteration-count: infinite;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes test &#123;</span><br><span class="line">    50% &#123;</span><br><span class="line">      width: 100px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border-radius: 50%;</span><br><span class="line">      background-color: skyblue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä¸ºäº†è®©åŠ¨ç”»æ›´åŠ æ˜æ˜¾ï¼Œä½¿ç”¨äº†<code>animation-duration</code>ä¸<code>animation-iteration-count</code>,è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>animation-duration</code> ç”¨äºå®šä¹‰åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œé»˜è®¤<code>0s</code></li>
<li><code>animation-iteration-count</code> ç”¨äºå®šä¹‰åŠ¨ç”»è¿­ä»£æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œæ¬¡æ•°ï¼Œé»˜è®¤ä¸º<code>1</code>ã€‚</li>
</ul>
<h2 id="animation-duration"><a href="#animation-duration" class="headerlink" title="animation-duration"></a>animation-duration</h2><p><code>animation-duration</code>é¡¾åæ€ä¹‰ï¼Œç”¨äºè®¾ç½®åŠ¨ç”»æŒç»­æ—¶é—´.</p>
<p>â€‹    éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**é»˜è®¤å€¼ä¸º<code>0s</code>**ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè‹¥ä¸é…ç½®<code>animation-duration</code>åˆ™é»˜è®¤è¯·å†µä¸‹æ˜¯æ²¡æœ‰åŠ¨ç”»æ•ˆæœçš„ï¼Œå³ä¾¿ä½¿ç”¨<code>animation-name</code>é”å®šäº†åŠ¨ç”»åç§°ï¼Œç”±äºåŠ¨ç”»æŒç»­æ—¶é—´ä¸º<code>0s</code>ï¼Œæ‰€ä»¥æ²¡æœ‰æ•ˆæœã€‚</p>
<h2 id="animation-timing-functionï¼š"><a href="#animation-timing-functionï¼š" class="headerlink" title="animation-timing-functionï¼š"></a>animation-timing-functionï¼š</h2><p><code>animation-timing-function</code>ç”¨äºå®šä¹‰æ—¶é—´å‡½æ•°ï¼Œé€šè¿‡è¿™ä¸ªé€‰é¡¹ï¼Œå¯é…ç½®åŠ¨ç”»éšæ—¶é—´çš„è¿åŠ¨é€Ÿç‡å’Œè½¨è¿¹ã€‚</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">linear</td>
<td align="left">åŠ¨ç”»ä»å¤´åˆ°å°¾çš„é€Ÿåº¦æ˜¯ç›¸åŒçš„ã€‚</td>
</tr>
<tr>
<td align="left">easeï¼ˆç¼“è§£ï¼‰</td>
<td align="left">**<code>é»˜è®¤å€¼</code>**ï¼šåŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ï¼Œç„¶ååŠ å¿«ï¼Œåœ¨ç»“æŸå‰å˜æ…¢ã€‚</td>
</tr>
<tr>
<td align="left">ease-in</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ã€‚</td>
</tr>
<tr>
<td align="left">ease-out</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿç»“æŸã€‚</td>
</tr>
<tr>
<td align="left">ease-in-out</td>
<td align="left">åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹å’Œç»“æŸã€‚</td>
</tr>
<tr>
<td align="left">cubic-bezier(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td>
<td align="left">è´å¡å°”æ›²çº¿ï¼ˆè‡ªå®šä¹‰æ•°å€¼ï¼‰ï¼Œå¯åˆ°<a href="https://cubic-bezier.com/">ç›¸å…³ç½‘ç«™</a>å¯è§†åŒ–è®¾ç½®ã€‚</td>
</tr>
</tbody></table>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<img src="animationåŠ¨ç”».assets/animate2.gif" alt="animate2" style="zoom:65%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  * &#123;</span><br><span class="line">    margin: 0px;</span><br><span class="line">    padding: 0px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">  &#125;</span><br><span class="line">  body &#123;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: center;</span><br><span class="line">    background-color: #34495e;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    list-style: none;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li &#123;</span><br><span class="line">    width: 40%;</span><br><span class="line">    margin: 0px 40px;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li &gt; .fa &#123;</span><br><span class="line">    font-size: 4em;</span><br><span class="line">    color: white;</span><br><span class="line">    opacity: 0.8;</span><br><span class="line">    animation: test 2s infinite;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes test &#123;</span><br><span class="line">    to &#123;</span><br><span class="line">      transform: translateY(86vh);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(1) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: linear;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(2) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: ease;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(3) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: ease-in;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(4) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: ease-out;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(5) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: ease-in-out;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li:nth-of-type(6) &gt; .fa &#123;</span><br><span class="line">    animation-timing-function: cubic-bezier(0.29, 1.69, 0.39, -0.05);</span><br><span class="line">  &#125;</span><br><span class="line">  li &gt; span &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    color: #f1c40f;</span><br><span class="line">  &#125;</span><br><span class="line">  strong &#123;</span><br><span class="line">    color: #e67e22;</span><br><span class="line">    margin: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;strong&gt;animatin-timing-function:&lt;&#x2F;strong&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;linear&lt;br &#x2F;&gt;çº¿æ€§&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;ease&lt;br &#x2F;&gt;é»˜è®¤ã€‚åŠ¨ç”»ä»¥ä½é€Ÿå¼€å§‹ï¼Œç„¶ååŠ å¿«ï¼Œåœ¨ç»“æŸå‰å˜æ…¢ã€‚&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;ease-in&lt;br &#x2F;&gt;ä»¥ä½é€Ÿå¼€å§‹&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;ease-out&lt;br &#x2F;&gt;ä»¥ä½é€Ÿç»“æŸ&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;ease-in-out&lt;br &#x2F;&gt;ä»¥ä½é€Ÿå¼€å§‹å’Œç»“æŸ&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;span&gt;cubic-bezier()&lt;br &#x2F;&gt;è´å¡å°”æ›²çº¿ï¼ˆè‡ªå®šä¹‰æ•°å€¼ï¼‰&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;ğŸ‘‡&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="animation-delay"><a href="#animation-delay" class="headerlink" title="animation-delay"></a>animation-delay</h2><p><code>animation-delay</code>ç”¨äºè®¾ç½®åŠ¨ç”»å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸º<code>s</code></p>
<p>ä¸‹ä¾‹åŠ¨ç”»å°†äº<code>2s</code>åæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  animation-name: test;</span><br><span class="line">  animation-duration: 1s;</span><br><span class="line">  animation-delay: 2s;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes test &#123;</span><br><span class="line">  50% &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“åŒæ—¶ä½¿ç”¨å¤šä¸ªåŠ¨ç”»æ—¶ï¼Œè¿™ä¸ªå±æ€§ä½¿ç”¨é¢‘ç‡éå¸¸é«˜ï¼Œå¯ä¾æ¬¡å®šä¹‰æ¯ä¸ªåŠ¨ç”»çš„å»¶è¿Ÿæ‰§è¡Œæ—¶é—´ï¼ŒåŒºåˆ†å¼€æ¯ä¸ªåŠ¨ç”»ã€‚</p>
<p>å½“ç„¶å…¶å®ä¹Ÿå¯åˆ†åˆ«è®¾ç½®æ¯ä¸ªåŠ¨ç”»çš„å…¶å®ƒanimationæ—å±æ€§ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»å¤šåŠ¨ç”»ç´¯åŠ ã€‚</p>
<h2 id="animation-iteration-countï¼š"><a href="#animation-iteration-countï¼š" class="headerlink" title="animation-iteration-countï¼š"></a>animation-iteration-countï¼š</h2><p><code>animation-iteration-count</code>ç”¨äºè®¾ç½®åŠ¨ç”»æ‰§è¡Œçš„æ¬¡æ•°ï¼Œé»˜è®¤å€¼ä¸º<code>1</code>åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>å…¶å€¼å¯åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>å…·ä½“numberæ•°å€¼</li>
<li><code>infinite</code>:æ‰§è¡Œæ— é™æ¬¡</li>
</ul>
<h2 id="animation-direction"><a href="#animation-direction" class="headerlink" title="animation-direction"></a>animation-direction</h2><p><code>animation-direction</code>ç”¨äºè®¾ç½®åŠ¨ç”»æ‰§è¡Œæ–¹å‘ï¼Œå…·ä½“æ¥è¯´å¯è®¾ç½®ä¸ºä»¥ä¸‹å€¼ï¼š</p>
<table>
<thead>
<tr>
<th>å€¼</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>normal</td>
<td>é»˜è®¤å€¼ã€‚åŠ¨ç”»æŒ‰æ­£å¸¸æ’­æ”¾ã€‚</td>
</tr>
<tr>
<td>reverse</td>
<td>åŠ¨ç”»åå‘æ’­æ”¾ã€‚</td>
</tr>
<tr>
<td>alternateï¼ˆäº¤æ›¿çš„ï¼‰</td>
<td>åŠ¨ç”»æ­£å‘äº¤æ›¿æ‰§è¡Œï¼ˆæ­£å‘-&gt;åå‘ï¼‰Loopã€‚</td>
</tr>
<tr>
<td>alternate-reverse</td>
<td>åŠ¨ç”»åå‘äº¤æ›¿æ‰§è¡Œï¼ˆåå‘-&gt;æ­£å‘ï¼‰Loopã€‚</td>
</tr>
<tr>
<td>inherit</td>
<td>ä»çˆ¶å…ƒç´ ç»§æ‰¿è¯¥å±æ€§ã€‚</td>
</tr>
</tbody></table>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<img src="animationåŠ¨ç”».assets/animate3.gif" alt="animate3" style="zoom:65%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  * &#123;</span><br><span class="line">    margin: 0px;</span><br><span class="line">    padding: 0px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">  &#125;</span><br><span class="line">  body &#123;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    background-color: #34495e;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    list-style: none;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li &#123;</span><br><span class="line">    margin: 0px 40px;</span><br><span class="line">    &#x2F;* border: 2px solid #ddd; *&#x2F;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    color: #e74c3c;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  ul &gt; li &gt; .fa &#123;</span><br><span class="line">    animation: test 1.3s infinite;</span><br><span class="line">    font-size: 7em;</span><br><span class="line">  &#125;</span><br><span class="line">  ul li:nth-of-type(1) &gt; .fa &#123;</span><br><span class="line">    animation-direction: normal;</span><br><span class="line">  &#125;</span><br><span class="line">  ul li:nth-of-type(2) &gt; .fa &#123;</span><br><span class="line">    animation-direction: reverse;</span><br><span class="line">  &#125;</span><br><span class="line">  ul li:nth-of-type(3) &gt; .fa &#123;</span><br><span class="line">    animation-direction: normal;</span><br><span class="line">  &#125;</span><br><span class="line">  ul li:nth-of-type(4) &gt; .fa &#123;</span><br><span class="line">    animation-direction: reverse;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes test &#123;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: scale(1.7);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  h1 &#123;</span><br><span class="line">    color: white;</span><br><span class="line">    opacity: 0.8;</span><br><span class="line">  &#125;</span><br><span class="line">  li &gt; span &#123;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    margin: auto;</span><br><span class="line">    margin-top: 30px;</span><br><span class="line">  &#125;</span><br><span class="line">  body ul:nth-of-type(2) li:nth-of-type(1) &gt; .fa &#123;</span><br><span class="line">    animation-direction: alternate;</span><br><span class="line">  &#125;</span><br><span class="line">  body ul:nth-of-type(2) li:nth-of-type(2) &gt; .fa &#123;</span><br><span class="line">    animation-direction: alternate-reverse;</span><br><span class="line">  &#125;</span><br><span class="line">  strong &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: white;</span><br><span class="line">    opacity: 0.76;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;animation-direction:&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;â¤&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;span&gt;normal&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;p&gt;é»˜è®¤å€¼&#x2F;æ­£å‘&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;â¤&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;span&gt;reverse&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;p&gt;åå‘è¿›è¡ŒåŠ¨ç”»&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;strong</span><br><span class="line">    &gt;å¯ä»¥åˆ©ç”¨é»˜è®¤å€¼normalå’Œreverseï¼Œäº¤å‰åŠ¨ç”»çš„æ•ˆæœï¼Œ&lt;br &#x2F;&gt;ä¹Ÿå¯ä»¥æ­£åå‘åå¤äº¤æ›¿å¦‚ä¸‹ã€‚&lt;&#x2F;strong</span><br><span class="line">  &gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;â¤&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;span&gt;alternate&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;p&gt;åå¤äº¤æ›¿ï¼ˆæ­£å‘ï¼‰&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;fa&quot;&gt;â¤&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;span&gt;alternate-reverse&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;p&gt;åå¤äº¤æ›¿ï¼ˆåå‘ï¼‰&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="animation-fill-mode"><a href="#animation-fill-mode" class="headerlink" title="animation-fill-mode"></a>animation-fill-mode</h2><p><code>animation-fill-mode</code>ç”¨äºè®¾ç½®åŠ¨ç”»çš„å¡«å……æ¨¡å¼ï¼Œä¸»è¦åº”ç”¨çš„å±æ€§å€¼ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">none</td>
<td align="left">é»˜è®¤å€¼ã€‚åŠ¨ç”»åœ¨åŠ¨ç”»æ‰§è¡Œå‰åï¼Œä¸ä¼šåº”ç”¨ä»»ä½•æ ·å¼åˆ°ç›®æ ‡å…ƒç´ ã€‚</td>
</tr>
<tr>
<td align="left">forwards</td>
<td align="left">åœ¨åŠ¨ç”»ç»“æŸåï¼ˆ<strong>ç”± animation-iteration-count å†³å®š</strong>ï¼‰ï¼Œç›®æ ‡å…ƒç´ å°†ä¿æŒåº”ç”¨<code>æœ€åå¸§</code>åŠ¨ç”»ã€‚</td>
</tr>
<tr>
<td align="left">backwards</td>
<td align="left">åœ¨åŠ¨ç”»ç»“æŸåï¼ˆ<strong>ç”± animation-iteration-count å†³å®š</strong>ï¼‰ï¼Œç›®æ ‡å…ƒç´ å°†ä¿æŒåº”ç”¨<code>èµ·å§‹å¸§</code>åŠ¨ç”»ã€‚</td>
</tr>
</tbody></table>
<p>æ¡ˆä¾‹æµ‹è¯•ï¼š</p>
<p>ä¸‹ä¾‹ä»£ç ï¼Œåœ¨åŠ¨ç”»æ‰§è¡Œç»“æŸåï¼Œå°†ä¼šä¸€ç›´åº”ç”¨æœ€åå¸§çš„æ ·å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  animation-name: test;</span><br><span class="line">  animation-delay: 2s;</span><br><span class="line">  animation-duration: 1s;</span><br><span class="line">  animation-fill-mode: forwards;</span><br><span class="line">  &#x2F;* animation-iteration-count: infinite; *&#x2F;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes test &#123;</span><br><span class="line">  100% &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸Šè¿°ä»£ç è‹¥æ·»åŠ <code>animation-iteration-count: infinite</code>ï¼Œç”±äºåŠ¨ç”»æ¬¡æ•°æ— é™æ‰§è¡Œï¼Œä¸ä¼šç»“æŸï¼Œä¹Ÿå°±ä¸ä¼šåº”ç”¨æœ€åå¸§æ ·å¼</p>
<h2 id="animation-play-state"><a href="#animation-play-state" class="headerlink" title="animation-play-state"></a>animation-play-state</h2><p>å¯è®¾ç½®åŠ¨ç”»çš„æ‰§è¡ŒçŠ¶æ€ï¼Œé€šå¸¸é€šè¿‡JavaScriptåŠ¨æ€æ§åˆ¶ã€‚</p>
<ul>
<li>é»˜è®¤å€¼ä¸ºï¼š<code>running</code></li>
<li>è®¾ä¸º<code>paused</code>(æš‚åœ)ï¼ŒåŠ¨ç”»å°†åœæ­¢æ‰§è¡Œã€‚</li>
</ul>
<p>ä¸‹é¢åŠ¨ç”»å°†ä¸ä¼šæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  animation-name: test;</span><br><span class="line">  animation-delay: 2s;</span><br><span class="line">  animation-duration: 1s;</span><br><span class="line">  animation-play-state: paused; &#x2F;&#x2F;å€¼ä¸ºpausedå°†ä¸ä¼šæ‰§è¡Œ</span><br><span class="line">&#125;</span><br><span class="line">@keyframes test &#123;</span><br><span class="line">  50% &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background-color: skyblue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡JavaScriptåŠ¨æ€æ§åˆ¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background-color: pink;</span><br><span class="line">    animation-name: test;</span><br><span class="line">    animation-duration: 1s;</span><br><span class="line">    animation-iteration-count: infinite;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes test &#123;</span><br><span class="line">    50% &#123;</span><br><span class="line">      width: 100px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      border-radius: 50%;</span><br><span class="line">      background-color: skyblue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;button onclick&#x3D;&quot;operation(&#39;running&#39;)&quot;&gt;å¼€å§‹&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;button onclick&#x3D;&quot;operation(&#39;paused&#39;)&quot;&gt;åœæ­¢&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    function operation(mode) &#123;</span><br><span class="line">      document.querySelector(&quot;div&quot;).style.animationPlayState &#x3D; mode;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>



<h2 id="å¤šåŠ¨ç”»ç´¯åŠ "><a href="#å¤šåŠ¨ç”»ç´¯åŠ " class="headerlink" title="å¤šåŠ¨ç”»ç´¯åŠ "></a>å¤šåŠ¨ç”»ç´¯åŠ </h2><p>è‹¥å…ƒç´ åº”ç”¨å¤šä¸ªåŠ¨ç”»ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«æ§åˆ¶å„ä¸ªåŠ¨ç”»çš„ä¸€äº›å±æ€§ï¼Œæ¥è¾¾åˆ°åŒºåˆ†å„ä¸ªåŠ¨ç”»çš„æ•ˆæœã€‚</p>
<p>ä¸‹é¢ç¤ºä¾‹ï¼Œç»™<code>animation</code>æ—å±æ€§åˆ†åˆ«è®¾ç½®å¤šä¸ªå€¼ï¼Œæ¥å¯¹ä¸åŒçš„åŠ¨ç”»åšä¸åŒçš„é…ç½®ã€‚</p>
<p><code>animation</code>æ—å±æ€§è®¾ç½®å¤šä¸ªå€¼æ—¶ï¼Œå„ä¸ªå€¼ä¹‹é—´ä½¿ç”¨<code>,</code>éš”å¼€ã€‚</p>
<p>æ¡ˆä¾‹ï¼š</p>
<img src="animationåŠ¨ç”».assets/animate4.gif" alt="animate4" style="zoom:65%;" />

<ol>
<li>é¦–å…ˆä½¿ç”¨<code>animation-name</code>æ¥é”å®šä½¿ç”¨çš„å„ä¸ªåŠ¨ç”»</li>
<li>ä¹‹åä½¿ç”¨å…¶å®ƒçš„<code>animation</code>æ—å±æ€§ï¼Œåˆ†åˆ«çº¦æŸå¯¹åº”åŠ¨ç”»ï¼Œä¸”è®¾ç½®é¡ºåºä¸<code>animation-name</code>ä½¿ç”¨åŠ¨ç”»çš„é¡ºåºä¿æŒä¸€è‡´ã€‚</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  * &#123;</span><br><span class="line">    margin: 0px;</span><br><span class="line">    padding: 0px;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">  &#125;</span><br><span class="line">  body &#123;</span><br><span class="line">    background-color: #353b48;</span><br><span class="line">  &#125;</span><br><span class="line">  main &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    width: 100vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    background-color: #487eb0;</span><br><span class="line">    animation-name: bgcolor, bodera, rotat;</span><br><span class="line">    animation-duration: 2s, 2s, 3s;</span><br><span class="line">    animation-iteration-count: 2, 2, 1;</span><br><span class="line">    animation-direction: reverse, normal, normal;</span><br><span class="line">    animation-fill-mode: forwards, forwards, forwards;</span><br><span class="line">  &#125;</span><br><span class="line">  main::after &#123;</span><br><span class="line">    content: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">    color: white;</span><br><span class="line">    animation: opcity 2s;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    font-size: 1.5em;</span><br><span class="line">    animation-fill-mode: forwards;</span><br><span class="line">    animation-delay: 4s;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes opcity &#123;</span><br><span class="line">    25% &#123;</span><br><span class="line">      opacity: 0.2;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      opacity: 0.6;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      opacity: 0.8;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes bgcolor &#123;</span><br><span class="line">    25% &#123;</span><br><span class="line">      background-color: #fbc531;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      background-color: #8c7ae6;</span><br><span class="line">    &#125;</span><br><span class="line">    75% &#123;</span><br><span class="line">      background-color: #f5f6fa;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      background-color: #e84118;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes bodera &#123;</span><br><span class="line">    25% &#123;</span><br><span class="line">      border-radius: 10%;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      border-radius: 25%;</span><br><span class="line">    &#125;</span><br><span class="line">    75% &#123;</span><br><span class="line">      border-radius: 38%;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      border-radius: 50%;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  @keyframes rotat &#123;</span><br><span class="line">    25% &#123;</span><br><span class="line">      transform: rotate(30deg);</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      transform: rotate(60deg);</span><br><span class="line">    &#125;</span><br><span class="line">    75% &#123;</span><br><span class="line">      transform: rotate(120deg);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: rotate(360deg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;&lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>å…³é”®ä»£ç è§£æï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">main &#123;</span><br><span class="line">   display: flex;</span><br><span class="line">   justify-content: center;</span><br><span class="line">   align-items: center;</span><br><span class="line">   width: 100vw;</span><br><span class="line">   height: 100vh;</span><br><span class="line">   background-color: #487eb0;</span><br><span class="line">   animation-name: bgcolor, bodera, rotat;</span><br><span class="line">   animation-duration: 2s, 2s, 3s;</span><br><span class="line">   animation-iteration-count: 2, 2, 1;</span><br><span class="line">   animation-direction: reverse, normal, normal;</span><br><span class="line">   animation-fill-mode: forwards, forwards, forwards;</span><br><span class="line"> &#125;</span><br><span class="line"> main::after &#123;</span><br><span class="line">   content: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">   color: white;</span><br><span class="line">   animation: opcity 2s;</span><br><span class="line">   opacity: 0;</span><br><span class="line">   font-size: 1.5em;</span><br><span class="line">   animation-fill-mode: forwards;</span><br><span class="line">   animation-delay: 4s;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä¸ºäº†è®©æ–‡å­—åœ¨å…¶ä»–åŠ¨ç”»éƒ½æ‰§è¡Œå®Œæ¯•åå†æ˜¾ç¤ºï¼Œä¸ºæ–‡å­—åŠ¨ç”»è®¾ç½®äº†<code>animation-delay</code>å»¶è¿Ÿæ‰§è¡Œï¼Œä½†æˆ‘ä»¬è¦ç¡®å®šä¹‹å‰åŠ¨ç”»ç»“æŸçš„æ—¶é—´ï¼Œæ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå½“åº”ç”¨å¤šä¸ªåŠ¨ç”»æ—¶ï¼Œå®ƒä»¬ä¹Ÿéƒ½æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦çŸ¥é“æ‰§è¡Œæ—¶é—´æœ€é•¿çš„é‚£ä¸ªåŠ¨ç”»å³å¯ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åˆ†æè¿™æ®µä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">animation-duration: 2s, 2s, 3s;</span><br><span class="line">animation-iteration-count: 2, 2, 1;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ¬¡æ•°Ã—å•æ¬¡æ‰§è¡Œæ—¶é—´=åŠ¨ç”»æ€»æ—¶é—´ã€‚å› æ­¤æœ€å¤§æ—¶é—´=max(2Ã—2 ,2Ã—2, 3Ã—1)=4s</p>
<p>å› æ­¤ï¼Œæ–‡å­—åŠ¨ç”»å»¶è¿Ÿ4sã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>CSS</category>
        <category>animationåŠ¨ç”»</category>
      </categories>
  </entry>
  <entry>
    <title>Promiseæ ¸å¿ƒ</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/Promise%E6%A0%B8%E5%BF%83/</url>
    <content><![CDATA[<h2 id="Promiseæ ¸å¿ƒ"><a href="#Promiseæ ¸å¿ƒ" class="headerlink" title="Promiseæ ¸å¿ƒ"></a>Promiseæ ¸å¿ƒ</h2><p>æœ¬ç« æ¥è‡ªå·±å¼€å‘ä¸€ä¸ªPromiseå®ç°ï¼Œæå‡å¼‚æ­¥ç¼–ç¨‹çš„èƒ½åŠ›ã€‚</p>
<h3 id="èµ·æ­¥æ„å»º"><a href="#èµ·æ­¥æ„å»º" class="headerlink" title="èµ·æ­¥æ„å»º"></a>èµ·æ­¥æ„å»º</h3><p>é¦–å…ˆå£°æ˜å®šä¹‰ç±»å¹¶å£°æ˜PromiseçŠ¶æ€ä¸å€¼ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªç»†èŠ‚éœ€è¦æ³¨æ„ã€‚</p>
<ul>
<li>executorä¸ºæ‰§è¡Œè€…</li>
<li>å½“æ‰§è¡Œè€…å‡ºç°å¼‚å¸¸æ—¶è§¦å‘<strong>æ‹’ç»</strong>çŠ¶æ€ï¼Œå¹¶å¼‚æ­¥æŠ›å‡ºé”™è¯¯<ul>
<li>å¦‚æœç›´æ¥æŠ›å‡ºé”™è¯¯ï¼Œåœ¨æ‰“å°æ—¶ï¼Œçœ‹ä¸åˆ°PROMISEæœ¬èº«çš„çŠ¶æ€ä¸å€¼ï¼Œæ‰€ä»¥å°†æŠ›å‡ºé”™è¯¯æ”¾åœ¨å¼‚æ­¥å®ä»»åŠ¡ä¸­</li>
<li>è¿™ä¸ªç»“æœå’ŒåŸç”ŸPromsieæ˜¯ç›¸åŒçš„</li>
</ul>
</li>
<li>ä½¿ç”¨é™æ€å±æ€§ä¿å­˜çŠ¶æ€å€¼</li>
<li>çŠ¶æ€åªèƒ½æ”¹å˜ä¸€æ¬¡ï¼Œæ‰€ä»¥åœ¨resolveä¸rejectæ·»åŠ æ¡ä»¶åˆ¤æ–­</li>
<li>å› ä¸º <code>resolve</code>æˆ–<code>rejected</code>æ–¹æ³•åœ¨executorä¸­è°ƒç”¨ï¼Œä½œç”¨åŸŸä¹Ÿæ˜¯executorä½œç”¨åŸŸï¼Œè¿™ä¼šé€ æˆåœ¨å¤–éƒ¨ç¡®è®¤çŠ¶æ€æ—¶ï¼šthisæŒ‡å‘windowï¼Œç°åœ¨æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯classå®šä¹‰ï¼Œthisä¸ºundefinedã€‚æ‰€ä»¥æˆ‘ä»¬è¦æ”¹å˜thisæŒ‡å‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class PROMISE &#123;</span><br><span class="line">  static PENDING &#x3D; &quot;pending&quot;;</span><br><span class="line">  static FULFILLED &#x3D; &quot;fulfilled&quot;;</span><br><span class="line">  static REJECTED &#x3D; &quot;rejected&quot;;</span><br><span class="line">  constructor(executor) &#123;</span><br><span class="line">    this.value &#x3D; undefined;</span><br><span class="line">    this.status &#x3D; PROMISE.PENDING;</span><br><span class="line">    try &#123;</span><br><span class="line">      executor(this.resolve.bind(this), this.reject.bind(this));</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">      this.reject(err);</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        throw err;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  resolve(result) &#123;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">      this.status &#x3D; PROMISE.FULFILLED;</span><br><span class="line">      this.value &#x3D; result;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  reject(reason) &#123;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">      this.status &#x3D; PROMISE.REJECTED;</span><br><span class="line">      this.value &#x3D; reason;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•çŠ¶æ€æ”¹å˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(new PROMISE(() &#x3D;&gt; &#123;&#125;));</span><br><span class="line">console.log(</span><br><span class="line">  new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(&quot;fulfilled&quot;);</span><br><span class="line">    reject(&quot;rejected&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•executoræ‰§è¡Œå¼‚å¸¸</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">   console.log(</span><br><span class="line">     new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">       console.log(as);</span><br><span class="line">     &#125;)</span><br><span class="line">   );</span><br><span class="line">&#x2F;&#x2F;å¯¹æ¯”åŸç”ŸPromise</span><br><span class="line">   console.log(</span><br><span class="line">     new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">       console.log(as);</span><br><span class="line">     &#125;)</span><br><span class="line">   );</span><br></pre></td></tr></table></figure>



<h3 id="THEN"><a href="#THEN" class="headerlink" title="THEN"></a>THEN</h3><p>ç°åœ¨æ·»åŠ thenæ–¹æ³•æ¥å¤„ç†çŠ¶æ€çš„æ”¹å˜ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹è¯´æ˜</p>
<ol>
<li>thenå¯ä»¥æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå³æˆåŠŸå’Œé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°</li>
<li>è‹¥thenå¤„ç†çš„PromiseçŠ¶æ€ä¸ºfulfilledï¼Œthençš„å‡½æ•°å‚æ•°éƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœä¼ å…¥éå‡½æ•°åˆ™å°†è¢«å¿½ç•¥ï¼Œè¿˜éœ€è¦è®¾ç½®é»˜è®¤å€¼ä¸ºå‡½æ•°ï¼Œç”¨äºå¤„ç†æ²¡ä¼ å‚ï¼Œæˆ–ä¼ å…¥éå‡½æ•°çš„æƒ…å†µï¼Œå¹¶å°†PROMISEçš„valueè¿”å›ï¼Œä¸ºåæœŸé“¾å¼è°ƒç”¨thenä¼ é€’å€¼ã€‚</li>
<li>è‹¥thenæ‰€å¤„ç†çš„PromiseçŠ¶æ€ä¸ºrejectedä¸”æ²¡æœ‰ä½¿ç”¨thençš„onRejectedå¤„ç†æ—¶ï¼Œå°†ä¼šæŠ¥é”™ã€‚</li>
<li>å½“æ‰§è¡Œthenä¼ é€’çš„å‡½æ•°å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œç»Ÿä¸€äº¤ç»™onRejectedæ¥å¤„ç†é”™è¯¯</li>
<li>thençš„æ‰§è¡Œæ˜¯å¼‚æ­¥ä»»åŠ¡</li>
</ol>
<h4 id="åŸºç¡€æ„å»º"><a href="#åŸºç¡€æ„å»º" class="headerlink" title="åŸºç¡€æ„å»º"></a>åŸºç¡€æ„å»º</h4><p>å…ˆè§‚å¯ŸåŸç”ŸPromsie.thençš„ç‰¹ç‚¹</p>
<ul>
<li>èƒ½å¤Ÿå¤„ç†å¼‚æ­¥ç¡®è®¤çŠ¶æ€</li>
<li>thenå¼‚æ­¥æ‰§è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;Ashun&quot;);</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&quot;ashun&quot;);</span><br><span class="line">    res(&quot;as&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;).then(</span><br><span class="line">  (result) &#x3D;&gt; console.log(result),</span><br><span class="line">  (reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">);</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>è‹¥æ²¡æœ‰å¤„ç†æ‹’ç»çŠ¶æ€çš„Promiseï¼Œåˆ™ä¼šæŠ¥é”™</li>
</ul>
<p>è‹¥PromiseçŠ¶æ€ä¸ºrejectedï¼Œä¸”æ²¡æœ‰è¢«thenä¸­çš„onRejectedå‡½æ•°å¤„ç†ï¼Œå°†ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">&#x2F;&#x2F;æ²¡æœ‰ä¼ é€’onRejeted</span><br><span class="line">new Promise((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">    &#125;).then((result) &#x3D;&gt; console.log(result));</span><br><span class="line">    </span><br><span class="line">&#x2F;&#x2F;onRejetedä¸æ˜¯å‡½æ•°ï¼Œè¯æ˜æ²¡æœ‰å¤„ç†å¼‚å¸¸ï¼Œä¾æ—§ä¼šæŠ¥é”™</span><br><span class="line">new Promise((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">    &#125;).then((result) &#x3D;&gt; console.log(result), &quot;rejected&quot;);</span><br></pre></td></tr></table></figure>

<p>å³ä¾¿æ˜¯ç©ºå‡½æ•°ï¼Œä¹Ÿä»£è¡¨å¯¹å¼‚å¸¸åšäº†å¤„ç†ï¼Œä¾¿ä¸ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  rej(&quot;Ashun&quot;);</span><br><span class="line">&#125;).then(</span><br><span class="line">  (result) &#x3D;&gt; console.log(result),</span><br><span class="line">  () &#x3D;&gt; &#123;&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å®ç°åŸºæœ¬åŠŸèƒ½</p>
<ul>
<li>å¯¹onResolveè®¾ç½®é»˜è®¤å‡½æ•°ï¼Œå¹¶è¿”å›this.valueï¼Œå½“PROMISEçŠ¶æ€ä¸ºfulfilledæ—¶ï¼Œä¸ä¼ å‚ï¼Œä¹Ÿä¼šå°†å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthen</li>
</ul>
<p><strong>rejectedå¤„ç†</strong></p>
<p>å®ç°æ–¹æ³•ï¼ˆä¸€ï¼‰</p>
<ul>
<li><p>ä¸ä¸ºonRejectedè®¾ç½®é»˜è®¤å‡½æ•°ï¼Œè‹¥è®¾ç½®äº†é»˜è®¤å‡½æ•°ï¼Œåˆ™ä¼šé»˜è®¤å¤„ç†rejectedçŠ¶æ€</p>
</li>
<li><p>è®¾ç½®ä¸€ä¸ªå˜é‡<code>isfilter</code>ï¼Œç›‘å¬rejectedæ˜¯å¦è¢«å¤„ç†</p>
</li>
<li><p>ç”±äºä¸ç¡®å®šonRejectedæ˜¯å¦ä¸ºå‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰ä¸ºå…¶è®¾ç½®é»˜è®¤å‡½æ•°ï¼Œæ‰€ä»¥åœ¨åæœŸæ‰§è¡Œæ—¶ï¼Œè¦åˆ¤æ–­å…¶ç±»å‹ï¼Œå†è®¾ç½®<code>isfilter</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class PROMISE &#123;</span><br><span class="line">  â€¦</span><br><span class="line">  constructor(executor) &#123;</span><br><span class="line">    â€¦â€¦</span><br><span class="line">    this.isfilter &#x3D; false;</span><br><span class="line">  &#125;</span><br><span class="line"> 	â€¦â€¦</span><br><span class="line">  then(onResolve, onReject) &#123;</span><br><span class="line">    if (!(onResolve instanceof Function)) &#123;</span><br><span class="line">      onResolve &#x3D; () &#x3D;&gt; this.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        onResolve(this.value);</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        onReject(err);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">      if (onReject instanceof Function) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">          onReject(this.value);</span><br><span class="line">        &#125; catch (err) &#123;</span><br><span class="line">          onReject(err);</span><br><span class="line">        &#125;</span><br><span class="line">        this.isfilter &#x3D; true;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        throw new Error(&quot;PROMISE status rejected&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯ä¸€æ—¦æŠ›å‡ºé”™è¯¯ï¼Œåç»­çš„åŒæ­¥ä»£ç å°†ä¸å†è¢«æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  rej(&quot;Ashun&quot;);</span><br><span class="line">&#125;).then();</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;); &#x2F;&#x2F;rejectedæ²¡æœ‰è¢«å¤„ç†ï¼ŒæŠ›å‡ºé”™è¯¯ï¼Œåç»­åŒæ­¥ä»£ç ä¸ä¼šæ‰§è¡Œ</span><br></pre></td></tr></table></figure>



<p><strong>å®ç°æ–¹æ³•ï¼ˆäºŒï¼‰</strong></p>
<p>åœ¨rejectå›è°ƒå‡½æ•°ä¸­ï¼Œ<code>å¼‚æ­¥åˆ¤æ–­isfilter</code>ï¼Œå› ä¸ºå¤–éƒ¨ä»£ç è‡ªä¸Šè€Œä¸‹æ‰§è¡Œï¼Œisfilterçš„åˆå§‹å€¼ä¸ºfalseï¼Œè‹¥ä¸å¼‚æ­¥åˆ¤æ–­ï¼Œåˆ™æ— è®ºæ˜¯å¦è¢«å¤„ç†ï¼Œä¸€æ—¦æ‰§è¡Œrejectå›è°ƒå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä»£ç è‡ªä¸Šè€Œä¸‹æ‰§è¡Œï¼Œè‹¥åœ¨rejectå›è°ƒå‡½æ•°ä¸­åˆ¤æ–­isfilterï¼Œåˆ™è¦å¼‚æ­¥åˆ¤æ–­ï¼Œç­‰å¾…thenå¤„ç†åï¼Œå†åˆ¤æ–­</span><br><span class="line"></span><br><span class="line">new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">      &#125;).then(</span><br><span class="line">        	(result) &#x3D;&gt; console.log(result),</span><br><span class="line">        	(reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">			);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reject(reason) &#123;</span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">    this.status &#x3D; PROMISE.REJECTED;</span><br><span class="line">    this.value &#x3D; reason;</span><br><span class="line">    &#x2F;&#x2F; å¼‚æ­¥åˆ¤æ–­æ˜¯å¦è¢«è¿‡æ»¤,ç­‰å¾…thenæ‰§è¡Œå®Œæ¯•ï¼Œåˆ¤æ–­rejectedæ˜¯å¦è¢«å¤„ç†;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      if (!this.isfilter) &#123;</span><br><span class="line">        throw new Error(&quot;PROMISE status rejected&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">  if (!(onResolve instanceof Function)) &#123;</span><br><span class="line">    onResolve &#x3D; () &#x3D;&gt; this.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      onResolve(this.value);</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">      onReject(err);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">    if (onReject instanceof Function) &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        onReject(this.value);</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        onReject(err);</span><br><span class="line">      &#125;</span><br><span class="line">      this.isfilter &#x3D; true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ¥æµ‹è¯•thenæ–¹æ³•ï¼Œç»“æœæ­£å¸¸è¾“å‡º<code>Ashun</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">      &#125;).then(</span><br><span class="line">        	(result) &#x3D;&gt; console.log(result),</span><br><span class="line">        	(reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">			);</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<p>è‹¥æ²¡æœ‰å¤„ç†rejectedï¼Œä¼šæŠ¥é”™ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“åç»­åŒæ­¥ä»£ç çš„æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">      &#125;).then(result &#x3D;&gt; console.log(result));</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;); </span><br></pre></td></tr></table></figure>



<h4 id="å¼‚æ­¥ä»»åŠ¡"><a href="#å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡"></a>å¼‚æ­¥ä»»åŠ¡</h4><p>ä½†ä¸Šé¢çš„ä»£ç å¹¶ä¸æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä½¿ç”¨setTimeoutæ¥å°†onFulfilledä¸onRejectedåšä¸ºå¼‚æ­¥å®ä»»åŠ¡æ‰§è¡Œ</p>
<ul>
<li><code>isfilter</code>çš„æ”¹å˜ä¸ä½¿ç”¨setTimeoutåŒ…è£¹ï¼Œåªè¦onRejectä¸ºFunctionï¼Œå°±ç«‹å³è®¾ç½®<code>isfilter=true</code>ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿè®©resolveåŠæ—¶ç›‘å¬<code>isfilter</code>çš„æ”¹å˜</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">  if (!(onResolve instanceof Function)) &#123;</span><br><span class="line">    onResolve &#x3D; () &#x3D;&gt; this.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        onResolve(this.value);</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        onReject(err);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">    if (onReject instanceof Function) &#123;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">          onReject(this.value);</span><br><span class="line">        &#125; catch (err) &#123;</span><br><span class="line">          onReject(err);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      this.isfilter &#x3D; true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      throw new Error(&quot;PROMISE status rejected&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å†æ‰§è¡Œä»£ç ï¼Œå·²ç»æœ‰å¼‚æ­¥æ•ˆæœäº†ï¼Œå…ˆè¾“å‡ºäº†<code>é˜¿é¡ºç‰¹çƒ¦æ¼</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"> new PROMISE((res, rej) =&gt; &#123;</span><br><span class="line">        // res(&quot;Ashun&quot;);</span><br><span class="line">        rej(&quot;Ashun&quot;);</span><br><span class="line">      &#125;).then(</span><br><span class="line">        (result) =&gt; console.log(result),</span><br><span class="line">        (reason) =&gt; console.log(reason)</span><br><span class="line">      );</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="PENDINGå¼‚æ­¥"><a href="#PENDINGå¼‚æ­¥" class="headerlink" title="PENDINGå¼‚æ­¥"></a>PENDINGå¼‚æ­¥</h4><p>å½“åœ¨PROMISEä¸­<code>å¼‚æ­¥ç¡®è®¤çŠ¶æ€</code>æ—¶ï¼Œthenå¤„ç†çš„æ˜¯pendingçŠ¶æ€çš„PROMISEï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œå¯¹åº”çš„å¤„ç†å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">      new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          res(&quot;as&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;).then(</span><br><span class="line">        (result) &#x3D;&gt; console.log(result),</span><br><span class="line">        (reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">      );</span><br><span class="line"># ç”±äºå¤„ç†çš„æ˜¯pendingçŠ¶æ€çš„PROMISEï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œå¤„ç†å‡½æ•°</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å¤„ç†ä»¥ä¸Šæƒ…å†µï¼Œéœ€è¦è¿›è¡Œå‡ ç‚¹æ”¹åŠ¨</p>
<ol>
<li>åœ¨æ„é€ å‡½æ•°ä¸­æ·»åŠ callbacksæ¥ä¿å­˜pendingçŠ¶æ€æ—¶å¤„ç†å‡½æ•°ï¼Œå½“çŠ¶æ€æ”¹å˜æ—¶ï¼Œå³<code>resolve/reject</code>è¢«è°ƒç”¨æ—¶ï¼Œå†åœ¨<code>resolve/reject</code>å‡½æ•°ä½“ä¸­è°ƒç”¨callbackså¯¹åº”çŠ¶æ€çš„å¤„ç†å‡½æ•°</li>
<li>callbacksä¸­çš„å¤„ç†å‡½æ•°ä¹Ÿè¦è®¾ç½®ä¸ºå¼‚æ­¥è°ƒç”¨</li>
<li>åªæœ‰åœ¨å¼‚æ­¥ç¡®è®¤çŠ¶æ€æ—¶ï¼Œæ‰ä¼šå‘callbacksä¸­å‹å…¥å¯¹åº”å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æ—¶ï¼Œè¦åˆ¤æ–­å¤„ç†å‡½æ•°æ˜¯å¦å­˜åœ¨ã€‚</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">constructor(executor)&#123;</span><br><span class="line">	â€¦â€¦</span><br><span class="line">	this.callbacks&#x3D;&#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">resolve(result) &#123;</span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">    this.status &#x3D; PROMISE.FULFILLED;</span><br><span class="line">    this.value &#x3D; result;</span><br><span class="line">    this.callbacks.onResolve &amp;&amp; this.callbacks.onResolve(this.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">reject(reason) &#123;</span><br><span class="line">  if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">    this.status &#x3D; PROMISE.REJECTED;</span><br><span class="line">    this.value &#x3D; reason;</span><br><span class="line">    this.callbacks.onReject &amp;&amp; this.callbacks.onReject(this.value);</span><br><span class="line">    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        if (!this.isfilter) throw new Error(&quot;PROMISE status rejected&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">          &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼</span><br><span class="line">          if (!(onResolve instanceof Function)) &#123;</span><br><span class="line">            onResolve &#x3D; () &#x3D;&gt; this.value;</span><br><span class="line">          &#125;</span><br><span class="line">          &#x2F;&#x2F;åŒæ­¥ç¡®è®¤çŠ¶æ€å¤„ç†ï¼Œç›´æ¥æ‰§è¡Œå¯¹åº”å¤„ç†å‡½æ•°</span><br><span class="line">          if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">              try &#123;</span><br><span class="line">                onResolve(this.value);</span><br><span class="line">              &#125; catch (err) &#123;</span><br><span class="line">                onReject(err);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">          if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">          	 if (onReject instanceof Function) &#123;</span><br><span class="line">          	 		this.isfilter &#x3D; true;</span><br><span class="line">            		setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">              		try &#123;</span><br><span class="line">               		 onReject(this.value);</span><br><span class="line">              		&#125; catch (err) &#123;</span><br><span class="line">               		 onReject(err);</span><br><span class="line">              		&#125;</span><br><span class="line">           		 &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          &#x2F;&#x2F;å¼‚æ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">          &#x2F;&#x2F;å…ˆå°†å¤„ç†å‡½æ•°æ·»åŠ åˆ°callbacksä¸­ï¼Œå½“çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå†åœ¨this.resolve&#x2F;rejectä¸­è°ƒç”¨</span><br><span class="line">          if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">            this.callbacks.onResolve &#x3D; (result) &#x3D;&gt; &#123;</span><br><span class="line">              setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                  onResolve(result);</span><br><span class="line">                &#125; catch (err) &#123;</span><br><span class="line">                  onReject(err);</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;;</span><br><span class="line">            this.callbacks.onReject &#x3D; (reason) &#x3D;&gt; &#123;</span><br><span class="line">            	if (onReject instanceof Function) &#123;</span><br><span class="line">          	 		this.isfilter &#x3D; true;</span><br><span class="line">              	setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                	try &#123;</span><br><span class="line">                  	onReject(reason);</span><br><span class="line">               	 	&#125; catch (err) &#123;</span><br><span class="line">                 	 	onReject(err);</span><br><span class="line">               	 	&#125;</span><br><span class="line">              	&#125;);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>







<h3 id="é“¾å¼æ“ä½œ"><a href="#é“¾å¼æ“ä½œ" class="headerlink" title="é“¾å¼æ“ä½œ"></a>é“¾å¼æ“ä½œ</h3><p>Promiseä¸­çš„thenæ˜¯é“¾å¼è°ƒç”¨æ‰§è¡Œçš„ï¼Œæ‰€ä»¥thenä¹Ÿè¦é»˜è®¤è¿”å›çŠ¶æ€ä¸ºfulfilledçš„Promiseã€‚</p>
<ol>
<li>thençš„onRejectå‡½æ•°æ˜¯å¯¹å‰é¢Promiseçš„rejectedçš„å¤„ç†</li>
<li>ä½†é»˜è®¤è¿”å›çš„PromiseçŠ¶æ€è¦ä¸ºfulfilledï¼Œæ‰€ä»¥åœ¨è°ƒç”¨onRejectedåï¼Œéœ€è¦æ”¹å˜å½“å‰promiseä¸ºfulfilledçŠ¶æ€,å¹¶æŠŠæ‰§è¡Œç»“æœä¼ å…¥ã€‚è®©ä¸‹ä¸€ä¸ªthenå¾—ä»¥æ¥æ”¶</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">  &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼</span><br><span class="line">  if (!(onResolve instanceof Function)) &#123;</span><br><span class="line">    onResolve &#x3D; () &#x3D;&gt; this.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;é»˜è®¤è¿”å›ä¸€ä¸ªPROMISE</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;åŒæ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">          let preResult &#x3D; onResolve(this.value);</span><br><span class="line">          resolve(preResult);			</span><br><span class="line">        &#125; catch (err) &#123;</span><br><span class="line">          reject(err);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">      if (onReject instanceof Function) &#123;</span><br><span class="line">        this.isfilter &#x3D; true;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">            let preReason &#x3D; onReject(this.value);</span><br><span class="line">            resolve(preReason);</span><br><span class="line">          &#125; catch (err) &#123;</span><br><span class="line">            reject(err);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;å¼‚æ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">      this.callbacks.onResolve &#x3D; (result) &#x3D;&gt; &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          try &#123;</span><br><span class="line">            let preResult &#x3D; onResolve(result);</span><br><span class="line">            resolve(preResult);</span><br><span class="line">          &#125; catch (err) &#123;</span><br><span class="line">            reject(err);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      this.callbacks.onReject &#x3D; (reason) &#x3D;&gt; &#123;</span><br><span class="line">        if (onReject instanceof Function) &#123;</span><br><span class="line">          this.isfilter &#x3D; true;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">              let preReason &#x3D; onReject(reason);</span><br><span class="line">              resolve(preReason);</span><br><span class="line">            &#125; catch (err) &#123;</span><br><span class="line">              reject(err);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ç»è¿‡æµ‹è¯•åï¼Œé“¾å¼æ“ä½œå·²ç»æœ‰æ•ˆäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;Ashun&quot;);</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&quot;ashun&quot;);</span><br><span class="line">    reject(&quot;as&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(</span><br><span class="line">    (result) &#x3D;&gt; result,</span><br><span class="line">    (reason) &#x3D;&gt; reason</span><br><span class="line">  )</span><br><span class="line">  .then()</span><br><span class="line">  .then(</span><br><span class="line">    (result) &#x3D;&gt; console.log(result),</span><br><span class="line">    (reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">  );</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>



<h3 id="è¿”å›ç±»å‹"><a href="#è¿”å›ç±»å‹" class="headerlink" title="è¿”å›ç±»å‹"></a>è¿”å›ç±»å‹</h3><p>åŸç”ŸPromise.thenï¼Œè‹¥åœ¨thenä¸­æ‰‹åŠ¨è¿”å›ä¸€ä¸ªæ–°çš„Promiseå¹¶ç¡®è®¤çŠ¶æ€ï¼Œè¿™ä¸ªæ‰‹åŠ¨è¿”å›çš„Promiseèƒ½å¤Ÿæ”¹å˜å½“å‰thençš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªthenå°±æ˜¯å¯¹è¿”å›çš„Promiseçš„å¤„ç†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&quot;Promise status: fulfilled&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">  .then((result) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(result);</span><br><span class="line">    return Promise.reject(&quot;then status: rejected&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(null, (err) &#x3D;&gt; console.log(err));</span><br></pre></td></tr></table></figure>

<h4 id="åŸºæœ¬å®ç°"><a href="#åŸºæœ¬å®ç°" class="headerlink" title="åŸºæœ¬å®ç°"></a>åŸºæœ¬å®ç°</h4><p>æˆ‘ä»¬è‹¥è¦å®ç°è¿™ä¸ªæ•ˆæœï¼Œå°±è¦åˆ¤æ–­thenè¿”å›ç»“æœçš„ç±»å‹æ˜¯å¦ä¸ºPROMISEï¼Œè‹¥æ˜¯PROMISEï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨ <code>preRusult.then(resolve,reject)</code>å³å¯ï¼Œå› ä¸ºè°ƒç”¨thenä¼šç­‰å¾…æ‰‹åŠ¨è¿”å›çš„PROMISEç¡®è®¤çŠ¶æ€åæ‰§è¡Œã€‚</p>
<p>è®©æ‰‹åŠ¨è¿”å›çš„PROMISEçŠ¶æ€æ”¹å˜å½“å‰thené»˜è®¤è¿”å›çš„PROMISEçš„çŠ¶æ€</p>
<ul>
<li>ä½¿ç”¨thenå¤„ç†ï¼Œè‹¥æ‰‹åŠ¨è¿”å›PROMISEç¡®è®¤çŠ¶æ€ä¸ºfulfilled,å°±æ‰§è¡Œé»˜è®¤è¿”å›PROMISEçš„resolveï¼Œè®©å…¶çŠ¶æ€ä¹Ÿå˜ä¸ºfulfilled</li>
<li>åŒç†ï¼Œè‹¥æ‰‹åŠ¨è¿”å›PROMISEç¡®è®¤çŠ¶æ€ä¸ºrejected,å°±æ‰§è¡Œé»˜è®¤è¿”å›PROMISEçš„rejectï¼Œè®©å…¶çŠ¶æ€ä¹Ÿå˜ä¸ºrejected</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">          &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼</span><br><span class="line">       		â€¦â€¦â€¦</span><br><span class="line">          return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            &#x2F;&#x2F;åŒæ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">            if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">              setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                  let preResult &#x3D; onResolve(this.value);</span><br><span class="line">                  if (preResult instanceof PROMISE) &#123;</span><br><span class="line">                    preResult.then(resolve, reject);</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                    resolve(preResult);</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125; catch (err) &#123;</span><br><span class="line">                  reject(err);</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">              if (onReject instanceof Function) &#123;</span><br><span class="line">                this.isfilter &#x3D; true;</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                  try &#123;</span><br><span class="line">                    let preReason &#x3D; onReject(this.value);</span><br><span class="line">                    if (preReason instanceof PROMISE) &#123;</span><br><span class="line">                      preReason.then(resolve, reject);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                      resolve(preReason);</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125; catch (err) &#123;</span><br><span class="line">                    reject(err);</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;å¼‚æ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">            if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">              this.callbacks.onResolve &#x3D; (result) &#x3D;&gt; &#123;</span><br><span class="line">                setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                  try &#123;</span><br><span class="line">                    let preResult &#x3D; onResolve(result);</span><br><span class="line">                    if (preResult instanceof PROMISE) &#123;</span><br><span class="line">                      preResult.then(resolve, reject);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                      resolve(preResult);</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125; catch (err) &#123;</span><br><span class="line">                    reject(err);</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;;</span><br><span class="line">              this.callbacks.onReject &#x3D; (reason) &#x3D;&gt; &#123;</span><br><span class="line">                if (onReject instanceof Function) &#123;</span><br><span class="line">                  this.isfilter &#x3D; true;</span><br><span class="line">                  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                      let preReason &#x3D; onReject(reason);</span><br><span class="line">                      if (preReason instanceof PROMISE) &#123;</span><br><span class="line">                        preReason.then(resolve, reject);</span><br><span class="line">                      &#125; else &#123;</span><br><span class="line">                        resolve(preReason);</span><br><span class="line">                      &#125;</span><br><span class="line">                    &#125; catch (err) &#123;</span><br><span class="line">                      reject(err);</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•èƒ½å¤Ÿåˆ°çš„æ­£ç¡®ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&quot;Ashun&quot;);</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&quot;ashun&quot;);</span><br><span class="line">    rej(&quot;as&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(</span><br><span class="line">    (result) &#x3D;&gt; result,</span><br><span class="line">    (reason) &#x3D;&gt; reason</span><br><span class="line">  )</span><br><span class="line">  .then((result) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(result);</span><br><span class="line">    return new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">      res(&quot;then2 status Fulfilled&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(</span><br><span class="line">    (result) &#x3D;&gt; console.log(&#96;resolve__:$&#123;result&#125;&#96;),</span><br><span class="line">    (reason) &#x3D;&gt; console.log(&#96;rejected__:$&#123;reason&#125;&#96;)</span><br><span class="line">  );</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="ä»£ç å¤ç”¨"><a href="#ä»£ç å¤ç”¨" class="headerlink" title="ä»£ç å¤ç”¨"></a>ä»£ç å¤ç”¨</h4><p>ç°åœ¨å‘ç°penddingã€fulfilledã€rejected çŠ¶æ€çš„ä»£ç éå¸¸ç›¸ä¼¼ï¼Œæ‰€ä»¥å¯ä»¥æå–å‡ºæ–¹æ³•Parseæ¥å¤ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">  &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼</span><br><span class="line"> 	â€¦â€¦</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;åŒæ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        this.Parse(onResolve(this.value), resolve, reject);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        this.Parse(onReject(this.value), resolve, reject);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;å¼‚æ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">      this.callbacks.onResolve &#x3D; (result) &#x3D;&gt; &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          this.Parse(onResolve(result), resolve, reject);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      this.callbacks.onReject &#x3D; (reason) &#x3D;&gt; &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          this.Parse(onReject(reason), resolve, reject);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">Parse(Operation, resolve, reject) &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    let preReason &#x3D; Operation;</span><br><span class="line">    if (preReason instanceof PROMISE) &#123;</span><br><span class="line">      preReason.then(resolve, reject);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      resolve(preReason);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    reject(err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›çº¦æŸ"><a href="#è¿”å›çº¦æŸ" class="headerlink" title="è¿”å›çº¦æŸ"></a>è¿”å›çº¦æŸ</h4><p>thenæ‰‹åŠ¨è¿”å›çš„promiseä¸èƒ½æ˜¯thené»˜è®¤è¿”å›Promiseï¼Œä¼šäº§ç”Ÿå¾ªç¯è°ƒç”¨ï¼Œä¸‹é¢æ˜¯åŸç”ŸPromiseçš„ç¤ºä¾‹å°†äº§ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = new Promise((res, rej) =&gt; &#123;</span><br><span class="line">        res(&quot;fulfilled&quot;);</span><br><span class="line">      &#125;).then((result) =&gt; promise);</span><br></pre></td></tr></table></figure>

<p>è§£å†³ä¸Šé¢çš„é—®é¢˜æ¥å®Œå–„ä»£ç ï¼Œæ·»åŠ å½“å‰promiseåšä¸ºparseçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸å‡½æ•°æ‰§è¡Œç»“æœè¿›è¡Œæ¯”å¯¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">then(onResolve, onReject) &#123;</span><br><span class="line">  &#x2F;&#x2F;è®¾ç½®é»˜è®¤å€¼</span><br><span class="line"> 	â€¦â€¦</span><br><span class="line">  let promise &#x3D; new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;åŒæ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.FULFILLED) &#123;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        this.Parse(promise, onResolve(this.value), resolve, reject);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED) &#123;</span><br><span class="line">      if (onReject instanceof Function) &#123;</span><br><span class="line">        this.isfilter &#x3D; true;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          this.Parse(onReject(this.value), resolve, reject);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;å¼‚æ­¥ç¡®è®¤çŠ¶æ€å¤„ç†</span><br><span class="line">    if (this.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">      this.callbacks.onResolve &#x3D; (result) &#x3D;&gt; &#123;</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          this.Parse(promise, onResolve(result), resolve, reject);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      this.callbacks.onReject &#x3D; (reason) &#x3D;&gt; &#123;</span><br><span class="line">        if (onReject instanceof Function) &#123;</span><br><span class="line">          this.isfilter &#x3D; true;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            this.Parse(onReject(reason), resolve, reject);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  return promise;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parse(promise, Operation, resolve, reject) &#123;</span><br><span class="line">  if (promise &#x3D;&#x3D;&#x3D; Operation) &#123;</span><br><span class="line">    throw new Error(&quot;Chaining cycle detected for promise&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  try &#123;</span><br><span class="line">    let preReason &#x3D; Operation;</span><br><span class="line">    if (preReason instanceof PROMISE) &#123;</span><br><span class="line">      preReason.then(resolve, reject);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      resolve(preReason);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    reject(err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨è¿›è¡Œæµ‹è¯•ä¹Ÿå¯ä»¥å¾—åˆ°åŸç”Ÿä¸€æ ·æ•ˆæœäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let promise &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;fulfilled&quot;);</span><br><span class="line">&#125;).then((result) &#x3D;&gt; promise);</span><br></pre></td></tr></table></figure>



<h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><h4 id="RESOLVE"><a href="#RESOLVE" class="headerlink" title="RESOLVE"></a>RESOLVE</h4><p>ä¸‹é¢æ¥å®ç°åŸç”ŸPromiseçš„é™æ€æ–¹æ³•<code>Promise.resolve</code>ç”¨äºå¿«é€Ÿè¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºresolveçš„Promise</p>
<ul>
<li><p>é»˜è®¤è¿”å›Promise</p>
</li>
<li><p>åŒæ ·éœ€è¦æ³¨æ„è¿”å›ç±»å‹ï¼Œè‹¥ä¸ºPROMISEï¼Œåˆ™ä½¿ç”¨thenå¤„ç†çš„å°±æ˜¯è¿”å›çš„PROMISE</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Promise.resolve(</span><br><span class="line">  new Promise((res) &#x3D;&gt; res(&quot;ashuntefannao&quot;))</span><br><span class="line">).then((result) &#x3D;&gt; console.log(result));</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºé™æ€æ–¹æ³•<code>static resolve</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static resolve(value) &#123;</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    if (value instanceof PROMISE) &#123;</span><br><span class="line">      value.then(resolve, reject);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      resolve(value);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PROMISE.resolve(</span><br><span class="line">  new PROMISE((res, rej) &#x3D;&gt; rej(&quot;ashuntefannao&quot;))</span><br><span class="line">).then(null, (reason) &#x3D;&gt; console.log(&#96;rejected__$&#123;reason&#125;&#96;));</span><br><span class="line"></span><br><span class="line">PROMISE.resolve(&quot;ashun&quot;).then((result) &#x3D;&gt; console.log(result));</span><br></pre></td></tr></table></figure>



<h4 id="REJECT"><a href="#REJECT" class="headerlink" title="REJECT"></a>REJECT</h4><p>å°è£…æ€æƒ³å’Œ<code>resolve</code>é™æ€æ–¹æ³•ç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static reject(reason) &#123;</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    if (reason instanceof PROMISE) &#123;</span><br><span class="line">      reason.then(resolve, reject);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      reject(reason);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PROMISE.reject(&quot;rejected&quot;).then(null, (err) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;);</span><br><span class="line">PROMISE.reject(PROMISE.resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;)).then((val) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(val);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="ALL"><a href="#ALL" class="headerlink" title="ALL"></a>ALL</h4><p>åŸç”ŸPromiseçš„é™æ€æ–¹æ³•all</p>
<ul>
<li>æ¥æ”¶ä¸€ä¸ªPromiseArrayï¼Œå¹¶æŒ‰é¡ºåºå¯¹PromiseArrayä¸­çš„promiseè¿›è¡Œåˆ¤æ–­å’Œå¤„ç†</li>
<li>è‹¥å­˜åœ¨ä¸€ä¸ªpromiseæ²¡æœ‰ç¡®å®šçŠ¶æ€ï¼Œåˆ™allè¿”å›çš„Promiseä¹Ÿä¸ºpendingçŠ¶æ€</li>
<li>è‹¥å­˜åœ¨ä¸€ä¸ªpromiseçŠ¶æ€ä¸ºrejectedï¼Œåˆ™allè¿”å›çš„Promiseä¹Ÿä¸ºrejectedçŠ¶æ€ï¼Œå¹¶ä¸”åç»­çš„thenèƒ½å¤Ÿæ¥æ”¶åˆ°æ‹’ç»çŠ¶æ€çš„promiseä¼ å€¼ã€‚</li>
<li>è‹¥æ‰€æœ‰promiseçŠ¶æ€éƒ½ä¸ºfulfilledï¼Œåˆ™è¿”å›ä¸€ä¸ªæœ‰åºçš„ã€å…ƒç´ ä¸ºpromiseç»“æœçš„æ•°ç»„</li>
</ul>
<p>ç”±äºallæ˜¯æœ‰åºå¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡éå†ï¼ŒæŒ‰é¡ºåºå¤„ç†ä¸šåŠ¡é€»è¾‘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static all(PROMISEarr) &#123;</span><br><span class="line">  let resolveArr &#x3D; [];</span><br><span class="line">  let test &#x3D; true;</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    for (let promise of PROMISEarr) &#123;</span><br><span class="line">      let isPending &#x3D; promise.status &#x3D;&#x3D;&#x3D; PROMISE.PENDING;</span><br><span class="line">      let isReject &#x3D; promise.status &#x3D;&#x3D;&#x3D; PROMISE.REJECTED;</span><br><span class="line"></span><br><span class="line">      if (isPending) &#123;</span><br><span class="line">        test &#x3D; false;</span><br><span class="line">        break;</span><br><span class="line">      &#125; else if (isReject) &#123;</span><br><span class="line">        test &#x3D; false;</span><br><span class="line">        promise.then(null, (reason) &#x3D;&gt; reject(reason));</span><br><span class="line">        break;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        promise.then((res) &#x3D;&gt; resolveArr.push(res));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    test &amp;&amp; resolve(resolveArr);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹å¯è‡ªè¡Œæ”¹å˜æŸä¸ªpromiseçš„çŠ¶æ€ï¼Œæ¥æ£€æµ‹ä¸åŒç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;p1 stastus fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;p2 stastus fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p3 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;p3 stastus fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let arr &#x3D; [p1, p2, p3];</span><br><span class="line">let all &#x3D; PROMISE.all(arr).then(</span><br><span class="line">  (result) &#x3D;&gt; console.log(result),</span><br><span class="line">  (reason) &#x3D;&gt; console.log(reason)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(all);</span><br><span class="line">&#125;, 100);</span><br></pre></td></tr></table></figure>



<h4 id="RACE"><a href="#RACE" class="headerlink" title="RACE"></a>RACE</h4><ul>
<li><code>race(PromiseArray)</code>èµ›è·‘ï¼Œå“ªä¸ªPromiseä¼˜å…ˆç¡®è®¤çŠ¶æ€ï¼Œå°±è¿”å›å“ªä¸ªPromise</li>
<li>ä¸€å¼€å§‹æˆ‘ä»¬å°±å·²ç»å®ç°äº†promiseçŠ¶æ€ä¸€ç»ç¡®å®šï¼Œå°±ä¸å¯å†æ”¹å˜</li>
<li>æ‰€ä»¥åœ¨å®ç°çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€å¾ªç¯è°ƒç”¨æ¯ä¸€ä¸ªpromiseçš„thenæ–¹æ³•ï¼Œå“ªä¸ªæœ€å…ˆç¡®è®¤çŠ¶æ€ï¼Œå°±ä¼šä¼˜å…ˆæ‰§è¡Œthenï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡thençš„ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥æ”¹å˜å½“å‰é»˜è®¤è¿”å›çš„Promsieçš„çŠ¶æ€ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static race(PROMISEarr) &#123;</span><br><span class="line">  return new PROMISE((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    PROMISEarr.map((promise) &#x3D;&gt; &#123;</span><br><span class="line">      promise.then(resolve, reject);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹å¯è‡ªè¡Œæ”¹å˜æŸä¸ªpromiseç¡®è®¤çŠ¶æ€çš„å»¶è¿Ÿæ—¶é—´ï¼Œæ¥æ£€æµ‹ä¸åŒç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    res(&quot;p1 stastus fulfilled&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  rej(&quot;p2 stastus rejected&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p3 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    res(&quot;p3 stastus fulfilled&quot;);</span><br><span class="line">  &#125;, 100);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let arr &#x3D; [p1, p2, p3];</span><br><span class="line">let race &#x3D; PROMISE.race(arr).then(</span><br><span class="line">  (result) &#x3D;&gt; console.log(&#96;result__$&#123;result&#125;&#96;),</span><br><span class="line">  (reason) &#x3D;&gt; console.log(&#96;reason__$&#123;reason&#125;&#96;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(race);</span><br><span class="line">&#125;, 500);</span><br></pre></td></tr></table></figure>



<h4 id="allSettled"><a href="#allSettled" class="headerlink" title="allSettled"></a>allSettled</h4><ul>
<li>ä¸åœ¨ä¹çŠ¶æ€æ‹’ç»ä¸å¦ï¼Œæ‰€æœ‰çš„promiseç¡®è®¤çŠ¶æ€åï¼Œå°†ä¼šè¿”å›æœ‰åºç»“æœï¼Œä¸”è¿”å›çš„promiseçŠ¶æ€ä¸ºfulfilledã€‚</li>
<li>è‹¥æœ‰ä¸€ä¸ªpromiseæ²¡æœ‰ç¡®è®¤çŠ¶æ€ï¼Œåˆ™allSettledé»˜è®¤è¿”å›çš„promiseçŠ¶æ€ä¹Ÿä¸ºfulfilledï¼Œä¹Ÿå°±ä¸ä¼šæ‰§è¡Œåç»­çš„then</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static allSettled(PROMISEarr) &#123;</span><br><span class="line">  let results &#x3D; [];</span><br><span class="line">  let isPending &#x3D; true;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    for (let promise of PROMISEarr) &#123;</span><br><span class="line">      if (promise.status &#x3D;&#x3D; PROMISE.PENDING) &#123;</span><br><span class="line">        isPending &#x3D; true;</span><br><span class="line">        break;</span><br><span class="line">      &#125;</span><br><span class="line">      let status &#x3D; promise.status;</span><br><span class="line">      let value &#x3D; promise.value;</span><br><span class="line">      promise.then(</span><br><span class="line">        (result) &#x3D;&gt; &#123;</span><br><span class="line">          results.push(&#123; status, value &#125;);</span><br><span class="line">          if (results.length &#x3D;&#x3D; PROMISEarr.length) resolve(results);</span><br><span class="line">        &#125;,</span><br><span class="line">        (reason) &#x3D;&gt; &#123;</span><br><span class="line">          results.push(&#123; status, reason: value &#125;);</span><br><span class="line">          if (results.length &#x3D;&#x3D; PROMISEarr.length) resolve(results);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;p1 stastus fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  rej(&quot;p2 stastus rejected&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p3 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">  res(&quot;p3 stastus fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let arr &#x3D; [p1, p2, p3];</span><br><span class="line">let allSettled &#x3D; PROMISE.allSettled(arr).then((result) &#x3D;&gt;</span><br><span class="line">  console.log(result)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(allSettled);</span><br><span class="line">&#125;, 500);</span><br></pre></td></tr></table></figure>

<p>è‹¥æœ‰ä¸€ä¸ªpromiseå§‹ç»ˆæ²¡æœ‰ç¡®è®¤çŠ¶æ€ï¼Œåˆ™allSettledé»˜è®¤è¿”å›çš„promiseçŠ¶æ€ä¹Ÿä¸ºpendingã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      let p2 &#x3D; new PROMISE((res, rej) &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;rej(&quot;p2 stastus rejected&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>äº‹ä»¶</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p>åœ¨æ–‡æ¡£ã€æµè§ˆå™¨ã€æ ‡ç­¾å…ƒç´ ç­‰å…ƒç´ åœ¨ç‰¹å®šçŠ¶æ€ä¸‹è§¦å‘çš„è¡Œä¸ºå³ä¸ºäº‹ä»¶ï¼Œæ¯”å¦‚ç”¨æˆ·çš„å•å‡»è¡Œä¸ºã€è¡¨å•å†…å®¹çš„æ”¹å˜è¡Œä¸ºå³ä¸ºäº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„äº‹ä»¶å®šä¹‰å¤„ç†ç¨‹åºã€‚JSä½¿ç”¨å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„å½¢å¼ç®¡ç†äº‹ä»¶ã€‚</p>
<p><strong>äº‹ä»¶ç±»å‹</strong></p>
<p>JSä¸ºä¸åŒçš„äº‹ä»¶å®šä¹‰çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºäº‹ä»¶åç§°ã€‚</p>
<p><strong>äº‹ä»¶ç›®æ ‡</strong></p>
<p>äº‹ä»¶ç›®æ ‡æŒ‡è§¦å‘äº‹ä»¶çš„å¯¹è±¡ï¼Œæ¯”å¦‚aæ ‡ç­¾è¢«ç‚¹å‡»é‚£ä¹ˆaæ ‡ç­¾å°±æ˜¯äº‹ä»¶ç›®æ ‡ã€‚å…ƒç´ æ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œä¸€æ¬¡ç‚¹å‡»è¡Œä¸ºæ—¶å¯èƒ½ä¼šè§¦å‘å¤šä¸ªäº‹ä»¶ç›®æ ‡(äº‹ä»¶å†’æ³¡)ã€‚</p>
<h3 id="å¤„ç†ç¨‹åº"><a href="#å¤„ç†ç¨‹åº" class="headerlink" title="å¤„ç†ç¨‹åº"></a>å¤„ç†ç¨‹åº</h3><p>äº‹ä»¶çš„ç›®çš„æ˜¯è¦æ‰§è¡Œä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬ç§°è¿™ç±»ä»£ç å—ä¸ºäº‹ä»¶å¤„ç†ï¼ˆç›‘å¬ï¼‰ç¨‹åºã€‚å½“åœ¨å¯¹è±¡ä¸Šè§¦å‘äº‹ä»¶æ—¶å°±ä¼šæ‰§è¡Œå®šä¹‰çš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<h4 id="HTMLç»‘å®š"><a href="#HTMLç»‘å®š" class="headerlink" title="HTMLç»‘å®š"></a>HTMLç»‘å®š</h4><p>å¯ä»¥åœ¨htmlå…ƒç´ ä¸Šè®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæµè§ˆå™¨è§£æåä¼šç»‘å®šåˆ°DOMå±æ€§ä¸­</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;button onclick=&quot;alert(`Ashuntefannao`)&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>å¾€å¾€äº‹ä»¶å¤„ç†ç¨‹åºä¸šåŠ¡æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥ç»‘å®šæ–¹æ³•æˆ–å‡½æ•°ä¼šå¾ˆå¸¸è§</p>
<ul>
<li>ç»‘å®šå‡½æ•°æˆ–æ–¹æ³•æ—¶éœ€è¦åŠ ä¸Šæ‹¬å·</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;button onclick=&quot;show()&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function show() &#123;</span><br><span class="line">    alert(&#x27;Ashuntefannao&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡æ–¹æ³•åšä¸ºäº‹ä»¶å¤„ç†ç¨‹åº</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; onkeyup=&quot;SHUN.show()&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  class SHUN &#123;</span><br><span class="line">    static show() &#123;</span><br><span class="line">      console.log(&#x27;Ashun&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä¼ é€’äº‹ä»¶æºå¯¹è±¡ä¸äº‹ä»¶å¯¹è±¡</p>
<ul>
<li>ä¼ å…¥<code>this</code>æŒ‡å‘äº‹ä»¶æºspanå…ƒç´ </li>
<li>ä¼ å…¥<code>event</code>æŒ‡å‘äº‹ä»¶å¯¹è±¡ï¼Œå¯é€šè¿‡å…¶è®¿é—®å„ç§äº‹ä»¶å¤„ç†çš„å±æ€§/æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;!-- thisæŒ‡å‘spanå…ƒç´ ï¼Œeventä¸ºäº‹ä»¶å¯¹è±¡ï¼Œ--&gt;</span><br><span class="line">&lt;span onclick=&quot;show(this,&#x27;Ashun&#x27;,&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;,event)&quot;&gt;ASHUN&lt;/span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function show(...args) &#123;</span><br><span class="line">        console.log(args)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="DOMç»‘å®š"><a href="#DOMç»‘å®š" class="headerlink" title="DOMç»‘å®š"></a>DOMç»‘å®š</h4><p>ä¹Ÿå¯ä»¥å°†äº‹ä»¶å¤„ç†ç¨‹åºç»‘å®šåˆ°DOMå±æ€§ä¸­</p>
<ul>
<li>ä½¿ç”¨setAttributeæ–¹æ³•è®¾ç½®äº‹ä»¶å¤„ç†ç¨‹åºæ— æ•ˆ</li>
<li>å±æ€§ååŒºåˆ†å¤§å°å†™</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.onclick = function () &#123;</span><br><span class="line">    this.style.color = &#x27;red&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ— æ³•ä¸ºäº‹ä»¶ç±»å‹ç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¸‹é¢ç»‘å®šäº†å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå› ä¸ºå±æ€§æ˜¯ç›¸åŒçš„æ‰€ä»¥åªæœ‰æœ€åä¸€ä¸ªæœ‰æ•ˆ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.onclick = function () &#123;</span><br><span class="line">    this.style.color = &#x27;red&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  app.onclick = function () &#123;</span><br><span class="line">    this.style.fontSize = &#x27;55px&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="äº‹ä»¶ç›‘å¬"><a href="#äº‹ä»¶ç›‘å¬" class="headerlink" title="äº‹ä»¶ç›‘å¬"></a>äº‹ä»¶ç›‘å¬</h3><p>é€šè¿‡ä¸Šé¢çš„è¯´æ˜æˆ‘ä»¬çŸ¥é“ä½¿ç”¨HTMLä¸DOMç»‘å®šäº‹ä»¶éƒ½æœ‰ç¼ºé™·ï¼Œå»ºè®®ä½¿ç”¨æ–°çš„äº‹ä»¶ç›‘å¬ç»‘å®šæ–¹å¼addEventListener æ“ä½œäº‹ä»¶</p>
<p>ä½¿ç”¨addEventListeneræ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹</p>
<ul>
<li>transtionend / DOMContentLoaded ç­‰äº‹ä»¶ç±»å‹åªèƒ½ä½¿ç”¨ addEventListener å¤„ç†</li>
<li>åŒä¸€äº‹ä»¶ç±»å‹å¯ä»¥è®¾ç½®å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼ŒæŒ‰è®¾ç½®çš„é¡ºåºå…ˆåæ‰§è¡Œ</li>
<li>ä¹Ÿå¯ä»¥å¯¹æœªæ¥æ·»åŠ çš„å…ƒç´ ç»‘å®šäº‹ä»¶</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>addEventListener</td>
<td>æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº</td>
</tr>
<tr>
<td>removeEventListener</td>
<td>ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åº</td>
</tr>
</tbody></table>
<p>addEventListenerçš„å‚æ•°è¯´æ˜å¦‚ä¸‹</p>
<ol>
<li>å‚æ•°ä¸€äº‹ä»¶ç±»å‹</li>
<li>å‚æ•°äºŒäº‹ä»¶å¤„ç†ç¨‹åºcallback<ul>
<li>callbacké»˜è®¤æ¥æ”¶<code>eventäº‹ä»¶å¯¹è±¡</code>å‚æ•°</li>
</ul>
</li>
<li>å‚æ•°ä¸‰ä¸ºå®šåˆ¶çš„é€‰é¡¹ï¼Œå¯ä¼ é€’objectæˆ–booleanç±»å‹ã€‚åé¢ä¼šè¯¦ç»†ä»‹ç»ä½¿ç”¨åŒºåˆ«</li>
</ol>
<h4 id="ç»‘å®šå¤šä¸ªäº‹ä»¶"><a href="#ç»‘å®šå¤šä¸ªäº‹ä»¶" class="headerlink" title="ç»‘å®šå¤šä¸ªäº‹ä»¶"></a>ç»‘å®šå¤šä¸ªäº‹ä»¶</h4><p>ä½¿ç”¨addEventListeneræ¥å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åº</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    this.style.color = &#x27;red&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    this.style.fontSize = &#x27;55px&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡å¯¹è±¡ç»‘å®š"><a href="#é€šè¿‡å¯¹è±¡ç»‘å®š" class="headerlink" title="é€šè¿‡å¯¹è±¡ç»‘å®š"></a>é€šè¿‡å¯¹è±¡ç»‘å®š</h4><p><code>äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥æ˜¯å¯¹è±¡</code>ï¼Œå¯¹è±¡çš„ handleEvent æ–¹æ³•ä¼šåšä¸ºäº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡Œã€‚ä¸‹é¢å°†å…ƒç´ çš„äº‹ä»¶ç»Ÿä¸€äº¤ç”±å¯¹è±¡å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  class Events &#123;</span><br><span class="line">    handleEvent(e) &#123;</span><br><span class="line">      this[e.type](e)</span><br><span class="line">    &#125;</span><br><span class="line">    click() &#123;</span><br><span class="line">      console.log(&#x27;å•å‡»äº‹ä»¶&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    mouseover() &#123;</span><br><span class="line">      console.log(&#x27;é¼ æ ‡æ‚¬åœäº‹ä»¶&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, new Events())</span><br><span class="line">  app.addEventListener(&#x27;mouseover&#x27;, new Events())</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="ç§»é™¤äº‹ä»¶"><a href="#ç§»é™¤äº‹ä»¶" class="headerlink" title="ç§»é™¤äº‹ä»¶"></a>ç§»é™¤äº‹ä»¶</h4><p>ä½¿ç”¨removeEventListeneråˆ é™¤äº‹å…ˆç»‘å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°</p>
<ul>
<li>äº‹ä»¶å¤„ç†ç¨‹åºå•ç‹¬å®šä¹‰å‡½æ•°æˆ–æ–¹æ³•ï¼Œè¿™å¯ä»¥ä¿è¯è®¿é—®çš„äº‹ä»¶å¤„ç†ç¨‹åºæ˜¯åŒä¸€ä¸ª</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;button id=&quot;rmEvent&quot;&gt;åˆ é™¤äº‹ä»¶&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  const rm = document.querySelector(&#x27;#rmEvent&#x27;)</span><br><span class="line">  function show(event) &#123;</span><br><span class="line">  	console.log(event.target)</span><br><span class="line">    console.log(&#x27;APPæˆ‘æ‰§è¡Œäº†&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, show)</span><br><span class="line">  rm.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    app.removeEventListener(&#x27;click&#x27;, show)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="äº‹ä»¶é€‰é¡¹"><a href="#äº‹ä»¶é€‰é¡¹" class="headerlink" title="äº‹ä»¶é€‰é¡¹"></a>äº‹ä»¶é€‰é¡¹</h4><p>addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºå®šåˆ¶çš„é€‰é¡¹ï¼Œå¯ä¼ é€’objectæˆ–booleanç±»å‹</p>
<p>ä¸‹é¢æ˜¯ä¼ é€’å¯¹è±¡æ—¶çš„è¯´æ˜</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>å¯é€‰å‚æ•°</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>once</td>
<td>true/false</td>
<td>åªæ‰§è¡Œä¸€æ¬¡äº‹ä»¶</td>
</tr>
<tr>
<td>capture</td>
<td>true/false</td>
<td>äº‹ä»¶æ˜¯åœ¨æ•è·/å†’æ³¡å“ªä¸ªé˜¶æ®µæ‰§è¡Œï¼Œtrue:æ•è·é˜¶æ®µ false:å†’æ³¡é˜¶æ®µï¼Œé»˜è®¤ä¸ºfalse</td>
</tr>
<tr>
<td>passive</td>
<td>true/false</td>
<td>å£°æ˜äº‹ä»¶é‡Œä¸ä¼šåˆ¤æ–­ <code>preventDefault()</code>ï¼Œå¯ä»¥å‡å°‘ç³»ç»Ÿé»˜è®¤è¡Œä¸ºçš„ç­‰å¾…</td>
</tr>
</tbody></table>
<p>ä¼ é€’Booleanæ—¶</p>
<ul>
<li>trueï¼šäº‹ä»¶æ•è·æ–¹å¼æ‰§è¡Œï¼Œç­‰åŒäºå‚æ•°<code>&#123;capture:true&#125;</code></li>
<li>falseï¼šäº‹ä»¶å†’æ³¡æ–¹å¼æ‰§è¡Œï¼Œç­‰åŒäºå‚æ•°<code>&#123;capture:false&#125;</code></li>
</ul>
<p><strong>äº‹ä»¶æ•è·</strong></p>
<p>äº‹ä»¶æ‰§è¡Œé¡ºåºï¼šæœ€é¡¶å±‚window-&gt;æœ€åº•å±‚è§¦å‘äº‹ä»¶çš„dom</p>
<p><strong>äº‹ä»¶å†’æ³¡</strong></p>
<p>äº‹ä»¶æ‰§è¡Œé¡ºåºä¸äº‹ä»¶æ•è·ç›¸å</p>
<p>ä¸‹é¢ä½¿ç”¨once:true æ¥æŒ‡å®šäº‹ä»¶åªæ‰§è¡Œä¸€æ¬¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;button id=&quot;app&quot;&gt;Ashuntefannao&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">    app.addEventListener(</span><br><span class="line">        &#x27;click&#x27;,</span><br><span class="line">        function () &#123;</span><br><span class="line">            alert(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼_Ashun&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; once: true &#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½® <code>&#123; capture: true &#125;</code> æˆ–ç›´æ¥è®¾ç½®ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºtrueç”¨æ¥åœ¨æ•è·é˜¶æ®µæ‰§è¡Œäº‹ä»¶</p>
<blockquote>
<p>addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’true/false å’Œè®¾ç½® {capture:true/false}æ˜¯ä¸€æ ·</p>
</blockquote>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; style=&quot;background-color: red&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;bt&quot;&gt;Ashuntefannao&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">    const bt = document.querySelector(&#x27;#bt&#x27;)</span><br><span class="line">    app.addEventListener(</span><br><span class="line">        &#x27;click&#x27;,</span><br><span class="line">        function () &#123;</span><br><span class="line">            alert(&#x27;è¿™æ˜¯diväº‹ä»¶ &#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; capture: true &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    bt.addEventListener(</span><br><span class="line">        &#x27;click&#x27;,</span><br><span class="line">        function () &#123;</span><br><span class="line">            alert(&#x27;è¿™æ˜¯æŒ‰é’®äº‹ä»¶ &#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; capture: true &#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½® <code>&#123; capture: false &#125;</code> æˆ– ç›´æ¥è®¾ç½®ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºfalse æˆ– ä¸è®¾ç½®ç¬¬ä¸‰ä¸ªå‚æ•°(é»˜è®¤ä¸ºfalse), ç”¨æ¥åœ¨å†’æ³¡é˜¶æ®µæ‰§è¡Œäº‹ä»¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; style=&quot;background-color: red&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;bt&quot;&gt;Ashuntefannao&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">    const bt = document.querySelector(&#x27;#bt&#x27;)</span><br><span class="line">    app.addEventListener(</span><br><span class="line">        &#x27;click&#x27;,</span><br><span class="line">        function () &#123;</span><br><span class="line">            alert(&#x27;è¿™æ˜¯diväº‹ä»¶ &#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; capture: false &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    bt.addEventListener(</span><br><span class="line">        &#x27;click&#x27;,</span><br><span class="line">        function () &#123;</span><br><span class="line">            alert(&#x27;è¿™æ˜¯æŒ‰é’®äº‹ä»¶ &#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; capture: false &#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>passive</code>é€‰é¡¹:   å£°æ˜äº‹ä»¶é‡Œä¸ä¼šåˆ¤æ–­ <code>preventDefault()</code>ï¼Œå¯ä»¥å‡å°‘ç³»ç»Ÿé»˜è®¤è¡Œä¸ºçš„ç­‰å¾…</p>
<p>å¾ˆå¤šç§»åŠ¨ç«¯çš„é¡µé¢éƒ½ä¼šç›‘å¬ touchstart ç­‰ touch äº‹ä»¶ï¼Œåƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.addEventListener(&quot;touchstart&quot;, function(e)&#123;</span><br><span class="line">    ... &#x2F;&#x2F; æµè§ˆå™¨ä¸çŸ¥é“è¿™é‡Œä¼šä¸ä¼šæœ‰ e.preventDefault()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ç”±äº touchstart äº‹ä»¶å¯¹è±¡çš„ cancelable å±æ€§ä¸º trueï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„é»˜è®¤è¡Œä¸ºå¯ä»¥è¢«ç›‘å¬å™¨é€šè¿‡ preventDefault() æ–¹æ³•é˜»æ­¢ï¼Œé‚£å®ƒçš„é»˜è®¤è¡Œä¸ºæ˜¯ä»€ä¹ˆå‘¢ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯æ»šåŠ¨å½“å‰é¡µé¢ï¼ˆè¿˜å¯èƒ½æ˜¯ç¼©æ”¾é¡µé¢ï¼‰ï¼Œå¦‚æœå®ƒçš„é»˜è®¤è¡Œä¸ºè¢«é˜»æ­¢äº†ï¼Œé¡µé¢å°±å¿…é¡»é™æ­¢ä¸åŠ¨ã€‚ä½†æµè§ˆå™¨æ— æ³•é¢„å…ˆçŸ¥é“ä¸€ä¸ªç›‘å¬å™¨ä¼šä¸ä¼šè°ƒç”¨ preventDefault()ï¼Œå®ƒèƒ½åšçš„åªæœ‰ç­‰ç›‘å¬å™¨æ‰§è¡Œå®Œåå†å»æ‰§è¡Œé»˜è®¤è¡Œä¸ºï¼Œè€Œç›‘å¬å™¨æ‰§è¡Œæ˜¯è¦è€—æ—¶çš„ï¼Œæœ‰äº›ç”šè‡³è€—æ—¶å¾ˆæ˜æ˜¾ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´é¡µé¢å¡é¡¿ã€‚å³ä¾¿ç›‘å¬å™¨æ˜¯ä¸ªç©ºå‡½æ•°ï¼Œä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„å¡é¡¿ï¼Œæ¯•ç«Ÿç©ºå‡½æ•°çš„æ‰§è¡Œä¹Ÿä¼šè€—æ—¶ã€‚</p>
<h3 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h3><p>æ‰§è¡Œäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ï¼Œä¼šäº§ç”ŸåŒ…å«å½“å‰äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼Œå³ä¸ºäº‹ä»¶å¯¹è±¡ã€‚<strong>ç³»ç»Ÿä¼šè‡ªåŠ¨åšä¸ºå‚æ•°ä¼ é€’ç»™äº‹ä»¶å¤„ç†ç¨‹åº</strong>ã€‚</p>
<ul>
<li>å¤§éƒ¨åˆ†æµè§ˆå™¨å°†äº‹ä»¶å¯¹è±¡ä¿å­˜åˆ°window.eventä¸­</li>
<li>æœ‰äº›æµè§ˆå™¨ä¼šå°†äº‹ä»¶å¯¹è±¡åšä¸ºäº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°ä¼ é€’</li>
</ul>
<p>äº‹ä»¶å¯¹è±¡å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>äº‹ä»¶ç±»å‹</td>
</tr>
<tr>
<td>target</td>
<td>äº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼Œå†’æ³¡æ–¹å¼æ—¶çˆ¶çº§å¯¹è±¡å¯ä»¥é€šè¿‡è¯¥å±æ€§æ‰¾åˆ°åœ¨å“ªä¸ªå­å…ƒç´ ä¸Šæœ€ç»ˆæ‰§è¡Œäº‹ä»¶</td>
</tr>
<tr>
<td>currentTarget</td>
<td>å½“å‰æ‰§è¡Œäº‹ä»¶çš„å¯¹è±¡</td>
</tr>
<tr>
<td>timeStamp</td>
<td>äº‹ä»¶å‘ç”Ÿæ—¶é—´</td>
</tr>
<tr>
<td>x</td>
<td>ç›¸å¯¹çª—å£çš„Xåæ ‡</td>
</tr>
<tr>
<td>y</td>
<td>ç›¸å¯¹çª—å£çš„Yåæ ‡</td>
</tr>
<tr>
<td>clientX</td>
<td>ç›¸å¯¹çª—å£çš„Xåæ ‡</td>
</tr>
<tr>
<td>clientY</td>
<td>ç›¸å¯¹çª—å£çš„Yåæ ‡</td>
</tr>
<tr>
<td>screenX</td>
<td>ç›¸å¯¹è®¡ç®—æœºå±å¹•çš„Xåæ ‡</td>
</tr>
<tr>
<td>screenY</td>
<td>ç›¸å¯¹è®¡ç®—æœºå±å¹•çš„Yåæ ‡</td>
</tr>
<tr>
<td>pageX</td>
<td>ç›¸å¯¹äºæ–‡æ¡£çš„Xåæ ‡</td>
</tr>
<tr>
<td>pageY</td>
<td>ç›¸å¯¹äºæ–‡æ¡£çš„Yåæ ‡</td>
</tr>
<tr>
<td>offsetX</td>
<td>ç›¸å¯¹äºäº‹ä»¶å¯¹è±¡çš„Xåæ ‡</td>
</tr>
<tr>
<td>offsetY</td>
<td>ç›¸å¯¹äºäº‹ä»¶å¯¹è±¡çš„Yåæ ‡</td>
</tr>
<tr>
<td>layerX</td>
<td>ç›¸å¯¹äºçˆ¶çº§å®šä½çš„Xåæ ‡</td>
</tr>
<tr>
<td>layerY</td>
<td>ç›¸å¯¹äºçˆ¶çº§å®šä½çš„Yåæ ‡</td>
</tr>
<tr>
<td>path</td>
<td>å†’æ³¡çš„è·¯å¾„</td>
</tr>
<tr>
<td>altKey</td>
<td>æ˜¯å¦æŒ‰äº†alté”®</td>
</tr>
<tr>
<td>shiftKey</td>
<td>æ˜¯å¦æŒ‰äº†shifté”®</td>
</tr>
<tr>
<td>metaKey</td>
<td>æ˜¯å¦æŒ‰äº†åª’ä½“é”®</td>
</tr>
<tr>
<td>window.pageXOffset</td>
<td>æ–‡æ¡£å‚è€ƒçª—å£æ°´å¹³æ»šåŠ¨çš„è·ç¦»</td>
</tr>
<tr>
<td>window.pageYOffset</td>
<td>æ–‡æ¡£å‚è€ƒçª—å£å‚ç›´æ»šåŠ¨çš„è·ç¦»</td>
</tr>
</tbody></table>
<h3 id="å†’æ³¡æ•è·"><a href="#å†’æ³¡æ•è·" class="headerlink" title="å†’æ³¡æ•è·"></a>å†’æ³¡æ•è·</h3><h4 id="å†’æ³¡è¡Œä¸º"><a href="#å†’æ³¡è¡Œä¸º" class="headerlink" title="å†’æ³¡è¡Œä¸º"></a>å†’æ³¡è¡Œä¸º</h4><p>äº‹ä»¶é»˜è®¤æ˜¯å†’æ³¡æ‰§è¡Œçš„ï¼šæ ‡ç­¾å…ƒç´ æ˜¯åµŒå¥—çš„ï¼Œåœ¨ä¸€ä¸ªå…ƒç´ ä¸Šè§¦å‘çš„äº‹ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¼šå‘ä¸Šè§¦å‘çˆ¶çº§å…ƒç´ å¯¹åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¸€ç›´åˆ°æœ€é¡¶å±‚windowã€‚</p>
<ul>
<li>å¤§éƒ¨åˆ†äº‹ä»¶éƒ½ä¼šå†’æ³¡ï¼Œä½†åƒfocusäº‹ä»¶åˆ™ä¸ä¼š</li>
<li>event.target <code>æŒ‡å‘äº‹ä»¶é“¾ä¸­æœ€åº•å±‚äº‹ä»¶çš„å¯¹è±¡</code></li>
<li>event.currentTarget == this å³å½“å‰æ‰§è¡Œäº‹ä»¶çš„å¯¹è±¡</li>
</ul>
<p>ä»¥ä¸‹ç¤ºä¾‹æœ‰æ ‡ç­¾çš„åµŒå¥—ï¼Œå¹¶ä¸”çˆ¶å­æ ‡ç­¾éƒ½è®¾ç½®äº†äº‹ä»¶ï¼Œå½“åœ¨å­æ ‡ç­¾ä¸Šè§¦å‘äº‹ä»¶äº‹ä¼šå†’æ³¡æ‰§è¡Œçˆ¶çº§æ ‡ç­¾çš„äº‹ä»¶ï¼Œç›´è‡³window</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      #app &#123;</span><br><span class="line">        height: 70px;</span><br><span class="line">        background-color: #95a5a6;</span><br><span class="line">      &#125;</span><br><span class="line">      strong &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        height: 30px;</span><br><span class="line">        background-color: #f39c12;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      Ashuntefannao</span><br><span class="line">      &lt;strong&gt;MyStrong&lt;&#x2F;strong&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"> &lt;script&gt;</span><br><span class="line">      const app &#x3D; document.querySelector(&quot;#app&quot;);</span><br><span class="line">      const strong &#x3D; document.querySelector(&quot;strong&quot;);</span><br><span class="line">      </span><br><span class="line">      window.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;window Method&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      document.documentElement.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;html Method&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      app.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;App Method&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      strong.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;strong Method&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹æ— è®ºç‚¹å‡»å“ªä¸ªå…ƒç´ ï¼Œéƒ½ä¼šå˜ä¸º<strong>è“è‰²</strong></p>
<ul>
<li><code>event.target</code>æŒ‡å‘äº‹ä»¶é“¾ä¸­çš„æœ€åº•å±‚çš„äº‹ä»¶å¯¹è±¡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      article &#123;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 200px;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        background: #5f27cd;</span><br><span class="line">        border-radius: 10px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      section &#123;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background: #ff9f43;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;article&gt;</span><br><span class="line">      &lt;section&gt;&lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;article&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    document.body.addEventListener(&quot;click&quot;, (evnet) &#x3D;&gt; &#123;</span><br><span class="line">      event.target.style.background &#x3D; &quot;#0abde3&quot;; &#x2F;&#x2F; ç¥–å…ˆçº§bodyæ”¹è“è‰²</span><br><span class="line">      console.log(event.target);	&#x2F;&#x2F;ç”±äºå†’æ³¡æ‰§è¡Œï¼Œç‚¹å‡»ä»»æ„å…ƒç´ ï¼Œè¯¥è¯­å¥éƒ½ä¼šæ‰§è¡Œ</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;article&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.target.style.background &#x3D; &quot;#ee5253&quot;; &#x2F;&#x2F; çˆ¶çº§articleæ”¹çº¢è‰²</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;section&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.target.style.background &#x3D; &quot;#10ac84&quot;; &#x2F;&#x2F; å­çº§sectionæ”¹ç»¿è‰²</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è‹¥é€šè¿‡<code>event.currentTarget</code>å¤„ç†å½“å‰æ‰€è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œåˆ™æ›´æ”¹çš„é¢œè‰²å°±ä¼šå¯¹åº”èµ·æ¥</p>
<ul>
<li>ç”±äºäº‹ä»¶å†’æ³¡ï¼Œç‚¹å‡»æŸä¸ªå…ƒç´ ï¼Œä¹Ÿä¼šå¯¼è‡´å…¶ç¥–å…ˆå…ƒç´ çš„æ›´æ”¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">    document.body.addEventListener(&quot;click&quot;, (evnet) &#x3D;&gt; &#123;</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#0abde3&quot;; &#x2F;&#x2F; ç¥–å…ˆçº§bodyæ”¹è“è‰²</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;article&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#ee5253&quot;; &#x2F;&#x2F; çˆ¶çº§articleæ”¹çº¢è‰²</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;section&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#10ac84&quot;; &#x2F;&#x2F; å­çº§sectionæ”¹ç»¿è‰²</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



<h4 id="é˜»æ­¢å†’æ³¡"><a href="#é˜»æ­¢å†’æ³¡" class="headerlink" title="é˜»æ­¢å†’æ³¡"></a>é˜»æ­¢å†’æ³¡</h4><p>å†’æ³¡è¿‡ç¨‹ä¸­çš„ä»»ä½•äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œéƒ½å¯ä»¥æ‰§è¡Œ <code>event.stopPropagation/stopImmediatePropagation()</code> æ–¹æ³•é˜»æ­¢ç»§ç»­è¿›è¡Œå†’æ³¡ä¼ é€’</p>
<ul>
<li>event.stopPropagation() ç”¨äºé˜»æ­¢å†’æ³¡</li>
<li>event.stopImmediatePropagation() é˜»æ­¢<code>äº‹ä»¶å†’æ³¡</code>å¹¶ä¸”é˜»æ­¢<code>ç›¸åŒäº‹ä»¶ç±»å‹çš„å…¶ä»–äº‹ä»¶å¤„ç†å‡½æ•°è¢«è°ƒç”¨</code></li>
</ul>
<p>ä½¿ç”¨event.stopPropagationå¤„ç†å†’æ³¡è¡Œä¸ºä¸­çš„ä¾‹å­ï¼Œé€šè¿‡é˜»æ­¢å†’æ³¡ï¼Œç‚¹å‡»æŸä¸ªå…ƒç´ ï¼Œä¸ä¼šå½±å“ç¥–å…ˆå…ƒç´ çš„èƒŒæ™¯é¢œè‰²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">    document.body.addEventListener(&quot;click&quot;, (evnet) &#x3D;&gt; &#123;</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#0abde3&quot;;</span><br><span class="line">      console.log(event.target);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;article&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.stopPropagation();</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#ee5253&quot;;</span><br><span class="line">      console.log(event.currentTarget);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    document.querySelector(&quot;section&quot;).addEventListener(&quot;click&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      event.stopPropagation();</span><br><span class="line">      event.currentTarget.style.background &#x3D; &quot;#10ac84&quot;;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p><code>stopPropagation</code>åªæ˜¯é˜»æ­¢å†’æ³¡ï¼Œä¸ä¼šé˜»æ­¢ç›¸åŒäº‹ä»¶ç±»å‹çš„å…¶å®ƒäº‹ä»¶å¤„ç†å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">	&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      Ashuntefannao</span><br><span class="line">      &lt;strong&gt;MyStrong&lt;&#x2F;strong&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"> 			const app &#x3D; document.querySelector(&quot;#app&quot;);</span><br><span class="line">      const strong &#x3D; document.querySelector(&quot;strong&quot;);</span><br><span class="line"></span><br><span class="line">      app.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;App Method&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      strong.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">        console.log(&quot;strong Method__1&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      strong.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;strong Method__2&quot;);</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»strongï¼Œæ‰“å°ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;strong Method__1</span><br><span class="line">&#x2F;&#x2F;strong Method__2</span><br></pre></td></tr></table></figure>

<p>è‹¥å°†ä¸Šè¿°ä»£ç ä¸­çš„<code>stopPropagation</code>æ”¹ä¸º<code>stopImmediatePropagation</code>ï¼Œåˆ™ä¹Ÿä¼šé˜»æ­¢ç›¸åŒäº‹ä»¶çš„å…¶å®ƒå¤„ç†å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç‚¹å‡»strongï¼Œæ‰“å°ç»“æœ: &#x2F;&#x2F;strong Method__1</span><br></pre></td></tr></table></figure>



<h4 id="äº‹ä»¶æ•è·"><a href="#äº‹ä»¶æ•è·" class="headerlink" title="äº‹ä»¶æ•è·"></a>äº‹ä»¶æ•è·</h4><p>äº‹ä»¶æ•è·ï¼šäº‹ä»¶æ‰§è¡Œé¡ºåºä¸å†’æ³¡è¡Œä¸ºç›¸åï¼Œä¼šç”±äº‹ä»¶é“¾çš„æœ€é¡¶å±‚windowé€æ­¥å‘ä¸‹ä¼ é€’æ‰§è¡Œã€‚äº‹ä»¶æ•è·åœ¨å®é™…ä½¿ç”¨ä¸­é¢‘ç‡ä¸é«˜ã€‚</p>
<ul>
<li><p>é€šè¿‡è®¾ç½®ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºtrueæˆ–{ capture: true } åœ¨æ•è·é˜¶æ®µæ‰§è¡Œäº‹ä»¶å¤„ç†ç¨‹åº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      #app &#123;</span><br><span class="line">        height: 70px;</span><br><span class="line">        background-color: #95a5a6;</span><br><span class="line">      &#125;</span><br><span class="line">      strong &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        height: 30px;</span><br><span class="line">        background-color: #f39c12;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      Ashuntefannao</span><br><span class="line">      &lt;strong&gt;MyStrong&lt;&#x2F;strong&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">     const app &#x3D; document.querySelector(&quot;#app&quot;);</span><br><span class="line">     const strong &#x3D; document.querySelector(&quot;strong&quot;);</span><br><span class="line"></span><br><span class="line">      app.addEventListener(</span><br><span class="line">        &quot;click&quot;,</span><br><span class="line">        () &#x3D;&gt; &#123;</span><br><span class="line">          console.log(&quot;App Method&quot;);</span><br><span class="line">        &#125;,</span><br><span class="line">        true</span><br><span class="line">      );</span><br><span class="line">      </span><br><span class="line">      strong.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;strong Method__1&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      strong.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&quot;strong Method__2&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ç”±äºåœ¨ç»™<code>#app</code>æ·»åŠ äº‹ä»¶æ—¶ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è®¾ç½®ä¸º<code>true/&#123;capture:true&#125;</code>,åœ¨äº‹ä»¶æ•è·é˜¶æ®µæ‰§è¡Œï¼Œæ‰€ä»¥åœ¨ç‚¹å‡»<code>strong</code>æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ<code>#app</code>çš„äº‹ä»¶å¤„ç†ç¨‹åº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ç»“æœ</span><br><span class="line">App Method</span><br><span class="line">strong Method__1</span><br><span class="line">strong Method__2</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="äº‹ä»¶ä»£ç†"><a href="#äº‹ä»¶ä»£ç†" class="headerlink" title="äº‹ä»¶ä»£ç†"></a>äº‹ä»¶ä»£ç†</h4><p>å€ŸåŠ©å†’æ³¡æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä¸ºå­å…ƒç´ è®¾ç½®äº‹ä»¶ï¼Œè€Œå°†äº‹ä»¶è®¾ç½®åœ¨çˆ¶çº§ã€‚ç„¶åé€šè¿‡çˆ¶çº§äº‹ä»¶å¯¹è±¡çš„<code>event.target</code>æŸ¥æ‰¾äº‹ä»¶é“¾åº•å±‚çš„å…ƒç´ ï¼Œå¹¶å¯¹å®ƒåšå‡ºå¤„ç†ã€‚</p>
<ul>
<li>è¿™åœ¨ä¸ºå¤šä¸ªå…ƒç´ æ·»åŠ ç›¸åŒäº‹ä»¶æ—¶å¾ˆæ–¹ä¾¿</li>
<li>ä¼šä½¿æ·»åŠ äº‹ä»¶å˜å¾—éå¸¸å®¹æ˜“</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸ºçˆ¶çº§ULè®¾ç½®äº‹ä»¶æ¥æ§åˆ¶å­å…ƒç´ LIçš„æ ·å¼åˆ‡æ¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      .active &#123;</span><br><span class="line">        border-radius: 10px;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li&gt;é˜¿é¡º&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;li&gt;Ashuntefannao&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">   document.querySelector(&quot;ul&quot;).addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">      e.target.classList.toggle(&quot;active&quot;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨äº‹ä»¶ä»£ç†æ¥å…±äº«äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¸ç”¨ä¸ºæ¯ä¸ªå…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;li data-action&#x3D;&quot;border&quot; data-border&#x3D;&quot;2px solid #aaa&quot;&gt;é˜¿é¡º&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;li data-action&#x3D;&quot;color&quot; data-color&#x3D;&quot;red&quot;&gt;Ashuntefannao&lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;ul&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    class Event &#123;</span><br><span class="line">      constructor(el) &#123;</span><br><span class="line">        el.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">          let action &#x3D; e.target.dataset.action;</span><br><span class="line">          this[action](e.target);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      border(event) &#123;</span><br><span class="line">        event.style.border &#x3D; event.dataset.border;</span><br><span class="line">      &#125;</span><br><span class="line">      color(event) &#123;</span><br><span class="line">        console.log(event.dataset);</span><br><span class="line">        event.style.color &#x3D; event.dataset.color;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    new Event(document.querySelector(&quot;ul&quot;));</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨äº‹ä»¶ä»£ç†å®ç°çš„TABé¢æ¿æ•ˆæœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">			.tab &#123;</span><br><span class="line">        width: 200px;</span><br><span class="line">      &#125;</span><br><span class="line">      dl &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        align-items: center;</span><br><span class="line">        justify-content: center;</span><br><span class="line">      &#125;</span><br><span class="line">      dt,</span><br><span class="line">      dd &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        color: white;</span><br><span class="line">      &#125;</span><br><span class="line">      dt &#123;</span><br><span class="line">        height: 30px;</span><br><span class="line">        background-color: #34495e;</span><br><span class="line">      &#125;</span><br><span class="line">      dd &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        height: 60px;</span><br><span class="line">        background-color: #e67e22;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div class&#x3D;&quot;tab&quot;&gt;</span><br><span class="line">      &lt;dl&gt;</span><br><span class="line">        &lt;dt data-action&#x3D;&quot;toggle&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;dt&gt;</span><br><span class="line">        &lt;dd data-action&#x3D;&quot;hidden&quot;&gt;Ashuntefannao&lt;&#x2F;dd&gt;</span><br><span class="line">        &lt;dt data-action&#x3D;&quot;toggle&quot;&gt;é˜¿é¡º&lt;&#x2F;dt&gt;</span><br><span class="line">        &lt;dd data-action&#x3D;&quot;hidden&quot;&gt;Ashun&lt;&#x2F;dd&gt;</span><br><span class="line">      &lt;&#x2F;dl&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    class Card &#123;</span><br><span class="line">      constructor(el) &#123;</span><br><span class="line">        el.addEventListener(&quot;click&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">          let action &#x3D; e.target.dataset.action;</span><br><span class="line">          this[action](e);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      toggle(event) &#123;</span><br><span class="line">        event.target</span><br><span class="line">          .querySelectorAll(&quot;[data-action&#x3D;&#39;hidden&#39;]&quot;)</span><br><span class="line">          .forEach((elem) &#x3D;&gt; (elem.hidden &#x3D; true));</span><br><span class="line">        event.target.nextElementSibling.hidden &#x3D; false;</span><br><span class="line">      &#125;</span><br><span class="line">      hidden(event) &#123;</span><br><span class="line">        event.target.hidden &#x3D; true;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    new Card(document.querySelector(&quot;.tab&quot;));</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å®ç°é€šè¿‡ä»£ç†äº‹ä»¶è¡Œä¸ºï¼Œåœ¨è¡¨å•æäº¤æ—¶ç¦ç”¨æäº¤æŒ‰é’®ï¼Œå¹¶è®°å½•æç¤ºæ¬¡æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; /&gt;</span><br><span class="line">  &lt;button type=&quot;button&quot; data-submit-disabled data-action=&quot;submit,counter&quot;&gt;æäº¤è¡¨å•&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    class FORM &#123;</span><br><span class="line">      constructor(el) &#123;</span><br><span class="line">        this.$el = el;</span><br><span class="line">        this.sum = 0;</span><br><span class="line">        el.addEventListener(&quot;click&quot;, (e) =&gt; &#123;</span><br><span class="line">          let actions = e.target.dataset.action;</span><br><span class="line">          actions &amp;&amp;</span><br><span class="line">            actions.split(&quot;,&quot;).forEach((method) =&gt; &#123;</span><br><span class="line">              this[method](e);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      submit(e) &#123;</span><br><span class="line">        this.disabled(e, true);</span><br><span class="line">        console.log(&quot;æ­£åœ¨æäº¤&quot;);</span><br><span class="line"></span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          console.log(&quot;æäº¤æˆåŠŸï¼&quot;);</span><br><span class="line">          this.disabled(e, false);</span><br><span class="line">        &#125;, 1000);</span><br><span class="line">      &#125;</span><br><span class="line">      disabled(event, boolean) &#123;</span><br><span class="line">        this.$el</span><br><span class="line">          .querySelectorAll(&quot;[data-submit-disabled]&quot;)</span><br><span class="line">          .forEach((btn) =&gt; (btn.disabled = boolean));</span><br><span class="line">      &#125;</span><br><span class="line">      counter() &#123;</span><br><span class="line">        console.log(`æäº¤æ¬¡æ•°:$&#123;++this.sum&#125;`);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    new FORM(document.querySelector(&quot;form&quot;));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="æœªæ¥å…ƒç´ "><a href="#æœªæ¥å…ƒç´ " class="headerlink" title="æœªæ¥å…ƒç´ "></a>æœªæ¥å…ƒç´ </h4><p>ä¸‹é¢ä½¿ç”¨äº‹ä»¶ä»£ç†æ¥å¯¹æœªæ¥å…ƒç´ è¿›è¡Œäº‹ä»¶ç»‘å®š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function show() &#123;</span><br><span class="line">    console.log(this.textContent)</span><br><span class="line">  &#125;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">    show.call(event.target)</span><br><span class="line">  &#125;)</span><br><span class="line">  let newH2 = document.createElement(&#x27;h2&#x27;)</span><br><span class="line">  newH2.textContent = &#x27;Ashuntefannao&#x27;</span><br><span class="line">  app.append(newH2)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªåŠŸèƒ½å°è£…èµ·æ¥ï¼Œç”¨æ¥ä»£ç†æŸä¸€ç±»æœªæ¥å…ƒç´ çš„äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">      &lt;section&gt;My name is Section&lt;&#x2F;section&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Element.prototype.on &#x3D; function (EventType, Element, func) &#123;</span><br><span class="line">      this.addEventListener(EventType, (event) &#x3D;&gt; &#123;</span><br><span class="line">        if (event.target.tagName &#x3D;&#x3D;&#x3D; Element.toUpperCase()) &#123;</span><br><span class="line">          func(event);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    let app &#x3D; document.querySelector(&quot;#app&quot;);</span><br><span class="line"></span><br><span class="line">    app.on(&quot;click&quot;, &quot;h2&quot;, (event) &#x3D;&gt; &#123;</span><br><span class="line">      console.log(event.target);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    let h2 &#x3D; document.createElement(&quot;h2&quot;);</span><br><span class="line">    h2.innerText &#x3D; &quot;Ashuntefannao&quot;;</span><br><span class="line">    app.append(h2);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="é»˜è®¤è¡Œä¸º"><a href="#é»˜è®¤è¡Œä¸º" class="headerlink" title="é»˜è®¤è¡Œä¸º"></a>é»˜è®¤è¡Œä¸º</h3><p>JSä¸­æœ‰äº›å¯¹è±¡ä¼šè®¾ç½®é»˜è®¤äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ¯”å¦‚Aé“¾æ¥åœ¨ç‚¹å‡»æ—¶ä¼šè¿›è¡Œè·³è½¬ï¼Œç‚¹å‡»submitä¼šæäº¤è¡¨å•ä¿¡æ¯â€¦</p>
<p>ä¸€èˆ¬é»˜è®¤å¤„ç†ç¨‹åºä¼šåœ¨ç”¨æˆ·å®šä¹‰çš„å¤„ç†ç¨‹åºåæ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­å–æ¶ˆé»˜è®¤äº‹ä»¶çš„æ‰§è¡Œã€‚</p>
<ul>
<li>ä½¿ç”¨onclickç»‘å®šçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œreturn false å¯ä»¥é˜»æ­¢é»˜è®¤è¡Œä¸º</li>
<li>æ¨èä½¿ç”¨<code>event.preventDefault()</code>é˜»æ­¢é»˜è®¤è¡Œä¸º</li>
</ul>
<p>ä¸‹é¢é˜»æ­¢è¶…é“¾æ¥çš„é»˜è®¤è¡Œä¸º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;https://www.baidu.com&quot;&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/a&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  document.querySelector(&#x27;a&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">    event.preventDefault()</span><br><span class="line">    alert(event.target.innerText)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="æ–‡æ¡£äº‹ä»¶"><a href="#æ–‡æ¡£äº‹ä»¶" class="headerlink" title="æ–‡æ¡£äº‹ä»¶"></a>æ–‡æ¡£äº‹ä»¶</h3><p>ä¸‹é¢æ¥å­¦ä¹ é’ˆå¯¹æ–‡æ¡£äº‹ä»¶çš„å¤„ç†ã€‚</p>
<h4 id="äº‹ä»¶ç±»å‹"><a href="#äº‹ä»¶ç±»å‹" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><table>
<thead>
<tr>
<th>äº‹ä»¶å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>window.onload</td>
<td>æ–‡æ¡£è§£æåŠå¤–éƒ¨èµ„æºåŠ è½½å</td>
</tr>
<tr>
<td>DOMContentLoaded</td>
<td>æ–‡æ¡£è§£æåæ‰§è¡Œï¼Œä¸éœ€è¦ç­‰å¾…å›¾ç‰‡/æ ·å¼æ–‡ä»¶ç­‰å¤–éƒ¨èµ„æºåŠ è½½ï¼Œè¯¥äº‹ä»¶åªèƒ½é€šè¿‡addEventListenerè®¾ç½®</td>
</tr>
<tr>
<td>window.onbeforeunload</td>
<td>æ–‡æ¡£åˆ·æ–°æˆ–å…³é—­æ—¶</td>
</tr>
<tr>
<td>window.onunload</td>
<td>æ–‡æ¡£å¸è½½æ—¶</td>
</tr>
<tr>
<td>scroll</td>
<td>é¡µé¢æ»šåŠ¨æ—¶</td>
</tr>
</tbody></table>
<h4 id="onload"><a href="#onload" class="headerlink" title="onload"></a>onload</h4><p>window.onloadäº‹ä»¶åœ¨æ–‡æ¡£è§£æååŠå›¾ç‰‡ã€å¤–éƒ¨æ ·å¼æ–‡ä»¶ç­‰èµ„æºåŠ è½½å®Œåæ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  window.onload = function () &#123;</span><br><span class="line">    alert(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<h4 id="DOMContentLoaded"><a href="#DOMContentLoaded" class="headerlink" title="DOMContentLoaded"></a>DOMContentLoaded</h4><p>DOMContentLoadedäº‹ä»¶åœ¨æ–‡æ¡£æ ‡ç­¾è§£æåæ‰§è¡Œï¼Œä¸éœ€è¦ç­‰å¤–éƒ¨å›¾ç‰‡ã€æ ·å¼æ–‡ä»¶ã€JSæ–‡ä»¶ç­‰èµ„æºåŠ è½½</p>
<ul>
<li>è¯¥äº‹ä»¶åªèƒ½å¤Ÿé€šè¿‡<code>addEventListener</code>æ·»åŠ </li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  window.addEventListener(&#x27;DOMContentLoaded&#x27;, (event) =&gt; &#123;</span><br><span class="line">    alert(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<h4 id="onbeforeunload"><a href="#onbeforeunload" class="headerlink" title="onbeforeunload"></a>onbeforeunload</h4><p>å½“æµè§ˆå™¨çª—å£å…³é—­æˆ–è€…åˆ·æ–°æ—¶ï¼Œä¼šè§¦å‘beforeunloadäº‹ä»¶ï¼Œå¯ä»¥å–æ¶ˆå…³é—­æˆ–åˆ·æ–°é¡µé¢ã€‚</p>
<ul>
<li>è¿”å›å€¼ä¸ºéç©ºå­—ç¬¦ä¸²æ—¶ï¼Œæœ‰äº›æµè§ˆå™¨ä¼šåšä¸ºå¼¹å‡ºçš„æç¤ºä¿¡æ¯å†…å®¹</li>
<li>éƒ¨åˆ†æµè§ˆå™¨ä½¿ç”¨addEventListeneræ— æ³•ç»‘å®šäº‹ä»¶</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">window.onbeforeunload = function (e) &#123;</span><br><span class="line">  return &#x27;çœŸçš„è¦ç¦»å¼€å—ï¼Ÿ&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="unload"><a href="#unload" class="headerlink" title="unload"></a>unload</h4><p>window.unloadäº‹ä»¶åœ¨æ–‡æ¡£èµ„æºè¢«å¸è½½æ—¶æ‰§è¡Œï¼Œåœ¨beforeunloadåæ‰§è¡Œ</p>
<ul>
<li>ä¸èƒ½æ‰§è¡Œalertã€confirmç­‰äº¤äº’æŒ‡ä»¤</li>
<li>å‘ç”Ÿé”™è¯¯ä¹Ÿä¸ä¼šé˜»æ­¢é¡µé¢å…³é—­æˆ–åˆ·æ–°</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//æ–‡æ¡£è¢«å…³é—­æ—¶ï¼Œåœ¨localStorageä¸­å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">window.addEventListener(&#x27;unload&#x27;, function (e) &#123;</span><br><span class="line">  localStorage.setItem(&#x27;name&#x27;, &#x27;Ashun&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="é¼ æ ‡äº‹ä»¶"><a href="#é¼ æ ‡äº‹ä»¶" class="headerlink" title="é¼ æ ‡äº‹ä»¶"></a>é¼ æ ‡äº‹ä»¶</h3><h4 id="äº‹ä»¶ç±»å‹-1"><a href="#äº‹ä»¶ç±»å‹-1" class="headerlink" title="äº‹ä»¶ç±»å‹"></a>äº‹ä»¶ç±»å‹</h4><p>é’ˆå¯¹é¼ æ ‡æ“ä½œçš„è¡Œä¸ºæœ‰å¤šç§äº‹ä»¶ç±»å‹</p>
<ul>
<li>é¼ æ ‡äº‹ä»¶ä¼šè§¦å‘åœ¨Z-INDEX å±‚çº§æœ€é«˜çš„é‚£ä¸ªå…ƒç´ ä¸Š</li>
</ul>
<table>
<thead>
<tr>
<th>äº‹ä»¶å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>click</td>
<td>é¼ æ ‡å•å‡»äº‹ä»¶ï¼ŒåŒæ—¶è§¦å‘ mousedown/mouseup</td>
</tr>
<tr>
<td>dblclick</td>
<td>é¼ æ ‡åŒå‡»äº‹ä»¶</td>
</tr>
<tr>
<td>contextmenu</td>
<td>ç‚¹å‡»å³é”®åæ˜¾ç¤ºçš„æ‰€åœ¨ç¯å¢ƒçš„èœå•</td>
</tr>
<tr>
<td>mousedown</td>
<td>é¼ æ ‡æŒ‰ä¸‹</td>
</tr>
<tr>
<td>mouseup</td>
<td>é¼ æ ‡æŠ¬èµ·æ—¶</td>
</tr>
<tr>
<td>mousemove</td>
<td>é¼ æ ‡ç§»åŠ¨æ—¶</td>
</tr>
<tr>
<td>mouseover</td>
<td>é¼ æ ‡ç§»åŠ¨æ—¶</td>
</tr>
<tr>
<td>mouseout</td>
<td>é¼ æ ‡ä»å…ƒç´ ä¸Šç¦»å¼€æ—¶</td>
</tr>
<tr>
<td>mouseup</td>
<td>é¼ æ ‡æŠ¬èµ·æ—¶</td>
</tr>
<tr>
<td>mouseenter</td>
<td>é¼ æ ‡ç§»å…¥æ—¶è§¦å‘ï¼Œä¸äº§ç”Ÿå†’æ³¡è¡Œä¸º</td>
</tr>
<tr>
<td>mosueleave</td>
<td>é¼ æ ‡ç§»å‡ºæ—¶è§¦å‘ï¼Œä¸äº§ç”Ÿå†’æ³¡è¡Œä¸º</td>
</tr>
<tr>
<td>oncopy</td>
<td>å¤åˆ¶å†…å®¹æ—¶è§¦å‘</td>
</tr>
<tr>
<td>scroll</td>
<td>å…ƒç´ æ»šåŠ¨æ—¶ï¼Œå¯ä»¥ä¸ºå…ƒç´ è®¾ç½®overflow:auto; äº§ç”Ÿæ»šåŠ¨æ¡æ¥æµ‹è¯•</td>
</tr>
</tbody></table>
<h4 id="ç¦æ­¢å¤åˆ¶"><a href="#ç¦æ­¢å¤åˆ¶" class="headerlink" title="ç¦æ­¢å¤åˆ¶"></a>ç¦æ­¢å¤åˆ¶</h4><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">document.addEventListener(&#x27;copy&#x27;, () =&gt; &#123;</span><br><span class="line">  event.preventDefault()</span><br><span class="line">  alert(&#x27;ç¦æ­¢å¤åˆ¶å†…å®¹&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="relatedTarget"><a href="#relatedTarget" class="headerlink" title="relatedTarget"></a>relatedTarget</h4><p>relatedTargetæ˜¯æ§åˆ¶é¼ æ ‡ç§»åŠ¨äº‹ä»¶çš„æ¥æºå’Œç›®æ ‡å¯¹è±¡çš„</p>
<ul>
<li>å¦‚æœç§»åŠ¨è¿‡å¿«ä¼šè·³è½¬ä¸­é—´å¯¹è±¡</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(`#app`)</span><br><span class="line">  const shun = document.querySelector(`#shun`)</span><br><span class="line">  app.addEventListener(&#x27;mouseout&#x27;, () =&gt; &#123;</span><br><span class="line">    console.log(event.target)</span><br><span class="line">    console.log(event.relatedTarget)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="mouseenterä¸mouseleave"><a href="#mouseenterä¸mouseleave" class="headerlink" title="mouseenterä¸mouseleave"></a>mouseenterä¸mouseleave</h4><p>mouseenterä¸mouseleaveäº‹ä»¶ä»å­å…ƒç´ ç§»åŠ¨åˆ°çˆ¶å…ƒç´ æ—¶ä¸è§¦å‘çˆ¶å…ƒç´ äº‹ä»¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  #app &#123;</span><br><span class="line">    background: #e74c3c;</span><br><span class="line">    padding: 80px;</span><br><span class="line">    width: 500px;</span><br><span class="line">  &#125;</span><br><span class="line">  #shun &#123;</span><br><span class="line">    background: #f39c12;</span><br><span class="line">    padding: 30px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"> &lt;div id=&quot;app&quot;&gt;</span><br><span class="line"> 	Ashuntefannao</span><br><span class="line">  &lt;div id=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(`#app`)</span><br><span class="line">  const shun = document.querySelector(`#shun`)</span><br><span class="line"></span><br><span class="line">  app.addEventListener(&#x27;mouseenter&#x27;, () =&gt; &#123;</span><br><span class="line">    console.log(&#x27;app&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  shun.addEventListener(&#x27;mouseenter&#x27;, () =&gt; &#123;</span><br><span class="line">    console.log(&#x27;shun&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h3><p>é’ˆå¯¹é”®ç›˜è¾“å…¥æ“ä½œçš„è¡Œä¸ºæœ‰å¤šç§äº‹ä»¶ç±»å‹</p>
<table>
<thead>
<tr>
<th>äº‹ä»¶å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Keydown</td>
<td>é”®ç›˜æŒ‰ä¸‹æ—¶ï¼Œä¸€ç›´æŒ‰é”®ä¸æ¾å¼€æ—¶keydownäº‹ä»¶ä¼šé‡å¤è§¦å‘</td>
</tr>
<tr>
<td>keyup</td>
<td>æŒ‰é”®æŠ¬èµ·æ—¶</td>
</tr>
<tr>
<td>keypress</td>
<td>æŒ‰é”® æŒ‰ä¸‹ã€æŠ¬èµ· éƒ½ä¼šè§¦å‘ï¼Œä¸€ç›´æŒ‰é”®ä¸æ¾å¼€ä¹Ÿä¼šæŒç»­è§¦å‘</td>
</tr>
</tbody></table>
<h4 id="äº‹ä»¶å¯¹è±¡-1"><a href="#äº‹ä»¶å¯¹è±¡-1" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h4><p>é”®ç›˜äº‹ä»¶äº§ç”Ÿçš„äº‹ä»¶å¯¹è±¡åŒ…å«ç›¸å¯¹åº”çš„å±æ€§</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>keyCode</td>
<td>è¿”å›é”®ç›˜çš„ASCIIå­—ç¬¦æ•°å­—</td>
</tr>
<tr>
<td>code</td>
<td>æŒ‰é”®ç ï¼Œå­—ç¬¦ä»¥Keyå¼€å§‹ï¼Œæ•°å­—ä»¥Digitå¼€å§‹ï¼Œç‰¹æ®Šå­—ç¬¦æœ‰ä¸“å±åå­ã€‚å·¦å³ALTé”®å­—ç¬¦ä¸åŒã€‚ ä¸åŒå¸ƒå±€çš„é”®ç›˜å€¼ä¼šä¸åŒ</td>
</tr>
<tr>
<td>key</td>
<td>æŒ‰é”®çš„å­—ç¬¦å«ä¹‰è¡¨ç¤ºï¼Œå¤§å°å†™ä¸åŒã€‚ä¸èƒ½åŒºåˆ†å·¦å³ALTç­‰ã€‚ä¸åŒè¯­è¨€æ“ä½œç³»ç»Ÿä¸‹å€¼ä¼šä¸åŒ</td>
</tr>
<tr>
<td>altKey</td>
<td>æ˜¯å¦æŒ‰äº†alté”®</td>
</tr>
<tr>
<td>ctrlKey</td>
<td>æ˜¯å¦æŒ‰äº†ctlré”®</td>
</tr>
<tr>
<td>shiftKey</td>
<td>æ˜¯å¦æŒ‰äº†shifté”®</td>
</tr>
<tr>
<td>metaKey</td>
<td>æ˜¯å¦æŒ‰äº†åª’ä½“é”®</td>
</tr>
</tbody></table>
<hr>
<h3 id="è¡¨å•äº‹ä»¶"><a href="#è¡¨å•äº‹ä»¶" class="headerlink" title="è¡¨å•äº‹ä»¶"></a>è¡¨å•äº‹ä»¶</h3><p>ä¸‹é¢æ˜¯å¯ä»¥ç”¨åœ¨è¡¨å•ä¸Šçš„äº‹ä»¶ç±»å‹</p>
<table>
<thead>
<tr>
<th>äº‹ä»¶ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>focus</td>
<td>è·å–ç„¦ç‚¹äº‹ä»¶</td>
</tr>
<tr>
<td>blur</td>
<td>å¤±å»ç„¦ç‚¹äº‹ä»¶</td>
</tr>
<tr>
<td>element.focus()</td>
<td>è®©å…ƒç´ å¼ºåˆ¶è·å–ç„¦ç‚¹</td>
</tr>
<tr>
<td>element.blur()</td>
<td>è®©å…ƒç´ å¤±å»ç„¦ç‚¹</td>
</tr>
<tr>
<td>change</td>
<td>æ–‡æœ¬æ¡†åœ¨<code>å†…å®¹å‘ç”Ÿæ”¹å˜</code>å¹¶<code>å¤±å»ç„¦ç‚¹</code>æ—¶è§¦å‘</td>
</tr>
<tr>
<td>input</td>
<td><code>value</code> è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘ <code>input</code> äº‹ä»¶</td>
</tr>
<tr>
<td>submit</td>
<td>æäº¤è¡¨å•æ—¶è§¦å‘</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>å‡½æ•°è¿›é˜¶</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6/</url>
    <content><![CDATA[<h2 id="å‡½æ•°è¿›é˜¶"><a href="#å‡½æ•°è¿›é˜¶" class="headerlink" title="å‡½æ•°è¿›é˜¶"></a>å‡½æ•°è¿›é˜¶</h2><p>â€‹    å‡½æ•°æ˜¯å°†å¤ç”¨çš„ä»£ç å—å°è£…èµ·æ¥çš„æ¨¡å—ï¼Œåœ¨JSä¸­å‡½æ•°è¿˜æœ‰å…¶ä»–è¯­è¨€æ‰€ä¸å…·æœ‰çš„ç‰¹æ€§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šè¯¦ç»†æŒæ¡ä½¿ç”¨æŠ€å·§ã€‚</p>
<h3 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h3><p>åœ¨JSä¸­å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡å‡½æ•°æ˜¯<code>Function</code>ç±»åˆ›å»ºçš„å®ä¾‹ï¼Œä¸‹é¢çš„ä¾‹å­å¯ä»¥æ–¹ä¾¿ç†è§£å‡½æ•°æ˜¯å¯¹è±¡ã€‚</p>
<ul>
<li><code>new Function(...argus,funcContent)</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let fun = new Function(&quot;title&quot;, &quot;type&quot;, &quot;console.log(title,type)&quot;);</span><br><span class="line">fun(&quot;Ashun&quot;, &quot;Controller&quot;);</span><br></pre></td></tr></table></figure>

<p>æ ‡å‡†è¯­æ³•æ˜¯ï¼šä½¿ç”¨å‡½æ•°å£°æ˜æ¥å®šä¹‰å‡½æ•°</p>
<ul>
<li><code>function funcName(argus)&#123;â€¦funcContent&#125;</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function as(num) &#123;</span><br><span class="line">	return num+=2;</span><br><span class="line">&#125;</span><br><span class="line">console.log(as(3));</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡å­—é¢é‡å±æ€§å‡½æ•°ç®€å†™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  name: null,</span><br><span class="line">  getName: function (name) &#123;</span><br><span class="line">  	return this.name;</span><br><span class="line">  &#125;,</span><br><span class="line">  //ç®€å†™å½¢å¼</span><br><span class="line">  setName(value) &#123;</span><br><span class="line">  	this.name = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">user.setName(&#x27;é˜¿é¡º&#x27;);</span><br><span class="line">console.log(user.getName()); // é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>æ™®é€šå½¢å¼å®šä¹‰çš„å…¨å±€å‡½æ•°ä¼šå£°æ˜åœ¨windowå¯¹è±¡ä¸­ï¼Œè¿™å¾ˆå±é™©ï¼Œå»ºè®®ä½¿ç”¨åé¢ç« èŠ‚çš„æ¨¡å—å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Ashun() &#123;</span><br><span class="line">	console.log(&quot;æ™®é€šå½¢å¼å®šä¹‰çš„å…¨å±€å‡½æ•°ï¼Œä¼šè¿½åŠ åˆ°windowä¸­&quot;);</span><br><span class="line">	console.log(window.Ashun);</span><br><span class="line">&#125;</span><br><span class="line">Ashun();</span><br></pre></td></tr></table></figure>

<p>å†æ¯”å¦‚ï¼šå½“æˆ‘ä»¬å®šä¹‰äº† <code>screenX</code> å‡½æ•°åå°±è¦†ç›–äº†window.screenXæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(window.screenX); 	&#x2F;&#x2F;999</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function screenX() &#123;</span><br><span class="line">  return &quot;é˜¿é¡º&quot;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(window.screenX); </span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>let/const</code>æ—¶ä¸ä¼šå‹å…¥window</p>
<ul>
<li>æ³¨æ„ï¼šä½¿ç”¨å˜é‡æ¥æ”¶å®šä¹‰çš„å‡½æ•°æ—¶ï¼Œæ•´ä½“ä¸ºè¡¨è¾¾å¼ï¼Œå¿…é¡»ä»¥<code>;</code>ç»“å°¾ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let func = function as() &#123;</span><br><span class="line">	return &quot;Ashuntefannao.com&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(window.func); //undefined</span><br></pre></td></tr></table></figure>



<h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><p>â€‹    å‡½æ•°æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡èµ‹å€¼ï¼ŒæŒ‡å‘åˆ°å‡½æ•°å¯¹è±¡çš„æŒ‡é’ˆï¼Œå½“ç„¶æŒ‡é’ˆä¹Ÿå¯ä»¥ä¼ é€’ç»™å…¶ä»–å˜é‡ï¼Œæ³¨æ„ç»“å°¾è¦ä»¥<code>;</code>ç»“æŸ(æ•´ä½“ä¸ºè¡¨è¾¾å¼)ã€‚ä¸‹é¢ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å°† <code>åŒ¿åå‡½æ•°</code> èµ‹å€¼ç»™å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = function(num) &#123;</span><br><span class="line">  return num+=2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(as instanceof Object); //true</span><br><span class="line"></span><br><span class="line">let tfn = as;</span><br><span class="line">console.log(tfn(3));</span><br></pre></td></tr></table></figure>

<p>æ ‡å‡†å£°æ˜çš„å‡½æ•°ä¼˜å…ˆçº§æ›´é«˜ï¼Œè§£æå™¨ä¼šä¼˜å…ˆæå–å‡½æ•°å¹¶æ”¾åœ¨ä»£ç æ ‘é¡¶ç«¯ï¼Œæ‰€ä»¥æ ‡å‡†å£°æ˜å‡½æ•°ä½ç½®ä¸é™åˆ¶ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä»£ç å¯ä»¥æ­£å¸¸æ‰§è¡Œã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(as(3));</span><br><span class="line">function as(num) &#123;</span><br><span class="line">	return ++num;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ ‡å‡†å£°æ˜ä¼˜å…ˆçº§é«˜äºèµ‹å€¼å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(as(3)); //4</span><br><span class="line"></span><br><span class="line">function as(num) &#123;</span><br><span class="line">  return ++num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var as = function() &#123;</span><br><span class="line">  return &quot;as&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç¨‹åºä¸­ä½¿ç”¨åŒ¿åå‡½æ•°çš„æƒ…å†µéå¸¸æ™®é</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sum(...args) &#123;</span><br><span class="line">  return args.reduce((a, b) =&gt; a + b);</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(1, 2, 3));</span><br></pre></td></tr></table></figure>





<h3 id="å‡½æ•°æå‡"><a href="#å‡½æ•°æå‡" class="headerlink" title="å‡½æ•°æå‡"></a>å‡½æ•°æå‡</h3><p>å‡½æ•°ä¹Ÿä¼šæå‡åˆ°å‰é¢ï¼Œä½†ä¼˜å…ˆçº§é«˜äº<code>var</code>å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var c = 1;</span><br><span class="line">function c(c) &#123;</span><br><span class="line">    console.log(c);</span><br><span class="line">    var c = 2;</span><br><span class="line">&#125;</span><br><span class="line">c(3);	//TypeError: c is not a function</span><br></pre></td></tr></table></figure>

<p>å˜é‡å®šä¹‰å‡½æ•°çš„å½¢å¼ï¼Œå‡½æ•°ä¸ä¼šè¢«æå‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(as(&quot;Ashun&quot;));	//Ashun </span><br><span class="line"></span><br><span class="line">function as(title) &#123;</span><br><span class="line">	return title;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var as = function () &#123;</span><br><span class="line">	return &quot;ashun&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>å°æµ‹è¯•</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var c &#x3D; 1;</span><br><span class="line">function d() &#123;</span><br><span class="line">    console.log(c);</span><br><span class="line">    var c &#x3D; 2;</span><br><span class="line">&#125;</span><br><span class="line">d();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var c &#x3D; 1;</span><br><span class="line">function d(c) &#123;</span><br><span class="line">    console.log(c);</span><br><span class="line">    var c &#x3D; 2;</span><br><span class="line">&#125;</span><br><span class="line">d(3);</span><br></pre></td></tr></table></figure>

<ul>
<li>å…¶å®ç¬¬(1)ä¸ªç»“æœå¾ˆå¿«å°±ç­”å‡ºæ¥äº†:<code>undefined</code></li>
</ul>
<p>åŸå› : <code>var</code>å®šä¹‰å˜é‡(é™¤å‡½æ•°)ï¼Œä¼šæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œå› æ­¤æ‰“å°undefinedã€‚</p>
<ul>
<li>ä½†æ˜¯ç¬¬(2)ä¸ªç»“æœä¸€å¼€å§‹æˆ‘è®¤ä¸ºæ˜¯undefinedï¼Œä½†å…¶å®æ˜¯<code>3</code></li>
</ul>
<p>åŸå› : è™½ç„¶ä¹Ÿä¼šå˜é‡æå‡ï¼Œä½†æ˜¯<code>è‹¥æ¥æ”¶çš„å‚æ•°ä¸å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡åé‡å¤ï¼Œå¹¶ä¸”è¯¥å˜é‡æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™è¯¥å˜é‡è¿˜ä¸ºæ¥æ”¶çš„å‚æ•°</code>.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var c &#x3D; 1;</span><br><span class="line">function d(c) &#123;</span><br><span class="line">		var c;</span><br><span class="line">  console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">d(3);	&#x2F;&#x2F;3</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var c &#x3D; 1;</span><br><span class="line">function d(c) &#123;</span><br><span class="line">  console.log(c);</span><br><span class="line">  var c &#x3D; 2;</span><br><span class="line">  console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">d(3);	&#x2F;&#x2F;3 2</span><br></pre></td></tr></table></figure>



<h3 id="å½¢å‚å®å‚"><a href="#å½¢å‚å®å‚" class="headerlink" title="å½¢å‚å®å‚"></a>å½¢å‚å®å‚</h3><p>å½¢å‚æ˜¯åœ¨å‡½æ•°å£°æ˜æ—¶è®¾ç½®çš„å‚æ•°ï¼Œå®å‚æŒ‡åœ¨è°ƒç”¨å‡½æ•°æ—¶ä¼ é€’çš„å€¼ã€‚</p>
<ul>
<li>å½¢å‚æ•°é‡å¤§äºå®å‚æ—¶ï¼Œæ²¡æœ‰ä¼ å‚çš„å½¢å‚å€¼ä¸º undefined</li>
<li>å®å‚æ•°é‡å¤§äºå½¢å‚æ—¶ï¼Œå¤šäºçš„å®å‚å°†å¿½ç•¥å¹¶ä¸ä¼šæŠ¥é”™</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">// n1,n2 ä¸ºå½¢å‚</span><br><span class="line">function sum(n1, n2) &#123;</span><br><span class="line">	return n1+n2;</span><br><span class="line">&#125;</span><br><span class="line">// å‚æ•° 2,3 ä¸ºå®å‚</span><br><span class="line">console.log(sum(2, 3)); //5</span><br></pre></td></tr></table></figure>

<p>å½“æ²¡ä¼ é€’å‚æ•°æ—¶å€¼ä¸ºundefined</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sum(n1, n2) &#123;</span><br><span class="line">  return n1 + n2;</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(2)); //NaN</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h3><p>ä¸‹é¢é€šè¿‡è®¡ç®—å¹´å¹³å‡é”€å”®é¢æ¥ä½“éªŒä»¥å¾€é»˜è®¤å‚æ•°çš„å¤„ç†æ–¹å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//total:æ€»ä»· year:å¹´æ•°</span><br><span class="line">function avg(total, year) &#123;</span><br><span class="line">  year = year || 1;</span><br><span class="line">  return Math.round(total / year);</span><br><span class="line">&#125;</span><br><span class="line">console.log(avg(2000, 3));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>ES6</code>é»˜è®¤å‚æ•°æ–¹å¼å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function avg(total, year = 1) &#123;</span><br><span class="line">  return Math.round(total / year);</span><br><span class="line">&#125;</span><br><span class="line">console.log(avg(2000, 3));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢é€šè¿‡æ’åºæ¥ä½“éªŒæ–°ç‰ˆé»˜è®¤å‚æ•°çš„å¤„ç†æ–¹å¼ï¼Œä¸‹ä¾‹ä¸­å½“ä¸ä¼ é€’ type å‚æ•°æ—¶ä½¿ç”¨é»˜è®¤å€¼ ascã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sortArray(arr, type = &#x27;asc&#x27;) &#123;</span><br><span class="line">	return arr.sort((a, b) =&gt; type == &#x27;asc&#x27; ? a - b : b - a);</span><br><span class="line">&#125;</span><br><span class="line">console.log(sortArray([1, 3, 2, 6], &#x27;desc&#x27;));</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤å‚æ•°è¦æ”¾åœ¨æœ€åé¢</p>
<p>â€‹    é»˜è®¤å‚æ•°å°±æ˜¯ä¸ºäº†åœ¨ä½¿ç”¨è€…é»˜è®¤é…ç½®æ—¶ä¸ç”¨ä¼ å‚ï¼Œè‹¥é»˜è®¤å‚æ•°æ”¾åœ¨å‰é¢ï¼Œè€Œéé»˜è®¤å‚æ•°æ”¾åœ¨åé¢ï¼Œåˆ™å½“ä½¿ç”¨è€…é»˜è®¤é…ç½®æ—¶ï¼Œä¸ºäº†ä¼ é€’éé»˜è®¤å‚æ•°ï¼Œå°±éœ€è¦æŠŠå‰é¢çš„é»˜è®¤å‚æ•°éƒ½ä¼ é€’è¿›å»ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//total:ä»·æ ¼,discount:æŠ˜æ‰£,dis:æŠ˜åæŠ˜</span><br><span class="line">function sum(total, discount = 0, dis = 0) &#123;</span><br><span class="line">  return total * (1 - discount) * (1 - dis);</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(2000, undefined, 0.3));</span><br></pre></td></tr></table></figure>

<h3 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h3><p>ç«‹å³æ‰§è¡Œå‡½æ•°æŒ‡å‡½æ•°å®šä¹‰æ—¶ç«‹å³æ‰§è¡Œ</p>
<ul>
<li>å¯ä»¥ç”¨æ¥å®šä¹‰ç§æœ‰ä½œç”¨åŸŸé˜²æ­¢æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">(function () &#123;</span><br><span class="line">    var web = &#x27;astfn.github.io&#x27;;</span><br><span class="line">&#125;)();</span><br><span class="line">console.log(web); //web is not defined</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>let/const</code> æœ‰å—ä½œç”¨åŸŸç‰¹æ€§ï¼Œæ‰€ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¹Ÿå¯ä»¥äº§ç”Ÿç§æœ‰ä½œç”¨åŸŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let web = &#x27;astfn.github.io&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(web);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="Callback"><a href="#Callback" class="headerlink" title="Callback"></a>Callback</h3><p>å‡½æ•°å¯ä»¥åšä¸ºå‚æ•°ä¼ é€’ï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šæ•°è¯­è¨€éƒ½æ”¯æŒçš„è¯­æ³•è§„åˆ™ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;è®¢é˜…&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    document.querySelector(&#x27;button&#x27;).addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">        alert(&#x27;æ„Ÿè°¢è®¢é˜…&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°å¯ä»¥åšä¸ºå‚æ•°ä¼ é€’</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function filterFun(item) &#123;</span><br><span class="line">	return item &lt;= 3;</span><br><span class="line">&#125;</span><br><span class="line">let arr = [1, 2, 3, 4, 5].filter(filterFun);</span><br><span class="line">console.log(arr); //[1,2,3]</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h3><p>arguments æ˜¯åœ¨å‡½æ•°å†…éƒ¨è·å¾—æ‰€æœ‰å‚æ•°é›†åˆçš„ä¸€ä¸ªæ–¹å¼ ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ <code>arguments</code> æ±‚å’Œçš„ä¾‹å­</p>
<ul>
<li>argumentsæ˜¯ä¸€ç§ç±»æ•°ç»„çš„å¯¹è±¡ï¼Œå±æ€§åç§°ä¾æ¬¡ä¸º0~nï¼Œä¸”åŒ…å«calleeå’Œlengthå±æ€§ï¼Œä½†å…¶ä¸æ˜¯Arrayï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿç›´æ¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œè‹¥è¦ä½¿ç”¨Arrayçš„æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è½¬åŒ–ä¸ºæ•°ç»„ï¼Œæˆ–å€Ÿç”¨æ•°ç»„åŸå‹çš„æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sum() &#123;</span><br><span class="line">  return [...arguments].reduce((total, num) =&gt; total += num , 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum() &#123;</span><br><span class="line">  return Array.from(arguments).reduce((total, num) &#x3D;&gt; (total +&#x3D; num), 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function sum() &#123;</span><br><span class="line">  return Array.prototype.reduce.call(</span><br><span class="line">    arguments,</span><br><span class="line">    (pre, v) &#x3D;&gt; (pre +&#x3D; v),</span><br><span class="line">    0</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(1, 2, 3));	&#x2F;&#x2F;6</span><br></pre></td></tr></table></figure>

<p>æ›´å»ºè®®ä½¿ç”¨å±•ç¤ºè¯­æ³•æ¥æ”¶å¤šä¸ªå‚æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sum(...args) &#123;</span><br><span class="line"> return args.reduce((a, b) =&gt; a + b);</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum(2, 3, 4, 2, 6)); //17</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ç®­å¤´å‡½æ•°æ˜¯å‡½æ•°å£°æ˜çš„ç®€å†™å½¢å¼ï¼Œåœ¨ä½¿ç”¨é€’å½’è°ƒç”¨ã€æ„é€ å‡½æ•°ã€äº‹ä»¶å¤„ç†å™¨æ—¶ä¸å»ºè®®ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p>
<p>æ— å‚æ•°æ—¶ä½¿ç”¨ç©ºæ‰©å·å³å¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let sum = () =&gt; &#123;</span><br><span class="line">	return 1 + 3;</span><br><span class="line">&#125;</span><br><span class="line">console.log(sum()); //4</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ä½“ä¸ºå•ä¸€è¡¨è¾¾å¼æ—¶ä¸éœ€è¦ <code>return</code> è¿”å›å¤„ç†ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿”å›è¡¨è¾¾å¼è®¡ç®—ç»“æœã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let sum = () =&gt; 1 + 3;</span><br><span class="line">console.log(sum()); //4</span><br></pre></td></tr></table></figure>

<p>å¤šå‚æ•°ä¼ é€’ä¸æ™®é€šå£°æ˜å‡½æ•°ä¸€æ ·ä½¿ç”¨é€—å·åˆ†éš”</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 8, 3, 5].filter((item, index) =&gt; &#123;</span><br><span class="line">	return item &lt;= 3;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥çœç•¥æ‹¬å·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 8, 3, 5].filter(item =&gt; item &lt;= 3);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æœ‰å…³ç®­å¤´å‡½æ•°çš„ä½œç”¨åŸŸçŸ¥è¯†ä¼šåœ¨åé¢ç« èŠ‚è®¨è®º</p>
</blockquote>
<h3 id="æ ‡ç­¾å‡½æ•°"><a href="#æ ‡ç­¾å‡½æ•°" class="headerlink" title="æ ‡ç­¾å‡½æ•°"></a>æ ‡ç­¾å‡½æ•°</h3><p>ä¹‹å‰åœ¨Stringçš„<code>æ ‡ç­¾æ¨¡æ¿</code>ä¸­å·²ç»ä»‹ç»è¿‡äº†ï¼Œä½¿ç”¨<code>æ ‡ç­¾å‡½æ•°</code>ï¼Œèƒ½å¤Ÿå¤„ç†stringä¸­çš„<code>æ™®é€šå­—ç¬¦ä¸²ã€å˜é‡</code>ã€‚</p>
<p>ä½¿ç”¨å‡½æ•°æ¥è§£ææ ‡ç­¾å­—ç¬¦ä¸²ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²å€¼çš„æ•°ç»„ï¼Œå…¶ä½™çš„å‚æ•°ä¸ºæ ‡ç­¾å˜é‡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Ashun(str, ...argus) &#123;</span><br><span class="line">  console.log(str); //[&quot;&quot;, &quot;-&quot;, &quot;&quot;, raw: Array(3)]</span><br><span class="line">  console.log(argus); //[&quot;ashun&quot;, &quot;ashuntefannao.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">let name = &#x27;ashun&#x27;,url = &#x27;ashuntefannao.com&#x27;;</span><br><span class="line">Ashun `$&#123;name&#125;-$&#123;url&#125;`;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="thisæŒ‡å‘"><a href="#thisæŒ‡å‘" class="headerlink" title="thisæŒ‡å‘"></a>thisæŒ‡å‘</h3><p>è°ƒç”¨å‡½æ•°æ—¶ <code>this</code> ä¼šéšå¼ä¼ é€’ç»™å‡½æ•°æŒ‡å‡½æ•°è°ƒç”¨æ—¶çš„å…³è”å¯¹è±¡ï¼Œä¹Ÿç§°ä¹‹ä¸ºå‡½æ•°çš„ä¸Šä¸‹æ–‡ã€‚</p>
<ul>
<li>ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°,thisæŒ‡å‘window</li>
<li>å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•ï¼ŒthisæŒ‡å‘è¯¥å¯¹è±¡</li>
<li>ç®­å¤´å‡½æ•°æœ¬èº«æ²¡æœ‰thisæŒ‡å‘ï¼Œä¼šä½¿ç”¨çˆ¶çº§ä½œç”¨åŸŸçš„thisæŒ‡å‘ã€‚</li>
</ul>
<h4 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h4><p>å…¨å±€ç¯å¢ƒä¸‹<code>this</code>å°±æ˜¯windowå¯¹è±¡çš„å¼•ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(this == window); //true</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼æ—¶åœ¨å…¨å±€å‡½æ•°å†…<code>this</code>ä¸º<code>undefined</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var as = &quot;é˜¿é¡º&quot;;</span><br><span class="line">function get() &#123;</span><br><span class="line">	&quot;use strict&quot;;</span><br><span class="line">	console.log(this);	//undefined</span><br><span class="line">	return this.as; 	</span><br><span class="line">&#125;</span><br><span class="line">console.log(get());</span><br><span class="line">//ä¸¥æ ¼æ¨¡å¼å°†äº§ç”Ÿé”™è¯¯  TypeError: Cannot read property &#x27;as&#x27; of undefined</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¯¹è±¡æ–¹æ³•"><a href="#å¯¹è±¡æ–¹æ³•" class="headerlink" title="å¯¹è±¡æ–¹æ³•"></a>å¯¹è±¡æ–¹æ³•</h4><p>å‡½æ•°ä¸ºå¯¹è±¡çš„æ–¹æ³•æ—¶<code>this</code> æŒ‡å‘è¯¥å¯¹è±¡</p>
<p>å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</p>
<p><strong>æ„é€ å‡½æ•°</strong></p>
<p>å‡½æ•°å½“è¢« <code>new</code> æ—¶å³ä¸ºæ„é€ å‡½æ•°ï¼Œä¸€èˆ¬æ„é€ å‡½æ•°ä¸­åŒ…å«å±æ€§ä¸æ–¹æ³•ã€‚å‡½æ•°ä¸­çš„ä¸Šä¸‹æ–‡<code>æŒ‡å‘åˆ°å®ä¾‹å¯¹è±¡</code>ã€‚</p>
<ul>
<li>æ„é€ å‡½æ•°ä¸»è¦ç”¨æ¥ç”Ÿæˆå¯¹è±¡ï¼Œé‡Œé¢çš„thisé»˜è®¤å°±æ˜¯æŒ‡å½“å‰å¯¹è±¡</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;</span><br><span class="line">  this.name = &quot;é˜¿é¡º&quot;;</span><br><span class="line">  this.say = function() &#123;</span><br><span class="line">    console.log(this); 			//User &#123;name: &quot;é˜¿é¡º&quot;, say: Æ’&#125;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User();</span><br><span class="line">console.log(as.say()); 			//é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p><strong>å¯¹è±¡å­—é¢é‡</strong></p>
<ul>
<li>ä¸‹ä¾‹ä¸­çš„aså‡½æ•°ä¸å±äºå¯¹è±¡æ–¹æ³•æ‰€ä»¥æŒ‡å‘<code>window</code></li>
<li>showå±äºå¯¹è±¡æ–¹æ³•æ‰§å‘ <code>obj</code>å¯¹è±¡</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">	site: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	show() &#123;</span><br><span class="line">		console.log(this.site); //é˜¿é¡º</span><br><span class="line">		console.log(`show method in :$&#123;this&#125; ä¸­`); //show method in :[object Object] ä¸­</span><br><span class="line">		function as() &#123;</span><br><span class="line">			console.log(`as function in : $&#123;this&#125; ä¸­`); //as function in : [object Window] ä¸­</span><br><span class="line">		&#125;</span><br><span class="line">		as();</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.show();</span><br></pre></td></tr></table></figure>

<p>åœ¨æ–¹æ³•ä¸­ä½¿ç”¨å‡½æ•°æ—¶ï¼Œæœ‰äº›å‡½æ•°å¯ä»¥æ”¹å˜thiså¦‚<code>forEachã€mapâ€¦</code>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨åé¢ä»‹ç»çš„<code>apply/call/bind</code>ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Lesson = &#123;</span><br><span class="line">  site: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  lists: [&quot;js&quot;, &quot;css&quot;, &quot;mysql&quot;],</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.lists.map(function(title) &#123;</span><br><span class="line">      return `$&#123;this.site&#125;-$&#123;title&#125;`;</span><br><span class="line">    &#125;, this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(Lesson.show());</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥åœ¨çˆ¶ä½œç”¨åŸŸä¸­å®šä¹‰å¼•ç”¨<code>this</code>çš„å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Lesson = &#123;</span><br><span class="line">    site: &quot;é˜¿é¡º&quot;,</span><br><span class="line">    lists: [&quot;js&quot;, &quot;css&quot;, &quot;mysql&quot;],</span><br><span class="line">    show() &#123;</span><br><span class="line">      const self = this;</span><br><span class="line">      return this.lists.map(function(title) &#123;</span><br><span class="line">        return `$&#123;self.site&#125;-$&#123;title&#125;`;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">console.log(Lesson.show());</span><br></pre></td></tr></table></figure>





<h4 id="ç®­å¤´å‡½æ•°-1"><a href="#ç®­å¤´å‡½æ•°-1" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h4><p>ç®­å¤´å‡½æ•°æ²¡æœ‰<code>this</code>, ä¹Ÿå¯ä»¥ç†è§£ä¸ºç®­å¤´å‡½æ•°ä¸­çš„<code>this</code> ä¼šç»§æ‰¿å®šä¹‰å‡½æ•°æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ç†è§£ä¸ºå’Œå¤–å±‚å‡½æ•°æŒ‡å‘åŒä¸€ä¸ªthisã€‚</p>
<ul>
<li>å¦‚æœæƒ³ä½¿ç”¨å‡½æ•°å®šä¹‰æ—¶çš„ä¸Šä¸‹æ–‡ä¸­çš„thisï¼Œé‚£å°±ä½¿ç”¨ç®­å¤´å‡½æ•°</li>
</ul>
<p>ä¸‹ä¾‹ä¸­çš„åŒ¿åå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒä¸ºå…¨å±€æ‰€ä»¥ <code>this</code> æŒ‡å‘ <code>window</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var name = &#x27;ASHUN&#x27;;</span><br><span class="line">var obj = &#123;</span><br><span class="line">  name: &#x27;ashun&#x27;,</span><br><span class="line">  getName: function () &#123;</span><br><span class="line">    return function () &#123;</span><br><span class="line">    	return this.name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj.getName()()); //è¿”å›window.nameçš„å€¼ASHUN</span><br></pre></td></tr></table></figure>

<p>ä»¥å¾€è§£å†³åŠæ³•ï¼šä¼šåœ¨çˆ¶çº§å‡½æ•°(å¯¹è±¡æ–¹æ³•)ä¸­å®šä¹‰å˜é‡ï¼Œä¿ç•™thisï¼Œç„¶ååœ¨ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var name = &#x27;ASHUN&#x27;;</span><br><span class="line">var obj = &#123;</span><br><span class="line">  name: &#x27;é˜¿é¡º&#x27;,</span><br><span class="line">  getName: function () &#123;</span><br><span class="line">    var self = this;</span><br><span class="line">		return function () &#123;</span><br><span class="line">    	return self.name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj.getName()()); //é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç®­å¤´å‡½æ•°å <code>this</code> ä¸ºå®šä¹‰è¯¥å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå®šä¹‰æ—¶çˆ¶ä½œç”¨åŸŸä¸­çš„<code>this</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">var name = &#x27;ASHUN&#x27;;</span><br><span class="line">var obj = &#123;</span><br><span class="line">  name: &#x27;é˜¿é¡º&#x27;,</span><br><span class="line">  getName: function () &#123;</span><br><span class="line">    return () =&gt; &#123;</span><br><span class="line">    	return this.name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj.getName()()); //é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>äº‹ä»¶ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°ç»“æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„</p>
<ul>
<li>äº‹ä»¶å‡½æ•°å¯ç†è§£ä¸ºå¯¹è±¡<code>onclick</code>è®¾ç½®å€¼ï¼Œæ‰€ä»¥å‡½æ•°å£°æ˜æ—¶<code>this</code>ä¸ºå½“å‰å¯¹è±¡</li>
<li>ä½†ä½¿ç”¨ç®­å¤´å‡½æ•°æ—¶<code>this</code>ä¸ºå£°æ˜å‡½æ•°ä¸Šä¸‹æ–‡</li>
</ul>
<p>ä¸‹é¢ä½“éªŒä½¿ç”¨æ™®é€šäº‹ä»¶å‡½æ•°æ—¶<code>this</code>æŒ‡å‘å…ƒç´ å¯¹è±¡</p>
<p>ä½¿ç”¨æ™®é€šå‡½æ•°æ—¶<code>this</code>ä¸ºå½“å‰DOMå¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button desc=&quot;ashun&quot;&gt;button&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let Dom = &#123;</span><br><span class="line">    site: &quot;é˜¿é¡º&quot;,</span><br><span class="line">    bind() &#123;</span><br><span class="line">      const button = document.querySelector(&quot;button&quot;);</span><br><span class="line">      button.addEventListener(&quot;click&quot;, function() &#123;</span><br><span class="line">        alert(this.getAttribute(&quot;desc&quot;));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  Dom.bind();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨ç®­å¤´å‡½æ•°æ—¶thisæŒ‡å‘ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè‹¥æƒ³è·å–å½“å‰çš„DOMï¼Œå¯ä»¥é€šè¿‡<code>e.target|e.srcElement</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button desc=&quot;ashun&quot;&gt;button&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let Dom = &#123;</span><br><span class="line">    site: &quot;é˜¿é¡º&quot;,</span><br><span class="line">    bind() &#123;</span><br><span class="line">      const button = document.querySelector(&quot;button&quot;);</span><br><span class="line">      button.addEventListener(&quot;click&quot;, event =&gt; &#123;</span><br><span class="line">        alert(this.site + event.target.innerHTML);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  Dom.bind();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="apply-call-bind"><a href="#apply-call-bind" class="headerlink" title="apply/call/bind"></a>apply/call/bind</h4><p>â€‹    èƒ½å¤Ÿæ”¹å˜thisæŒ‡å‘ï¼Œå¹¶ä¼ å…¥å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå¯¹è±¡å€Ÿç”¨æ–¹æ³•ï¼Œå°±ç°åƒç”Ÿæ´»ä¸­å‘é‚»å±…å€Ÿä¸œè¥¿ä¸€æ ·çš„äº‹æƒ…ã€‚</p>
<h5 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h5><p>æ„é€ å‡½æ•°ä¸­çš„<code>this</code>é»˜è®¤æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç„¶åæ„é€ å‡½æ•°å¤„ç†åæŠŠè¿™ä¸ªç©ºå¯¹è±¡å˜å¾—æœ‰å€¼ã€‚å†éšå¼çš„è®¾ç½®è¿™ä¸ªå¯¹è±¡çš„åŸå‹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ”¹å˜æ„é€ å‡½æ•°ä¸­çš„ç©ºå¯¹è±¡ï¼Œå³è®©æ„é€ å‡½æ•°thisæŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚ä¼ å…¥å‚æ•°åˆå§‹åŒ–å±æ€§ï¼Œå†è®¾ç½®è¯¥å¯¹è±¡çš„åŸå‹ã€‚å°±å¯ä»¥æ¨¡ä»¿<code>new æ„é€ å‡½æ•°()</code>çš„è¿‡ç¨‹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">	this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">let obj = &#123;&#125;;</span><br><span class="line">User.call(obj, &quot;é˜¿é¡º&quot;);</span><br><span class="line">Object.setPrototypeOf(obj,User.prototype)</span><br><span class="line">console.log(obj);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="apply-call"><a href="#apply-call" class="headerlink" title="apply/call"></a>apply/call</h5><p>callä¸apply ç”¨äºæ˜¾ç¤ºçš„è®¾ç½®å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼Œä¸¤ä¸ªæ–¹æ³•ä½œç”¨ä¸€æ ·éƒ½æ˜¯å°†å¯¹è±¡ç»‘å®šåˆ°thisï¼Œåªæ˜¯åœ¨ä¼ é€’å‚æ•°ä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
<ul>
<li>apply ç”¨<code>æ•°ç»„</code>ä¼ å‚</li>
<li>call éœ€è¦<code>åˆ†åˆ«</code>ä¼ å‚</li>
<li>ä¸ bind ä¸åŒcall/apply ä¼š<code>ç«‹å³æ‰§è¡Œ</code>å‡½æ•°</li>
</ul>
<p>è¯­æ³•ä½¿ç”¨ä»‹ç»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function show(title) &#123;</span><br><span class="line">    alert(`$&#123;title+this.name&#125;`);</span><br><span class="line">&#125;</span><br><span class="line">let zs = &#123;</span><br><span class="line">    name: &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">let lisi = &#123;</span><br><span class="line">    name: &#x27;æå››&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">show.call(zs, &#x27;Ashun&#x27;);</span><br><span class="line">show.apply(lisi, [&#x27;SHUN&#x27;]);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>call</code> è®¾ç½®å‡½æ•°ä¸Šä¸‹æ–‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button message=&quot;é˜¿é¡º&quot;&gt;button&lt;/button&gt;</span><br><span class="line">    &lt;button message=&quot;ç‰¹çƒ¦æ¼&quot;&gt;button&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function show() &#123;</span><br><span class="line">        alert(this.getAttribute(&#x27;message&#x27;));</span><br><span class="line">    &#125;</span><br><span class="line">    let bts = document.getElementsByTagName(&#x27;button&#x27;);</span><br><span class="line">    for (let i = 0; i &lt; bts.length; i++) &#123;</span><br><span class="line">        bts[i].addEventListener(&#x27;click&#x27;, () =&gt; show.call(bts[i]));</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰¾æ•°ç»„ä¸­çš„æ•°å€¼æœ€å¤§å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 3, 2, 8];</span><br><span class="line">console.log(Math.max(arr)); //NaN</span><br><span class="line">console.log(Math.max.apply(Math, arr)); //8</span><br><span class="line">console.log(Math.max.call(Math,...arr)); //8</span><br><span class="line">console.log(Math.max(...arr)); //8</span><br></pre></td></tr></table></figure>

<p>å®ç°æ„é€ å‡½æ•°å±æ€§ç»§æ‰¿</p>
<ul>
<li>ä¸‹ä¾‹ç›¸å½“äºArticleã€Lessonï¼Œéƒ½ç»§æ‰¿äº†Requestçš„getæ–¹æ³•</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line"></span><br><span class="line">      function Request() &#123;</span><br><span class="line">        this.get = function (preset = &#123;&#125;) &#123;</span><br><span class="line">          let paramsTxt = Object.keys(preset)</span><br><span class="line">            .map((key) =&gt; `$&#123;key&#125;=$&#123;preset[key]&#125;`)</span><br><span class="line">            .join(&quot;&amp;&quot;);</span><br><span class="line"></span><br><span class="line">          return `$&#123;this.url&#125;?$&#123;paramsTxt&#125;`;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      //æ§åˆ¶æ–‡ç« è¯·æ±‚</span><br><span class="line">      function Article() &#123;</span><br><span class="line">        this.url = &quot;ashun/article/index.html&quot;;</span><br><span class="line">        Request.call(this);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      //æ§åˆ¶è¯¾ç¨‹è¯·æ±‚</span><br><span class="line">      function Lesson() &#123;</span><br><span class="line">        this.url = &quot;ashun/course/index.html&quot;;</span><br><span class="line">        Request.apply(this, []);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      let articleReq = new Article();</span><br><span class="line">      let lessonReq = new Lesson();</span><br><span class="line">      console.log(articleReq.get(&#123; name: &quot;Ashun&quot;, type: &quot;Controller&quot; &#125;));</span><br><span class="line">      console.log(lessonReq.get(&#123; row: 20, start: 999 &#125;));</span><br></pre></td></tr></table></figure>

<p>åˆ¶ä½œæ˜¾ç¤ºéšè—é¢æ¿</p>
<img src="å‡½æ•°è¿›é˜¶.assets/call-apply.gif" alt="call-apply" style="zoom:70%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        margin: 10px auto;</span><br><span class="line">      &#125;</span><br><span class="line">      dl &#123;</span><br><span class="line">        width: 90%;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">      dt,</span><br><span class="line">      dd &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line">      dt &#123;</span><br><span class="line">        height: 35px;</span><br><span class="line">        background-color: #00b894;</span><br><span class="line">        color: white;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">        letter-spacing: 2px;</span><br><span class="line">        border-radius: 3px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">      &#125;</span><br><span class="line">      dd &#123;</span><br><span class="line">        background-color: #636e72;</span><br><span class="line">        color: #dfe6e9;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        border-radius: 0px 0px 5px 5px;</span><br><span class="line">        transition: 0.3s;</span><br><span class="line">        height: 0px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">      .show &#123;</span><br><span class="line">        height: 180px;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;main&gt;</span><br><span class="line">      &lt;dl&gt;</span><br><span class="line">        &lt;dt&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;dt&gt;</span><br><span class="line">        &lt;dd&gt;Ashuntefannao&lt;&#x2F;dd&gt;</span><br><span class="line">        &lt;dt&gt;å¸Œæœ›å¤§å®¶&lt;&#x2F;dt&gt;</span><br><span class="line">        &lt;dd&gt;Ashuntefannao&lt;&#x2F;dd&gt;</span><br><span class="line">        &lt;dt&gt;æ²¡æœ‰çƒ¦æ¼&lt;&#x2F;dt&gt;</span><br><span class="line">        &lt;dd&gt;Ashuntefannao&lt;&#x2F;dd&gt;</span><br><span class="line">      &lt;&#x2F;dl&gt;</span><br><span class="line"> 	&lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      function show(index) &#123;</span><br><span class="line">        let items &#x3D; document.querySelectorAll(&quot;dd&quot;);</span><br><span class="line">        items.forEach((v) &#x3D;&gt; v.classList.remove(&quot;show&quot;));</span><br><span class="line">        items[index].classList.add(&quot;show&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      let titles &#x3D; document.querySelectorAll(&quot;dt&quot;);</span><br><span class="line">      titles.forEach((ele, i) &#x3D;&gt; &#123;</span><br><span class="line">        ele.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">          show.call(null, i);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<hr>
<h5 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h5><p><code>bind(this,...args)</code>åœ¨ä½¿ç”¨å½¢å¼ä¸Šä¸callç›¸åŒã€‚bindæ˜¯<code>å¤åˆ¶å‡½æ•°è¡Œä¸º</code>ã€‚</p>
<p>ä¸callã€applyçš„ä¸åŒä¹‹å¤„ï¼š</p>
<ul>
<li><p>bindç»‘å®šåï¼Œå‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œéœ€è¦è¢«è°ƒç”¨ã€‚</p>
</li>
<li><p>åŸç†ä¸åŒ:</p>
<ul>
<li>callã€applyæ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶æ”¹å˜thisæŒ‡å‘ã€‚</li>
<li>ä½¿ç”¨ bind ç»‘å®šå‡½æ•°æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°å‡½æ•°ï¼Œæ–°å‡½æ•°çš„å‡½æ•°ä½“ä¸è¢«ç»‘å®šå‡½æ•°ä¸€æ ·ï¼Œbind æ˜¯åœ¨<code>å¤åˆ¶å¾—åˆ°æ–°å‡½æ•°æ—¶æ”¹å˜çš„thisæŒ‡å‘</code>ã€‚</li>
</ul>
</li>
</ul>
<p>bindæ˜¯å¤åˆ¶å‡½æ•°è¡Œä¸º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let a = function () &#123;&#125;;</span><br><span class="line">	let c = a.bind();</span><br><span class="line">	console.log(c);					//Æ’ () &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">	let a = function () &#123;&#125;;</span><br><span class="line">	let c = a.call();</span><br><span class="line">	console.log(c);					//undefined</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">	let a = function () &#123;&#125;;</span><br><span class="line">	let c = a.apply();</span><br><span class="line">	console.log(c);					//undefined</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»‘å®šå‚æ•°æ³¨æ„äº‹é¡¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function sum(a, b) &#123;</span><br><span class="line">  return this.f + a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨bindä¼šç”Ÿæˆæ–°å‡½æ•°</span><br><span class="line">let newFunc = sum.bind(&#123; f: 1 &#125;, 3);</span><br><span class="line"></span><br><span class="line">//1+3+2 å°†2èµ‹å€¼ç»™å‚æ•°bå³ a=3,b=2</span><br><span class="line">console.log(newFunc(2));</span><br></pre></td></tr></table></figure>

<p>åœ¨äº‹ä»¶ä¸­ä½¿ç”¨<code>bind</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button&gt;é˜¿é¡º&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  document.querySelector(&quot;button&quot;).addEventListener(</span><br><span class="line">    &quot;click&quot;,</span><br><span class="line">    function(event) &#123;</span><br><span class="line">      console.log(event.target.innerHTML + this.url);</span><br><span class="line">    &#125;.bind(&#123; url: &quot;Ashuntefannao.com&quot; &#125;)</span><br><span class="line">  );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åŠ¨æ€æ”¹å˜å…ƒç´ èƒŒæ™¯é¢œè‰²ï¼Œå½“ç„¶ä¸‹é¢çš„ä¾‹å­ä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†</p>
<img src="å‡½æ•°è¿›é˜¶.assets/bind.gif" alt="bind" style="zoom:75%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        background-color: #e17055;</span><br><span class="line">        color: rgba(255, 255, 255, 0.8);</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        transition: 0.8s;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;Ashuntefannao&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      class Color &#123;</span><br><span class="line">        constructor(dom) &#123;</span><br><span class="line">          this.dom &#x3D; dom;</span><br><span class="line">          this.colors &#x3D; [ &quot;#fdcb6e&quot;,&quot;#55efc4&quot;,&quot;#00b894&quot;,&quot;#6c5ce7&quot;,&quot;#74b9ff&quot;,&quot;#e17055&quot;];</span><br><span class="line">          this.run();</span><br><span class="line">        &#125;</span><br><span class="line">        run() &#123;</span><br><span class="line">          setInterval(</span><br><span class="line">            function () &#123;</span><br><span class="line">              let random &#x3D; Math.floor(Math.random() * this.colors.length);</span><br><span class="line">              this.dom.style.backgroundColor &#x3D; this.colors[random];</span><br><span class="line">            &#125;.bind(this),</span><br><span class="line">            800</span><br><span class="line">          );</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      new Color(document.body);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>åŸºæœ¬ç±»å‹</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<h2 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h2><blockquote>
<p>JavaScriptä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šbooleanã€nullã€undefinedã€numberã€stringã€symbolã€BigIntã€‚</p>
<p>å¼•ç”¨ç±»å‹æœ‰ï¼šObjectã€Arrayã€Functionã€Matchã€Dateã€RegExpã€Setã€WeakSetã€Mapã€WeakMapâ€¦</p>
<p>è¯¥æ ‡é¢˜æ‰€ç¤ºåŸºæœ¬ç±»å‹æ„ä¸º <strong>æ–°æ‰‹åˆå§‹å­¦ä¹ </strong> çš„ä¸€äº›æ•°æ®ç±»å‹ã€‚</p>
</blockquote>
<h3 id="ä¸€ã€-ç±»å‹æ£€æµ‹"><a href="#ä¸€ã€-ç±»å‹æ£€æµ‹" class="headerlink" title="ä¸€ã€ ç±»å‹æ£€æµ‹"></a>ä¸€ã€ ç±»å‹æ£€æµ‹</h3><h4 id="1-1-typeof"><a href="#1-1-typeof" class="headerlink" title="1.1 typeof"></a>1.1 typeof</h4><p><code>typeof</code> èƒ½å¤Ÿæ­£ç¡®çš„è¿”å›ä»¥ä¸‹æ•°æ®ç±»å‹ï¼ˆåœ¨ä¸ä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å‰æä¸‹ï¼Œå¦åˆ™è¿”å›Objectï¼‰</p>
<ul>
<li><p>Numberã€Stringã€undefinedã€Objectã€Booleanã€function</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(</span><br><span class="line">        typeof 1,									&#x2F;&#x2F;number </span><br><span class="line">        typeof &quot;&quot;,								&#x2F;&#x2F;string </span><br><span class="line">        typeof undefined,					&#x2F;&#x2F;undefined </span><br><span class="line">        typeof &#123;&#125;,								&#x2F;&#x2F;object  </span><br><span class="line">        typeof false,							&#x2F;&#x2F;boolean </span><br><span class="line">        typeof function () &#123;&#125;			&#x2F;&#x2F;function</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>ä¸èƒ½æ­£ç¡®åˆ¤æ–­çš„æƒ…å†µï¼š</p>
<p>â€”ä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–ä¸ºå¯¹è±¡ï¼Œåˆ™è¿”å›Objectã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &quot;Ashun&quot;;</span><br><span class="line">let str &#x3D; new String(&quot;Ashun&quot;); </span><br><span class="line">console.log(typeof as, typeof str); &#x2F;&#x2F;string object</span><br></pre></td></tr></table></figure>

<p>â€”<code>typeof []</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(typeof []);  &#x2F;&#x2F;object</span><br></pre></td></tr></table></figure>

<p>â€”å…³äº<code>typeof null===&#39;object&#39;</code></p>
<p>é¦–å…ˆè¦è¯´æ˜çš„æ˜¯ï¼Œnull**ä¸æ˜¯!**å¯¹è±¡ï¼Œä½†ä¸ºä»€ä¹ˆè¿”å›ç»“æœä¸º<code>object</code>å‘¢ï¼Ÿ</p>
<p>è§£é‡Š: è¿™æ˜¯JSçš„å†å²é—ç•™bugï¼Œåœ¨ JS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ç„¶è€Œ null è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º object ã€‚</p>
<blockquote>
<p>â€”å¦‚æœè¦æ­£ç¡®åˆ¤æ–­èƒ½å¤Ÿä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„ä»¥ä¸Šæ•°æ®ç±»å‹ã€æˆ–Arrayã€‚å¯ä»¥ä½¿ç”¨<code>instanceof</code> ğŸ‘‡</p>
</blockquote>
<hr>
<h4 id="1-2-instanceof"><a href="#1-2-instanceof" class="headerlink" title="1.2 instanceof"></a>1.2 instanceof</h4><p>â€‹    <strong><code>instanceof</code></strong> è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§(åŸå‹å¯¹è±¡)æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œ<code>typeof</code>ä¸èƒ½åŒºåˆ†Arrayï¼Œä½†<code>instanceof</code>å¯ä»¥ã€‚instanceofçš„è¿”å›ç»“æœä¸ºBooleanã€‚</p>
<p>â€”åˆ¤æ–­Array</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log([] instanceof Array);		&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>â€”æ£€æµ‹typeofèƒ½å¤Ÿæ­£ç¡®è¿”å›çš„æ•°æ®ç±»å‹ï¼ˆåœ¨ä¸ æ‰‹åŠ¨å®ä¾‹åŒ– çš„æƒ…å†µä¸‹ï¼‰</p>
<p>â€‹    åªæœ‰objã€functionèƒ½å¤Ÿè¿”å›æ­£ç¡®çš„ç»“æœï¼Œå…¶ä½™è¿”å›falseçš„æ•°æ®ç±»å‹å¦‚æœé€šè¿‡æ„é€ å‡½æ•°å®ä¾‹åŒ–ï¼Œåˆ™èƒ½å¤Ÿæ­£ç¡®åˆ¤æ–­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;&quot; instanceof String);									&#x2F;&#x2F;false</span><br><span class="line">console.log(1 instanceof Number);										&#x2F;&#x2F;false</span><br><span class="line">console.log(true instanceof Boolean);								&#x2F;&#x2F;false</span><br><span class="line">console.log(function () &#123;&#125; instanceof Function);		&#x2F;&#x2F;true</span><br><span class="line">console.log(&#123;&#125; instanceof Object);									&#x2F;&#x2F;true</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è¿™é‡Œundefinedä¸èƒ½å¤Ÿåˆ¤æ–­ï¼Œå› ä¸ºå…¶æ²¡æœ‰æ„é€ å‡½æ•°ã€‚</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="1-3-å€¼ç±»å‹ä¸å¯¹è±¡"><a href="#1-3-å€¼ç±»å‹ä¸å¯¹è±¡" class="headerlink" title="1.3 å€¼ç±»å‹ä¸å¯¹è±¡"></a>1.3 å€¼ç±»å‹ä¸å¯¹è±¡</h4><p>ä¸‹é¢æ˜¯ä½¿ç”¨å­—é¢é‡ä¸å¯¹è±¡æ–¹æ³•åˆ›å»ºå­—ç¬¦ä¸²ï¼Œè¿”å›çš„æ˜¯ä¸åŒç±»å‹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;astfn&quot;;</span><br><span class="line">let ext = new String(&quot;.github.io&quot;); </span><br><span class="line">console.log(typeof as, typeof ext); //string object</span><br></pre></td></tr></table></figure>

<p>åªæœ‰å¯¹è±¡æ‰èƒ½å¤Ÿè°ƒç”¨å±æ€§å’Œæ–¹æ³•ï¼Œä½†åœ¨<code>JS</code>ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å€¼ç±»å‹è°ƒç”¨æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šåœ¨æ‰§è¡Œæ—¶å°†å€¼ç±»å‹è½¬ä¸ºå¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[].concat([&quot;ashun&quot;]);</span><br><span class="line">&quot;Ashun&quot;.length</span><br><span class="line">(1.266).toFixed(2)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="äºŒã€String"><a href="#äºŒã€String" class="headerlink" title="äºŒã€String"></a>äºŒã€String</h3><h4 id="2-1-å£°æ˜å®šä¹‰"><a href="#2-1-å£°æ˜å®šä¹‰" class="headerlink" title="2.1 å£°æ˜å®šä¹‰"></a>2.1 å£°æ˜å®šä¹‰</h4><ul>
<li><p>æ„é€ å‡½æ•°å£°æ˜</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str&#x3D;new String(&quot;ashun&quot;);</span><br><span class="line">console.log(str.length);</span><br></pre></td></tr></table></figure></li>
<li><p>å­—é¢é‡å£°æ˜</p>
<p>å•å¼•å·â€™â€™ã€åŒå¼•å·â€â€ã€æ¨¡æ¿å­—é¢é‡``ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str&#x3D;&quot;ashun&quot;;</span><br><span class="line">let str1&#x3D;&#39;ashun&#39;;</span><br><span class="line">let str2&#x3D;&#96;ashun&#96;; </span><br><span class="line">console.log(str.length);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h4 id="2-2-è½¬ä¹‰ç¬¦å·"><a href="#2-2-è½¬ä¹‰ç¬¦å·" class="headerlink" title="2.2 è½¬ä¹‰ç¬¦å·"></a>2.2 è½¬ä¹‰ç¬¦å·</h4><p>æœ‰äº›å­—ç¬¦åœ¨jsä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œéœ€è¦è¿›è¡Œè½¬ä¹‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let site&#x3D;&quot;site:\&quot;ashuntefannao.com\&quot;&quot;;</span><br><span class="line">console.log(site)</span><br><span class="line">&#x2F;&#x2F;site:&quot;ashuntefannao.com&quot;</span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨è½¬ä¹‰ç¬¦å·åˆ—è¡¨å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>\t</td>
<td>åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td>\n</td>
<td>æ¢è¡Œ</td>
</tr>
<tr>
<td>\</td>
<td>æ–œæ ç¬¦å·</td>
</tr>
<tr>
<td>\â€˜</td>
<td>å•å¼•å·</td>
</tr>
<tr>
<td>\â€œ</td>
<td>åŒå¼•å·</td>
</tr>
</tbody></table>
<p>â€”åœ¨ä½¿ç”¨RegExpæ—¶ï¼Œæœ‰å¾ˆå¤šç¬¦å·éƒ½å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå¦‚æœéœ€è¦åŒ¹é…æŸäº›å­—ç¬¦ï¼Œä¹Ÿéœ€è¦è¿›è¡Œè½¬ä¹‰ï¼Œåœ¨<code>RegExp</code>æ€»ç»“ä¸­ä¼šè¯¦è§£ã€‚</p>
<hr>
<h4 id="2-3-è¿æ¥è¿ç®—ç¬¦"><a href="#2-3-è¿æ¥è¿ç®—ç¬¦" class="headerlink" title="2.3 è¿æ¥è¿ç®—ç¬¦"></a>2.3 è¿æ¥è¿ç®—ç¬¦</h4><p>ä½¿ç”¨ <code>+</code> å¯ä»¥è¿æ¥å¤šä¸ªå†…å®¹ç»„åˆæˆå­—ç¬¦ä¸²ï¼Œç»å¸¸ç”¨äºç»„åˆè¾“å‡ºå†…å®¹ä½¿ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let name = &quot;ashun&quot;;</span><br><span class="line">age = 18;</span><br><span class="line">console.log(name + &#x27;ä»Šå¹´&#x27; + age + &#x27;å²äº†&#x27;);</span><br><span class="line">name+=&quot;tefannao&quot;;</span><br><span class="line">console.log(name);</span><br></pre></td></tr></table></figure>

<p>â€”ä½¿ç”¨Stringçš„å†…ç½®æ–¹æ³•<code>str.concat(str1,â€¦strN)</code>ä¹Ÿèƒ½å¤Ÿå®Œæˆå­—ç¬¦ä¸²çš„åˆå¹¶æ“ä½œã€‚è¯¥æ–¹æ³•<code>ä¸ä¼šæ”¹å˜</code>åŸå­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str &#x3D; &quot;ashun&quot;;</span><br><span class="line">console.log(str.concat(&quot;Ashun&quot;, &quot;Tefannao&quot;));&#x2F;&#x2F;ashunAshunTefannao</span><br><span class="line">console.log(str);&#x2F;&#x2F;ashun</span><br></pre></td></tr></table></figure>



<h4 id="2-4-æ¨¡æ¿å­—é¢é‡"><a href="#2-4-æ¨¡æ¿å­—é¢é‡" class="headerlink" title="2.4 æ¨¡æ¿å­—é¢é‡"></a>2.4 æ¨¡æ¿å­—é¢é‡</h4><p>ï¼ˆæ¨¡æ¿å­—é¢é‡`` ï¼‰å¯ä»¥å£°æ˜å­—ç¬¦ä¸²å˜é‡ï¼Œä¹Ÿå¯æ‹¼æ¥Stringï¼Œç›¸æ¯”ä¼ ç»Ÿæ–¹å¼ä½¿ç”¨ + æ¥é“¾æ¥Stringï¼Œå­—é¢é‡æ›´åŠ çš„çµæ´»å’Œæ–¹ä¾¿ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯ä»¥åŒ…å«å˜é‡å’Œè¡¨è¾¾å¼<code>$&#123;&#125;</code></li>
<li>å¯åœ¨æ¨¡æ¿å­—é¢é‡ä¸­æ¢è¡Œ</li>
<li>å¯ä»¥åµŒå¥—ä½¿ç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let name&#x3D;&quot;ashun&quot;;</span><br><span class="line">function getAge()&#123;return 18&#125;;</span><br><span class="line">console.log(&#96;$&#123;name&#125;ä»Šå¹´$&#123;getAge()&#125;å²äº†&#96;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&#96;Ashun</span><br><span class="line">Te</span><br><span class="line">FanNao</span><br><span class="line">&#96;);</span><br><span class="line">&#x2F;*</span><br><span class="line">Ashun</span><br><span class="line">Te</span><br><span class="line">FanNao</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr&#x3D;[&#123;title:&quot;ashun&quot;&#125;,&#123;title:&quot;Ashun&quot;&#125;,&#123;title:&quot;ashuntefannao.com&quot;&#125;,];</span><br><span class="line"></span><br><span class="line">function template(arr)&#123;</span><br><span class="line">return &#96;&lt;ul&gt;$&#123;arr.map(v&#x3D;&gt;&#96;&lt;li&gt;$&#123;v.title&#125;&lt;&#x2F;li&gt;&#96;).join(&quot;&quot;)&#125;&lt;&#x2F;ul&gt;&#96;;</span><br><span class="line">&#125;</span><br><span class="line">document.write(template(arr))</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-5-æ ‡ç­¾æ¨¡æ¿"><a href="#2-5-æ ‡ç­¾æ¨¡æ¿" class="headerlink" title="2.5 æ ‡ç­¾æ¨¡æ¿"></a>2.5 æ ‡ç­¾æ¨¡æ¿</h4><p>åŠŸèƒ½ï¼šæå–å‡º<code>æ™®é€šå­—ç¬¦ä¸²</code>ä¸<code>å˜é‡</code>ï¼Œäº¤ç”±<code>æ ‡ç­¾å‡½æ•°</code>å¤„ç†</p>
<p>ä½¿ç”¨æ­¥éª¤:</p>
<ol>
<li><p>å®šä¹‰å¤„ç†æ ‡ç­¾æ¨¡æ¿çš„å‡½æ•°</p>
</li>
<li><p>è°ƒç”¨æ ‡ç­¾æ¨¡æ¿å‡½æ•°ï¼Œå¤„ç†å­—ç¬¦ä¸²</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">functionName &#96;StringContent&#96;</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ol>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj=&#123;name:&quot;é˜¿é¡º&quot;,age:18&#125;;</span><br><span class="line">function tagTemplate(str,...argus)&#123;</span><br><span class="line">	console.log(str);		//[&quot;infoï¼š&quot;, &quot;ä»Šå¹´&quot;, &quot;å²äº†&quot;]</span><br><span class="line">	console.log(argus);		//[&quot;é˜¿é¡º&quot;, 18]</span><br><span class="line">&#125;</span><br><span class="line">tagTemplate `infoï¼š$&#123;obj.name&#125;ä»Šå¹´$&#123;obj.age&#125;å²äº†`;</span><br></pre></td></tr></table></figure>

<p>â€”è‹¥Stringå¼€å¤´å°±ä½¿ç”¨äº†å˜é‡ï¼Œé‚£ä¹ˆè·å–æ™®é€šå­—ç¬¦ä¸²Arrçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç©ºå­—ç¬¦ä¸²<code>&quot;&quot;</code></p>
<p>â€”åŒç†ï¼Œè‹¥Stringçš„ç»“å°¾ä½¿ç”¨äº†å˜é‡ï¼Œè·å–æ™®é€šå­—ç¬¦ä¸²Arrçš„æœ€åä¸€ä¸ªå…ƒç´ ä¹Ÿä¸º<code>&quot;&quot;</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let name&#x3D;&quot;ashun&quot;;</span><br><span class="line">tag &#96;$&#123;name&#125;18å²äº†&#96;;</span><br><span class="line">function tag(str,...argu)&#123;</span><br><span class="line">	console.log(str);	&#x2F;&#x2F;[&quot;&quot;, &quot;18å²äº†&quot;]</span><br><span class="line">	console.log(argu)	&#x2F;&#x2F;[&quot;ashun&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-6-Stringå±æ€§"><a href="#2-6-Stringå±æ€§" class="headerlink" title="2.6 Stringå±æ€§"></a>2.6 Stringå±æ€§</h4><table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">length</td>
<td align="left">å­—ç¬¦ä¸²çš„é•¿åº¦</td>
</tr>
<tr>
<td align="left">constructor</td>
<td align="left">è®¿é—®å…¶æ„é€ å‡½æ•°</td>
</tr>
<tr>
<td align="left">prototype</td>
<td align="left">é€šè¿‡å…¶å¯æ‰©å±•Stringçš„å±æ€§å’Œæ–¹æ³•ã€‚</td>
</tr>
</tbody></table>
<hr>
<h4 id="2-7-Stringæ–¹æ³•"><a href="#2-7-Stringæ–¹æ³•" class="headerlink" title="2.7 Stringæ–¹æ³•"></a>2.7 Stringæ–¹æ³•</h4><h5 id="2-7-1-å¤§å°å†™è½¬æ¢"><a href="#2-7-1-å¤§å°å†™è½¬æ¢" class="headerlink" title="2.7.1 å¤§å°å†™è½¬æ¢"></a>2.7.1 å¤§å°å†™è½¬æ¢</h5><table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">toLowerCase()</td>
<td align="left">æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚</td>
</tr>
<tr>
<td align="left">toUpperCase()</td>
<td align="left">æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚</td>
</tr>
</tbody></table>
<h5 id="2-7-2-ç§»é™¤ç©ºç™½"><a href="#2-7-2-ç§»é™¤ç©ºç™½" class="headerlink" title="2.7.2 ç§»é™¤ç©ºç™½"></a>2.7.2 ç§»é™¤ç©ºç™½</h5><table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">trim()</td>
<td align="left">ç§»é™¤å­—ç¬¦ä¸²å·¦å³ä¸¤ä¾§çš„ç©ºç™½</td>
</tr>
<tr>
<td align="left">trimLeft()</td>
<td align="left">ç§»é™¤å­—ç¬¦ä¸²å·¦ä¾§çš„ç©ºç™½</td>
</tr>
<tr>
<td align="left">trimRight()</td>
<td align="left">ç§»é™¤å­—ç¬¦ä¸²å³ä¾§çš„ç©ºç™½</td>
</tr>
</tbody></table>
<h5 id="2-7-3-è·å–å•å­—ç¬¦"><a href="#2-7-3-è·å–å•å­—ç¬¦" class="headerlink" title="2.7.3 è·å–å•å­—ç¬¦"></a>2.7.3 è·å–å•å­—ç¬¦</h5><table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">charAt(index)</td>
<td align="left">è¿”å›åœ¨æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="left">charCodeAt(index)</td>
<td align="left">è¿”å›åœ¨æŒ‡å®šä½ç½®å­—ç¬¦çš„ Unicode ç¼–ç ã€‚</td>
</tr>
</tbody></table>
<p>â€”ä½¿ç”¨ç´¢å¼•å½¢å¼ï¼Œè·å–å•å­—ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;[2]);</span><br></pre></td></tr></table></figure>



<h5 id="2-7-4-æˆªå–å­—ç¬¦ä¸²"><a href="#2-7-4-æˆªå–å­—ç¬¦ä¸²" class="headerlink" title="2.7.4 æˆªå–å­—ç¬¦ä¸²"></a>2.7.4 æˆªå–å­—ç¬¦ä¸²</h5><p>sliceã€substrã€substringè¿™äº›æ“ä½œéƒ½ä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„stringã€‚</p>
<h6 id="slice-n1-n2"><a href="#slice-n1-n2" class="headerlink" title="slice(n1,n2)"></a>slice(n1,n2)</h6><p>å‚æ•°1:èµ·å§‹ä½ç½®ï¼Œå‚æ•°2:ç»“æŸä½ç½®    ç›¸å½“äº<code>åŒºé—´å·¦é—­å³å¼€[n1,n2)</code>ï¼Œå‚æ•°å¯ä¸ºè´Ÿæ•°ï¼Œæ„ä¸ºè‡ªåå‘å‰çš„å­—ç¬¦ã€‚</p>
<p>å…³äºå‚æ•°ï¼š</p>
<ul>
<li><p>æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring</p>
</li>
<li><p>åªæœ‰ä¸€ä¸ªå‚æ•°</p>
<ul>
<li>æ­£æ•°ï¼šä»n1æˆªå–åˆ°å°¾éƒ¨ã€‚</li>
<li>è´Ÿæ•°ï¼šè‡ªåå‘å‰æˆªå–n1ä¸ªå­—ç¬¦ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;.slice(-4));			&#x2F;&#x2F;shun</span><br><span class="line"></span><br><span class="line">console.log(&quot;Ashun&quot;.slice(1));			&#x2F;&#x2F;shun</span><br><span class="line"></span><br><span class="line">console.log(&quot;Ashun&quot;.slice(1, 2));		&#x2F;&#x2F;s</span><br><span class="line"></span><br><span class="line">console.log(&quot;Ashun&quot;.slice(1, -1));	&#x2F;&#x2F;shu</span><br><span class="line"></span><br><span class="line">console.log(&quot;Ashun&quot;.slice(-1, -5));	&#x2F;&#x2F;shun</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æˆªå–çš„è§„åˆ™å¿…é¡»æ˜¯è‡ªå‰å‘åï¼Œn1&lt;n2</span><br><span class="line">console.log(&quot;Ashun&quot;.slice(-4, -2)); &#x2F;&#x2F;sh</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="substr-n1-n2"><a href="#substr-n1-n2" class="headerlink" title="substr(n1,n2)"></a>substr(n1,n2)</h6><p>å‚æ•°1:èµ·å§‹ä½ç½®ï¼Œå‚æ•°2:<code>è‡ªå‰å‘åæˆªå–n2ä¸ªå­—ç¬¦ï¼ˆæ•°é‡åŒ…å«èµ·å§‹ä½ç½®å­—ç¬¦ï¼‰</code>,å› æ­¤å‚æ•°2ä¸å¯ä¸ºè´Ÿæ•°ã€‚</p>
<p>å…³äºå‚æ•°ï¼š</p>
<ul>
<li><p>æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring</p>
</li>
<li><p>åªæœ‰ä¸€ä¸ªå‚æ•°ï¼ˆåŒsliceï¼‰ã€‚</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;.substr(1)); 							&#x2F;&#x2F;shun</span><br><span class="line">console.log(&quot;Ashun&quot;.substr(-4)); 							&#x2F;&#x2F;shun</span><br><span class="line">console.log(&quot;Ashuntefan&quot;.substr(1, 3));				&#x2F;&#x2F;shu</span><br><span class="line">console.log(&quot;Ashuntefan&quot;.substr(-3, 2));			&#x2F;&#x2F;fa</span><br></pre></td></tr></table></figure>

<hr>
<h6 id="substring-n1-n2"><a href="#substring-n1-n2" class="headerlink" title="substring(n1,n2)"></a>substring(n1,n2)</h6><p>å…³äºå‚æ•°ï¼šå¯¹æ¯”sliceã€‚</p>
<ul>
<li>ç›¸åŒç‚¹<ul>
<li>æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring</li>
<li>å‚æ•°1ã€2çš„æ„ä¹‰ä¸sliceç›¸åŒ<code>åŒºé—´å·¦é—­å³å¼€[n1,n2)</code>ã€‚</li>
</ul>
</li>
<li>ä¸åŒç‚¹<ul>
<li>å‚æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œå¦åˆ™ä¼šè§†ä¸º<code>0</code></li>
<li>è‡ªåŠ¨å°†ä¸¤ä¸ªå‚æ•°ä¸­è¾ƒå°çš„å‚æ•°ä½œä¸ºèµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;.substring(1));					&#x2F;&#x2F;shun</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;äºŒè€…ç»“æœç›¸åŒ</span><br><span class="line">console.log(&quot;Ashun&quot;.substring(1, 5));				&#x2F;&#x2F;shun</span><br><span class="line">console.log(&quot;Ashun&quot;.substring(5, 1));				&#x2F;&#x2F;shun</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç›¸å½“äºsubstring(0)</span><br><span class="line">console.log(&quot;Ashun&quot;.substring(-2));					&#x2F;&#x2F;Ashun</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ç›¸å½“äºsubstring(1,0)&#x3D;&#x3D;&#x3D;substring(0,1)</span><br><span class="line">console.log(&quot;Ashun&quot;.substring(1, -1));			&#x2F;&#x2F;A</span><br><span class="line">console.log(&quot;Ashun&quot;.substring(1, 0));				&#x2F;&#x2F;A</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="2-7-5-æ£€ç´¢å­—ç¬¦ä¸²"><a href="#2-7-5-æ£€ç´¢å­—ç¬¦ä¸²" class="headerlink" title="2.7.5 æ£€ç´¢å­—ç¬¦ä¸²"></a>2.7.5 æ£€ç´¢å­—ç¬¦ä¸²</h5><table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">indexOf(str,index)</td>
<td align="left">è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­<code>é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</code>ã€‚åŒ¹é…å¤±è´¥è¿”å›-1ã€‚å‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®</td>
</tr>
<tr>
<td align="left">lastIndexOf(str,index)</td>
<td align="left">è‡ªåå‘å‰æ£€ç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ç»“æœåŒindexOf()ï¼Œå‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(è‡ªåå‘å‰)</td>
</tr>
<tr>
<td align="left">includes(strï¼Œindex)</td>
<td align="left">æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œå‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(è‡ªåå‘å‰)</td>
</tr>
<tr>
<td align="left">match(<code>Regexp</code>)</td>
<td align="left">æŸ¥æ‰¾æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚</td>
</tr>
<tr>
<td align="left">search(str/<code>Regexp</code>)</td>
<td align="left">ç›¸å¯¹äºindexof()å¯ä»¥ä¼ å…¥<code>Regexp</code></td>
</tr>
<tr>
<td align="left">startsWith(str,index)</td>
<td align="left">æ˜¯å¦ä»¥æŒ‡å®šçš„strå¼€å¤´ã€‚index:æ£€ç´¢çš„èµ·å§‹ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="left">endsWith(str,index)</td>
<td align="left">æ˜¯å¦ä»¥æŒ‡å®šçš„strç»“æŸï¼Œindex:æ£€ç´¢çš„ç»“æŸä½ç½®ã€‚</td>
</tr>
</tbody></table>
<p>â€”indexOf</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashunã€ashun&quot;.indexOf(&quot;shun&quot;)); 	&#x2F;&#x2F;1</span><br><span class="line">console.log(&quot;Ashun&quot;.indexOf(&quot;as&quot;));						 &#x2F;&#x2F;-1</span><br><span class="line"></span><br><span class="line">let str &#x3D; &quot;ashunashun&quot;;</span><br><span class="line">console.log(str.indexOf(&quot;a&quot;));&#x2F;&#x2F;0</span><br><span class="line">console.log(str.indexOf(&quot;a&quot;, 2));&#x2F;&#x2F;5</span><br></pre></td></tr></table></figure>

<p>â€”lastIndexOf</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashunã€ashun&quot;.lastIndexOf(&quot;shun&quot;)); 	&#x2F;&#x2F;7</span><br><span class="line">console.log(&quot;Ashun&quot;.lastIndexOf(&quot;as&quot;)); 					&#x2F;&#x2F;-1</span><br><span class="line"></span><br><span class="line">let str &#x3D; &quot;ashunashun&quot;;</span><br><span class="line">console.log(str.lastIndexOf(&quot;a&quot;));&#x2F;&#x2F;5</span><br><span class="line">console.log(str.lastIndexOf(&quot;a&quot;, 3));&#x2F;&#x2F;0</span><br></pre></td></tr></table></figure>

<p>â€”includes</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;.includes(&quot;shun&quot;)); 		&#x2F;&#x2F;true</span><br><span class="line">console.log(&quot;Ashun&quot;.includes(&quot;as&quot;)); 			&#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>

<p>â€”match</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let reg &#x3D; new RegExp(&quot;shun&quot;, &quot;g&quot;);</span><br><span class="line">console.log(&quot;Ashunã€ashun&quot;.match(reg)); 				&#x2F;&#x2F;[&quot;shun&quot;, &quot;shun&quot;]</span><br><span class="line">console.log(&quot;Ashunã€ashun&quot;.match(&#x2F;[0-9]&#x2F;)); 		&#x2F;&#x2F;null</span><br></pre></td></tr></table></figure>

<p>â€”search</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let reg &#x3D; new RegExp(&quot;shun&quot;, &quot;g&quot;);</span><br><span class="line">console.log(&quot;Ashunã€shun&quot;.search(reg)); 			&#x2F;&#x2F;1</span><br><span class="line">console.log(&quot;Ashunã€shun&quot;.search(&quot;ã€&quot;)); 		 &#x2F;&#x2F;5</span><br></pre></td></tr></table></figure>

<p>â€”startsWith</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashuntefannao&quot;.startsWith(&quot;A&quot;));				&#x2F;&#x2F;true</span><br><span class="line">console.log(&quot;Ashuntefannao&quot;.startsWith(&quot;shun&quot;, 1));	&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>â€”endsWith</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashuntefannao&quot;.endsWith(&quot;fannao&quot;)); 		&#x2F;&#x2F;true</span><br><span class="line">console.log(&quot;Ashuntefannao&quot;.endsWith(&quot;shun&quot;, 5)); 	&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="2-7-6-æ›¿æ¢å­—ç¬¦ä¸²"><a href="#2-7-6-æ›¿æ¢å­—ç¬¦ä¸²" class="headerlink" title="2.7.6 æ›¿æ¢å­—ç¬¦ä¸²"></a>2.7.6 æ›¿æ¢å­—ç¬¦ä¸²</h5><p><code>replace(matchStr,replaceStr)</code> æ–¹æ³•ç”¨äºå­—ç¬¦ä¸²çš„æ›¿æ¢æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let site = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(site.replace(&quot;Ashuntefannao&quot;, &quot;ashun&quot;));</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤åªæ›¿æ¢ä¸€æ¬¡ï¼Œå¦‚æœå…¨å±€æ›¿æ¢éœ€è¦ä½¿ç”¨æ­£åˆ™ï¼ˆæ›´å¼ºå¤§çš„ä½¿ç”¨ä¼šåœ¨æ­£åˆ™è¡¨è¾¾å¼ç« èŠ‚ä»‹ç»ï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashunã€shun&quot;;</span><br><span class="line">console.log(str.replace(/shun/g, &quot;SHUN&quot;));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ¥ç”Ÿæˆå…³é”®è¯é“¾æ¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let keys = [&quot;Js&quot;, &quot;css&quot;];</span><br><span class="line">let str = &quot;Ashunå–œæ¬¢Jså’ŒcssçŸ¥è¯†&quot;;</span><br><span class="line">	str = keys.reduce((pre, key) =&gt; &#123;</span><br><span class="line">		return pre.replace(key, `&lt;a href=&quot;?key=$&#123;key&#125;&quot;&gt;$&#123;key&#125;&lt;/a&gt;`);</span><br><span class="line">&#125;, str);</span><br><span class="line">document.body.innerHTML = str;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®Œæˆæ›¿æ¢</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashunå–œæ¬¢Jså’ŒcssçŸ¥è¯†&quot;;</span><br><span class="line">str = str.replace(/(css|Js)/g, `&lt;a href=&quot;?key=$&amp;&quot;&gt;$&amp;&lt;/a&gt;`);</span><br><span class="line">document.body.innerHTML = str;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="2-7-7-é‡å¤ç”Ÿæˆ"><a href="#2-7-7-é‡å¤ç”Ÿæˆ" class="headerlink" title="2.7.7 é‡å¤ç”Ÿæˆ"></a>2.7.7 é‡å¤ç”Ÿæˆ</h5><p><code>repeat(num)</code>å®Œæˆå­—ç¬¦ä¸²çš„é‡å¤ç”Ÿæˆ</p>
<p>ä¸‹ä¾‹æ˜¯æ ¹æ®å‚æ•°é‡å¤ç”Ÿæˆæ˜Ÿå·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function repeat(str = &quot;*&quot;, num = 3) &#123;</span><br><span class="line">		return str.repeat(num);</span><br><span class="line">&#125;</span><br><span class="line">console.log(repeat());</span><br><span class="line">console.log(repeat(&quot;8 &quot;, 8));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æ¨¡ç³Šç”µè¯å·ç </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let phone = &quot;89452176335&quot;;</span><br><span class="line">console.log(phone.slice(0, 3).concat(&quot;*&quot;.repeat(5)).concat(phone.slice(-3)));</span><br><span class="line">//894*****335</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="2-7-8-ç±»å‹è½¬æ¢"><a href="#2-7-8-ç±»å‹è½¬æ¢" class="headerlink" title="2.7.8 ç±»å‹è½¬æ¢"></a>2.7.8 ç±»å‹è½¬æ¢</h5><h6 id="String-gt-Array"><a href="#String-gt-Array" class="headerlink" title="String-&gt;Array"></a>String-&gt;Array</h6><p>ä½¿ç”¨<code>split(str)</code>æ–¹æ³•ï¼šä»¥å‚æ•°stråˆ†å‰²Stringä¸ºArrayã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;Ashun&quot;.split(&quot;&quot;));								&#x2F;&#x2F;[&quot;A&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;]</span><br><span class="line">console.log(&quot;ashun,Ashun&quot;.split(&quot;,&quot;));				&#x2F;&#x2F;[&quot;ashun&quot;,&quot;Ashun&quot;]</span><br><span class="line">console.log(&quot;Ashuntefannao&quot;.split(&quot;te&quot;));			&#x2F;&#x2F;[&quot;Ashun&quot;,&quot;fannao&quot;]</span><br></pre></td></tr></table></figure>

<h6 id="Number-gt-String"><a href="#Number-gt-String" class="headerlink" title="Number-&gt;String"></a>Number-&gt;String</h6><ul>
<li>+â€â€</li>
<li>String(Number)</li>
<li>num.toString()</li>
</ul>
<h6 id="Array-gt-String"><a href="#Array-gt-String" class="headerlink" title="Array-&gt;String"></a>Array-&gt;String</h6><ul>
<li><p>arr.join(str)</p>
<p><code>join(str)</code>æ–¹æ³•ï¼šä»¥å‚æ•°stråˆå¹¶Arrayçš„æ¯ä¸ªå…ƒç´ å˜ä¸ºStringã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log([&quot;2020&quot;, &quot;3&quot;, &quot;13&quot;].join(&quot;-&quot;));			&#x2F;&#x2F;2020-3-13</span><br></pre></td></tr></table></figure></li>
<li><p>arr.toString()</p>
</li>
</ul>
<p>jsä¸­å¤§éƒ¨åˆ†ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ç±»æ–¹æ³• <code>toString</code>è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = 99;</span><br><span class="line">console.log(typeof as.toString()); //string</span><br><span class="line"></span><br><span class="line">let arr = [&#x27;Ashun&#x27;, &#x27;é˜¿é¡º&#x27;];</span><br><span class="line">console.log(typeof arr.toString()); //string</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="ä¸‰ã€Boolean"><a href="#ä¸‰ã€Boolean" class="headerlink" title="ä¸‰ã€Boolean"></a>ä¸‰ã€Boolean</h3><h4 id="éšå¼è½¬æ¢"><a href="#éšå¼è½¬æ¢" class="headerlink" title="éšå¼è½¬æ¢"></a>éšå¼è½¬æ¢</h4><p>åŸºæœ¬ä¸Šæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥éšå¼è½¬æ¢ä¸º Booleanç±»å‹ã€‚</p>
<table>
<thead>
<tr>
<th align="left">æ•°æ®ç±»å‹</th>
<th align="left">true</th>
<th>false</th>
</tr>
</thead>
<tbody><tr>
<td align="left">String</td>
<td align="left">éç©ºå­—ç¬¦ä¸²</td>
<td>ç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">Number</td>
<td align="left">é0çš„æ•°å€¼</td>
<td>0 ã€NaN</td>
</tr>
<tr>
<td align="left">Array</td>
<td align="left">ä¸ä¸Booleanæ¯”è¾ƒæ—¶</td>
<td>å‚ä¸æ¯”è¾ƒçš„ç©ºæ•°ç»„</td>
</tr>
<tr>
<td align="left">Object</td>
<td align="left">ä¸ä¸Booleanæ¯”è¾ƒæ—¶</td>
<td></td>
</tr>
<tr>
<td align="left">undefined</td>
<td align="left">æ— </td>
<td>undefined</td>
</tr>
<tr>
<td align="left">null</td>
<td align="left">æ— </td>
<td>null</td>
</tr>
<tr>
<td align="left">NaN</td>
<td align="left">æ— </td>
<td>NaN</td>
</tr>
</tbody></table>
<p>å½“ä¸booleanç±»å‹æ¯”è¾ƒæ—¶ï¼Œä¼šå°†ä¸¤è¾¹ç±»å‹ç»Ÿä¸€ä¸ºæ•°å­—1æˆ–0ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(3 == true); 	//false</span><br><span class="line">console.log(0 == false); 	//true</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ï¼Œå­—ç¬¦ä¸²åœ¨ä¸Booleanæ¯”è¾ƒæ—¶ï¼Œä¸¤è¾¹éƒ½ä¸ºè½¬æ¢ä¸ºæ•°å€¼ç±»å‹åå†è¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Boolean(&quot;ashun&quot;)); //true</span><br><span class="line">console.log(Number(&quot;ashun&quot;)); //NaN</span><br><span class="line">console.log(&quot;ashun&quot; == true); //false</span><br><span class="line">console.log(&quot;1&quot; == true); //true</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„çš„è¡¨ç°ä¸å­—ç¬¦ä¸²åŸç†ä¸€æ ·ï¼Œä¼šå…ˆè½¬æ¢ä¸ºæ•°å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Number([])); //0</span><br><span class="line">console.log(Number([3])); //3</span><br><span class="line">console.log(Number([1, 2, 3])); //NaN</span><br><span class="line">console.log([] == false); //true</span><br><span class="line">console.log([1] == true); //true</span><br><span class="line">console.log([1, 2, 3] == true); //false</span><br></pre></td></tr></table></figure>

<p>â€”å¼•ç”¨ç±»å‹<code>Objectã€Array</code>ä¸ä¸Booleanæ¯”è¾ƒæ—¶ï¼Œå€¼ä¸º<code>çœŸ</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if ([]) console.log(&quot;true&quot;);</span><br><span class="line">if (&#123;&#125;) console.log(&quot;true&quot;);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ˜¾å¼è½¬æ¢"><a href="#æ˜¾å¼è½¬æ¢" class="headerlink" title="æ˜¾å¼è½¬æ¢"></a>æ˜¾å¼è½¬æ¢</h4><p>ä½¿ç”¨ <code>!</code>æˆ–<code>!!</code> è½¬æ¢å¸ƒå°”ç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#x27;&#x27;;</span><br><span class="line">console.log(!!as); //false</span><br><span class="line">as = 0;</span><br><span class="line">console.log(!!as); //false</span><br><span class="line">as = null;</span><br><span class="line">console.log(!!as); //false</span><br><span class="line">as = new Date(&quot;2021-3-13 16:42&quot;);</span><br><span class="line">console.log(!!as); //true</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Boolean</code> å‡½æ•°å¯ä»¥æ˜¾å¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#x27;&#x27;;</span><br><span class="line">console.log(Boolean(as)); //false</span><br><span class="line">as = 0;</span><br><span class="line">console.log(Boolean(as)); //false</span><br><span class="line">as = null;</span><br><span class="line">console.log(Boolean(as)); //false</span><br><span class="line">as = new Date(&quot;2021-3-13 16:42&quot;);</span><br><span class="line">console.log(Boolean(as)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h4><p>ä¸‹é¢ä½¿ç”¨Booleanç±»å‹åˆ¤æ–­ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶ç»™å‡ºä¸åŒçš„åé¦ˆã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">while (true) &#123;</span><br><span class="line">  let test = prompt(&quot;è¯·è¾“å…¥Ashuntefannaoæˆç«‹å¹´ä»½&quot;).trim();</span><br><span class="line">  if (!test) continue;</span><br><span class="line">  alert(test == 2020 ? &quot;å›ç­”æ­£ç¡®&quot; : &quot;ç­”æ¡ˆé”™è¯¯ï¼å‡ç²‰ä¸€ä¸ª&quot;);</span><br><span class="line">  break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å››ã€Number"><a href="#å››ã€Number" class="headerlink" title="å››ã€Number"></a>å››ã€Number</h3><h4 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h4><p>ä½¿ç”¨å¯¹è±¡æ–¹å¼å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = new Number(3);</span><br><span class="line">console.log(as+3); //6</span><br></pre></td></tr></table></figure>

<p>Numberç”¨äºè¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œæ•°å­—æ˜¯ <code>Number</code>å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡æä¾›çš„ä¸°å¯Œæ–¹æ³•ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let num = 99;</span><br><span class="line">console.log(typeof num);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸºæœ¬å‡½æ•°"><a href="#åŸºæœ¬å‡½æ•°" class="headerlink" title="åŸºæœ¬å‡½æ•°"></a>åŸºæœ¬å‡½æ•°</h4><p><code>Number.isInteger(num)</code>ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ•´æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Number.isInteger(1.2));	//false</span><br></pre></td></tr></table></figure>

<p><code>Number.isNaN(message)</code>ï¼šåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ— æ•ˆæ•°å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &quot;ashun&quot; &#x2F; 0;</span><br><span class="line">console.log(Number.isNaN(as)); &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p><code>num.toFixed(n)</code>ï¼šå››èˆäº”å…¥ä¿ç•™nä½å°æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log((16.556).toFixed(2)); // 16.56</span><br></pre></td></tr></table></figure>

<p><code>num.toString()</code>ï¼šè½¬ä¸ºStringï¼Œjsä¸­å‡ ä¹æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰è¯¥æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(typeof (2).toString())</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h4><p>è¡¨ç¤ºæ— æ•ˆçš„æ•°å€¼ï¼Œä¸‹ä¾‹è®¡ç®—å°†äº§ç”ŸNaNç»“æœã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Number(&quot;ashun&quot;)); //NaN</span><br><span class="line"></span><br><span class="line">console.log(2 / &#x27;ashun&#x27;); //NaN</span><br></pre></td></tr></table></figure>

<p>NaNä¸èƒ½ä½¿ç”¨ <code>==</code> æ¯”è¾ƒï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥åˆ¤æ–­ç»“æœæ˜¯å¦æ­£ç¡®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let res = 2 / &#x27;ashun&#x27;;</span><br><span class="line">if (Number.isNaN(res)) &#123;</span><br><span class="line">	console.log(&#x27;Error&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(res == NaN);	//false</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Object.is</code> æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦å®Œå…¨ç›¸åŒ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let res = 2 / &#x27;ashun&#x27;;</span><br><span class="line">console.log(Object.is(res, NaN)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p><strong>other-&gt;Number</strong></p>
<p>ä½¿ç”¨Numberå‡½æ•°åŸºæœ¬ä¸Šå¯ä»¥è½¬æ¢æ‰€æœ‰ç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Number(&#x27;Ashun&#x27;)); //NaN</span><br><span class="line">console.log(Number(true));	//1</span><br><span class="line">console.log(Number(false));	//0</span><br><span class="line">console.log(Number(&#x27;9&#x27;));	//9</span><br><span class="line">console.log(Number([]));	//0</span><br><span class="line">console.log(Number([5]));	//5</span><br><span class="line">console.log(Number([5, 2]));	//NaN</span><br><span class="line">console.log(Number(&#123;&#125;));	//NaN</span><br></pre></td></tr></table></figure>

<p><strong>parseInt</strong></p>
<p>æå–å­—ç¬¦ä¸²å¤´éƒ¨å»é™¤ç©ºç™½åçš„æ•°å­—è½¬ä¸ºæ•´æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(parseInt(&#x27;  99houdunren&#x27;));	//99</span><br><span class="line">console.log(parseInt(&#x27;18.55&#x27;));	//18</span><br></pre></td></tr></table></figure>

<p><strong>parseFloat</strong></p>
<p>æå–å­—ç¬¦ä¸²å¤´éƒ¨å»é™¤ç©ºç™½åçš„æ•°å­—è½¬ä¸ºæµ®ç‚¹æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(parseFloat(&#x27;  99houdunren&#x27;));	//99</span><br><span class="line">console.log(parseFloat(&#x27;  18.55&#x27;));	//18.55</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æµ®ç‚¹ç²¾åº¦"><a href="#æµ®ç‚¹ç²¾åº¦" class="headerlink" title="æµ®ç‚¹ç²¾åº¦"></a>æµ®ç‚¹ç²¾åº¦</h4><p>å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€åœ¨æµ®ç‚¹æ•°è®¡ç®—æ—¶éƒ½ä¼šæœ‰ç²¾åº¦è¯¯å·®é—®é¢˜ï¼Œä¸‹é¢æ¥çœ‹JSä¸­çš„è¡¨ç°å½¢å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let num = 0.1 + 0.2</span><br><span class="line">console.log(num)// ç»“æœï¼š0.30000000000000004</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å› ä¸ºè®¡ç®—æœºä»¥äºŒè¿›åˆ¶å¤„ç†æ•°å€¼ç±»å‹ï¼Œä¸Šé¢çš„0.1ä¸0.2è½¬ä¸ºäºŒè¿›åˆ¶åæ˜¯æ— ç©·çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log((0.1).toString(2)) //0.0001100110011001100110011001100110011001100110011001101</span><br><span class="line">console.log((0.2).toString(2)) //0.001100110011001100110011001100110011001100110011001101</span><br></pre></td></tr></table></figure>

<p><strong>å¤„ç†æ–¹å¼</strong></p>
<p>ä¸€ç§æ–¹å¼ä½¿ç”¨toFixed æ–¹æ³•è¿›è¡Œå°æ•°æˆªå–</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log((0.1 + 0.2).toFixed(2)) //0.3</span><br><span class="line"></span><br><span class="line">console.log(1.0 - 0.9) //0.09999999999999998</span><br><span class="line">console.log((1.0 - 0.9).toFixed(2)) //0.10</span><br></pre></td></tr></table></figure>

<p>å°†å°æ•°è½¬ä¸ºæ•´æ•°è¿›è¡Œè®¡ç®—åï¼Œå†è½¬ä¸ºå°æ•°ä¹Ÿå¯ä»¥è§£å†³ç²¾åº¦é—®é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Number.prototype.add = function (num) &#123;</span><br><span class="line">	//å–ä¸¤ä¸ªæ•°å€¼ä¸­å°æ•°ä½æœ€å¤§çš„</span><br><span class="line">  let n1 = this.toString().split(&#x27;.&#x27;)[1].length</span><br><span class="line">  let n2 = num.toString().split(&#x27;.&#x27;)[1].length</span><br><span class="line">  </span><br><span class="line">  //å¾—åˆ°10çš„Næ¬¡å¹‚</span><br><span class="line">  let m = Math.pow(10, Math.max(n1, n2))</span><br><span class="line"></span><br><span class="line">  return (this * m + num * m) / m</span><br><span class="line">&#125;</span><br><span class="line">console.log((0.1).add(0.2))</span><br></pre></td></tr></table></figure>

<p><strong>æ¨èåšæ³•</strong></p>
<p>å¸‚é¢ä¸Šå·²ç»å­˜åœ¨å¾ˆå¤šé’ˆå¯¹æ•°å­¦è®¡ç®—çš„åº“ <a href="https://mathjs.org/examples/browser/basic_usage.html.html">mathjs</a>ã€<a href="https://github.com/MikeMcl/decimal.js">decimal.js</a>ç­‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦è‡ªå·±æ„å»ºäº†ã€‚ä¸‹é¢æ¥æ¼”ç¤ºä½¿ç”¨ <a href="https://github.com/MikeMcl/decimal.js">decimal.js </a>è¿›è¡Œæµ®ç‚¹è®¡ç®—ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/decimal.js/10.2.0/decimal.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	console.log(Decimal.add(0.1, 0.2).valueOf())</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="äº”ã€Math"><a href="#äº”ã€Math" class="headerlink" title="äº”ã€Math"></a>äº”ã€Math</h3><p><code>Math</code> å¯¹è±¡æä¾›äº†ä¼—å¤šæ–¹æ³•ç”¨æ¥è¿›è¡Œæ•°å­¦è®¡ç®—ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ›´å¤šæ–¹æ³•ä½¿ç”¨è¯·æŸ¥çœ‹ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">MDNå®˜ç½‘</a>äº†è§£ã€‚</p>
<h4 id="å–æé™å€¼"><a href="#å–æé™å€¼" class="headerlink" title="å–æé™å€¼"></a>å–æé™å€¼</h4><p>ä½¿ç”¨ <code>min</code> ä¸ <code>max</code> å¯ä»¥å–å¾—æœ€å°ä¸æœ€å¤§å€¼ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Math.min(1, 2, 3));</span><br><span class="line"></span><br><span class="line">console.log(Math.max(1, 2, 3));</span><br></pre></td></tr></table></figure>

<p>â€”ä»æ•°ç»„ä¸­å–å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 2, 3];</span><br><span class="line">console.log(Math.max.apply(Math, arr));		</span><br><span class="line">console.log(Math.max(...arr));						</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="èˆå…¥å¤„ç†"><a href="#èˆå…¥å¤„ç†" class="headerlink" title="èˆå…¥å¤„ç†"></a>èˆå…¥å¤„ç†</h4><p><code>Math.ceil(num)</code>å‘ä¸Šå–æ•´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Math.ceil(1.111)); //2</span><br></pre></td></tr></table></figure>

<p><code>Math.floor(num)</code>å‘ä¸‹å–æ•´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Math.floor(1.555)); //1</span><br></pre></td></tr></table></figure>

<p><code>Math.round(num)</code>å››èˆäº”å…¥å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Math.round(1.5)); //2</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="random"><a href="#random" class="headerlink" title="random"></a>random</h4><p><code>random</code> æ–¹æ³•ç”¨äºè¿”å›<code>[0,1)</code>çš„éšæœºæ•°ã€‚</p>
<p>è¿”å›<code>[0,n)</code>çš„éšæœºæ•° å…¬å¼ä¸ºï¼šMath.floor(Math.random()*n)</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const number = Math.floor(Math.random() * 5);</span><br><span class="line">console.log(number);</span><br></pre></td></tr></table></figure>

<p>è¿”å›<code>[0,n]</code>çš„éšæœºæ•° å…¬å¼ä¸ºï¼šMath.floor(Math.random()*(n+1))</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const number = Math.floor(Math.random() * (5+1));</span><br><span class="line">console.log(number);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å–<code>[2,5)</code>çš„éšæœºæ•° å…¬å¼ä¸ºï¼šmin+Math.floor(Math.random()*(Max-min))</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const number = Math.floor(Math.random() * (5 - 2)) + 2;</span><br><span class="line">console.log(number);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å–<code>[2,5]</code>çš„éšæœºæ•° å…¬å¼ä¸ºï¼šmin+Math.floor(Math.random()*(Max-min+1))</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const number = Math.floor(Math.random() * (5 - 2 + 1)) + 2;</span><br><span class="line">console.log(number);</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="å–ç»å¯¹å€¼"><a href="#å–ç»å¯¹å€¼" class="headerlink" title="å–ç»å¯¹å€¼"></a>å–ç»å¯¹å€¼</h4><p><code>Math.abs(num)</code>ï¼šå–numçš„ç»å¯¹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(Math.abs(-999));&#x2F;&#x2F;999</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="æ¬¡å¹‚è¿ç®—"><a href="#æ¬¡å¹‚è¿ç®—" class="headerlink" title="æ¬¡å¹‚è¿ç®—"></a>æ¬¡å¹‚è¿ç®—</h4><p><code>Math.pow(x,y)</code>ï¼šè¿”å› x çš„ y æ¬¡å¹‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(Math.pow(10, -2)); &#x2F;&#x2F;0.01</span><br><span class="line">console.log(Math.pow(1, -2)); &#x2F;&#x2F;1</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å…­ã€Date"><a href="#å…­ã€Date" class="headerlink" title="å…­ã€Date"></a>å…­ã€Date</h3><p>  ç½‘ç«™ä¸­å¤„ç†æ—¥æœŸæ—¶é—´æ˜¯å¾ˆå¸¸ç”¨çš„åŠŸèƒ½ï¼Œé€šè¿‡ <code>Date</code> ç±»å‹æä¾›çš„ä¸°å¯ŒåŠŸèƒ½å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ“ä½œã€‚</p>
<h4 id="å£°æ˜æ—¥æœŸ"><a href="#å£°æ˜æ—¥æœŸ" class="headerlink" title="å£°æ˜æ—¥æœŸ"></a>å£°æ˜æ—¥æœŸ</h4><p>è·å–å½“å‰æ—¥æœŸæ—¶é—´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let now = new Date();</span><br><span class="line">console.log(now);</span><br><span class="line">console.log(typeof date); //object ï¼ˆç”±æ„é€ å‡½æ•°å®ä¾‹åŒ–ä¸ºObjectï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//ç›´æ¥ä½¿ç”¨å‡½æ•°è·å–å½“å‰æ—¶é—´</span><br><span class="line">console.log(Date());</span><br><span class="line">console.log(typeof Date()); //string ï¼ˆç›´æ¥ä½¿ç”¨Date()æ–¹æ³•ï¼‰</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ ¹æ®æŒ‡å®šçš„æ—¥æœŸä¸æ—¶é—´å®šä¹‰æ—¥æœŸå¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let now = new Date(&#x27;2028-02-22 03:25:02&#x27;);</span><br><span class="line">console.log(now);</span><br><span class="line"></span><br><span class="line">now = new Date(2028, 4, 5, 1, 22, 16);</span><br><span class="line">console.log(now);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å±•ç¤ºè¿ç®—ç¬¦å¤„ç†æ›´æ–¹ä¾¿</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let info = [2021, 3, 14, 10, 51, 19];</span><br><span class="line">let date = new Date(...info);</span><br><span class="line">console.dir(date);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ—¶é—´æˆ³"><a href="#æ—¶é—´æˆ³" class="headerlink" title="æ—¶é—´æˆ³"></a>æ—¶é—´æˆ³</h4><p>  jså†…çš„æ—¶é—´æˆ³æŒ‡çš„æ˜¯<code>å½“å‰æ—¶é—´</code>åˆ°<code>1970å¹´1æœˆ1æ—¥00:00:00</code>ä¹‹é—´çš„<code>æ¯«ç§’æ•°</code>ã€‚</p>
<p>è·å–æ—¶é—´æˆ³</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*	è·å–æŒ‡å®šæ—¶é—´å¯¹è±¡çš„æ—¶é—´æˆ³ï¼Œå¯é€šè¿‡å†…ç½®æ–¹æ³•æ¥è·å–ã€‚</span><br><span class="line">*&#x2F;</span><br><span class="line">let as &#x3D; new Date(2021,3,14,11,06,23);</span><br><span class="line">console.log(as); &#x2F;&#x2F;w3cæ ‡å‡†æ—¶é—´</span><br><span class="line">console.log(as.getTime()); &#x2F;&#x2F;getTime()è·å–asçš„æ—¶é—´æˆ³</span><br><span class="line">console.log(as.valueOf()); &#x2F;&#x2F;valueOf()è·å–asçš„æ—¶é—´æˆ³</span><br><span class="line">console.log(as*1);	&#x2F;&#x2F;è½¬ä¸ºæ•°å­—å³æ—¶é—´æˆ³</span><br><span class="line"></span><br><span class="line">&#x2F;*	è·å–å½“å‰æ—¶é—´æˆ³</span><br><span class="line">*&#x2F;</span><br><span class="line">console.log(Date.now()); </span><br><span class="line">console.log(new Date().getTime());</span><br><span class="line">console.log(new Date().valueOf());</span><br><span class="line">console.log(new Date()*1);	&#x2F;&#x2F;è½¬ä¸ºæ•°å­—å³æ—¶é—´æˆ³</span><br></pre></td></tr></table></figure>

<p>è®¡ç®—è„šæœ¬æ‰§è¡Œæ—¶é—´<code>Date.now()</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const start = Date.now();</span><br><span class="line">for (let i = 0; i &lt; 2000000; i++) &#123;&#125;</span><br><span class="line">const end = Date.now();</span><br><span class="line">console.log(end - start);</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ§åˆ¶å°æµ‹è¯•<code>console.time(&quot;name&quot;) &amp;&amp; console.timeEnd(&quot;name&quot;)</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.time(&quot;testFor&quot;);</span><br><span class="line">for (let i = 0; i &lt; 20000000; i++) &#123;&#125;</span><br><span class="line">console.timeEnd(&quot;testFor&quot;);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç±»å‹è½¬æ¢-1"><a href="#ç±»å‹è½¬æ¢-1" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p><strong>w3c-&gt;æ—¶é—´æˆ³</strong></p>
<ul>
<li>å†…ç½®æ–¹æ³•è·å–<code>getTime()\valueOf()</code></li>
<li>å°†æ—¥æœŸ<code>è½¬ä¸ºæ•°å€¼ç±»å‹</code>å°±æ˜¯è½¬ä¸ºæ—¶é—´æˆ³ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = new Date(&quot;2020-2-22 10:33:12&quot;);</span><br><span class="line">console.log(as * 1);</span><br><span class="line"></span><br><span class="line">console.log(Number(as));</span><br><span class="line"></span><br><span class="line">console.log(as.valueOf())</span><br><span class="line"></span><br><span class="line">console.log(date.getTime());</span><br></pre></td></tr></table></figure>

<p><strong>æ—¶é—´æˆ³-&gt;w3c</strong></p>
<ul>
<li><code>å®ä¾‹åŒ–Date</code>ï¼Œå¹¶å°†æ—¶é—´æˆ³ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</li>
</ul>
<p>æœ‰æ—¶åå°æä¾›çš„æ—¥æœŸä¸ºæ—¶é—´æˆ³æ ¼å¼ï¼Œä¸‹é¢æ˜¯å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸçš„æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const date = new Date().getTime();</span><br><span class="line">console.log(date);</span><br><span class="line">console.log(new Date(date));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å°è£…æ—¶é—´å‡½æ•°"><a href="#å°è£…æ—¶é—´å‡½æ•°" class="headerlink" title="å°è£…æ—¶é—´å‡½æ•°"></a>å°è£…æ—¶é—´å‡½æ•°</h4><p>å°è£…å‡½æ•°ç”¨äºå¤ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function getCurrentTime(date = new Date(),modle = &quot;YYYY/MM/DD/HH/mm/ss&quot;) &#123;</span><br><span class="line">		let newDate = &#123;</span><br><span class="line">					YYYY: date.getFullYear(),</span><br><span class="line">					MM: date.getMonth() + 1,</span><br><span class="line">					DD: date.getDate(),</span><br><span class="line">					HH: date.getHours(),</span><br><span class="line">					mm: date.getMinutes(),</span><br><span class="line">					ss: date.getSeconds(),</span><br><span class="line">		&#125;;</span><br><span class="line">		for (let key in newDate) &#123;</span><br><span class="line">			modle = modle.replace(key, newDate[key]);</span><br><span class="line">		&#125;</span><br><span class="line">		return modle;</span><br><span class="line">&#125;</span><br><span class="line">console.log(getCurrentTime());</span><br><span class="line">console.log(getCurrentTime(new Date(), &quot;YYYY-MM-DD&quot;));</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ç³»ç»Ÿæä¾›çš„æ—¥æœŸæ—¶é—´æ–¹æ³•ï¼Œæ›´å¤šæ–¹æ³•è¯·æŸ¥çœ‹ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date">MDNå®˜ç½‘</a></p>
<table>
<thead>
<tr>
<th align="left">æ–¹æ³•</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Date()</td>
<td align="left">è¿”å›å½“æ—¥çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</td>
</tr>
<tr>
<td align="left">getDate()</td>
<td align="left">ä» Date å¯¹è±¡è¿”å›<code>ä¸€ä¸ªæœˆä¸­</code>çš„æŸä¸€å¤© (1 ~ 31)ã€‚</td>
</tr>
<tr>
<td align="left">getDay()</td>
<td align="left">ä» Date å¯¹è±¡è¿”å›<code>ä¸€å‘¨ä¸­</code>çš„æŸä¸€å¤© (0 ~ 6)ã€‚</td>
</tr>
<tr>
<td align="left">getMonth()</td>
<td align="left">ä» Date å¯¹è±¡è¿”å›æœˆä»½ (<code>0 ~ 11</code>)ã€‚</td>
</tr>
<tr>
<td align="left">getFullYear()</td>
<td align="left">ä» Date å¯¹è±¡ä»¥å››ä½æ•°å­—è¿”å›å¹´ä»½ã€‚</td>
</tr>
<tr>
<td align="left">getHours()</td>
<td align="left">è¿”å› Date å¯¹è±¡çš„å°æ—¶ (0 ~ 23)ã€‚</td>
</tr>
<tr>
<td align="left">getMinutes()</td>
<td align="left">è¿”å› Date å¯¹è±¡çš„åˆ†é’Ÿ (0 ~ 59)ã€‚</td>
</tr>
<tr>
<td align="left">getSeconds()</td>
<td align="left">è¿”å› Date å¯¹è±¡çš„ç§’æ•° (0 ~ 59)ã€‚</td>
</tr>
<tr>
<td align="left">parse()</td>
<td align="left">è¿”å›1970å¹´1æœˆ1æ—¥åˆå¤œåˆ°æŒ‡å®šæ—¥æœŸï¼ˆå­—ç¬¦ä¸²ï¼‰çš„æ¯«ç§’æ•°ã€‚</td>
</tr>
<tr>
<td align="left">getTime()</td>
<td align="left">è¿”å› æ—¶é—´æˆ³</td>
</tr>
<tr>
<td align="left">valueOf()</td>
<td align="left">è¿”å› Date å¯¹è±¡çš„åŸå§‹å€¼ã€‚ï¼ˆæ—¶é—´æˆ³ï¼‰</td>
</tr>
<tr>
<td align="left">toString()</td>
<td align="left">æŠŠ Date å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td>
</tr>
</tbody></table>
<h4 id="moment-js"><a href="#moment-js" class="headerlink" title="moment.js"></a>moment.js</h4><p>Moment.jsæ˜¯ä¸€ä¸ªè½»é‡çº§çš„JavaScriptæ—¶é—´åº“ï¼Œå®ƒæ–¹ä¾¿äº†æ—¥å¸¸å¼€å‘ä¸­å¯¹æ—¶é—´çš„æ“ä½œï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p>
<p>æ›´å¤šä½¿ç”¨æ–¹æ³•è¯·è®¿é—®ä¸­æ–‡å®˜ç½‘ <a href="http://momentjs.cn/">http://momentjs.cn</a>æˆ– è‹±æ–‡å®˜ç½‘ <a href="https://momentjs.com/">https://momentjs.com</a></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script src=&quot;https://cdn.bootcss.com/moment.js/2.24.0/moment.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è·å–å½“å‰æ—¶é—´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(moment().format(&quot;YYYY-MM-DD HH:mm:ss&quot;));</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®æ—¶é—´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(moment(&quot;2020-02-18 09:22:15&quot;).format(&quot;YYYY-MM-DD HH:mm:ss&quot;));</span><br></pre></td></tr></table></figure>

<p>åå¤©åçš„æ—¥æœŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(moment().add(10, &quot;days&quot;).format(&quot;YYYY-MM-DD hh:mm:ss&quot;));</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>æ¨¡å—è§„èŒƒ</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83/</url>
    <content><![CDATA[<h2 id="æ¨¡å—è§„èŒƒ"><a href="#æ¨¡å—è§„èŒƒ" class="headerlink" title="æ¨¡å—è§„èŒƒ"></a>æ¨¡å—è§„èŒƒ</h2><h4 id="ä½¿ç”¨åˆ†æ"><a href="#ä½¿ç”¨åˆ†æ" class="headerlink" title="ä½¿ç”¨åˆ†æ"></a>ä½¿ç”¨åˆ†æ</h4><p>é¡¹ç›®å˜å¤§æ—¶éœ€è¦æŠŠä¸åŒçš„ä¸šåŠ¡åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯æ¨¡å—çš„æ€æƒ³ã€‚æ¨¡å—æ˜¯æ¯”å¯¹è±¡ä¸å‡½æ•°æ›´å¤§çš„å•å…ƒï¼Œä½¿ç”¨æ¨¡å—ç»„ç»‡ç¨‹åºä¾¿äºç»´æŠ¤ä¸æ‰©å±•ã€‚</p>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ä¸€èˆ¬ä½¿ç”¨æ‰“åŒ…å·¥å…·å¦‚ <code>webpack</code> æ„å»ºï¼Œä»–æä¾›æ›´å¤šçš„åŠŸèƒ½ã€‚ä½†å­¦ä¹ å®Œæœ¬ç« èŠ‚åä¼šå†å­¦ä¹ æ‰“åŒ…å·¥å…·ä¼šå˜å¾—ç®€å•ã€‚</p>
<ul>
<li>æ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯å‡½æ•°æˆ–è€…ç±»åº“</li>
<li>è™½ç„¶JSæ²¡æœ‰å‘½åç©ºé—´çš„æ¦‚å¿µï¼Œä½¿ç”¨æ¨¡å—å¯ä»¥è§£å†³å…¨å±€å˜é‡å†²çª</li>
<li>æ¨¡å—éœ€è¦éšè—å†…éƒ¨å®ç°ï¼Œåªå¯¹å¤–å¼€å‘æ¥å£</li>
<li>æ¨¡å—å¯ä»¥é¿å…æ»¥ç”¨å…¨å±€å˜é‡ï¼Œé€ æˆä»£ç ä¸å¯æ§</li>
<li>æ¨¡å—å¯ä»¥è¢«ä¸åŒçš„åº”ç”¨ä½¿ç”¨ï¼Œæé«˜ç¼–ç æ•ˆç‡</li>
</ul>
<h4 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a><strong>å®ç°åŸç†</strong></h4><p>åœ¨è¿‡å»JSä¸æ”¯æŒæ¨¡å—æ—¶æˆ‘ä»¬ä½¿ç”¨<code>AMD/CMDï¼ˆæµè§ˆå™¨ç«¯ä½¿ç”¨ï¼‰</code>ã€<code>CommonJSï¼ˆNode.jsä½¿ç”¨ï¼‰</code>ã€<code>UMD(ä¸¤è€…éƒ½æ”¯æŒ)</code>ç­‰å½¢å¼å®šä¹‰æ¨¡å—ã€‚</p>
<p>AMDä»£è¡¨æ€§çš„æ˜¯ <code>require.js</code>ï¼ŒCMD ä»£è¡¨æ˜¯æ·˜å®çš„ <code>seaJS</code> æ¡†æ¶ã€‚</p>
<p>ä¸‹é¢é€šè¿‡å®šä¹‰ä¸€ä¸ªç±»ä¼¼ <code>require.js</code> çš„ <code>AMD</code> æ¨¡å—ç®¡ç†å¼•æ“ï¼Œæ¥ä½“éªŒæ¨¡å—çš„å·¥ä½œåŸç†ã€‚</p>
<blockquote>
<p>ä»¿å†™ AMD è§„èŒƒæ„å»º</p>
</blockquote>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let module = (function () &#123;</span><br><span class="line">   //æ¨¡å—åˆ—è¡¨é›†åˆ</span><br><span class="line">   const moduleLists = &#123;&#125;;</span><br><span class="line">   function define(name, modules, action) &#123;</span><br><span class="line">     modules.map((m, i) =&gt; &#123;</span><br><span class="line">       modules[i] = moduleLists[m];</span><br><span class="line">     &#125;);</span><br><span class="line">     //æ‰§è¡Œå¹¶ä¿å­˜æ¨¡å—</span><br><span class="line">     moduleLists[name] = action.apply(null, modules);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   return &#123; define &#125;;</span><br><span class="line"> &#125;)();</span><br><span class="line"></span><br><span class="line"> //å£°æ˜æ¨¡å—æ—¶ä¸ä¾èµ–å…¶å®ƒæ¨¡å—</span><br><span class="line"> module.define(&quot;as&quot;, [], () =&gt; &#123;</span><br><span class="line">   return &#123;</span><br><span class="line">     getName() &#123;</span><br><span class="line">       return this.name;</span><br><span class="line">     &#125;,</span><br><span class="line">   &#125;;</span><br><span class="line"> &#125;);</span><br><span class="line"> //å£°æ˜æ¨¡å—æ—¶ä¾èµ–å…¶å®ƒæ¨¡å—</span><br><span class="line"> module.define(&quot;shun&quot;, [&quot;as&quot;], (modules) =&gt; &#123;</span><br><span class="line">   let curr = &#123;</span><br><span class="line">     getAge() &#123;</span><br><span class="line">       return this.age;</span><br><span class="line">     &#125;,</span><br><span class="line">     name: &quot;shun&quot;,</span><br><span class="line">   &#125;;</span><br><span class="line">   console.log(modules.getName.call(curr));</span><br><span class="line"></span><br><span class="line">   return curr;</span><br><span class="line"> &#125;);</span><br><span class="line"> </span><br><span class="line"> module.define(&quot;SHUN&quot;, [&quot;as&quot;, &quot;shun&quot;], (...modules) =&gt; &#123;</span><br><span class="line">   let curr = &#123;</span><br><span class="line">     show() &#123;</span><br><span class="line">       console.log(this.name, this.age);</span><br><span class="line">     &#125;,</span><br><span class="line">     name: &quot;Ashun&quot;,</span><br><span class="line">     age: 18,</span><br><span class="line">   &#125;;</span><br><span class="line">   let merge = Object.assign(...modules, curr);</span><br><span class="line">   console.log(merge);</span><br><span class="line"></span><br><span class="line">   console.log(merge.getName());</span><br><span class="line">   return merge;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>





<h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><h4 id="æ ‡ç­¾ä½¿ç”¨"><a href="#æ ‡ç­¾ä½¿ç”¨" class="headerlink" title="æ ‡ç­¾ä½¿ç”¨"></a>æ ‡ç­¾ä½¿ç”¨</h4><p>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ä»¥ä¸‹è¯­æ³• é <code>Javascriptè„šæœ¬æä¾›çš„æ¨¡å—åŒ–è§„èŒƒ</code> ç®¡ç†å„ä¸ªjsæ¨¡å—ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨jsæ–‡ä»¶ä¸­ä½¿ç”¨æ¨¡å—ä»£ç äº†ã€‚</p>
<p>åœ¨htmlæ–‡ä»¶ä¸­å¯¼å…¥æ¨¡å—ï¼Œéœ€è¦å®šä¹‰å±æ€§ <code>type=&quot;module&quot;</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ<code>jsæ¨¡å—åŒ–è§„èŒƒ</code>ç®¡ç†çš„æ¨¡å— åœ¨å¼•å…¥æ—¶ï¼Œå¿…é¡»å¡«å†™æ­£ç¡®çš„è·¯å¾„ å¦‚<code>./xxx.js</code> ã€‚</p>
<p>æµ‹è¯•çš„ <code>as.js</code> çš„æ¨¡å—å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export let as = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ²¡æœ‰æŒ‡å®šè·¯å¾„å°†å‘ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &#123; as &#125; from &quot;as.js&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®ä½¿ç”¨éœ€è¦æ·»åŠ ä¸Šè·¯å¾„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &#123; as &#125; from &quot;./as.js&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å»¶è¿Ÿè§£æ"><a href="#å»¶è¿Ÿè§£æ" class="headerlink" title="å»¶è¿Ÿè§£æ"></a>å»¶è¿Ÿè§£æ</h4><p>æ¨¡å—æ€»æ˜¯ä¼šåœ¨<code>æ‰€æœ‰htmlè§£æå</code>æ‰æ‰§è¡Œï¼Œä¸‹é¢çš„æ¨¡å—ä»£ç å¯ä»¥çœ‹åˆ°ååŠ è½½çš„ <code>button</code> æŒ‰é’®å…ƒç´ ã€‚</p>
<ul>
<li>å»ºè®®ä¸ºç”¨æˆ·æä¾›åŠ è½½åŠ¨ç”»æç¤ºï¼Œå½“æ¨¡å—è¿è¡Œæ—¶å†å»æ‰åŠ¨ç”»</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;script type=&quot;module&quot;&gt;</span><br><span class="line">    console.log(document.querySelector(&quot;button&quot;)); //Button</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    console.log(document.querySelector(&quot;button&quot;)); //undefined</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">  &lt;button&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é»˜è®¤ä¸¥æ ¼"><a href="#é»˜è®¤ä¸¥æ ¼" class="headerlink" title="é»˜è®¤ä¸¥æ ¼"></a>é»˜è®¤ä¸¥æ ¼</h4><p>æ¨¡å—é»˜è®¤è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ï¼Œä»¥ä¸‹ä»£ç æ²¡æœ‰ä½¿ç”¨å£°æ˜è¯­å¥å°†æŠ¥é”™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">	as = &quot;Ashuntefannao&quot;; // Error</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ <code>this</code> ä¹Ÿä¼šæ˜¯ <code>undefined</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(this); //Window</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  console.log(this); //undefiend</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç‹¬ç«‹ä½œç”¨åŸŸ"><a href="#ç‹¬ç«‹ä½œç”¨åŸŸ" class="headerlink" title="ç‹¬ç«‹ä½œç”¨åŸŸ"></a>ç‹¬ç«‹ä½œç”¨åŸŸ</h4><p>æ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„é¡¶çº§ä½œç”¨åŸŸï¼Œä¸‹é¢çš„æ¨¡å—ä¸èƒ½äº’ç›¸è®¿é—®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  let as = &quot;Ashuntefannao&quot;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  alert(as); // Error</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¼•å…¥å•ç‹¬æ–‡ä»¶ï¼Œä½œç”¨åŸŸä¹Ÿæ˜¯ç‹¬ç«‹çš„ï¼Œä¸‹é¢çš„æ¨¡å— <code>1.2.js</code> ä¸èƒ½è®¿é—®æ¨¡å— <code>1.1.js</code> ä¸­çš„æ•°æ®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; src=&quot;1.1.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;module&quot; src=&quot;1.2.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">æ–‡ä»¶å†…å®¹å¦‚ä¸‹</span><br><span class="line"># 1.1.js</span><br><span class="line">let as = &quot;Ashuntefannao&quot;;</span><br><span class="line"></span><br><span class="line"># 1.2.js</span><br><span class="line">console.log(as)</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ä¸€æ¬¡è§£æ"><a href="#ä¸€æ¬¡è§£æ" class="headerlink" title="ä¸€æ¬¡è§£æ"></a>ä¸€æ¬¡è§£æ</h4><p>æ¨¡å—åœ¨å¯¼å…¥æ—¶<code>åªæ‰§è¡Œä¸€æ¬¡è§£æ</code>ï¼Œä¹‹åçš„å¯¼å…¥ä¸ä¼šå†æ‰§è¡Œæ¨¡å—ä»£ç ï¼Œè€Œä½¿ç”¨ç¬¬ä¸€æ¬¡è§£æç»“æœï¼Œå¹¶å…±äº«æ•°æ®ã€‚</p>
<ul>
<li>å¯ä»¥åœ¨é¦–æ¬¡å¯¼å…¥æ—¶å®Œæˆä¸€äº›åˆå§‹åŒ–å·¥ä½œ</li>
<li>å¦‚æœæ¨¡å—å†…æœ‰åå°è¯·æ±‚ï¼Œä¹Ÿåªæ‰§è¡Œä¸€æ¬¡</li>
</ul>
<p>å¼•å…¥å¤šå…¥<code>as.js</code> è„šæœ¬æ—¶åªæ‰§è¡Œä¸€æ¬¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot; src=&quot;./as.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;module&quot; src=&quot;./as.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"># as.jså†…å®¹å¦‚ä¸‹</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢åœ¨å¯¼å…¥å¤šæ¬¡ <code>as.js</code> æ—¶åªè§£æä¸€æ¬¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &quot;./as.js&quot;;</span><br><span class="line">  import &quot;./as.js&quot;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"># as.jså†…å®¹å¦‚ä¸‹</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å¯¼å…¥å¯¼å‡º"><a href="#å¯¼å…¥å¯¼å‡º" class="headerlink" title="å¯¼å…¥å¯¼å‡º"></a>å¯¼å…¥å¯¼å‡º</h3><p>ES6ä½¿ç”¨åŸºäºæ–‡ä»¶çš„æ¨¡å—ï¼Œå³ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—ã€‚</p>
<ul>
<li>ä½¿ç”¨<code>export</code> å°†å¼€å‘çš„æ¥å£å¯¼å‡º</li>
<li>ä½¿ç”¨<code>import</code> å¯¼å…¥æ¨¡å—æ¥å£</li>
</ul>
<h4 id="å…·åå¯¼å‡º"><a href="#å…·åå¯¼å‡º" class="headerlink" title="å…·åå¯¼å‡º"></a>å…·åå¯¼å‡º</h4><p>ä¸‹é¢å®šä¹‰æ¨¡å— <code>modules/as.js</code> ï¼Œä½¿ç”¨ <code>export</code> å…·åå¯¼å‡ºæ¨¡å—æ¥å£ï¼Œæ²¡æœ‰å¯¼å‡ºçš„å˜é‡éƒ½æ˜¯æ¨¡å—ç§æœ‰çš„ã€‚</p>
<p>ä¸‹é¢æ˜¯å¯¹å®šä¹‰çš„ <code>as.js</code> æ¨¡å—ï¼Œåˆ†åˆ«å¯¼å‡ºå†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">export const site = &quot;ashuntefannao&quot;;</span><br><span class="line">export const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">export class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ‰¹é‡å¯¼å‡º"><a href="#æ‰¹é‡å¯¼å‡º" class="headerlink" title="æ‰¹é‡å¯¼å‡º"></a>æ‰¹é‡å¯¼å‡º</h5><p>ä¹Ÿå¯åœ¨å®šä¹‰è¢«å¯¼å‡ºå˜é‡åï¼Œä½¿ç”¨<code>æ‰¹é‡å¯¼å‡º</code>ä¸€æ¬¡æ€§å¯¼å‡ºå¤šä¸ªå˜é‡æ¥å£,<code>export&#123;â€¦options&#125;</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const site = &quot;ashuntefannao&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; site, func, User &#125;;</span><br></pre></td></tr></table></figure>

<h4 id="å…·åå¯¼å…¥"><a href="#å…·åå¯¼å…¥" class="headerlink" title="å…·åå¯¼å…¥"></a>å…·åå¯¼å…¥</h4><p><code>å…·åå¯¼å…¥</code>ä¸<code>å…·åå¯¼å‡º</code>ç›¸å¯¹åº”ï¼Œå…·åå¯¼å‡ºçš„æ¨¡å—æ¥å£ï¼Œéœ€è¦å…·åå¯¼å…¥ã€‚</p>
<p>ä¸‹é¢å¯¼å…¥ä¸Šé¢å®šä¹‰çš„ <code>as.js</code> æ¨¡å—ï¼Œåˆ†åˆ«å¯¼å…¥æ¨¡å—å¯¼å‡ºçš„å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &#123; User, site, func &#125; from &quot;./as.js&quot;;</span><br><span class="line">  console.log(site);</span><br><span class="line">  console.log(User);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯åªå¯¼å…¥éƒ¨åˆ†å˜é‡æ¥å£ï¼Œéœ€è¦å“ªäº›å¯¼å…¥å“ªäº›ï¼Œå½“ç„¶äº† æ‰€å¯¼å…¥çš„å˜é‡æ¥å£ï¼Œå¿…é¡»è¢«æ‰€å¼•å…¥çš„æ¨¡å—å¯¼å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;module&quot;&gt;</span><br><span class="line">  import &#123; User &#125; from &quot;.&#x2F;as.js&quot;;</span><br><span class="line">  console.log(User);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>åƒä¸‹é¢è¿™æ ·åœ¨ <code>&#123;&#125;</code> ä¸­å¯¼å…¥æ˜¯é”™è¯¯çš„ï¼Œæ¨¡å—é»˜è®¤æ˜¯åœ¨<code>é¡¶å±‚é™æ€å¯¼å…¥</code>ï¼Œè¿™æ˜¯ä¸ºäº†åˆ†æä½¿ç”¨çš„æ¨¡å—ï¼Œæ–¹ä¾¿æ‰“åŒ…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">if (true) &#123;</span><br><span class="line">  import &#123; site, func &#125; from &quot;./as.js&quot;; // Error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ‰¹é‡å¯¼å…¥"><a href="#æ‰¹é‡å¯¼å…¥" class="headerlink" title="æ‰¹é‡å¯¼å…¥"></a>æ‰¹é‡å¯¼å…¥</h5><p>ä¹Ÿå¯ä½¿ç”¨æ‰¹é‡å¯¼å…¥è¯­æ³•<code>import * as alias </code>ï¼Œä¸€æ¬¡æ€§å°†æ‰€æœ‰æš´éœ²çš„æ¥å£å¯¼å…¥ï¼Œå¹¶ä¸ºæ‰¹é‡å¯¼å…¥çš„æ¥å£èµ·ä¸€ä¸ª<code>åˆ«å</code>ï¼Œä¹‹åé€šè¿‡åˆ«åæ¥è®¿é—®æ‰¹é‡å¯¼å‡ºçš„å¯¹è±¡ã€‚</p>
<ul>
<li><code>*</code>æ•´ä½“ä¸ºä¸€ä¸ªObjectï¼Œä¸ºå…¶è®¾ç½®åˆ«ååé€šè¿‡<code>alias.propName</code>è®¿é—®å¯¼å‡ºçš„å…·ä½“å˜é‡</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;module&quot;&gt;</span><br><span class="line">  import * as api from &quot;.&#x2F;hd.js&quot;;</span><br><span class="line">  console.log(api.site);</span><br><span class="line">  console.log(api.User);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å¯¼å…¥å»ºè®®"><a href="#å¯¼å…¥å»ºè®®" class="headerlink" title="å¯¼å…¥å»ºè®®"></a>å¯¼å…¥å»ºè®®</h4><p>å› ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼Œæˆ‘ä»¬æ›´å»ºè®®ä½¿ç”¨æ˜ç¡®å¯¼å…¥æ–¹å¼</p>
<ul>
<li>ä½¿ç”¨<code>webpack</code> æ„å»ºå·¥å…·æ—¶ï¼Œæ²¡æœ‰å¯¼å…¥çš„åŠŸèƒ½ä¼šåˆ é™¤èŠ‚çœæ–‡ä»¶å¤§å°</li>
<li>å¯ä»¥æ›´æ¸…æ™°çŸ¥é“éƒ½ä½¿ç”¨äº†å…¶ä»–æ¨¡å—çš„å“ªäº›åŠŸèƒ½</li>
</ul>
<hr>
<h3 id="åˆ«åä½¿ç”¨"><a href="#åˆ«åä½¿ç”¨" class="headerlink" title="åˆ«åä½¿ç”¨"></a>åˆ«åä½¿ç”¨</h3><h4 id="åˆ«åå¯¼å…¥"><a href="#åˆ«åå¯¼å…¥" class="headerlink" title="åˆ«åå¯¼å…¥"></a>åˆ«åå¯¼å…¥</h4><p>å¯ä»¥ä¸ºå¯¼å…¥çš„æ¨¡å—é‡æ–°å‘½åï¼Œè¯­æ³•: <code>import &#123; oldName as newName â€¦&#125;</code></p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<ul>
<li>æœ‰äº›å¯¼å‡ºçš„æ¨¡å—å‘½åè¿‡é•¿ï¼Œèµ·åˆ«åå¯ä»¥æ›´åŠ ç®€æ´</li>
<li>æœ¬æ¨¡å—ä¸å¯¼å…¥æ¨¡å— å˜é‡é‡åæ—¶ï¼Œå¯ä»¥é€šè¿‡èµ·åˆ«åé˜²æ­¢å†²çª</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const site = &quot;ashuntefannao&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; site, func, User &#125;;</span><br></pre></td></tr></table></figure>

<p>æ¨¡å—å¯¼å…¥ä½¿ç”¨ <code>as</code> å¯¹æ¥å£é‡å‘½åï¼Œæœ¬æ¨¡å—ä¸­å·²ç»å­˜åœ¨ <code>func</code> å˜é‡ï¼Œéœ€è¦å¯¹å¯¼å…¥çš„æ¨¡å—é‡å‘½åé˜²æ­¢å‘½åé”™è¯¯ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &#123; User as user, func as method, site as name &#125; from &quot;./as.js&quot;;</span><br><span class="line">  let func = &quot;ashunMethod&quot;;</span><br><span class="line">  console.log(name);</span><br><span class="line">  console.log(user);</span><br><span class="line">  console.log(method);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="åˆ«åå¯¼å‡º"><a href="#åˆ«åå¯¼å‡º" class="headerlink" title="åˆ«åå¯¼å‡º"></a>åˆ«åå¯¼å‡º</h4><p>æ¨¡å—å¯ä»¥å¯¹ æš´éœ²ç»™å¤–éƒ¨çš„æ¥å£ èµ·åˆ«åï¼Œä¸‹é¢æ˜¯<code>as.js</code> æ¨¡å—å¯¹æš´éœ²çš„æ¥å£èµ·åˆ«å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const site = &quot;ashuntefannao&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; site, func as method, User as user &#125;;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæ¨¡å—æš´éœ²æ—¶ï¼Œä¸ºå…¶æ¥å£èµ·äº†åˆ«åï¼Œæ‰€ä»¥åœ¨å…·åå¯¼å…¥æ—¶ï¼Œåº”å¯¼å…¥å¯¹åº”çš„åˆ«åã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import &#123; user, method &#125; from &quot;./as.js&quot;;</span><br><span class="line">  method();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é»˜è®¤å¯¼å‡º"><a href="#é»˜è®¤å¯¼å‡º" class="headerlink" title="é»˜è®¤å¯¼å‡º"></a>é»˜è®¤å¯¼å‡º</h3><p>å¾ˆå¤šæ—¶å€™æ¨¡å—åªæ˜¯ä¸€ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯è¯´åªéœ€è¦å¯¼å…¥ä¸€ä¸ªå†…å®¹ï¼Œè¿™åœ°å¯ä»¥ä½¿ç”¨é»˜è®¤å¯¼å…¥ã€‚</p>
<p>ä½¿ç”¨<code>default</code>å…³é”®å­— å®šä¹‰é»˜è®¤å¯¼å‡ºçš„æ¥å£ï¼Œå¯¼å…¥æ—¶ä¸éœ€è¦ä½¿ç”¨ <code>&#123;&#125;</code></p>
<ul>
<li><p>åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡º</p>
</li>
<li><p>é»˜è®¤å¯¼å‡ºå¯ä»¥æ²¡æœ‰å‘½å</p>
</li>
<li><p>åœ¨å¯¼å…¥æ—¶å¯ä»¥ä»»æ„å‘½å</p>
</li>
</ul>
<h4 id="å•ä¸€å¯¼å‡º"><a href="#å•ä¸€å¯¼å‡º" class="headerlink" title="å•ä¸€å¯¼å‡º"></a>å•ä¸€å¯¼å‡º</h4><p>ä¸‹é¢æ˜¯<code>as.js</code> æ¨¡å—å†…å®¹ï¼Œé»˜è®¤åªå¯¼å‡ºä¸€ä¸ªç±»ã€‚å¹¶ä¸”æ²¡æœ‰å¯¹ç±»å‘½åï¼Œè¿™æ˜¯å¯ä»¥çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export default class &#123;</span><br><span class="line">  static show() &#123;</span><br><span class="line">    console.log(&quot;User.method&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå°†ä¸€ä¸ªå¯¼å‡ºçš„æ¥å£ åˆ†é…åˆ«åä¸º <code>default</code> ä¹Ÿç®—é»˜è®¤å¯¼å‡º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  static show() &#123;</span><br><span class="line">    console.log(&quot;User.method&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; User as default &#125;;</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥æ—¶å°±ä¸éœ€è¦ä½¿ç”¨ <code>&#123;&#125;</code> æ¥å¯¼å…¥äº†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import User from &quot;./hd.js&quot;;</span><br><span class="line">  User.show();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤å¯¼å‡ºçš„æ¥å£ åœ¨å¼•å…¥æ—¶ å¯ä»¥éšæ„å‘½å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import as from &quot;./hd.js&quot;;</span><br><span class="line">  as.show();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ··åˆå¯¼å‡º"><a href="#æ··åˆå¯¼å‡º" class="headerlink" title="æ··åˆå¯¼å‡º"></a>æ··åˆå¯¼å‡º</h4><p>æ¨¡å—å¯ä»¥å­˜åœ¨é»˜è®¤å¯¼å‡ºä¸å‘½åå¯¼å‡ºã€‚</p>
<p>ä½¿ç”¨<code>export default</code> å¯¼å‡ºé»˜è®¤æ¥å£ï¼Œä½¿ç”¨ <code>export &#123;&#125;</code> å¯¼å…¥æ™®é€šæ¥å£</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const site = &quot;ashuntefannao&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">export default class &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; site, func &#125;;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç»“åˆåˆ«å<code>oldName as default</code>ç»¼åˆå¯¼å‡ºå„ä¸ªæ¥å£</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const site = &quot;ashuntefannao&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  return &quot;is a module function&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export &#123; site, func, User as default &#125;;</span><br></pre></td></tr></table></figure>

<p>å¯¼å…¥é»˜è®¤æ¥å£æ—¶ä¸éœ€è¦ä½¿ç”¨ <code>&#123;&#125;</code> ï¼Œæ™®é€šæ¥å£è¿˜ç”¨ <code>&#123;&#125;</code> å¯¼å…¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">	//å¯ä»¥å°† as æ›¿æ¢ä¸ºä»»ä½•å˜é‡</span><br><span class="line">  import as from &quot;./as.js&quot;;</span><br><span class="line">  import &#123; site &#125; from &quot;./as.js&quot;;</span><br><span class="line">  console.log(site);</span><br><span class="line">  as.show();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ä¸€æ¡è¯­å¥å¯¼å…¥é»˜è®¤æ¥å£ä¸å¸¸è§„æ¥å£ï¼Œä½¿ç”¨<code>,</code>éš”å¼€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">import show, &#123; name &#125; from &quot;/modules/ashun.js&quot;;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«åå¯¼å…¥ é»˜è®¤å¯¼å‡ºçš„æ¥å£</p>
<ul>
<li><code>default as è‡ªå®šä¹‰åç§°</code>ï¼Œä¹‹åé€šè¿‡ è‡ªå®šä¹‰çš„å˜é‡ è®¿é—®é»˜è®¤å¯¼å‡ºæ¥å£</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">import &#123; site, default as as &#125; from &quot;./as.js&quot;;</span><br><span class="line">console.log(site);</span><br><span class="line">as.show();</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯æ‰¹é‡å¯¼å…¥æ—¶ï¼Œä½¿ç”¨ <code>alias.default</code> è·å¾—é»˜è®¤å¯¼å‡º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import * as api from &quot;./as.js&quot;;</span><br><span class="line">  console.log(api.site);</span><br><span class="line">  api.default.show();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="ä½¿ç”¨å»ºè®®"><a href="#ä½¿ç”¨å»ºè®®" class="headerlink" title="ä½¿ç”¨å»ºè®®"></a>ä½¿ç”¨å»ºè®®</h4><p>å¯¹äºé»˜è®¤å¯¼å‡ºå’Œå‘½åå¯¼å‡ºæœ‰ä»¥ä¸‹å»ºè®®</p>
<ul>
<li><p>ä¸å»ºè®®ä½¿ç”¨é»˜è®¤å¯¼å‡ºï¼Œä¼šè®©å¼€å‘è€…å¯¼å…¥æ—¶éšæ„å‘½å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">import as from &quot;./as.js&quot;;</span><br><span class="line">import shun from &quot;./as.js&quot;;</span><br></pre></td></tr></table></figure></li>
<li><p>å¦‚æœä½¿ç”¨é»˜è®¤å¯¼å…¥ï¼Œè‡ªå®šä¹‰çš„åç§°æœ€å¥½å’Œ æ¨¡å—çš„æ–‡ä»¶å æœ‰å…³è”ï¼Œä¼šä½¿ç”¨ä»£ç æ›´æ˜“é˜…è¯»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">import as from &quot;./as.js&quot;;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h3 id="å¯¼å‡ºåˆå¹¶"><a href="#å¯¼å‡ºåˆå¹¶" class="headerlink" title="å¯¼å‡ºåˆå¹¶"></a>å¯¼å‡ºåˆå¹¶</h3><h4 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h4><p>å¯ä»¥å°†å¯¼å…¥çš„æ¨¡å—é‡æ–°å¯¼å‡ºä½¿ç”¨ï¼Œæ¯”å¦‚é¡¹ç›®æ¨¡å—æ¯”è¾ƒå¤šå¦‚ä¸‹æ‰€ç¤ºï¼Œè¿™æ—¶å¯ä»¥å°†æ‰€æœ‰æ¨¡å—<code>åˆå¹¶åˆ°ä¸€ä¸ªå…¥å£æ–‡ä»¶</code>ä¸­ã€‚</p>
<p>è¿™æ ·åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªæ¨¡å—å…¥å£æ–‡ä»¶ï¼Œè€Œä¸ç”¨å…³æ³¨å¤šä¸ªæ¨¡å—æ–‡ä»¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">|--test1.js</span><br><span class="line">|--test2.js</span><br><span class="line">|--test3.js</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="å®é™…ä½¿ç”¨"><a href="#å®é™…ä½¿ç”¨" class="headerlink" title="å®é™…ä½¿ç”¨"></a>å®é™…ä½¿ç”¨</h4><p>ä¸‹é¢æ˜¯ <code>test1.js</code> æ¨¡å—å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const site = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const func = function () &#123;</span><br><span class="line">  console.log(&quot;is a module function&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">export &#123; site, func &#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ <code>test2.js</code> æ¨¡å—å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export default class &#123;</span><br><span class="line">  static get() &#123;</span><br><span class="line">    console.log(&quot;ashun.js.get&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ <code>test3.js</code> æ¨¡å—å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export function method() &#123;</span><br><span class="line">  console.log(&quot;test3 method&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ <code>index.js</code> æ¨¡å—å†…å®¹ï¼Œç”±äºæˆ‘ä»¬æƒ³è®©index.jsä¸ºå…¥å£æ–‡ä»¶ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½å­˜æ”¾å…¶ä¸­ï¼Œæš´éœ²ç»™å¤–éƒ¨ã€‚ESæ¨¡å—åŒ–è§„èŒƒæä¾›äº†å¯¹åº”çš„è¯­æ³•ï¼Œåœ¨<code>index.js</code>ä¸­<code>å¯¼å…¥å…¶ä»–æ¨¡å—çš„åŒæ—¶ä¹Ÿå°†å…¶å¯¼å‡º</code>ã€‚</p>
<ul>
<li>å°†<code>import</code>ä¸<code>export</code>åˆå¹¶ä½¿ç”¨ï¼Œåœ¨å¯¼å…¥çš„åŒæ—¶è¿›è¡Œå¯¼å‡º</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export * as as from &quot;./test1.js&quot;;</span><br><span class="line">//ç›¸å½“äºä»¥ä¸‹è¯­å¥</span><br><span class="line">// import * as as from &quot;./test1.js&quot;</span><br><span class="line">// export &#123; as &#125;</span><br><span class="line"></span><br><span class="line">export &#123; default as shunClass &#125; from &quot;./test2.js&quot;;</span><br><span class="line">// ä»¥ä¸Šå¯¼å…¥test2çš„è¯­å¥ç›¸å½“äºä¸‹ä¸¤å¥</span><br><span class="line">// import &#123; default as shunClass &#125; from &quot;./test2.js&quot;;</span><br><span class="line">// export &#123; shunClass &#125;;</span><br><span class="line">// ä¹Ÿç­‰ä»·äº</span><br><span class="line">// import shunClass  from &quot;./test2.js&quot;;</span><br><span class="line">// export &#123; shunClass &#125;;</span><br><span class="line"></span><br><span class="line">// ä½†ä»¥ä¸‹æ–¹å¼å¯¼å‡º test2é»˜è®¤å¯¼å‡ºçš„æ¨¡å— æ˜¯é”™è¯¯çš„</span><br><span class="line">// export shunClass from &quot;./test3.js&quot;;</span><br><span class="line"></span><br><span class="line">//	åœ¨index.jsä¸­ï¼Œé»˜è®¤å¯¼å‡ºtest3ä¸­çš„methodã€‚</span><br><span class="line">export &#123; method as default &#125; from &quot;./test3.js&quot;;</span><br><span class="line">//	ç›¸å½“äºä»¥ä¸‹è¯­å¥</span><br><span class="line">//  import &#123;method&#125; from &quot;./test3.js&quot;</span><br><span class="line">//	export &#123;method as default&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import * as api from &quot;./index.js&quot;;</span><br><span class="line">  console.log(api.shunClass);</span><br><span class="line">  console.log(api.as.site);</span><br><span class="line">  api.as.func();</span><br><span class="line">  api.default();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">//ç­‰ä»·äº</span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">      import test3Method, &#123; as, shunClass &#125; from &quot;./index.js&quot;;</span><br><span class="line">      console.log(shunClass);</span><br><span class="line">      console.log(as.site);</span><br><span class="line">      test3Method();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">//ç­‰ä»·äº</span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">      import &#123; as, shunClass, default as test3Method &#125; from &quot;./index.js&quot;;</span><br><span class="line">      console.log(shunClass);</span><br><span class="line">      console.log(as.site);</span><br><span class="line">      test3Method();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="åŠ¨æ€åŠ è½½"><a href="#åŠ¨æ€åŠ è½½" class="headerlink" title="åŠ¨æ€åŠ è½½"></a>åŠ¨æ€åŠ è½½</h3><p>ä½¿ç”¨ <code>import</code> å…³é”®å­— å¿…é¡»åœ¨<code>é¡¶å±‚é™æ€å¯¼å…¥</code>æ¨¡å—ï¼Œè€Œä½¿ç”¨<code>import(&quot;path&quot;)</code> å‡½æ•°å¯ä»¥æŒ‰éœ€åŠ¨æ€çš„å¯¼å…¥æ¨¡å—ï¼Œå®ƒè¿”å›ä¸€ä¸ª <code>promise</code> å¯¹è±¡ã€‚</p>
<h4 id="é™æ€å¯¼å…¥"><a href="#é™æ€å¯¼å…¥" class="headerlink" title="é™æ€å¯¼å…¥"></a>é™æ€å¯¼å…¥</h4><p>å¿…é¡»åœ¨é¡¶å±‚é™æ€å¯¼å…¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if (true) &#123;</span><br><span class="line">  import &#123; site, func &#125; from &quot;.&#x2F;as.js&quot;; &#x2F;&#x2F; Error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æŒ‰éœ€åŠ¨æ€å¯¼å…¥"><a href="#æŒ‰éœ€åŠ¨æ€å¯¼å…¥" class="headerlink" title="æŒ‰éœ€åŠ¨æ€å¯¼å…¥"></a>æŒ‰éœ€åŠ¨æ€å¯¼å…¥</h4><p>æµ‹è¯•ç”¨çš„ <code>as.js</code> æ¨¡å—å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const site = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">const func = function() &#123;</span><br><span class="line">  console.log(&quot;is a module function&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">export &#123; site, func &#125;;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>import(&quot;path&quot;)</code> å‡½æ•°å¯ä»¥åŠ¨æ€å¯¼å…¥ï¼Œå®ç°æŒ‰éœ€åŠ è½½</p>
<ul>
<li><code>import()</code>è¿”å›<code>promise</code>ï¼Œå¯ä»¥ä½¿ç”¨promiseæ–¹æ³•åœ¨å¯¼å…¥æ¨¡å—åè¿›è¡Œæ“ä½œ</li>
<li><code>import(&quot;path&quot;).then(module=&gt;&#123;&#125;).catch(err=&gt;&#123;&#125;)</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  if (true) &#123;</span><br><span class="line">    let as = import(&quot;./as.js&quot;).then(module =&gt; &#123;</span><br><span class="line">      console.log(module.site);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯åœ¨ç‚¹å‡»äº‹ä»¶å‘ç”ŸåæŒ‰éœ€è¦åŠ è½½æ¨¡å—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;button&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  document.querySelector(&quot;button&quot;).addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">    let as = import(&quot;./as.js&quot;).then(module =&gt; &#123;</span><br><span class="line">      console.log(module.site);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæ˜¯è¿”å›çš„å¯¹è±¡å¯ä»¥ä½¿ç”¨è§£æ„è¯­æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;button&gt;åç›¾äºº&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  document.querySelector(&quot;button&quot;).addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">    let hd = import(&quot;./hd.js&quot;).then((&#123; site, func &#125;) =&gt; &#123;</span><br><span class="line">      console.log(site);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="æŒ‡ä»¤æ€»ç»“"><a href="#æŒ‡ä»¤æ€»ç»“" class="headerlink" title="æŒ‡ä»¤æ€»ç»“"></a>æŒ‡ä»¤æ€»ç»“</h3><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>export function show(){}</td>
<td>å…·åå¯¼å‡ºå‡½æ•°</td>
</tr>
<tr>
<td>export const name=â€™é˜¿é¡ºâ€™</td>
<td>å…·åå¯¼å‡ºå˜é‡</td>
</tr>
<tr>
<td>export class User{}</td>
<td>å…·åå¯¼å‡ºç±»</td>
</tr>
<tr>
<td>export { show , name ,  User }</td>
<td>æ‰¹é‡å…·åå¯¼å‡º</td>
</tr>
<tr>
<td>export default show</td>
<td>é»˜è®¤å¯¼å‡º</td>
</tr>
<tr>
<td>export default show  â€¦â€¦  export{ name ,  User }</td>
<td>æ··åˆå¯¼å‡º</td>
</tr>
<tr>
<td>export { show as default , name ,  User  }</td>
<td>æ‰¹é‡æ··åˆå¯¼å‡º</td>
</tr>
<tr>
<td>export {name as shun_name}</td>
<td>åˆ«åå¯¼å‡º</td>
</tr>
<tr>
<td>import {name,show} from â€˜as.jsâ€™</td>
<td>å…·åå¯¼å…¥</td>
</tr>
<tr>
<td>import defaultVar from â€˜ashun.jsâ€™</td>
<td>å¯¼å…¥é»˜è®¤å¯¼å‡º</td>
</tr>
<tr>
<td>import defaultVar,{name,show} from &#39;as.js&#39;</td>
<td>æ··åˆå¯¼å…¥</td>
</tr>
<tr>
<td>import  {name , show , default as defaultVar} from &#39;as.js&#39;</td>
<td>æ··åˆå¯¼å…¥</td>
</tr>
<tr>
<td>Import { name as asName , show } from â€˜ashun.jsâ€™</td>
<td>åˆ«åå¯¼å…¥</td>
</tr>
<tr>
<td>Import * as api from â€˜ashun.jsâ€™</td>
<td>å¯¼å…¥å…¨éƒ¨æ¥å£</td>
</tr>
</tbody></table>
<p><em><strong>å¯¼å…¥å¹¶å¯¼å‡º</strong></em></p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>export { name, site } from â€œ./as.jsâ€</td>
<td>å°†as.jsä¸­çš„<code>nameã€site</code>å…·åå¯¼å…¥å¹¶å¯¼å‡º</td>
</tr>
<tr>
<td>export { name as asName , site } from â€œ./as.jsâ€</td>
<td>å°†as.jsä¸­çš„<code>name</code>åˆ«åå¯¼å…¥å¯¼å‡ºï¼›<code>site</code>å…·åå¯¼å…¥å¹¶å¯¼å‡º</td>
</tr>
<tr>
<td>export { name as default } from â€œ./as.jsâ€</td>
<td>å°†as.jsä¸­çš„<code>name</code>å…·åå¯¼å…¥å†é»˜è®¤å¯¼å‡º</td>
</tr>
<tr>
<td>export { default as defaultVar } from â€œ./as.jsâ€</td>
<td>å°†as.jsä¸­çš„é»˜è®¤å¯¼å‡ºè¿›è¡Œå¯¼å…¥ï¼Œå†ä»¥<code>defaultVar</code>å…·åå¯¼å‡º</td>
</tr>
<tr>
<td>export * as asAPI from â€œ./as.jsâ€;</td>
<td>å°†as.jsä¸­æš´éœ²çš„æ¥å£åˆå¹¶å¯¼å…¥ï¼Œå†ä»¥<code>asAPI</code>å…·åå¯¼å‡º</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ç©ºé—´åæ ‡</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E7%A9%BA%E9%97%B4%E5%9D%90%E6%A0%87/</url>
    <content><![CDATA[<h2 id="ç©ºé—´åæ ‡"><a href="#ç©ºé—´åæ ‡" class="headerlink" title="ç©ºé—´åæ ‡"></a>ç©ºé—´åæ ‡</h2><h3 id="è§†å£ä¸æ–‡æ¡£"><a href="#è§†å£ä¸æ–‡æ¡£" class="headerlink" title="è§†å£ä¸æ–‡æ¡£"></a>è§†å£ä¸æ–‡æ¡£</h3><p>é¦–å…ˆç†è§£è§†å£ï¼ˆçª—å£ï¼‰ä¸æ–‡æ¡£çš„å«ä¹‰</p>
<ul>
<li>ç½‘é¡µå¾ˆå¤šéƒ½æ˜¯å¤šå±ï¼ˆé€šè¿‡æ»šåŠ¨æ¡æ˜¾ç¤ºçœ‹ä¸è§çš„å†…å®¹ï¼‰ï¼Œæ‰€ä»¥æ–‡æ¡£å°ºå¯¸ä¸€èˆ¬å¤§äºè§†å£å°ºå¯¸</li>
<li>è§†å£å¯ä»¥ç†è§£ä¸ºå¯è§†åŒºåŸŸï¼Œè€Œä¸æ˜¯å…¨éƒ¨çš„æ–‡æ¡£</li>
<li>è§†å£å°ºå¯¸ä¸åŒ…æ‹¬æµè§ˆå™¨å·¥å…·æ¡ã€èœå•ã€æ ‡ç­¾ã€çŠ¶æ€æ ç­‰</li>
<li>å½“ä½ æ‰“å¼€æ§åˆ¶å°åï¼Œè§†å£å°ºå¯¸å°±ç›¸åº”å˜å°äº†</li>
<li>positionä½¿ç”¨æ–‡æ¡£å®šä½ï¼Œfixedä½¿ç”¨è§†å£å®šä½</li>
<li>æ–‡æ¡£åæ ‡åœ¨é¡µé¢æ»šåŠ¨æ—¶ä¸å‘ç”Ÿæ”¹å˜</li>
<li>è§†å£åæ ‡çš„æ“ä½œéœ€è¦è€ƒè™‘æ»šåŠ¨æ¡çš„ä½ç½®</li>
</ul>
<img src="ç©ºé—´åæ ‡.assets/è§†å£_æ–‡æ¡£åŒºåŸŸ1.png" alt="image-20210413150736697" style="zoom:75%;" />

<h4 id="è§†å£ä¸æ–‡æ¡£å°ºå¯¸"><a href="#è§†å£ä¸æ–‡æ¡£å°ºå¯¸" class="headerlink" title="è§†å£ä¸æ–‡æ¡£å°ºå¯¸"></a>è§†å£ä¸æ–‡æ¡£å°ºå¯¸</h4><p>è§†å£åæ ‡éœ€è¦çŸ¥é“æ»šåŠ¨æ¡ä½ç½®æ‰å¯ä»¥è¿›è¡Œè®¡ç®—ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼è·å–æ»šåŠ¨ä½ç½®</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>æ³¨æ„</th>
</tr>
</thead>
<tbody><tr>
<td>window.innerWidth</td>
<td>è§†å£å®½åº¦</td>
<td>åŒ…æ‹¬æ»šåŠ¨æ¡ï¼ˆä¸å¸¸ç”¨ï¼‰</td>
</tr>
<tr>
<td>window.innerHeight</td>
<td>è§†å£é«˜åº¦</td>
<td>åŒ…æ‹¬æ»šåŠ¨æ¡ï¼ˆä¸å¸¸ç”¨ï¼‰</td>
</tr>
<tr>
<td>document.documentElement.clientWidth</td>
<td>è§†å£å®½åº¦</td>
<td></td>
</tr>
<tr>
<td>document.documentElement.clientHeight</td>
<td>è§†å£é«˜åº¦</td>
<td></td>
</tr>
</tbody></table>
<h3 id="å‡ ä½•å°ºå¯¸"><a href="#å‡ ä½•å°ºå¯¸" class="headerlink" title="å‡ ä½•å°ºå¯¸"></a>å‡ ä½•å°ºå¯¸</h3><p>å…ƒç´ åœ¨é¡µé¢ä¸­æ‹¥æœ‰å¤šä¸ªæè¿°å‡ ä½•æ•°å€¼çš„å°ºå¯¸ï¼Œä¸‹é¢æˆªå›¾è¿›è¡Œäº†å½¢è±¡çš„æè¿°ã€‚</p>
<img src="ç©ºé—´åæ ‡.assets/è§†å£_æ–‡æ¡£åŒºåŸŸ2.png" alt="image-20210413150736697" style="zoom:75%;" />



<h4 id="æ–¹æ³•åˆ—è¡¨"><a href="#æ–¹æ³•åˆ—è¡¨" class="headerlink" title="æ–¹æ³•åˆ—è¡¨"></a>æ–¹æ³•åˆ—è¡¨</h4><p>ä¸‹é¢æ˜¯è·å–å°ºå¯¸çš„æ–¹æ³•æˆ–å±æ€§</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>element.getBoundingClientRect</td>
<td>è¿”å›å…ƒç´ åœ¨è§†å£åæ ‡åŠå…ƒç´ å¤§å°ï¼Œwidth/heightä¸åŒ…æ‹¬å¤–è¾¹è·ï¼Œä¸offsetWidth/offsetHeightåŒ¹é…</td>
<td>çª—å£åæ ‡</td>
</tr>
<tr>
<td>element.getClientRects</td>
<td>è¡Œçº§å…ƒç´ æ¯è¡Œå°ºå¯¸ä½ç½®ç»„æˆçš„æ•°ç»„</td>
<td></td>
</tr>
<tr>
<td>element.offsetParent</td>
<td>æ‹¥æœ‰å®šä½å±æ€§çš„çˆ¶çº§ï¼Œæˆ–body/td/th/table</td>
<td>å¯¹äºéšè—å…ƒç´ /body/htmlå€¼ä¸ºnull</td>
</tr>
<tr>
<td>element.offsetWidth</td>
<td>å…ƒç´ å®½åº¦å°ºå¯¸ï¼ŒåŒ…æ‹¬å†…è¾¹è·ä¸è¾¹æ¡†å’Œæ»šåŠ¨æ¡</td>
<td></td>
</tr>
<tr>
<td>element.offsetHeight</td>
<td>å…ƒç´ é«˜åº¦å°ºå¯¸ï¼ŒåŒ…æ‹¬å†…è¾¹è·ä¸è¾¹æ¡†å’Œæ»šåŠ¨æ¡</td>
<td></td>
</tr>
<tr>
<td>element.offsetLeft</td>
<td>ç›¸å¯¹äºç¥–å…ˆå…ƒç´ çš„Xè½´åæ ‡</td>
<td></td>
</tr>
<tr>
<td>element.offsetTop</td>
<td>ç›¸å¯¹äºç¥–å…ˆå…ƒç´ çš„Yè½´åæ ‡</td>
<td></td>
</tr>
<tr>
<td>element.clientWidth</td>
<td>å…ƒç´ å®½åº¦ï¼Œä¸åŒ…å«è¾¹æ¡†ï¼ŒåªåŒ…å«å†…å®¹å’Œå†…è¾¹è·ï¼Œè¡Œå…ƒç´ å°ºå¯¸ä¸º0</td>
<td></td>
</tr>
<tr>
<td>element.clientHeight</td>
<td>å…ƒç´ é«˜åº¦ï¼Œä¸åŒ…å«è¾¹æ¡†ï¼ŒåªåŒ…å«å†…å®¹å’Œå†…è¾¹è·ï¼Œè¡Œå…ƒç´ å°ºå¯¸ä¸º0</td>
<td></td>
</tr>
<tr>
<td>element.clientLeft</td>
<td>å†…å®¹è·ç¦»å¤–éƒ¨çš„è·ç¦»ï¼Œæ»šåŠ¨æ¡åœ¨å·¦ä¾§æ—¶åŒ…æ‹¬æ»šåŠ¨æ¡å°ºå¯¸</td>
<td></td>
</tr>
<tr>
<td>element.clientTop</td>
<td>å†…å®¹è·ç¦»é¡¶éƒ¨çš„è·ç¦»ï¼Œæ»šåŠ¨æ¡åœ¨é¡¶éƒ¨æ—¶åŒ…æ‹¬æ»šåŠ¨æ¡å°ºå¯¸</td>
<td></td>
</tr>
<tr>
<td>element.scrollWidth</td>
<td>å…ƒç´ å®½åº¦ï¼Œå†…å®¹+å†…è¾¹è·+å†…å®¹æº¢å‡ºçš„å°ºå¯¸</td>
<td></td>
</tr>
<tr>
<td>element.scrollHeight</td>
<td>å…ƒç´ é«˜åº¦ï¼Œå†…å®¹+å†…è¾¹è·+å†…å®¹æº¢å‡ºçš„å°ºå¯¸</td>
<td></td>
</tr>
<tr>
<td>element.scrollLeft</td>
<td>æ°´å¹³æ»šåŠ¨æ¡å·¦ä¾§å·²ç»æ»šåŠ¨çš„å®½åº¦</td>
<td></td>
</tr>
<tr>
<td>element.scrollTop</td>
<td>å‚ç›´æ»šåŠ¨æ¡é¡¶éƒ¨å·²ç»æ»šåŠ¨çš„é«˜åº¦</td>
<td></td>
</tr>
</tbody></table>
<h4 id="getComputedStyle"><a href="#getComputedStyle" class="headerlink" title="getComputedStyle"></a>getComputedStyle</h4><p>ä¸ºä»€ä¹ˆä¸è¦ä½¿ç”¨getComputedStyle</p>
<ul>
<li>å°ºå¯¸è®¾ç½®autoæ—¶è·å–ç»“æœä¸å¯ç”¨</li>
<li>ç”±äºæ»šåŠ¨æ¡çš„å­˜åœ¨ï¼Œä¸åŒæµè§ˆå™¨è¿”å›ç»“æœä¸åŒ</li>
<li>å½“å…ƒç´ æ²¡æœ‰è®¾ç½®CSSå°ºå¯¸æ—¶ï¼Œè·å–ä¸åˆ°ç›¸åº”çš„å°ºå¯¸å†…å®¹</li>
</ul>
<h4 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect"></a>getBoundingClientRect</h4><p>ä½¿ç”¨<code>getBoundingClientRect</code>è·å–å…ƒç´ çŸ©å½¢ä¿¡æ¯</p>
<img src="ç©ºé—´åæ ‡.assets/è§†å£_æ–‡æ¡£åŒºåŸŸ3.png" alt="image-20210413150736697" style="zoom:38%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      div &#123;</span><br><span class="line">        height: 300px;</span><br><span class="line">        width: 300px;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        margin: 10px;</span><br><span class="line">        border: 5px solid #ddd;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div&gt;&lt;&#x2F;div&gt;  </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        let div &#x3D; document.querySelector(&quot;div&quot;);</span><br><span class="line">        let position &#x3D; div.getBoundingClientRect();</span><br><span class="line">        console.log(position);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è®¡ç®—ç»“æœçš„çŸ©å½¢å°ºå¯¸ä¸åŒ…æ‹¬å¤–è¾¹è·</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bottom: 340</span><br><span class="line">height: 330</span><br><span class="line">left: 18</span><br><span class="line">right: 348</span><br><span class="line">top: 10</span><br><span class="line">width: 330</span><br><span class="line">x: 18</span><br><span class="line">y: 10</span><br></pre></td></tr></table></figure>



<h4 id="getClientRects"><a href="#getClientRects" class="headerlink" title="getClientRects"></a>getClientRects</h4><p>getClientRectsä½¿ç”¨åœºæ™¯ï¼šå¤šè¡Œå…ƒç´ æ—¶ åˆ†åˆ«è¿”å›æ¯è¡Œæ‰€å çš„å°ºå¯¸ï¼Œä¸‹é¢çš„è¡Œå…ƒç´ å°†ä¸ºæ¯è¡Œè¿”å›å¯¹åº”çŸ©å½¢å°ºå¯¸</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	span &#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    overflow: auto;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;span&gt;</span><br><span class="line">ç½‘é¡µå¾ˆå¤šéƒ½æ˜¯å¤šå±ï¼Œæ‰€ä»¥æ–‡æ¡£å°ºå¯¸ä¸€èˆ¬å¤§äºè§†å£å°ºå¯¸,å½“æ‰“å¼€æ§åˆ¶å°åï¼Œè§†å£å°ºå¯¸ç›¸åº”å˜å°ã€‚ç½‘é¡µå¾ˆå¤šéƒ½æ˜¯å¤šå±ï¼Œæ‰€ä»¥æ–‡æ¡£å°ºå¯¸ä¸€èˆ¬å¤§äºè§†å£å°ºå¯¸,å½“æ‰“å¼€æ§åˆ¶å°åï¼Œè§†å£å°ºå¯¸ç›¸åº”å˜å°ã€‚ç½‘é¡µå¾ˆå¤šéƒ½æ˜¯å¤šå±ï¼Œæ‰€ä»¥æ–‡æ¡£å°ºå¯¸ä¸€èˆ¬å¤§äºè§†å£å°ºå¯¸,å½“æ‰“å¼€æ§åˆ¶å°åï¼Œè§†å£å°ºå¯¸ç›¸åº”å˜å°ã€‚</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let span = document.querySelector(&#x27;span&#x27;)</span><br><span class="line">  let info = span.getClientRects()</span><br><span class="line">  console.log(info)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šä¾‹è®¡ç®—ç»“æœå¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th align="left">(index)</th>
<th align="left">x</th>
<th align="left">y</th>
<th align="left">width</th>
<th align="left">height</th>
<th align="left">top</th>
<th align="left">right</th>
<th align="left">bottom</th>
<th align="left">left</th>
<th align="left">å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">8</td>
<td align="left">8</td>
<td align="left">1255.7125244140625</td>
<td align="left">20.80000114440918</td>
<td align="left">8</td>
<td align="left">1263.7125244140625</td>
<td align="left">28.80000114440918</td>
<td align="left">8</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">8</td>
<td align="left">28.80000114440918</td>
<td align="left">675.8624877929688</td>
<td align="left">20.80000114440918</td>
<td align="left">28.80000114440918</td>
<td align="left">683.8624877929688</td>
<td align="left">49.60000228881836</td>
<td align="left">8</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">length</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2</td>
</tr>
</tbody></table>
<h3 id="åæ ‡ç‚¹å…ƒç´ "><a href="#åæ ‡ç‚¹å…ƒç´ " class="headerlink" title="åæ ‡ç‚¹å…ƒç´ "></a>åæ ‡ç‚¹å…ƒç´ </h3><p>JSæä¾›äº†æ–¹æ³•è·å–æŒ‡å®šåæ ‡ä¸Šçš„å…ƒç´ ï¼Œå¦‚æœæŒ‡å®šåæ ‡ç‚¹åœ¨è§†å£å¤–ï¼Œè¿”å›å€¼ä¸ºNULL</p>
<ul>
<li>åæ ‡éƒ½æ˜¯ä»å·¦ä¸Šè§’è®¡ç®—ï¼Œè¿™ä¸CSSä¸­çš„right/bottomç­‰ä¸åŒ</li>
<li>è§†å£åæ ‡ç±»ä¼¼äºposition:fixed</li>
<li>æ–‡æ¡£åæ ‡ç±»ä¼¼äºposition:absolute</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>element.elementsFromPoint(x,y)</td>
<td>è¿”å›æŒ‡å®šåæ ‡ç‚¹æ‰€åœ¨çš„å…ƒç´ é›†åˆ<code>Array</code></td>
</tr>
<tr>
<td>element.elementFromPoint(x,y)</td>
<td>è¿”å›æŒ‡å®šåæ ‡ç‚¹æœ€é¡¶å±‚çš„å…ƒç´ </td>
</tr>
</tbody></table>
<h4 id="å…ƒç´ é›†åˆ"><a href="#å…ƒç´ é›†åˆ" class="headerlink" title="å…ƒç´ é›†åˆ"></a>å…ƒç´ é›†åˆ</h4><p>è¿”å›æŒ‡å®šåæ ‡ç‚¹ä¸Šçš„å…ƒç´ é›†åˆ<code>Array</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      div &#123;</span><br><span class="line">        background-color: black;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(document.elementsFromPoint(99, 99));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœä¸º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">[div#app, body, html]</span><br></pre></td></tr></table></figure>

<h4 id="åº•å±‚å…ƒç´ "><a href="#åº•å±‚å…ƒç´ " class="headerlink" title="åº•å±‚å…ƒç´ "></a>åº•å±‚å…ƒç´ </h4><p>è¿”å›åæ ‡ç‚¹ä¸Šçš„æœ€åº•å±‚çš„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      div &#123;</span><br><span class="line">        background-color: black;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(document.elementFromPoint(99, 99));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿”å›ç»“æœä¸º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">div</span><br></pre></td></tr></table></figure>



<h3 id="æ»šåŠ¨æ§åˆ¶"><a href="#æ»šåŠ¨æ§åˆ¶" class="headerlink" title="æ»šåŠ¨æ§åˆ¶"></a>æ»šåŠ¨æ§åˆ¶</h3><p>ä¸‹é¢æŒæ¡æ–‡æ¡£æˆ–å…ƒç´ çš„æ»šåŠ¨æ“ä½œ</p>
<h4 id="æ–¹æ³•åˆ—è¡¨-1"><a href="#æ–¹æ³•åˆ—è¡¨-1" class="headerlink" title="æ–¹æ³•åˆ—è¡¨"></a>æ–¹æ³•åˆ—è¡¨</h4><p>è·å–æ»šåŠ¨</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>å‚æ•°è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>window.pageXOffset</td>
<td>æ–‡æ¡£ç›¸å¯¹è§†å£æ°´å¹³æ»šåŠ¨çš„åƒç´ è·ç¦»</td>
<td></td>
</tr>
<tr>
<td>window.pageYOffset</td>
<td>æ–‡æ¡£ç›¸å¯¹è§†å£ç«–ç›´æ»šåŠ¨çš„åƒç´ è·ç¦»</td>
<td></td>
</tr>
<tr>
<td>element.scrollLeft</td>
<td>è·å–å’Œè®¾ç½®å…ƒç´ Xè½´æ»šåŠ¨ä½ç½®</td>
<td></td>
</tr>
<tr>
<td>element.scrollTop</td>
<td>è·å–å’Œè®¾ç½®å…ƒç´ Yè½´æ»šåŠ¨ä½ç½®</td>
<td></td>
</tr>
</tbody></table>
<p>æ§åˆ¶æ»šåŠ¨</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>element.scrollBy()</td>
<td>æŒ‰åç§»é‡è¿›è¡Œæ»šåŠ¨å†…å®¹</td>
<td>å‚æ•°ä¸º<code>obj</code>ï¼Œ{top:å‚ç›´åç§»é‡,left:æ°´å¹³åç§»é‡,behavior:â€™æ»šåŠ¨æ–¹å¼â€™}</td>
</tr>
<tr>
<td>element.scroll() æˆ– element.scrollTo()</td>
<td>æ»šåŠ¨åˆ°æŒ‡å®šçš„å…·ä½“ä½ç½®</td>
<td>å‚æ•°ä¸º<code>obj</code>ï¼Œ{top:Xè½´æ–‡æ¡£ä½ç½®,left:Yè½´æ–‡æ¡£ä½ç½®,behavior:â€™æ»šåŠ¨æ–¹å¼â€™}</td>
</tr>
<tr>
<td>element.scrollIntoView(bool)</td>
<td>å®šä½åˆ°é¡¶éƒ¨æˆ–åº•éƒ¨</td>
<td>å‚æ•°ä¸º:<code>obj/boolean</code>â€”å‚æ•°ä¸º<code>boolean</code>ï¼štrueå…ƒç´ å®šä½åˆ°é¡¶éƒ¨ï¼Œä¸ºfalseå®šä½åˆ°çª—å£åº•éƒ¨ã€‚â€”å‚æ•°ä¸º<code>obj</code>ï¼š<code>&#123;block:&quot;start/end&quot;,behavior:&quot;smooth&quot;&#125;</code></td>
</tr>
</tbody></table>
<h4 id="è·å–æ»šåŠ¨ä½ç½®"><a href="#è·å–æ»šåŠ¨ä½ç½®" class="headerlink" title="è·å–æ»šåŠ¨ä½ç½®"></a>è·å–æ»šåŠ¨ä½ç½®</h4><h5 id="æ–‡æ¡£æ»šåŠ¨ä½ç½®"><a href="#æ–‡æ¡£æ»šåŠ¨ä½ç½®" class="headerlink" title="æ–‡æ¡£æ»šåŠ¨ä½ç½®"></a>æ–‡æ¡£æ»šåŠ¨ä½ç½®</h5><p>ä¸‹ä¾‹æ˜¯æŸ¥çœ‹æ–‡æ¡£æ»šåŠ¨çš„X/Yåæ ‡ç¤ºä¾‹,<code>window.pageXOffset/pageYOffset</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div style=&quot;width: 3000px; height: 3000px; background: #e34334&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    window.onscroll = function () &#123;</span><br><span class="line">        console.log(window.pageXOffset)</span><br><span class="line">        console.log(window.pageYOffset)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>doucment.documentElement</code>èƒ½å¤Ÿè®¿é—®åˆ°htmlå…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å…ƒç´ çš„æ–¹æ³•<code>element.scrollTop/scrollLeft</code>è·å–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;width: 3000px; height: 3000px; background: #e34334&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    window.onscroll &#x3D; function () &#123;</span><br><span class="line">        console.log(document.documentElement.scrollTop)</span><br><span class="line">        console.log(document.documentElement.scrollLeft)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h5 id="å…ƒç´ æ»šåŠ¨ä½ç½®"><a href="#å…ƒç´ æ»šåŠ¨ä½ç½®" class="headerlink" title="å…ƒç´ æ»šåŠ¨ä½ç½®"></a>å…ƒç´ æ»šåŠ¨ä½ç½®</h5><p>ä¸‹é¢æŸ¥çœ‹å…ƒç´ å†…å®¹çš„æ»šåŠ¨å±æ€§ï¼Œè¯·åœ¨æ§åˆ¶å°æŸ¥çœ‹ç»“æœ</p>
<ul>
<li>è¦ä¸ºçˆ¶å…ƒç´ è®¾ç½® overflow:scroll ä»¥ä½¿å…¶äº§ç”Ÿæ»šåŠ¨æ¡</li>
<li>ä½¿ç”¨scroll äº‹ä»¶æ¥ç›‘å¬ç»“æœ</li>
</ul>
<img src="ç©ºé—´åæ ‡.assets/è§†å£_æ–‡æ¡£åŒºåŸŸ4.gif" alt="è§†å£_æ–‡æ¡£åŒºåŸŸ4.gif" style="zoom:75%;" />

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; style=&quot;width: 300px; height: 300px; border: solid 6px #e34334; overflow: auto&quot;&gt;</span><br><span class="line">    &lt;div style=&quot;width: 1000px; height: 1000px; background: #833ca4&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">    app.addEventListener(&#x27;scroll&#x27;, function () &#123;</span><br><span class="line">        console.log(this.scrollLeft)</span><br><span class="line">        console.log(this.scrollTop)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="æ§åˆ¶æ»šåŠ¨ä½ç½®"><a href="#æ§åˆ¶æ»šåŠ¨ä½ç½®" class="headerlink" title="æ§åˆ¶æ»šåŠ¨ä½ç½®"></a>æ§åˆ¶æ»šåŠ¨ä½ç½®</h4><p>ä¸‹é¢ä»‹ç»çš„æ˜¯æ§åˆ¶å…ƒç´ æ»šåŠ¨çš„æ“ä½œæ–¹æ³•</p>
<h5 id="scrollBy"><a href="#scrollBy" class="headerlink" title="scrollBy"></a>scrollBy</h5><p>ä½¿ç”¨<code>scrollBy(&#123;top,left,behavior&#125;)</code><strong>æŒ‰åç§»é‡</strong>æ»šåŠ¨æ•´ä¸ªæ–‡æ¡£</p>
<ul>
<li><code>behavior:smooth </code>ä¸ºå¹³æ»‘æ»šåŠ¨</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      body &#123;</span><br><span class="line">        height: 2000px;</span><br><span class="line">        background: linear-gradient(</span><br><span class="line">          to bottom,</span><br><span class="line">          #ecf0f1,</span><br><span class="line">          #1abc9c,</span><br><span class="line">          #f39c12,</span><br><span class="line">          #ecf0f1</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">//æ¯éš”1ç§’,å‘ä¸‹æ»šåŠ¨30px,å‚ç…§ä¸Šæ¬¡çš„ä½ç½®ï¼Œå³æŒ‰åç§»é‡è¿›è¡Œæ»šåŠ¨</span><br><span class="line">  setInterval(() =&gt; &#123;</span><br><span class="line">    document.documentElement.scrollBy(&#123; top: 30, behavior: &#x27;smooth&#x27; &#125;)</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>scrollTop/scrollLeft</code>å®ç°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      let top &#x3D; 0;</span><br><span class="line">      setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        top +&#x3D; 30;</span><br><span class="line">        document.documentElement.scrollTop &#x3D; top;</span><br><span class="line">      &#125;, 1000);</span><br></pre></td></tr></table></figure>



<h5 id="scroll"><a href="#scroll" class="headerlink" title="scroll"></a>scroll</h5><p>ä½¿ç”¨<code>scroll(&#123;top,left,behavior&#125;)</code>æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</p>
<ul>
<li><code>behavior:smooth</code> ä¸ºå¹³æ»‘æ»šåŠ¨</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  body &#123;</span><br><span class="line">    height: 3000px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">//3ç§’åï¼Œæ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    document.documentElement.scroll(&#123; top: 30, behavior: &#x27;smooth&#x27; &#125;)</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>scrollTop/scrollLeft</code>å®ç°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        document.documentElement.scrollTop &#x3D; 30;</span><br><span class="line">      &#125;, 1000);</span><br></pre></td></tr></table></figure>



<h5 id="scrollIntoView"><a href="#scrollIntoView" class="headerlink" title="scrollIntoView"></a>scrollIntoView</h5><p>ä½¿ç”¨å…ƒç´ scrollIntoViewæ–¹æ³•å®ç°æ»šåŠ¨æ“ä½œï¼Œå‚æ•°å¯ä»¥æ˜¯å¸ƒå°”å€¼æˆ–å¯¹è±¡</p>
<ul>
<li>å‚æ•°ä¸ºBoolean<ul>
<li>å‚æ•°ä¸º true æ—¶é¡¶éƒ¨å¯¹é½ï¼Œç›¸å½“äº{block: â€œstartâ€}</li>
<li>å‚æ•°ä¸º false æ—¶åº•éƒ¨å¯¹é½ï¼Œç›¸å½“äº{block: â€œendâ€}</li>
</ul>
</li>
<li>å‚æ•°ä¸ºobj<ul>
<li>block:â€start/widthâ€</li>
<li>behavior:â€smoothâ€</li>
</ul>
</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    div &#123;</span><br><span class="line">        height: 2000px;</span><br><span class="line">        background: red;</span><br><span class="line">        border-top: solid 50px #efbc0f;</span><br><span class="line">        border-bottom: solid 50px #1bb491;</span><br><span class="line">    &#125;</span><br><span class="line">    span &#123;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background: #000;</span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        display: block;</span><br><span class="line">        text-align: center;</span><br><span class="line">        line-height: 50px;</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 50%;</span><br><span class="line">        right: 50px;</span><br><span class="line">        border: solid 2px #ddd;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;hdcms.com&lt;/div&gt;</span><br><span class="line">&lt;span&gt;TOP&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    document.querySelector(&#x27;span&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">        let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">        app.scrollIntoView(&#123; block: &#x27;end&#x27;, behavior: &#x27;smooth&#x27; &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="æ¡ˆä¾‹åº”ç”¨"><a href="#æ¡ˆä¾‹åº”ç”¨" class="headerlink" title="æ¡ˆä¾‹åº”ç”¨"></a>æ¡ˆä¾‹åº”ç”¨</h4><h5 id="backTop"><a href="#backTop" class="headerlink" title="backTop"></a>backTop</h5><p>ä¸‹ä¾‹æ˜¯å¼€å‘ä¸­å¸¸ç”¨çš„å›åˆ°é¡¶éƒ¨ç¤ºä¾‹</p>
<img src="ç©ºé—´åæ ‡.assets/è§†å£_æ–‡æ¡£åŒºåŸŸ5.gif" alt="è§†å£_æ–‡æ¡£åŒºåŸŸ5.gif" style="zoom:75%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      body &#123;</span><br><span class="line">        height: 2000px;</span><br><span class="line">        background: linear-gradient(</span><br><span class="line">          to bottom,</span><br><span class="line">          #ecf0f1,</span><br><span class="line">          #1abc9c,</span><br><span class="line">          #f39c12,</span><br><span class="line">          #ecf0f1</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">      .backtop &#123;</span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        position: fixed;</span><br><span class="line">        right: 10px;</span><br><span class="line">        bottom: 10px;</span><br><span class="line">        z-index: 1;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        background-color: rgba(0, 0, 0, 0.75);</span><br><span class="line">        color: white;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        transition: 0.6s;</span><br><span class="line">        transform: scale(0);</span><br><span class="line">      &#125;</span><br><span class="line">      .show &#123;</span><br><span class="line">        transform: scale(1) rotateZ(360deg);</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;backtop&quot;&gt;Top&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let backtop &#x3D; document.querySelector(&quot;.backtop&quot;);</span><br><span class="line">      backtop.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        document.documentElement.scrollIntoView(&#123;</span><br><span class="line">          block: &quot;start&quot;,</span><br><span class="line">          behavior: &quot;smooth&quot;,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      window.onscroll &#x3D; function () &#123;</span><br><span class="line">        let test &#x3D;</span><br><span class="line">          document.documentElement.scrollTop +</span><br><span class="line">            document.documentElement.clientHeight &gt;</span><br><span class="line">          document.documentElement.scrollHeight - 300;</span><br><span class="line"></span><br><span class="line">        backtop.classList[test ? &quot;add&quot; : &quot;remove&quot;](&quot;show&quot;);</span><br><span class="line">      &#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h5 id="æ¼‚æµ®å¹¿å‘Š"><a href="#æ¼‚æµ®å¹¿å‘Š" class="headerlink" title="æ¼‚æµ®å¹¿å‘Š"></a>æ¼‚æµ®å¹¿å‘Š</h5><p>ä¸‹é¢æ˜¯å…¨å±æ¼‚æµ®å¹¿å‘Šçš„ç¤ºä¾‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      div &#123;</span><br><span class="line">        border-radius: 10px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        color: rgba(255, 255, 255, 0.8);</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 200px;</span><br><span class="line">        background-color: #e34334;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id&#x3D;&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      class Ad &#123;</span><br><span class="line">        constructor(preset) &#123;</span><br><span class="line">          this.$el &#x3D; preset.el;</span><br><span class="line">          &#x2F;&#x2F;åˆå§‹ç§»åŠ¨æ–¹å‘ï¼Œ1å‘ä¸‹&#x2F;å‘å³ -1 å‘ä¸Š&#x2F;å‘å·¦</span><br><span class="line">          this.x &#x3D; this.y &#x3D; 1;</span><br><span class="line">          this.preset &#x3D; Object.assign(&#123;delay: 10,step: 1,&#125;,preset);</span><br><span class="line">          this.run();</span><br><span class="line">        &#125;</span><br><span class="line">        run() &#123;</span><br><span class="line">          this.init();</span><br><span class="line">          setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">            this.$el.style.left &#x3D; this.leftMove() + &quot;px&quot;;</span><br><span class="line">            this.$el.style.top &#x3D; this.topMove() + &quot;px&quot;;</span><br><span class="line">          &#125;, this.preset.delay);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;è®¾ç½®å®šä½æ¨¡å¼</span><br><span class="line">        init() &#123;</span><br><span class="line">          this.$el.style.position &#x3D; &quot;fixed&quot;;</span><br><span class="line">          this.$el.style.top &#x3D; 0;</span><br><span class="line">          this.$el.style.left &#x3D; 0;</span><br><span class="line">        &#125;</span><br><span class="line">        leftMove() &#123;</span><br><span class="line">          let &#123; x, width &#125; &#x3D; this.$el.getBoundingClientRect();</span><br><span class="line">          let &#123; clientWidth &#125; &#x3D; document.documentElement;</span><br><span class="line">          if (x &gt; clientWidth - width) this.x &#x3D; -1;</span><br><span class="line">          if (x &lt; 0) this.x &#x3D; 1;</span><br><span class="line"></span><br><span class="line">          return x + this.preset.step * this.x;</span><br><span class="line">        &#125;</span><br><span class="line">        topMove() &#123;</span><br><span class="line">          let &#123; y, height &#125; &#x3D; this.$el.getBoundingClientRect();</span><br><span class="line">          let &#123; clientHeight &#125; &#x3D; document.documentElement;</span><br><span class="line">          if (y &gt; clientHeight - height) this.y &#x3D; -1;</span><br><span class="line">          if (y &lt; 0) this.y &#x3D; 1;</span><br><span class="line">          return y + this.preset.step * this.y;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      let div &#x3D; document.querySelector(&quot;div&quot;);</span><br><span class="line">      new Ad(&#123; el: div &#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>backgroundç›¸å…³</title>
    <url>/2021/05/06/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/CSS/background%E7%9B%B8%E5%85%B3/background%E7%9B%B8%E5%85%B3/</url>
    <content><![CDATA[<p>â€‹    <code>backgroundæ—å±æ€§</code>æ˜¯æˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°çš„csså±æ€§ï¼Œç”¨äºæ§åˆ¶èƒŒæ™¯æ ·å¼ï¼Œä½†å…¶å®backgroundè¿˜æœ‰å¾ˆå¤šç»†èŠ‚æ€§çš„ä¸œè¥¿ï¼Œè®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å§ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸€ä¸‹backgroundæ—å±æ€§éƒ½åŒ…å«å“ªäº›ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å±æ€§</th>
<th align="left">æè¿°</th>
<th align="left">CSS</th>
</tr>
</thead>
<tbody><tr>
<td align="left">background-color</td>
<td align="left">è®¾ç½®èƒŒæ™¯é¢œè‰²ã€‚</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">background-position</td>
<td align="left">è®¾ç½®<code>bg-image</code>çš„ä½ç½®ã€‚</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">background-size</td>
<td align="left">è®¾ç½®<code>bg-image</code>çš„å°ºå¯¸ã€‚</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">background-repeat</td>
<td align="left">è§„å®šå¦‚ä½•é‡å¤ã€æ˜¯å¦é‡å¤<code>bg-image</code>ã€‚</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">background-origin</td>
<td align="left">è®¾ç½®<code>bg-image</code>çš„å®šä½åŸºç‚¹ã€‚</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">background-clip</td>
<td align="left">é™åˆ¶**<code>æ•´ä¸ªèƒŒæ™¯</code>**çš„ç»˜åˆ¶åŒºåŸŸã€‚</td>
<td align="left">3</td>
</tr>
<tr>
<td align="left">background-attachment</td>
<td align="left">è§„å®š<code>bg-image</code>æ˜¯å¦è·Ÿéšé¡µé¢æ»šåŠ¨ã€‚</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">background-image</td>
<td align="left">è®¾ç½®è¦ä½¿ç”¨çš„èƒŒæ™¯å›¾åƒã€‚</td>
<td align="left">1</td>
</tr>
</tbody></table>
<p>â€‹    å½“ç„¶ï¼Œ<code>background</code>æ˜¯ä¸€ä¸ªå¤åˆå±æ€§ï¼Œå¯ä»¥ä¸€æ¬¡æ€§é…ç½®ä»¥ä¸Šä»‹ç»çš„æ‰€æœ‰å±æ€§ã€‚ä½†è¦æ³¨æ„çš„æ˜¯æœ‰ä¸€äº›é…ç½®é¡¹çš„å•ä½ç›¸åŒï¼Œä¸ºäº†èƒ½è®©æµè§ˆå™¨è¯†åˆ«ï¼Œåœ¨ä½¿ç”¨ç¬¦åˆå±æ€§<code>background</code>åŒæ—¶é…ç½®<code>bg-position</code>å’Œ<code>bg-size</code>æ—¶ï¼Œåº”éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">background: positionX positionY &#x2F; width height</span><br></pre></td></tr></table></figure>

<p>â€‹    ä¾‹å¦‚<code>background: 0px 0px / 100px 100px</code>ï¼Œæ„ä¸ºï¼šèƒŒæ™¯å®šä½äºå·¦ä¸Šè§’(é»˜è®¤åŸºäºå†…è¾¹è·ç›’å­)ï¼Œå°ºå¯¸ä¸ºå®½é«˜100pxã€‚</p>
<p>ä¸‹é¢è¯¦ç»†ä»‹ç»å„ä¸ª<code>background</code>æ—å±æ€§ğŸ‘‡</p>
<h2 id="background-color"><a href="#background-color" class="headerlink" title="background-color"></a>background-color</h2><p><code>background-color</code>è®¾ç½®èƒŒæ™¯é¢œè‰²:</p>
<ul>
<li>å…¶å€¼å¯ä¸ºï¼šè‹±æ–‡å•è¯ã€rgbã€rgbaã€#å¼€å¤´çš„6ä½åå…­è¿›åˆ¶</li>
<li>å±‚çº§ä½äº<code>background-image</code></li>
</ul>
<p>ä¸‹ä¾‹åŒæ—¶è®¾ç½®<code>bg-color</code>ä¸<code>bg-img</code>ï¼Œå¯å‘ç°ï¼š<code>bg-img</code>è¦†ç›–åœ¨<code>bg-color</code>ä¹‹ä¸Šã€‚</p>
<img src="backgroundç›¸å…³.assets/bg-color.png" alt="bg-color.png" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">  width: 400px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 8px dashed white;</span><br><span class="line">  color: white;</span><br><span class="line">  background-color: #5758bb;</span><br><span class="line">  background-image: url(&quot;.&#x2F;imagePath&#x2F;xxx.png&quot;);</span><br><span class="line">  background-size: 80px;</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-position: left bottom;</span><br><span class="line">  background-clip: content-box;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">  font-size: 24px;</span><br><span class="line">  padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;box&quot;&gt;</span><br><span class="line">    &lt;p&gt;Ashuntefannao&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;p&gt;Ashun&lt;&#x2F;p&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h2 id="background-position"><a href="#background-position" class="headerlink" title="background-position"></a>background-position</h2><p><code>background-position </code>ç”¨äºè®¾ç½®<code>bg-image</code>çš„ä½ç½®ã€‚<strong>é»˜è®¤å€¼</strong>ï¼š0% 0%ã€‚</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>top center bottom   </code>/<code> left right center</code></td>
<td align="left">è‹¥åªè®¾ç½®äº†ä¸€ä¸ªå…³é”®è¯ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªå€¼å°†æ˜¯â€centerâ€ã€‚</td>
</tr>
<tr>
<td align="left">x% y%</td>
<td align="left">ç¬¬ä¸€ä¸ªå€¼æ˜¯æ°´å¹³ä½ç½®ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯å‚ç›´ä½ç½®ã€‚å·¦ä¸Šè§’æ˜¯ 0% 0%ã€‚å³ä¸‹è§’æ˜¯ 100% 100%ã€‚è‹¥åªè®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå€¼å°†æ˜¯ 50%ã€‚</td>
</tr>
<tr>
<td align="left">xpos ypos</td>
<td align="left">ç¬¬ä¸€ä¸ªå€¼æ˜¯æ°´å¹³ä½ç½®ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯å‚ç›´ä½ç½®ã€‚å·¦ä¸Šè§’æ˜¯ 0 0ã€‚å•ä½æ˜¯åƒç´  (0px 0px) æˆ–ä»»ä½•å…¶ä»–çš„ CSS å•ä½ã€‚è‹¥åªè®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªå€¼å°†æ˜¯50%ã€‚</td>
</tr>
</tbody></table>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>
<ul>
<li>ä¸‰ç§å€¼ç±»å‹å¯æ··åˆä½¿ç”¨</li>
<li>å¯æ­é…<code>background-origin</code>æ“æ§å®šä½çš„åŸºç‚¹ï¼Œè¿›è¡Œå®šä½</li>
</ul>
<h2 id="background-size"><a href="#background-size" class="headerlink" title="background-size"></a>background-size</h2><p><code>background-size</code>ç”¨äºæ§åˆ¶<code>background-image</code>çš„å°ºå¯¸å¤§å°ã€‚</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>width height</code></td>
<td align="left">åˆ†åˆ«è®¾ç½®èƒŒæ™¯å›¾åƒçš„é«˜åº¦å’Œå®½åº¦ã€‚ç¬¬ä¸€ä¸ªå€¼è®¾ç½®å®½åº¦ï¼Œç¬¬äºŒä¸ªå€¼è®¾ç½®é«˜åº¦ã€‚å¦‚æœåªè®¾ç½®ä¸€ä¸ªå€¼ï¼Œåˆ™ç¬¬äºŒä¸ªå€¼ä¼šè¢«è®¾ç½®ä¸º â€œautoâ€ã€‚å•ä½å¯ä¸º<code>px %</code>ï¼Œè‹¥ä¸º<code>%</code>åˆ™æ˜¯ç›¸å¯¹äºçˆ¶çº§å…ƒç´ å®½é«˜ã€‚</td>
</tr>
<tr>
<td align="left">cover</td>
<td align="left">æŠŠèƒŒæ™¯å›¾åƒæ‰©å±•è‡³è¶³å¤Ÿå¤§ï¼Œä»¥ä½¿èƒŒæ™¯å›¾åƒå®Œå…¨è¦†ç›–èƒŒæ™¯åŒºåŸŸã€‚èƒŒæ™¯å›¾åƒçš„æŸäº›éƒ¨åˆ†ä¹Ÿè®¸æ— æ³•æ˜¾ç¤ºåœ¨èƒŒæ™¯å®šä½åŒºåŸŸä¸­ã€‚</td>
</tr>
<tr>
<td align="left">contain</td>
<td align="left">æŠŠå›¾åƒå›¾åƒæ‰©å±•è‡³æœ€å¤§å°ºå¯¸ï¼Œä»¥ä½¿å…¶å®½åº¦å’Œé«˜åº¦å®Œå…¨é€‚åº”å†…å®¹åŒºåŸŸã€‚</td>
</tr>
</tbody></table>
<p>å¦‚å›¾ç¤ºä¾‹ï¼š</p>
<p><img src="backgroundç›¸å…³.assets/bg-size-å…·ä½“å®½é«˜.png" alt="bg-size-å…·ä½“å®½é«˜" style="zoom:40%;" /><img src="backgroundç›¸å…³.assets/bg-size-contain.png" alt="bg-size-contain" style="zoom: 40%;" /><img src="backgroundç›¸å…³.assets/bg-size-cover.png" alt="bg-size-cover" style="zoom: 40%;" /></p>
<p>ä¸ºäº†è®©å…¶æ›´åŠ ç›´è§‚ï¼Œåº”ç”¨äº†<code>background-repeat: no-repeat</code>,ä¸‹é¢å…·ä½“è®²è§£ğŸ‘‡</p>
<h2 id="background-repeat"><a href="#background-repeat" class="headerlink" title="background-repeat"></a>background-repeat</h2><p> <code>background-repeat</code>è§„å®šå¦‚ä½•é‡å¤ã€æ˜¯å¦é‡å¤<code>bg-image</code>ï¼Œå…¶å…·ä½“å€¼å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">repeat</td>
<td align="left"><strong>é»˜è®¤</strong>ã€‚èƒŒæ™¯å›¾åƒå°†åœ¨å‚ç›´æ–¹å‘å’Œæ°´å¹³æ–¹å‘é‡å¤ã€‚</td>
</tr>
<tr>
<td align="left">repeat-x</td>
<td align="left">èƒŒæ™¯å›¾åƒå°†åœ¨æ°´å¹³æ–¹å‘é‡å¤ã€‚</td>
</tr>
<tr>
<td align="left">repeat-y</td>
<td align="left">èƒŒæ™¯å›¾åƒå°†åœ¨å‚ç›´æ–¹å‘é‡å¤ã€‚</td>
</tr>
<tr>
<td align="left">no-repeat</td>
<td align="left">èƒŒæ™¯å›¾åƒå°†ä»…æ˜¾ç¤ºä¸€æ¬¡ã€‚</td>
</tr>
<tr>
<td align="left">inherit</td>
<td align="left">è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ background-repeat å±æ€§çš„è®¾ç½®ã€‚</td>
</tr>
</tbody></table>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå³åº”ç”¨é»˜è®¤å€¼<code>repeat</code>æ—¶ï¼š</p>
<ul>
<li>å½“<code>bg-image</code>çš„å°ºå¯¸å°äºç›’å­å°ºå¯¸æ—¶ï¼Œå°†ä¼šè‡ªåŠ¨æ˜¾ç¤ºå‡ºé‡å¤æ•ˆæœã€‚</li>
<li>è‹¥<code>bg-image</code>çš„å°ºå¯¸å¤§äºç›’å­å°ºå¯¸æ—¶ï¼Œé€šè¿‡<code>bg-position</code>ï¼Œä¹Ÿå¯è§‚å¯Ÿå‡ºé‡å¤æ•ˆæœã€‚<ul>
<li>ä¾‹å¦‚ç›’å­å®½é«˜ä¸º200pxï¼ŒèƒŒæ™¯å›¾åƒå®½é«˜400pxï¼Œè®¾ç½®<code>bg-position: 1200px 1200px</code>,è™½ç„¶å®šä½æ•ˆæœå·²ç»è¿œè¿œè¶…å‡ºäº†èƒŒæ™¯å›¾çš„å®½é«˜ï¼Œä½†ç”±äºé»˜è®¤æ˜¯<code>repeat</code>æ¨¡å¼ï¼ŒèƒŒæ™¯å›¾ä¾ç„¶èƒ½å¤Ÿæ˜¾ç¤ºã€‚</li>
</ul>
</li>
</ul>
<h2 id="background-origin"><a href="#background-origin" class="headerlink" title="background-origin"></a>background-origin</h2><p>å¯é€šè¿‡è¯¥å±æ€§ï¼Œæ”¹å˜<code>background-position </code>çš„å®šä½åŸºç‚¹ï¼Œå…·ä½“æ¥è¯´å…¶å€¼å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">padding-box</td>
<td align="left"><strong>é»˜è®¤</strong>ã€‚èƒŒæ™¯å›¾åƒç›¸å¯¹äºå†…è¾¹è·æ¡†æ¥å®šä½ã€‚</td>
</tr>
<tr>
<td align="left">border-box</td>
<td align="left">èƒŒæ™¯å›¾åƒç›¸å¯¹äºè¾¹æ¡†ç›’æ¥å®šä½ã€‚</td>
</tr>
<tr>
<td align="left">content-box</td>
<td align="left">èƒŒæ™¯å›¾åƒç›¸å¯¹äºå†…å®¹æ¡†æ¥å®šä½ã€‚</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<p>åŸºç¡€ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 8px dashed #718093;</span><br><span class="line">  color: white;</span><br><span class="line">  background-color: #40739e;</span><br><span class="line"> 	background-image: url(&quot;.&#x2F;imagePath&#x2F;xxx.png&quot;);</span><br><span class="line">  background-size: 100px;</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  </span><br><span class="line">  background-position: 0px 0px;ã€‚</span><br><span class="line">  padding: 40px;</span><br><span class="line">  &#x2F;&#x2F;è®¾ç½®å†…è¾¹è·ä½“ç°background-origin: content-box æ•ˆæœ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>background-origin: padding-box</code>    </li>
</ul>
<img src="backgroundç›¸å…³.assets/bg-origin-paddingBox.png" alt="bg-origin-paddingBox" style="zoom:75%;" />

<ul>
<li><p><code>background-origin: border-box</code></p>
<img src="backgroundç›¸å…³.assets/bg-origin-borderBox.png" alt="bg-origin-borderBox" style="zoom:75%;" /></li>
<li><p><code>background-origin: content-box</code></p>
<img src="backgroundç›¸å…³.assets/bg-orgin-contentBox.png" alt="bg-orgin-contentBox" style="zoom:75%;" /></li>
</ul>
<h2 id="background-clip"><a href="#background-clip" class="headerlink" title="background-clip"></a>background-clip</h2><p><code>background-clip</code>: é™åˆ¶**<code>æ•´ä¸ªèƒŒæ™¯</code>**çš„ç»˜åˆ¶åŒºåŸŸï¼Œå…¶å€¼å…·ä½“æ¥è¯´æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">border-box</td>
<td align="left">ï¼ˆ<strong>é»˜è®¤å€¼</strong>ï¼‰æ•´ä¸ªèƒŒæ™¯è¢«è£å‰ªåˆ°è¾¹æ¡†ç›’ã€‚</td>
</tr>
<tr>
<td align="left">padding-box</td>
<td align="left">æ•´ä¸ªèƒŒæ™¯è¢«è£å‰ªåˆ°å†…è¾¹è·æ¡†ã€‚</td>
</tr>
<tr>
<td align="left">content-box</td>
<td align="left">æ•´ä¸ªèƒŒæ™¯è¢«è£å‰ªåˆ°å†…å®¹æ¡†ã€‚</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left">æ•´ä¸ªèƒŒæ™¯è¢«è£å‰ªåˆ°æ–‡å­—åŒºåŸŸçš„ä¸Šæ–¹ã€‚</td>
</tr>
</tbody></table>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p>
<ul>
<li><code>background-origin</code>æ˜¯å¯¹<code>bg-image</code>çš„é™åˆ¶ï¼Œè€Œä¸ä¼šå½±å“<code>bg-color</code>ã€‚</li>
<li>ä½†<code>background-clip</code>ä¼šé™åˆ¶**<code>æ•´ä¸ªèƒŒæ™¯</code>**çš„ç»˜åˆ¶åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯è¯´è®¾ç½®äº†è¯¥å±æ€§ï¼Œå°†ä¼šå½±å“æ‰€æœ‰çš„èƒŒæ™¯å…ƒç´ ï¼ŒåŒ…æ‹¬<code>bg-color</code>ä¸<code>bg-image</code></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<img src="backgroundç›¸å…³.assets/bg-clip1.png" alt="bg-clip1" style="zoom:60%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 500px;</span><br><span class="line">  border: 8px dashed #00cec9;</span><br><span class="line">  color: white;</span><br><span class="line">  background-color: #40739e;</span><br><span class="line">  background-image: url(&quot;.&#x2F;imagePath&#x2F;xxx.png&quot;);</span><br><span class="line">  background-size: 100%;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  background-repeat: repeat-y;</span><br><span class="line">  &#x2F;* background-clip: content-box; *&#x2F; </span><br><span class="line">  background-origin: content-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸ä»…æœ‰èƒŒæ™¯å›¾ç‰‡çš„æ˜¾ç¤ºï¼Œè¿˜æœ‰èƒŒæ™¯é¢œè‰²ï¼Œå› ä¸º<code>background-origin</code>åªæ˜¯å¯¹<code>bg-image</code>çš„å®šä½çº¦æŸï¼Œæ‰€ä»¥çœ‹åˆ°èƒŒæ™¯å›¾ç‰‡ä¸¤ç«¯æœ‰ç©ºéš™ï¼Œä»è€Œæ˜¾ç¤ºå‡º<code>bg-color</code>ã€‚</p>
<p>å¦‚æœå°†æ³¨é‡Šä»£ç å–æ¶ˆï¼Œä¹Ÿå°±æ˜¯è®¾ç½®<code>background-clip: content-box</code>ï¼Œåˆ™æ˜¯å¯¹æ•´ä¸ªèƒŒæ™¯åŒºåŸŸçš„çº¦æŸï¼Œ<code>bg-color</code>ä¹Ÿå°±ä¸å†æ˜¾ç¤ºï¼ˆè¢«<code>bg-image</code>è¦†ç›–ï¼‰ã€‚</p>
<img src="backgroundç›¸å…³.assets/bg-clip2.png" alt="bg-clip2" style="zoom:60%;" />

<p><strong><code>background-clip: text</code></strong></p>
<p>è¿™æ˜¯ä¸ªæœ‰æ„æ€çš„å±æ€§å€¼ï¼Œå¯ä»¥ç”¨å®ƒå°†èƒŒæ™¯è£å‰ªåˆ°æ–‡å­—ä¸Šæ–¹ï¼Œä¸”åªåœ¨æ–‡å­—å±•ç¤ºï¼Œå…¶ä½™éƒ¨åˆ†ä¸ä¼šå±•ç¤ºèƒŒæ™¯ï¼Œå¯ä»¥ç”¨å®ƒå®Œæˆä¸‹ä¾‹ç‰¹æ•ˆï¼š</p>
<img src="backgroundç›¸å…³.assets/bg-clip3.gif" alt="bg-clip3" style="zoom:70%;" />

<p>å…³é”®ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">color: transparent;</span><br><span class="line">background-clip: text;</span><br><span class="line">-webkit-background-clip: text;</span><br></pre></td></tr></table></figure>



<h2 id="background-attachment"><a href="#background-attachment" class="headerlink" title="background-attachment"></a>background-attachment</h2><p><code>background-attachment</code>ç”¨äºè®¾ç½®<code>background-image</code>çš„é™„ä»¶æ¨¡å¼ï¼Œå³<code>bg-image</code>æ˜¯å¦éš<strong>æ•´ä¸ªé¡µé¢</strong>æ»šåŠ¨è€Œæ»šåŠ¨ï¼Œè€Œä¸æ˜¯ç›¸å¯¹è‡ªèº«å…ƒç´ ã€‚</p>
<p>å…¶å±æ€§å€¼å¯ä»¥ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">scroll</td>
<td align="left">é»˜è®¤å€¼ã€‚èƒŒæ™¯å›¾åƒä¼šéšç€é¡µé¢å…¶ä½™éƒ¨åˆ†çš„æ»šåŠ¨è€Œç§»åŠ¨ã€‚</td>
</tr>
<tr>
<td align="left">fixed</td>
<td align="left">å½“é¡µé¢çš„å…¶ä½™éƒ¨åˆ†æ»šåŠ¨æ—¶ï¼ŒèƒŒæ™¯å›¾åƒä¸ä¼šç§»åŠ¨ã€‚</td>
</tr>
<tr>
<td align="left">inherit</td>
<td align="left">è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ background-attachment å±æ€§çš„è®¾ç½®ã€‚</td>
</tr>
</tbody></table>
<ul>
<li><p>ä¸‹ä¾‹å·¦å›¾è®¾ç½®<code>background-attachment: fixed</code>çš„æ•ˆæœï¼Œå¯å‘ç°ï¼Œ<code>bg-image</code>ä¸éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼Œç›¸å½“äºï¼šç›¸å¯¹<code>body</code>ç»å¯¹å®šä½ã€‚</p>
</li>
<li><p>å³å›¾ä¸ºé»˜è®¤å€¼<code>scroll</code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è§çš„æ•ˆæœï¼Œ<code>bg-image</code>éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼Œç›¸å½“äºï¼šç›¸å¯¹<code>body</code>è¿›è¡Œ<code>fixed</code>å®šä½ã€‚</p>
</li>
</ul>
<p>â€‹    <img src="backgroundç›¸å…³.assets/bg-attachment1.gif" alt="bg-attachment1" style="zoom:45%;" /><img src="backgroundç›¸å…³.assets/bg-attachment2.gif" alt="bg-attachment2" style="zoom:45%;" /></p>
<h2 id="background-image"><a href="#background-image" class="headerlink" title="background-image"></a>background-image</h2><p>ä¸Šæ–‡ä»‹ç»çš„å¾ˆå¤šä¹¦æ€§ï¼Œéƒ½æ˜¯æ§åˆ¶<code>background-image</code>çš„ï¼Œè¿™ä¸ªä¸»è§’ç»ˆäºç™»åœºäº†ï¼Œå®é™…å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½åªä¼šä½¿ç”¨å…¶åŸºæœ¬åŠŸèƒ½(è®¾ç½®èƒŒæ™¯å›¾ç‰‡)ï¼Œä½†å…¶å®è¯¥å±æ€§è¿˜èƒ½å®Œæˆæ¸å˜è‰²æ•ˆæœã€‚</p>
<p>å…¶å±æ€§å€¼å¯ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">none</td>
<td align="left">é»˜è®¤å€¼ã€‚ä¸æ˜¾ç¤ºèƒŒæ™¯å›¾åƒã€‚</td>
</tr>
<tr>
<td align="left">url(â€œimagePathâ€)</td>
<td align="left">æŒ‡å‘å›¾åƒçš„è·¯å¾„ã€‚</td>
</tr>
<tr>
<td align="left">linear-gradient()</td>
<td align="left">åˆ›å»ºä¸€ä¸ªçº¿æ€§æ¸å˜çš„ â€œå›¾åƒâ€ï¼Œ(é»˜è®¤æ–¹å‘:<code>è‡ªä¸Šè€Œä¸‹</code>)</td>
</tr>
<tr>
<td align="left">radial-gradient()</td>
<td align="left">åˆ›å»ºå¾„å‘æ¸å˜ â€œå›¾åƒâ€ã€‚ (é»˜è®¤æ–¹å‘:<code>ä¸­å¿ƒåˆ°è¾¹ç¼˜</code>)</td>
</tr>
<tr>
<td align="left">repeating-linear-gradient()</td>
<td align="left">åˆ›å»ºé‡å¤çš„çº¿æ€§æ¸å˜ â€œå›¾åƒâ€ã€‚</td>
</tr>
<tr>
<td align="left">repeating-radial-gradient()</td>
<td align="left">åˆ›å»ºé‡å¤çš„å¾„å‘æ¸å˜ â€œå›¾åƒâ€ã€‚</td>
</tr>
</tbody></table>
<p><strong>å€¼å¾—æ³¨æ„çš„æ˜¯</strong>ï¼š</p>
<p>â€‹    <code>background-image</code>å¯ä»¥è®¾ç½®å¤šä¸ªå€¼ï¼Œä¸”ä»¥ä¸Šå±æ€§å€¼å¯æ··åˆã€é‡å¤é…ç½®ï¼Œé…ç½®çš„èƒŒæ™¯å›¾åƒéƒ½å¯å±•ç¤ºå‡ºæ¥ï¼Œ<strong>å±‚çº§é«˜ä½éšé…ç½®çš„é¡ºåºä¾æ¬¡é€’å‡</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè·ç¦»ç”¨æˆ·æœ€è¿‘çš„é‚£ä¸€å±‚æ˜¯<code>background-image</code>çš„ç¬¬ä¸€ä¸ªå±æ€§å€¼ã€‚</p>
<p>â€‹    è‹¥é…ç½®äº†å¤šä¸ªå±æ€§å€¼ï¼Œä¸”ç¬¬ä¸€å±‚å›¾åƒæ²¡æœ‰é€æ˜åº¦ï¼Œåˆ™ä¸‹å±‚çš„å›¾åƒå°†ä¸èƒ½å±•ç¤ºï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œç›¸å½“äºç¬¬ä¸€å±‚å›¾åƒæŒ¡ä½äº†åé¢å±‚çº§çš„å›¾åƒã€‚</p>
<p>æˆ‘ä»¬å¯åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå±•ç¤ºå‡ºä¸åŒæœ‰æ„æ€çš„æ•ˆæœï¼š</p>
<img src="backgroundç›¸å…³.assets/bg-image1.png" alt="bg-image1" style="zoom:60%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 500px;</span><br><span class="line">  border: 8px dashed rgba(162, 155, 254, 1);</span><br><span class="line">  color: white;</span><br><span class="line">  background-image: repeating-linear-gradient(	&#x2F;&#x2F;ç¬¬ä¸€å±‚å›¾åƒ</span><br><span class="line">      rgba(255, 255, 255, 0.8),</span><br><span class="line">      rgba(250, 177, 160, 0.8),</span><br><span class="line">      rgba(85, 239, 196, 0.8),</span><br><span class="line">      rgba(116, 185, 255, 0.8) 20px</span><br><span class="line">    ),</span><br><span class="line">    url(&quot;.&#x2F;imagePath&#x2F;xxx.png&quot;);		&#x2F;&#x2F;ç¬¬äºŒå±‚å›¾åƒ</span><br><span class="line"></span><br><span class="line">  background-size: 100%;</span><br><span class="line">  padding: 20px;</span><br><span class="line">  background-repeat: repeat-y;</span><br><span class="line">  background-clip: content-box;</span><br><span class="line">  background-origin: content-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ·»åŠ ä¸€å±‚ï¼š</p>
<img src="backgroundç›¸å…³.assets/bg-image2.png" alt="bg-image2" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">background-image: repeating-linear-gradient(		&#x2F;&#x2F;ç¬¬ä¸€å±‚å›¾åƒ</span><br><span class="line">           rgba(255, 255, 255, 0.8),</span><br><span class="line">           rgba(250, 177, 160, 0.8),</span><br><span class="line">           rgba(85, 239, 196, 0.8),</span><br><span class="line">           rgba(116, 185, 255, 0.8) 1px</span><br><span class="line">         ),</span><br><span class="line">         repeating-radial-gradient(						&#x2F;&#x2F;ç¬¬äºŒå±‚å›¾åƒ</span><br><span class="line">           rgba(0, 0, 0, 1),</span><br><span class="line">           rgba(250, 177, 160, 1),</span><br><span class="line">           rgba(85, 239, 196, 0.1),</span><br><span class="line">           rgba(116, 185, 255, 0.1) 4px</span><br><span class="line">         ),</span><br><span class="line">         url(&quot;.&#x2F;imagePath&#x2F;xxx.png&quot;);						&#x2F;&#x2F;ç¬¬ä¸‰å±‚å›¾åƒ</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†ä»‹ç»å„ä¸ªå±æ€§ğŸ‘‡ </p>
<h3 id="url-â€œimagePathâ€"><a href="#url-â€œimagePathâ€" class="headerlink" title="url(â€œimagePathâ€)"></a>url(â€œimagePathâ€)</h3><p>é€šè¿‡è¯¥å±æ€§å¯è®¾ç½®å…·ä½“çš„èƒŒæ™¯å›¾ç‰‡ï¼Œåªéœ€è¦ä¼ å…¥å›¾ç‰‡çš„è·¯å¾„å³å¯ã€‚</p>
<ul>
<li>è®¾ç½®å¤šå±‚å›¾ç‰‡æ—¶ï¼Œè¦æ³¨æ„å›¾ç‰‡æ˜¯å¦å…·æœ‰é€æ˜åº¦ï¼Œå¦åˆ™ä¼šè¦†ç›–ä¸‹å±‚å›¾ç‰‡</li>
</ul>
<h3 id="linear-gradient"><a href="#linear-gradient" class="headerlink" title="linear-gradient()"></a>linear-gradient()</h3><p>åˆ›å»ºä¸€ä¸ªçº¿æ€§æ¸å˜çš„ â€œå›¾åƒâ€ (é»˜è®¤æ–¹å‘:<code>è‡ªä¸Šè€Œä¸‹</code>)ï¼Œé€šè¿‡ä¼ å…¥å„ä¸ªé¢œè‰²ï¼Œå¹¶å¯è®¾ç½®æ¯ä¸ªé¢œè‰²çš„ç»ˆæ­¢ä½ç½®ï¼Œå®ç°æ¸å˜æ•ˆæœã€‚</p>
<p>å…¶è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">background-image: linear-gradient(direction, color-stop1, color-stop2, ...);</span><br></pre></td></tr></table></figure>

<p><strong>directionå¯å–å€¼ï¼š</strong></p>
<ol>
<li><code>to direction</code><ul>
<li>ä»¥<code>to </code>å¼€å¤´ï¼Œåé¢ç´§æ¥æ¸å˜æ–¹å‘</li>
<li>æ¸å˜æ–¹å‘ä¸º:<code>top</code>ã€<code>bottom</code>ã€<code>left</code>ã€<code>right</code>ã€‚ä¸”å¯ä¸¤ä¸¤ç»„åˆè¿›è¡Œå€¾æ–œæ–¹å‘çš„æ¸å˜</li>
<li>ä¾‹å¦‚ï¼š<code>to bottom</code>(é»˜è®¤å€¼)ã€<code>to top right </code>ï¼ˆè‡ªå·¦ä¸‹è‡³å³ä¸Šï¼‰</li>
</ul>
</li>
<li><code>deg</code><ul>
<li>è®¾ç½®å…·ä½“æ¸å˜çš„è§’åº¦ï¼Œä¾‹å¦‚ï¼š<code>45deg</code></li>
</ul>
</li>
</ol>
<p><strong>color-stopå¯å–å€¼ï¼š</strong></p>
<p>è¯¥å‚æ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š<code>é¢œè‰²</code> å’Œ <code>ç»ˆæ­¢ä½ç½®</code>ã€‚ç»ˆæ­¢ä½ç½®ï¼šè¯¥é¢œè‰²ç»“æŸçš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¼€å§‹æ¸å˜ä¸‹ä¸ªé¢œè‰²çš„ä½ç½®ã€‚</p>
<ul>
<li>é¢œè‰²å¯å–å€¼ï¼šè‹±æ–‡å•è¯ã€rgbã€rgbaã€#å¼€å¤´çš„å…­ä½16è¿›åˆ¶ã€‚</li>
<li>ç»ˆæ­¢ä½ç½®å¯å–å€¼<ul>
<li>å¯å…·ä½“åˆ°åƒç´ <code>px</code></li>
<li>å¯è®¾ç½®ç™¾åˆ†æ¯”<code>%</code>ï¼Œç›¸å¯¹äºç›’å­çš„å°ºå¯¸</li>
<li>å½“ä¸è®¾ç½®ç»ˆæ­¢ä½ç½®æ—¶ï¼Œå°†è‡ªåŠ¨å‡åˆ†å„è‰²å—</li>
</ul>
</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ¸å˜æ–¹å‘ä¸ºè‡ªå·¦å‘å³ï¼Œèµ·ä½¿é¢œè‰²ä¸º<code>pink</code>,æœ«å°¾é¢œè‰²ä¸º<code>red</code>ä¸”ç»ˆæ­¢äºç›’å­æœ«å°¾ã€‚</p>
<img src="backgroundç›¸å…³.assets/linear-gradient1.png" alt="linear-gradient1" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">background-image: linear-gradient(to right, pink, red 100%);</span><br></pre></td></tr></table></figure>

<p>å†å¤æ‚çš„çº¿æ€§æ¸å˜æƒ…å†µï¼Œä¹Ÿç¬¦åˆä¸Šé¢æ‰€è®²çš„é€»è¾‘ï¼Œåªéœ€ç®€å•åˆ†æå³å¯ã€‚</p>
<h3 id="radial-gradient"><a href="#radial-gradient" class="headerlink" title="radial-gradient()"></a>radial-gradient()</h3><p>åˆ›å»ºå¾„å‘æ¸å˜ â€œå›¾åƒâ€ã€‚ (é»˜è®¤æ–¹å‘:<code>ä¸­å¿ƒåˆ°è¾¹ç¼˜</code>)ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">background-image: radial-gradient(shape size at position, start-color, ..., last-color);</span><br></pre></td></tr></table></figure>

<p>å…·ä½“å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>é¡ºåº</th>
<th align="left">å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td align="left">shape</td>
<td align="left">è®¾ç½®å¾„å‘æ¸å˜çš„å½¢çŠ¶</td>
</tr>
<tr>
<td>1</td>
<td align="left">size</td>
<td align="left">å®šä¹‰æ¸å˜çš„åŠå¾„é•¿åº¦</td>
</tr>
<tr>
<td>1</td>
<td align="left">position</td>
<td align="left">å®šä¹‰æ¸å˜çš„ä½ç½®</td>
</tr>
<tr>
<td>2~n</td>
<td align="left">start-color, â€¦, last-color</td>
<td align="left">ç”¨äºæŒ‡å®šæ¸å˜çš„èµ·æ­¢é¢œè‰²ã€‚ç”¨æ³•åŒ<code>linear-gradient()  </code></td>
</tr>
</tbody></table>
<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åŒ…å«ä¸‰éƒ¨åˆ†ï¼š<code>shape </code>å½¢çŠ¶ï¼Œ<code>size</code>å¤§å°ï¼Œ<code>position</code>ä½ç½®</p>
<p><strong>shape</strong></p>
<ul>
<li>ellipse (<code>é»˜è®¤</code>): æŒ‡å®šæ¤­åœ†å½¢çš„å¾„å‘æ¸å˜</li>
<li>circle ï¼šæŒ‡å®šåœ†å½¢çš„å¾„å‘æ¸å˜</li>
</ul>
<p><strong>size</strong></p>
<ul>
<li>farthest-corner (<code>é»˜è®¤</code>) : æŒ‡å®šå¾„å‘æ¸å˜çš„åŠå¾„é•¿åº¦ä¸ºä»åœ†å¿ƒåˆ°ç¦»åœ†å¿ƒ<code>æœ€è¿œçš„è§’</code></li>
<li>closest-corner ï¼š æŒ‡å®šå¾„å‘æ¸å˜çš„åŠå¾„é•¿åº¦ä¸ºä»åœ†å¿ƒåˆ°ç¦»åœ†å¿ƒ<code>æœ€è¿‘çš„è§’</code></li>
<li>farthest-side ï¼šæŒ‡å®šå¾„å‘æ¸å˜çš„åŠå¾„é•¿åº¦ä¸ºä»åœ†å¿ƒåˆ°ç¦»åœ†å¿ƒ<code>æœ€è¿œçš„è¾¹</code></li>
<li>closest-side ï¼šæŒ‡å®šå¾„å‘æ¸å˜çš„åŠå¾„é•¿åº¦ä¸ºä»åœ†å¿ƒåˆ°ç¦»åœ†å¿ƒ<code>æœ€è¿‘çš„è¾¹</code></li>
</ul>
<p><strong>position</strong></p>
<ul>
<li>ä»¥<code>at</code>å¼€å¤´ï¼Œåé¢ç´§æ¥æ¸å˜ä½ç½®</li>
<li>æ¸å˜ä½ç½®å–å€¼<ul>
<li>centerï¼ˆ<code>é»˜è®¤</code>ï¼‰ï¼šè®¾ç½®<code>ä¸­é—´</code>ä¸ºå¾„å‘æ¸å˜åœ†å¿ƒçš„çºµåæ ‡å€¼ã€‚</li>
<li>è¿˜å¯è®¾ç½®ä¸ºï¼š<code>top</code>ã€<code>bottom</code>ã€<code>left</code>ã€<code>right</code></li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<p>æ¸å˜å½¢çŠ¶ä¸º<code>åœ†å½¢</code>ï¼Œæ¸å˜åŠå¾„é•¿åº¦ä¸ºï¼šåœ†å¿ƒåˆ°ç¦»åœ†å¿ƒ<code>æœ€è¿‘çš„è§’</code>ï¼Œæœ«å°¾é¢œè‰²ä¸º<code>white</code>ä¸”ç»ˆæ­¢äºç›’å­å®½åº¦çš„<code>250%</code>ã€‚</p>
<p><img src="/2021/05/06/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/CSS/background%E7%9B%B8%E5%85%B3/background%E7%9B%B8%E5%85%B3/background%E7%9B%B8%E5%85%B3.assets/radial-gradient2.png" alt="radial-gradient2"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">  	width: 100px;</span><br><span class="line">  	height: 90px;</span><br><span class="line">  	background-image: radial-gradient(</span><br><span class="line">    circle closest-corner at right,</span><br><span class="line">    #00cec9,</span><br><span class="line">    #81ecec,</span><br><span class="line">    #74b9ff,</span><br><span class="line">    #0984e3,</span><br><span class="line">    #dfe6e9,</span><br><span class="line">    white 250%</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾„å‘æ¸å˜ç›¸å¯¹è¾ƒä¸ºå¤æ‚ï¼Œä½†ä¹Ÿéƒ½ç¬¦åˆä¸Šé¢æ‰€è®²çš„é€»è¾‘ï¼Œåªéœ€åˆ†æå‚æ•°å³å¯ã€‚</p>
<h3 id="é‡å¤è®¾ç½®æ¸å˜"><a href="#é‡å¤è®¾ç½®æ¸å˜" class="headerlink" title="é‡å¤è®¾ç½®æ¸å˜"></a>é‡å¤è®¾ç½®æ¸å˜</h3><p>å¯é‡å¤è®¾ç½®æ¸å˜ï¼Œå¯¹åº”ä¸¤ä¸ªå±æ€§å€¼ï¼š<code>repeating-linear-gradient()</code>ä¸<code>repeating-radial-gradient()</code>ï¼Œåˆ†åˆ«é‡å¤è®¾ç½®çº¿æ€§ã€å¾„å‘æ¸å˜æ•ˆæœã€‚</p>
<p>å…¶å‚æ•°ç”¨æ³•ä¸å•ç‹¬è®¾ç½®æ¸å˜æ•ˆæœç›¸åŒï¼Œä½†è‹¥è¦å‡ºç°é‡å¤æ¸å˜çš„æ•ˆæœï¼Œå¿…é¡»è¦ï¼š<strong>è®¾ç½®æœ«å°¾å…ƒç´ çš„ç»“æŸä½ç½®&lt; ç›’å­å°ºå¯¸</strong>ã€‚</p>
<p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæ¸å˜æœ«å°¾é¢œè‰²çš„ç»“æŸä½ç½®è‹¥å¤§äºç­‰äºç›’å­å°ºå¯¸ï¼Œåˆ™æ•´ä¸ªæ¸å˜æ•ˆæœä¼šè¦†ç›–æ•´ä¸ªç›’å­ï¼Œä¹Ÿå°±ä¸ä¼šå‡ºç°é‡å¤æ¸å˜çš„æ•ˆæœã€‚</p>
<p>å…·ä½“æ¡ˆä¾‹å¯ä»¥å‚è€ƒä¸Šæ–‡ï¼ˆ<code>background-image</code>èµ·å§‹å¤„ï¼‰ã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>backgroundçœ‹ä¼¼å¾ˆç®€å•ï¼Œå…¶å®è—æœ‰å¾ˆå¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥ç»“åˆä¹‹å‰æ‰€å­¦çŸ¥è¯†å¤šå…ƒåŒ–æ€è€ƒï¼Œå°±å¯èƒ½åˆ›é€ å‡ºéå¸¸ç‚«é…·çš„æ•ˆæœ</p>
<p>æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘æ˜¯ Ashun ï¼Œåœ¨æ ¡å¤§å­¦ç”Ÿï¼Œç«‹å¿—æˆä¸ºèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¬¢è¿å¤§å®¶ä¸€èµ·äº¤æµã€å­¦ä¹ ã€‚åç»­æ›´æ–°æ›´å¤šæ–‡ç« ï¼Œè¯·æŒç»­å…³æ³¨å“¦~</p>
<p>åŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œé€Ÿé€Ÿå‘ŠçŸ¥ã€‚</p>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>CSS</category>
        <category>backgroundç›¸å…³</category>
      </categories>
  </entry>
  <entry>
    <title>åŸå‹ä¸ç»§æ‰¿</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E7%BB%A7%E6%89%BF/</url>
    <content><![CDATA[<h2 id="åŸå‹ä¸ç»§æ‰¿"><a href="#åŸå‹ä¸ç»§æ‰¿" class="headerlink" title="åŸå‹ä¸ç»§æ‰¿"></a>åŸå‹ä¸ç»§æ‰¿</h2><h3 id="åŸå‹åŸºç¡€"><a href="#åŸå‹åŸºç¡€" class="headerlink" title="åŸå‹åŸºç¡€"></a>åŸå‹åŸºç¡€</h3><h4 id="åŸå‹å¯¹è±¡"><a href="#åŸå‹å¯¹è±¡" class="headerlink" title="åŸå‹å¯¹è±¡"></a>åŸå‹å¯¹è±¡</h4><p>â€‹    æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Javascriptä¸­ï¼Œä»»ä½•ä¸€ä¸ªç§ç±»å…¶å®éƒ½æ˜¯å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥è®¿é—®è¯¥å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœå¯¹è±¡æœ¬èº«æ²¡æœ‰æŸå±æ€§ã€æ–¹æ³•ï¼Œå°±ä¼šä»å¯¹è±¡çš„åŸå‹ä¸Šå»æŸ¥æ‰¾ï¼Œå¦‚æœå¯¹è±¡çš„åŸå‹ä¸Šå­˜åœ¨ä½ è¦ä½¿ç”¨çš„å±æ€§ã€æ–¹æ³•ï¼Œåˆ™å°†ä¼šä½¿ç”¨åŸå‹ä¸Šçš„å¯¹åº”å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li><p>å¯ä»¥å°†åŸå‹ç†è§£ä¸ºå¯¹è±¡çš„çˆ¶äº²ï¼Œå¯¹è±¡ä»åŸå‹å¯¹è±¡ç»§æ‰¿æ¥å±æ€§ã€æ–¹æ³•</p>
</li>
<li><p>æ‰€æœ‰å‡½æ•°çš„åŸå‹é»˜è®¤æ˜¯ <code>Object</code>çš„å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>toString/toValues/isPrototypeOf</code> ç­‰æ–¹æ³•çš„åŸå› </p>
</li>
<li><p>ä½¿ç”¨åŸå‹å¯¹è±¡ä¸ºå¤šä¸ªå¯¹è±¡å…±äº«å±æ€§æˆ–æ–¹æ³•</p>
</li>
<li><p>å¦‚æœå¯¹è±¡æœ¬èº«ä¸å­˜åœ¨å±æ€§æˆ–æ–¹æ³•æ‰åˆ°åŸå‹ä¸ŠæŸ¥æ‰¾ï¼Œè‹¥å¯¹è±¡æœ¬èº«å’ŒåŸå‹å…·æœ‰åŒåå±æ€§ã€æ–¹æ³•ï¼Œåˆ™ä¼šä½¿ç”¨å¯¹è±¡æœ¬èº«çš„å±æ€§ã€æ–¹æ³•ã€‚</p>
</li>
<li><p>ä½¿ç”¨åŸå‹å¯ä»¥è§£å†³ï¼Œé€šè¿‡æ„å»ºå‡½æ•°åˆ›å»ºå¯¹è±¡æ—¶å¤åˆ¶å¤šä¸ªå‡½æ•°é€ æˆçš„å†…å­˜å ç”¨é—®é¢˜</p>
</li>
<li><p>åŸå‹å¯¹è±¡<code>prototype</code>é»˜è®¤åŒ…å« <code>constructor</code> å±æ€§ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°</p>
</li>
<li><p>å¯¹è±¡å…·æœ‰ <code>__proto__</code> å±æ€§ï¼ŒæŒ‡å‘å®ƒ<code>æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡prototype</code></p>
</li>
<li><p>æ„é€ å‡½æ•°çš„<code>prototype</code>æ˜¯ç”¨æ¥è®©å®ä¾‹å¯¹è±¡ç»§æ‰¿çš„ã€‚</p>
</li>
<li><p><code>prototype</code>æ˜¯<code>æ„é€ å™¨/å‡½æ•°/class</code>å¤©ç”Ÿå…·æœ‰çš„å±æ€§<br>JavaScriptå†…ç½®çš„æ„é€ å™¨æœ‰ï¼šObject,Number,Boolean,String,Array,RegExp,Date,Function,Error,Math,JSONç­‰ã€‚</p>
<p>å½“ç„¶ï¼Œæ™®é€šçš„å‡½æ•°ä¹Ÿå¯ä»¥æ˜¯æ„é€ å‡½æ•°ã€å·¥å‚å‡½æ•°ã€‚æ‰€ä»¥æ™®é€šå‡½æ•°ä¹Ÿå…·æœ‰prototypeï¼Œè®©å®ä¾‹åŒ–å¯¹è±¡æ¥ç»§æ‰¿ã€‚</p>
</li>
<li><p>åŸå‹é“¾çš„é¡¶ç‚¹æ˜¯<code>Object.prototype</code>,æ‰€æœ‰å¯¹è±¡éƒ½ç»§æ‰¿äºè¯¥åŸå‹ã€‚</p>
</li>
</ul>
<p>ä¸‹ä¾‹å°±æ˜¯ä½¿ç”¨æ•°ç»„åŸå‹ä¸Šçš„ <code>concat</code> æ–¹æ³•å®Œæˆçš„è¿æ¥æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = [&quot;a&quot;];</span><br><span class="line">console.log(as.concat(&quot;b&quot;));	//[&quot;a&quot;,&quot;b&quot;]</span><br><span class="line">console.log(as.concat(&quot;c&quot;,[&quot;d&quot;,&quot;e&quot;],[[[[&quot;f&quot;]]]]));	//[&quot;a&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,[&quot;f&quot;]]</span><br><span class="line">console.log(as);	//[&quot;a&quot;]</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºçš„å¯¹è±¡éƒ½æœ‰ï¼šç»§æ‰¿è€Œæ¥çš„æ„é€ å‡½æ•°åŸå‹</p>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_1.png" alt="image-20210327152151367" style="zoom:80%;" />

<ul>
<li>ç”±äºaæœ¬èº«æ˜¯ç”±Objecæ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œæ‰€ä»¥aç»§æ‰¿çš„æ˜¯Object.prototype</li>
<li><code>a.constructor</code>å’Œ<code>a.__proto__.constructor</code>å…¶å®æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>å› ä¸ºaæœ¬èº«æ²¡æœ‰constructorå±æ€§ï¼Œæ‰€ä»¥è®¿é—®çš„å°±æ˜¯åŸå‹ä¸Šçš„constructorã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123; name: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot; &#125;;</span><br><span class="line">console.log(a);</span><br><span class="line">console.log(a.constructor);&#x2F;&#x2F; Æ’ Object() &#123;&#125;</span><br><span class="line">console.log(a.__proto__.constructor);&#x2F;&#x2F; Æ’ Object() &#123;&#125;</span><br><span class="line">console.log(a.__proto__ &#x3D;&#x3D; Object.prototype);	&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªæç®€å¯¹è±¡ï¼ˆçº¯æ•°æ®å­—å…¸å¯¹è±¡ï¼‰æ²¡æœ‰åŸå‹ï¼ˆåŸå‹ä¸ºnull)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; name: 3 &#125;;</span><br><span class="line">console.log(obj.hasOwnProperty(&quot;name&quot;));</span><br><span class="line"></span><br><span class="line">let as &#x3D; Object.create(null, &#123;</span><br><span class="line">  name: &#123;</span><br><span class="line">    value: &quot;é˜¿é¡º&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(as.hasOwnProperty(&quot;name&quot;)); &#x2F;&#x2F;Error:hasOwnProperty not undefined</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;Object.keysæ˜¯é™æ€æ–¹æ³•ï¼Œä¸æ˜¯åŸå‹æ–¹æ³•æ‰€ä»¥æ˜¯å¯ä»¥ä½¿ç”¨çš„,ä½†ä¹Ÿä¸ä¼šè¿”å›æ­£å¸¸ç»“æœï¼Œå› ä¸ºè¯¥æ–¹æ³•ä¹Ÿä¾èµ–äºåŸå‹ä¸Šçš„è¿­ä»£æ¥å£ã€‚</span><br><span class="line">console.log(Object.keys(as));&#x2F;&#x2F;[]</span><br></pre></td></tr></table></figure>



<p>å‡½æ•°å…·æœ‰ä¸¤ä¸ªåŸå‹å¯¹è±¡ï¼š<code>prototype</code>ã€<code>__proto__</code></p>
<ul>
<li>ä¹‹å‰è¯´è¿‡ï¼Œåªæœ‰å‡½æ•°å…·æœ‰prototypeï¼Œç”¨äºè®©å®ä¾‹ç»§æ‰¿ã€‚</li>
<li>ä½†æ˜¯åœ¨JSä¸­ï¼Œä»»ä½•ç±»å‹å…¶å®éƒ½æ˜¯å¯¹è±¡ï¼Œå½“æŠŠå‡½æ•°çœ‹ä½œå¯¹è±¡æ—¶ï¼Œå…¶ä¹Ÿå°±å…·æœ‰<code>__proto__</code>,ç”¨æ¥è®¿é—®è‡ªèº«çš„æ„é€ å‡½æ•°çš„åŸå‹ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.__proto__.view &#x3D; function() &#123;</span><br><span class="line">  console.log(&quot;User MakeFunction view method&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">User.view();</span><br><span class="line"></span><br><span class="line">User.prototype.show &#x3D; function() &#123;</span><br><span class="line">  console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">let as &#x3D; new User();</span><br><span class="line">as.show();</span><br><span class="line">console.log(User.prototype &#x3D;&#x3D; as.__proto__);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">console.log(User.__proto__ &#x3D;&#x3D; User.constructor.prototype);</span><br><span class="line">console.log(User.constructor.prototype &#x3D;&#x3D; Function.prototype);</span><br><span class="line">console.log(User.__proto__.__proto__ &#x3D;&#x3D; Object.prototype);</span><br><span class="line">console.log(User.prototype.__proto__ &#x3D;&#x3D; Object.prototype);</span><br><span class="line">console.log(Object.__proto__.__proto__ &#x3D;&#x3D; Object.prototype);</span><br><span class="line">console.log(Object.prototype.__proto__ &#x3D;&#x3D; null);</span><br></pre></td></tr></table></figure>

<p>æ˜¯ä¸æ˜¯æ„Ÿè§‰<code>Object.__proto__.__proto__ == Object.prototype</code>å¾ˆéš¾ç†è§£ï¼Ÿæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ‹†è§£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(Object.__proto__.__proto__ &#x3D;&#x3D; Object.prototype);</span><br><span class="line">console.log(Object.__proto__ &#x3D;&#x3D; Function.prototype);</span><br><span class="line">console.log(Function.prototype.__proto__ &#x3D;&#x3D; Object.prototype);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯åŸå‹å…³ç³»åˆ†æï¼Œä¸æ–¹æ³•ç»§æ‰¿çš„ç¤ºä¾‹</p>
<ul>
<li>å®ä¾‹å¯¹è±¡ï¼Œåªæœ‰ä¸€ä¸ª<code>__proto__</code>æ¥å£ï¼Œç”¨äºè®¿é—®æ„é€ å‡½æ•°çš„<code>prototype</code></li>
<li>è€Œ<code>å‡½æ•°/æ„é€ å‡½æ•°</code>éƒ½æœ‰ä¸¤ä¸ªåŸå‹æ¥å£ï¼š<code>prototype</code>ç”¨äºè®©å®ä¾‹å¯¹è±¡ç»§æ‰¿ã€<code>__proto__</code>ç”¨äºè®©è‡ªèº«ç»§æ‰¿æ„é€ è‡ªå·±çš„æ„é€ å‡½æ•°çš„<code>prototype</code></li>
</ul>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_2.png" alt="prototype_2" style="zoom: 60%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; new Object();</span><br><span class="line">as.name &#x3D; &quot;é˜¿é¡º&quot;;</span><br><span class="line">Object.prototype.show &#x3D; function() &#123;</span><br><span class="line">  console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">as.show();</span><br><span class="line"></span><br><span class="line">function User() &#123;&#125;</span><br><span class="line">let shun &#x3D; new User();</span><br><span class="line">shun.show();</span><br><span class="line">User.show();</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„åŸå‹ä½“ç°</p>
<ul>
<li>æ„é€ å‡½æ•°æ‹¥æœ‰åŸå‹</li>
<li>åˆ›å»ºå¯¹è±¡æ—¶æ„é€ å‡½æ•°æŠŠåŸå‹èµ‹äºˆå¯¹è±¡</li>
</ul>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_3.png" alt="prototype_3" style="zoom:70%;" />



<p><code>constructor</code>å­˜åœ¨äº<code>prototype</code>åŸå‹ä¸­ï¼Œç”¨äºæŒ‡å‘æ„å»ºå‡½æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">let as = new User();</span><br><span class="line">console.log(as.__proto__ == User.prototype);</span><br><span class="line">console.log(as.__proto__.constructor == User);</span><br><span class="line">console.log(as.constructor == User);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å¯¹è±¡çš„ <code>constructor</code> åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name, age) &#123;</span><br><span class="line">	this.name = name;</span><br><span class="line">	this.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function createByObject(obj, ...args) &#123;</span><br><span class="line">	const constructor = obj.__proto__.constructor;</span><br><span class="line">	// const constructor = Object.getPrototypeOf(obj).constructor;</span><br><span class="line">	return new constructor(...args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">let zs = createByObject(as, &quot;å¼ ä¸‰&quot;, 7);</span><br><span class="line">console.log(zs);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h4><p>â€‹    å¤šä¸ªåŸå‹å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿ï¼Œå½¢æˆçš„å¤šå±‚çº§å…³ç³»ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªé“¾æ¡ï¼Œå³åŸå‹é“¾ã€‚</p>
<p>â€‹    ä»ä¹‹å‰çš„å›¾è§£ä¸­ä¹Ÿèƒ½å¤Ÿçœ‹å‡ºè¿™ç§å…³ç³»ã€‚</p>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_4.png" alt="prototype_4" style="zoom:60%;" />





<hr>
<h4 id="è·å–-è®¾ç½®åŸå‹"><a href="#è·å–-è®¾ç½®åŸå‹" class="headerlink" title="è·å–\è®¾ç½®åŸå‹"></a>è·å–\è®¾ç½®åŸå‹</h4><h5 id="getprototypeOf"><a href="#getprototypeOf" class="headerlink" title="getprototypeOf"></a>getprototypeOf</h5><ul>
<li><p>ä½¿ç”¨<code>Object.getPrototypeOf(obj)</code>ï¼Œè·å–<code>obj</code>çš„åŸå‹</p>
<ul>
<li>ç­‰åŒäº<code>obj.__proto__</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a &#x3D; &#123;&#125;;</span><br><span class="line">console.log(Object.getPrototypeOf(a) &#x3D;&#x3D; Object.prototype);</span><br><span class="line">console.log(Object.getPrototypeOf(a) &#x3D;&#x3D; a.__proto__);</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h5 id="setPrototypeOf"><a href="#setPrototypeOf" class="headerlink" title="setPrototypeOf"></a>setPrototypeOf</h5><ul>
<li><p>ä½¿ç”¨<code>Object.setPrototypeOf(sub,sup)</code>ï¼Œå°†<code>sub</code>çš„çˆ¶çº§åŸå‹å¯¹è±¡è®¾ç½®ä¸º<code>sup</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123;&#125;;</span><br><span class="line">let b &#x3D; &#123;</span><br><span class="line">	show() &#123;</span><br><span class="line">		return &quot;Ashuntefannao&quot;;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">Object.setPrototypeOf(a, b);</span><br><span class="line">console.log(Object.getPrototypeOf(a));	&#x2F;&#x2F;&#123;show: Æ’&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ç¤ºä¾‹ä¸­ç»§æ‰¿å…³ç³»ä¸º user=&gt;as=&gt;shunã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;&#125;;</span><br><span class="line">let as &#x3D; &#123; name: &quot;Ashun&quot; &#125;;</span><br><span class="line">let shun &#x3D; &#123; type: &quot;Controller&quot; &#125;;</span><br><span class="line"></span><br><span class="line">Object.setPrototypeOf(user, as);</span><br><span class="line">Object.setPrototypeOf(as, shun);</span><br><span class="line"></span><br><span class="line">console.log(user.type);</span><br><span class="line">console.log(Object.getPrototypeOf(as));</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create"></a>Object.create</h5><p>ä½¿ç”¨<code>Object.create(sup,&#123;descâ€¦&#125;)</code>åœ¨åˆ›å»ºå¯¹è±¡æ—¶è®¾ç½®æ–°å¯¹è±¡çš„çˆ¶çº§åŸå‹ã€‚</p>
<ul>
<li>å‚æ•°1ï¼šè®¾ç½®æ–°å¯¹è±¡çš„çˆ¶çº§åŸå‹</li>
<li>å‚æ•°2ï¼šä¸ºæ–°å¯¹è±¡é…ç½®å±æ€§ï¼Œä»¥å±æ€§æè¿°çš„å½¢å¼ï¼Œç›¸å½“äº<code>Object.defineProperties</code>çš„å½¢å¼ã€‚</li>
</ul>
<p>åªè®¾ç½®åŸå‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let as &#x3D; Object.create(user);</span><br><span class="line">as.name &#x3D; &quot;é˜¿é¡º&quot;;</span><br><span class="line">console.log(as.show());</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®åŸå‹å¹¶èµ‹äºˆæ–°å¯¹è±¡å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let sup &#x3D; &#123;</span><br><span class="line">	name: &quot;Ashun&quot;,</span><br><span class="line">	type: &quot;Controller&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">let obj &#x3D; Object.create(sup, &#123;</span><br><span class="line">		show: &#123;</span><br><span class="line">				value: function () &#123;</span><br><span class="line">					console.log(this.name);</span><br><span class="line">					console.log(Object.getPrototypeOf(this).name);</span><br><span class="line">				&#125;,</span><br><span class="line">				writable: false,</span><br><span class="line">				enumerable: true,</span><br><span class="line">		&#125;,</span><br><span class="line">		type:&#123;</span><br><span class="line">			value:&quot;VIP&quot;,</span><br><span class="line">			configurable:false</span><br><span class="line">		&#125;</span><br><span class="line">&#125;);</span><br><span class="line">obj.show();	&#x2F;&#x2F;Ashun Ashun</span><br><span class="line">console.log(obj.type) &#x2F;&#x2F;VIP</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹æ£€æµ‹"><a href="#åŸå‹æ£€æµ‹" class="headerlink" title="åŸå‹æ£€æµ‹"></a>åŸå‹æ£€æµ‹</h4><h5 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h5><p>instanceof æ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function A() &#123;&#125;</span><br><span class="line">function B() &#123;&#125;</span><br><span class="line">function C() &#123;&#125;</span><br><span class="line"></span><br><span class="line">let c &#x3D; new C();</span><br><span class="line"></span><br><span class="line">B.prototype &#x3D; c;</span><br><span class="line"></span><br><span class="line">let b &#x3D; new B();</span><br><span class="line"></span><br><span class="line">A.prototype &#x3D; b;</span><br><span class="line"></span><br><span class="line">let a &#x3D; new A();</span><br><span class="line"></span><br><span class="line">console.log(a instanceof A);</span><br><span class="line">console.log(a instanceof B);</span><br><span class="line">console.log(a instanceof C);</span><br><span class="line">console.log(b instanceof B);</span><br><span class="line">console.log(b instanceof C);</span><br></pre></td></tr></table></figure>

<h5 id="isPrototypeof"><a href="#isPrototypeof" class="headerlink" title="isPrototypeof"></a>isPrototypeof</h5><p>ä½¿ç”¨<code>isPrototypeOf</code>æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸­</p>
<ul>
<li><code>a.isPrototypeOf(b)</code>æ£€æµ‹aå¯¹è±¡æ˜¯å¦åœ¨bçš„åŸå‹é“¾ä¸Š</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const a = &#123;&#125;;</span><br><span class="line">const b = &#123;&#125;;</span><br><span class="line">const c = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Object.setPrototypeOf(a, b);</span><br><span class="line">Object.setPrototypeOf(b, c);</span><br><span class="line"></span><br><span class="line">console.log(b.isPrototypeOf(a)); //true</span><br><span class="line">console.log(c.isPrototypeOf(a)); //true</span><br><span class="line">console.log(c.isPrototypeOf(b)); //true</span><br><span class="line">console.log(Object.prototype.isPrototypeOf(&#123;&#125;)); //true</span><br><span class="line"></span><br><span class="line">let num = new Number(1);</span><br><span class="line">console.log(Object.prototype.isPrototypeOf(num));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å±æ€§éå†"><a href="#å±æ€§éå†" class="headerlink" title="å±æ€§éå†"></a>å±æ€§éå†</h4><p>ä½¿ç”¨<code>in</code> æ£€æµ‹<code>åŸå‹é“¾</code>ä¸Šæ˜¯å¦å­˜åœ¨å±æ€§ï¼Œä½¿ç”¨ <code>hasOwnProperty</code> åªæ£€æµ‹å½“å‰å¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let a = &#123; url: &quot;Ashuntefannao&quot; &#125;;</span><br><span class="line">let b = &#123; name: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">Object.setPrototypeOf(a, b);</span><br><span class="line">console.log(&quot;name&quot; in a);</span><br><span class="line">console.log(a.hasOwnProperty(&quot;name&quot;));</span><br><span class="line">console.log(a.hasOwnProperty(&quot;url&quot;));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>for/in</code> ä¹Ÿä¼šéå†<code>åŸå‹é“¾</code>ä¸Šçš„å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123; name: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">let shun = Object.create(as, &#123;</span><br><span class="line">  url: &#123;</span><br><span class="line">    value: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">    enumerable: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">for (const key in shun) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>hasOwnProperty</code> æ–¹æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨å±æ€§ï¼Œè€Œ<strong>ä¸ä¼šæŸ¥æ‰¾åŸå‹</strong>ã€‚æ‰€ä»¥å¦‚æœåªæƒ³éå†å¯¹è±¡å±æ€§ä½¿ç”¨ä»¥ä¸‹ä»£ç </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123; name: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">let shun = Object.create(as, &#123;</span><br><span class="line">  url: &#123;</span><br><span class="line">    value: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">    enumerable: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">for (const key in shun) &#123;</span><br><span class="line">  if (xj.hasOwnProperty(key)) &#123;</span><br><span class="line">    console.log(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹‹å‰æ‰€è¯´çš„Objectå†…ç½®è¿­ä»£å™¨ï¼š<code>Object.keys()ã€Object.values()ã€Object.entries()</code>,å®ƒä»¬åªèƒ½å¤Ÿè·å¾—<strong>è‡ªèº«çš„ã€å¯æšä¸¾</strong>çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">		Object.defineProperty(this, &quot;site&quot;, &#123;</span><br><span class="line">			value: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">			enumerable: false,</span><br><span class="line">		&#125;);</span><br><span class="line">		this.name &#x3D; name;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.show &#x3D; function () &#123;</span><br><span class="line">	console.log(this.name);</span><br><span class="line">&#125;;</span><br><span class="line">let as &#x3D; new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(Object.keys(as));&#x2F;&#x2F;[&quot;name&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å€Ÿç”¨åŸå‹"><a href="#å€Ÿç”¨åŸå‹" class="headerlink" title="å€Ÿç”¨åŸå‹"></a>å€Ÿç”¨åŸå‹</h4><p>ä½¿ç”¨ <code>call</code> æˆ– <code>apply</code> å¯ä»¥å€Ÿç”¨å…¶ä»–åŸå‹æ–¹æ³•å®ŒæˆåŠŸèƒ½ã€‚</p>
<p>ä¸‹é¢çš„shunå¯¹è±¡ä¸èƒ½ä½¿ç”¨<code>max</code>æ–¹æ³•ï¼Œä½†å¯ä»¥å€Ÿç”¨ as å¯¹è±¡çš„åŸå‹æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">	data: [1, 2, 3, 4, 5],</span><br><span class="line">&#125;;</span><br><span class="line">Object.setPrototypeOf(as, &#123;</span><br><span class="line">		max: function (data) &#123;</span><br><span class="line">		return data.sort((a, b) =&gt; b - a)[0];</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(as.max(as.data));</span><br><span class="line"></span><br><span class="line">let shun = &#123;</span><br><span class="line">	lessons: &#123; js: 100, php: 78, node: 78, linux: 125 &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(as.__proto__.max.call(as, Object.values(shun.lessons)));</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ <code>Math.max</code> ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  data: [1, 2, 3, 4, 5]</span><br><span class="line">&#125;;</span><br><span class="line">console.log(Math.max.apply(null, Object.values(as.data)));</span><br><span class="line">console.log(Math.max.apply(null, as.data));</span><br><span class="line"></span><br><span class="line">let shun = &#123;</span><br><span class="line">  lessons: &#123; js: 100, php: 78, node: 78, linux: 125 &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(Math.max.apply(shun, Object.values(.lessons)));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯è·å–è®¾ç½®äº† <code>class</code> å±æ€§çš„æŒ‰é’®ï¼Œä½†<code>NodeListç±»æ•°ç»„</code>ä¸èƒ½ç›´æ¥ä½¿ç”¨æ•°ç»„çš„<code>filter</code> ç­‰æ–¹æ³•ï¼Œä½†å€Ÿç”¨æ•°ç»„çš„åŸå‹æ–¹æ³•å°±å¯ä»¥æ“ä½œäº†ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button class=&quot;red&quot;&gt;é˜¿é¡º&lt;/button&gt;</span><br><span class="line">  &lt;button&gt;Ashun&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">  btns = Array.prototype.filter.call(btns, item =&gt; &#123;</span><br><span class="line">    return item.hasAttribute(&quot;class&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><p><code>this</code> ä¸å—åŸå‹ç»§æ‰¿å½±å“ï¼Œ<code>this</code> æŒ‡å‘è°ƒç”¨å±æ€§æ—¶ä½¿ç”¨çš„å¯¹è±¡ã€‚</p>
<ul>
<li>è°è°ƒç”¨ï¼Œ<code>this</code>æŒ‡å‘è°</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let shun = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;</span><br><span class="line">&#125;;</span><br><span class="line">let as = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">shun.__proto__ = as;</span><br><span class="line">console.log(shun.show()); //é˜¿é¡ºç‰¹çƒ¦æ¼</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">        function Fn() &#123;</span><br><span class="line">          this.x &#x3D; 100;</span><br><span class="line">          this.y &#x3D; 200;</span><br><span class="line">          this.getX &#x3D; function () &#123;</span><br><span class="line">            console.log(this.x);</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        Fn.prototype.getX &#x3D; function () &#123;</span><br><span class="line">          console.log(this.x);</span><br><span class="line">        &#125;;</span><br><span class="line">        Fn.prototype.getY &#x3D; function () &#123;</span><br><span class="line">          console.log(this.y);</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        var f1 &#x3D; new Fn();</span><br><span class="line">        var f2 &#x3D; new Fn();</span><br><span class="line">        console.log(f1.getX &#x3D;&#x3D;&#x3D; f2.getX); &#x2F;&#x2F;false</span><br><span class="line">        console.log(f1.getY &#x3D;&#x3D;&#x3D; f2.getY); &#x2F;&#x2F;true</span><br><span class="line">        console.log(f1.__proto__.getY &#x3D;&#x3D;&#x3D; Fn.prototype.getY); &#x2F;&#x2F;true</span><br><span class="line">        console.log(f1.__proto__.getX &#x3D;&#x3D;&#x3D; f2.getX); &#x2F;&#x2F;false</span><br><span class="line">        console.log(f1.__proto__.getX &#x3D;&#x3D;&#x3D; Fn.prototype.getX); &#x2F;&#x2F;true</span><br><span class="line">        console.log(f1.constructor); &#x2F;&#x2F;Fn</span><br><span class="line">        console.log(Fn.prototype.__proto__.constructor); &#x2F;&#x2F;Object</span><br><span class="line">        f1.getX(); &#x2F;&#x2F;100	(ä½¿ç”¨å…¶æœ¬èº«çš„getXï¼Œthis&#x3D;ã€‹f1)</span><br><span class="line">        f1.__proto__.getX(); &#x2F;&#x2F;undefined	(é€šè¿‡åŸå‹è°ƒç”¨ï¼Œthis&#x3D;ã€‹f1.__proto__)</span><br><span class="line">        f2.getY(); &#x2F;&#x2F;200	(è™½ç„¶ä½¿ç”¨çš„æ˜¯åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œä½†æ˜¯é€šè¿‡f2è°ƒç”¨ï¼Œthis&#x3D;ã€‹f2)</span><br><span class="line">        Fn.prototype.getY(); &#x2F;&#x2F;undefined	(é€šè¿‡åŸå‹è°ƒç”¨ï¼Œthis&#x3D;ã€‹f1.__proto__)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	function fun()&#123;</span><br><span class="line">		this.a &#x3D; 0;</span><br><span class="line">		this.b &#x3D; function()&#123;</span><br><span class="line">			console.log(this.a);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fun.prototype &#x3D; &#123;</span><br><span class="line">		b: function()&#123;</span><br><span class="line">			this.a &#x3D; 20;</span><br><span class="line">			console.log(this.a);</span><br><span class="line">		&#125;,</span><br><span class="line">		c: function()&#123;</span><br><span class="line">			this.a &#x3D; 30;</span><br><span class="line">			console.log(this.a);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	var my_fun &#x3D; new fun();</span><br><span class="line">	my_fun.b();	&#x2F;&#x2F;ç§æœ‰æ–¹æ³•	this&#x3D;&gt;my_fun</span><br><span class="line">	console.log(my_fun.a);</span><br><span class="line">	my_fun.c();	&#x2F;&#x2F;å…¬æœ‰æ–¹æ³•	this&#x3D;&gt;my_fun this.a &#x3D; 30ï¼ˆå°†ç§æœ‰å±æ€§aä¿®æ”¹ä¸º30ï¼‰</span><br><span class="line">	console.log(my_fun.a);</span><br><span class="line">	</span><br><span class="line">	var my_fun2 &#x3D; new fun();</span><br><span class="line">	console.log(my_fun2.a);</span><br><span class="line">	my_fun2.__proto__.c();	&#x2F;&#x2F;this&#x3D;&gt;my_fun2.__proto__ åœ¨åŸå‹å¯¹è±¡ä¸Šå¢åŠ äº†ä¸€ä¸ªa:30</span><br><span class="line">	console.log(my_fun2.a);</span><br><span class="line">	console.log(my_fun2.__proto__.a);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;0,0,30,30,0,30,0,30</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="ä½¿ç”¨å»ºè®®"><a href="#ä½¿ç”¨å»ºè®®" class="headerlink" title="ä½¿ç”¨å»ºè®®"></a>ä½¿ç”¨å»ºè®®</h3><h4 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h4><h5 id="å¼•ç”¨å±æ€§"><a href="#å¼•ç”¨å±æ€§" class="headerlink" title="å¼•ç”¨å±æ€§"></a>å¼•ç”¨å±æ€§</h5><p>åŸå‹ä¸­ä¿å­˜å¼•ç”¨ç±»å‹å±æ€§ä¼šé€ æˆå¯¹è±¡å…±äº«å±æ€§ï¼Œæ‰€ä»¥ä¸€èˆ¬åªä¼šåœ¨åŸå‹ä¸­å®šä¹‰æ–¹æ³•ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype = &#123;</span><br><span class="line">  lessons: [&quot;JS&quot;, &quot;VUE&quot;]</span><br><span class="line">&#125;;</span><br><span class="line">const as = new User();</span><br><span class="line">const shun = new User();</span><br><span class="line"></span><br><span class="line">as.lessons.push(&quot;CSS&quot;);</span><br><span class="line"></span><br><span class="line">console.log(as.lessons); //[&quot;JS&quot;, &quot;VUE&quot;, &quot;CSS&quot;]</span><br><span class="line">console.log(shun.lessons); //[&quot;JS&quot;, &quot;VUE&quot;, &quot;CSS&quot;]</span><br></pre></td></tr></table></figure>

<p>æ™®é€šå‡½æ•°çš„åŸå‹é»˜è®¤åªæœ‰ä¸€ä¸ª<code>constructor</code>å±æ€§ï¼Œç”¨äºæŒ‡å‘è‡ªèº«ï¼Œè¿™æ ·åœ¨å®ä¾‹åŒ–åï¼Œå°±èƒ½è®©å®ä¾‹è®¿é—®è‡ªèº«çš„æ„é€ å‡½æ•°ã€‚</p>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_5.png" alt="prototype_5" style="zoom:90%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">console.log(User.prototype);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="æ›´æ”¹åŸå‹"><a href="#æ›´æ”¹åŸå‹" class="headerlink" title="æ›´æ”¹åŸå‹"></a>æ›´æ”¹åŸå‹</h5><ul>
<li><code>è‡ªå®šä¹‰</code>æ„é€ å‡½æ•°çš„åŸå‹<code>å¯ä»¥æ‰‹åŠ¨æ›´æ”¹</code></li>
<li><code>ç³»ç»Ÿå†…ç½®</code>æ„é€ å‡½æ•°çš„åŸå‹:<code>åªèƒ½è¯»ã€ä¸èƒ½æ”¹</code></li>
</ul>
<p>ä¸‹ä¾‹æ˜¯æ‰‹åŠ¨æ›´æ”¹è‡ªå®šä¹‰æ„é€ å‡½æ•°çš„åŸå‹ï¼Œä»¥ä¸‹ä»£ç ç›´æ¥è®¾ç½®äº†æ„é€ å‡½æ•°çš„åŸå‹å°†é€ æˆ <code>constructor</code> ä¸¢å¤±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype &#x3D; &#123;</span><br><span class="line">	show() &#123;</span><br><span class="line">		return &#96;å¤–éƒ¨æ›´æ”¹äº†é»˜è®¤çš„prototype&#96;;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(User.prototype); &#x2F;&#x2F; &#123;show: Æ’&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®çš„åšæ³•æ˜¯è¦ä¿è¯åŸå‹ä¸­çš„ <code>constructor</code>æŒ‡å‘æ„é€ å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype &#x3D; &#123;</span><br><span class="line">	constructor:User,</span><br><span class="line">	show() &#123;</span><br><span class="line">		return &#96;å¤–éƒ¨æ›´æ”¹äº†é»˜è®¤çš„prototype&#96;;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(User.prototype); &#x2F;&#x2F; &#123;constructor: Æ’, show: Æ’&#125;</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹å¯¹è±¡çš„åŸå‹å¼•ç”¨æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œæ˜¯åœ¨åˆ›å»ºå¯¹è±¡æ—¶ç¡®å®šçš„ï¼Œå½“æ„é€ å‡½æ•°åŸå‹å¯¹è±¡æ”¹å˜æ—¶ä¼šå½±å“åé¢åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype.name = &quot;Ashun&quot;;</span><br><span class="line">const obj1 = new User();</span><br><span class="line">console.log(obj1.name); //Ashun</span><br><span class="line"></span><br><span class="line">User.prototype = &#123;</span><br><span class="line">	constructor:User,</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">const obj2 = new User();</span><br><span class="line">console.dir(obj2.name); //é˜¿é¡º</span><br></pre></td></tr></table></figure>



<p><code>ç³»ç»Ÿå†…ç½®</code>æ„é€ å‡½æ•°çš„åŸå‹:ä¸ºåªè¯»å±æ€§ï¼Œå¤–éƒ¨ä¸å¯æ›´æ”¹ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">String.prototype &#x3D; &#123;</span><br><span class="line">	show() &#123;</span><br><span class="line">		return &#96;å¤–éƒ¨æ›´æ”¹äº†é»˜è®¤çš„prototype&#96;;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(String.prototype);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;</span><br><span class="line">String.prototype &#x3D; &#123;</span><br><span class="line">	show() &#123;</span><br><span class="line">		return &#96;å¤–éƒ¨æ›´æ”¹äº†é»˜è®¤çš„prototype&#96;;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹ç®¡ç†"><a href="#åŸå‹ç®¡ç†" class="headerlink" title="åŸå‹ç®¡ç†"></a>åŸå‹ç®¡ç†</h4><p>é€šè¿‡å‰ä»‹ç»æˆ‘ä»¬çŸ¥é“å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼è®¾ç½®åŸå‹ï¼Œä¸‹é¢æ˜¯æŒ‰æ—¶é—´é¡ºåºçš„æ’åˆ—</p>
<ol>
<li><code>prototype</code> æ„é€ å‡½æ•°çš„åŸå‹å±æ€§</li>
<li><code>Object.create</code> åˆ›å»ºå¯¹è±¡æ—¶æŒ‡å®šåŸå‹</li>
<li><code>__proto__</code> å£°æ˜è‡ªå®šä¹‰çš„<code>éæ ‡å‡†å±æ€§</code>è®¾ç½®åŸå‹ï¼Œè§£å†³ä¹‹å‰é€šè¿‡ <code>Object.create</code> å®šä¹‰åŸå‹ï¼Œè€Œæ²¡æä¾›è·å–æ–¹æ³•</li>
<li><code>Object.setPrototypeOf</code> è®¾ç½®å¯¹è±¡åŸå‹</li>
</ol>
<p>ä»¥ä¸Šå‡ ç§æ–¹å¼éƒ½å¯ä»¥ç®¡ç†åŸå‹ï¼Œä¸€èˆ¬æˆ‘ä½¿ç”¨ <code>prototype</code> æ›´æ”¹è‡ªå®šä¹‰æ„é€ å‡½æ•°åŸå‹ï¼Œä½¿ç”¨  <code>Object.setPrototypeOf</code>  è®¾ç½®å¯¹è±¡åŸå‹ã€‚</p>
<p>ç”±äº<code>__proto__</code>æ˜¯ä¸€ä¸ªéæ ‡å‡†å±æ€§ï¼Œæ‰€ä»¥ä½¿ç”¨<code>Object.getPrototypeOf</code>ï¼Œè·å–å¯¹è±¡åŸå‹ã€‚</p>
<hr>
<h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><h4 id="ä½¿ç”¨ä¼˜åŒ–"><a href="#ä½¿ç”¨ä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨ä¼˜åŒ–"></a>ä½¿ç”¨ä¼˜åŒ–</h4><p>ä½¿ç”¨æ„é€ å‡½æ•°ä¼šäº§ç”Ÿ <code>å‡½æ•°å¤åˆ¶</code> å³ <code>å‡½æ•°ä¸èƒ½å…±äº«</code> çš„é—®é¢˜é€ æˆå†…å­˜å ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.get = function() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let zs = new User(&quot;å¼ ä¸‰&quot;);</span><br><span class="line">let lisi = new User(&quot;æå››&quot;);</span><br><span class="line">console.log(zs.get == lisi.get); //false</span><br></pre></td></tr></table></figure>

<p>å°†æ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šè®©å¯¹è±¡å…±äº«ï¼Œè§£å†³é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æ—¶å‡½æ•°å¤åˆ¶çš„å†…å­˜å ç”¨é—®é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.get = function() &#123;</span><br><span class="line">  return &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot; + this.name;</span><br><span class="line">&#125;;</span><br><span class="line">let lisi = new User(&quot;æå››&quot;);</span><br><span class="line"></span><br><span class="line">let wangwu = new User(&quot;ç‹äº”&quot;);</span><br><span class="line">console.log(lisi.get == wangwu.get); //true</span><br><span class="line"></span><br><span class="line">//é€šè¿‡ä¿®æ”¹åŸå‹æ–¹æ³•ä¼šå½±å“æ‰€æœ‰å¯¹è±¡è°ƒç”¨ï¼Œå› ä¸ºæ–¹æ³•æ˜¯å…±ç”¨çš„</span><br><span class="line">lisi.__proto__.get = function() &#123;</span><br><span class="line">  return &quot;Ashun&quot; + this.name;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(lisi.get());</span><br><span class="line">console.log(wangwu.get());</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ¼”ç¤ºä½¿ç”¨åŸå‹è®©å¤šä¸ªå®ä¾‹å…±äº«å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">  this.show = () =&gt; &#123;</span><br><span class="line">  	return `ä½ åœ¨$&#123;this.site&#125;çš„å§“å:$&#123;this.name&#125;ï¼Œå¹´é¾„:$&#123;this.age&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.site = &#x27;-é˜¿é¡ºç‰¹çƒ¦æ¼-&#x27;;</span><br><span class="line">let lisi = new User(&#x27;æå››&#x27;, 12); </span><br><span class="line">let xiaoming = new User(&#x27;å°æ˜&#x27;, 32);</span><br><span class="line"></span><br><span class="line">console.log(lisi.show()); //ä½ åœ¨-é˜¿é¡ºç‰¹çƒ¦æ¼-çš„å§“å:æå››ï¼Œå¹´é¾„:12</span><br><span class="line">console.log(xiaoming.show()); //ä½ åœ¨-é˜¿é¡ºç‰¹çƒ¦æ¼-çš„å§“å:å°æ˜ï¼Œå¹´é¾„:32</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Object.assign</code>ä¸€æ¬¡è®¾ç½®åŸå‹æ–¹æ³•æ¥å¤ç”¨ï¼Œåé¢ä¼šä½¿ç”¨è¿™ä¸ªåŠŸèƒ½å®ç°<code>Mixinæ¨¡å¼</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">Object.assign(User.prototype, &#123;</span><br><span class="line">  getName() &#123;</span><br><span class="line">      return this.name;</span><br><span class="line">  &#125;,</span><br><span class="line">  getAge() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">let lisi = new User(&#x27;æå››&#x27;, 12);</span><br><span class="line">let xiaoming = new User(&#x27;å°æ˜&#x27;, 32);</span><br><span class="line">console.log(lisi.getName()); //æå››</span><br><span class="line">console.log(lisi.__proto__)</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="ç»§æ‰¿ä¸å¤šæ€"><a href="#ç»§æ‰¿ä¸å¤šæ€" class="headerlink" title="ç»§æ‰¿ä¸å¤šæ€"></a>ç»§æ‰¿ä¸å¤šæ€</h3><p>å½“å¯¹è±¡è‡ªèº«ä¸å­˜åœ¨å°†è¦ä½¿ç”¨çš„å±æ€§æ—¶ï¼ŒJSä¼šä»åŸå‹ä¸Šè·å–è¿™å°±æ˜¯ç»§æ‰¿åœ¨JavaScriptä¸­çš„å®ç°ã€‚</p>
<h4 id="ç»§æ‰¿å®ç°"><a href="#ç»§æ‰¿å®ç°" class="headerlink" title="ç»§æ‰¿å®ç°"></a>ç»§æ‰¿å®ç°</h4><p>ä¸‹é¢ä½¿ç”¨<code>Object.create</code> åˆ›å»ºå¯¹è±¡å¹¶æŒ‡å®šåŸå‹ï¼Œåšä¸º<code>Adminã€Member</code>çš„åŸå‹å¯¹è±¡æ¥å®ç°ç»§æ‰¿ã€‚</p>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_6.png" alt="prototype_6" style="zoom:80%;" />

<p>ä½¿ç”¨<code>Object.create</code> åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè™½ç„¶æ²¡æœ‰èµ‹äºˆä»»ä½•å±æ€§ï¼Œä½†æ˜¯ä¸ºè¿™ä¸ªç©ºå¯¹è±¡æŒ‡å®šäº†åŸå‹ï¼Œæ‰€ä»¥èƒ½å¤Ÿå®ç°åŸå‹çš„ç»§æ‰¿ã€‚</p>
<ul>
<li>ä½†æ˜¯ä¼šå¯¼è‡´<code>constructor</code>ä¸¢å¤±</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype.getUserName = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line">Admin.prototype.role = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">function Member() &#123;&#125;</span><br><span class="line">Member.prototype = Object.create(User.prototype);</span><br><span class="line">Member.prototype.email = function() &#123;&#125;;</span><br><span class="line">console.log(new Admin());</span><br><span class="line">console.log(new Member());</span><br></pre></td></tr></table></figure>

<p>ä¸èƒ½ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ“ä½œï¼ˆç›´æ¥èµ‹å€¼ï¼‰ï¼Œå› ä¸ºè¿™æ ·ä¼šæ”¹å˜Userçš„åŸå‹æ–¹æ³•ï¼Œè¿™ä¸æ˜¯ç»§æ‰¿ï¼Œè¿™æ˜¯æ”¹å˜åŸå‹ã€‚ç›¸å½“äºAdminçš„åŸå‹å®Œå…¨å¼•ç”¨äº†Userçš„åŸå‹å¯¹è±¡ï¼ŒäºŒè€…æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">function User() &#123;&#125;</span><br><span class="line">User.prototype.getUserName = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line">Admin.prototype = User.prototype;</span><br><span class="line">Admin.prototype.role = function() &#123;&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ„é€ å‡½æ•°-1"><a href="#æ„é€ å‡½æ•°-1" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>æœ‰å¤šç§æ–¹å¼é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</p>
<ul>
<li>ç›´æ¥newæ„é€ å‡½æ•°</li>
<li>é€šè¿‡åŸå‹æ‰¾åˆ°<code>constructor</code>,ç„¶åå†newå®ä¾‹åŒ–</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Admin() &#123;&#125;</span><br><span class="line">console.log(Admin == Admin.prototype.constructor); //true</span><br><span class="line"></span><br><span class="line">let as = new Admin.prototype.constructor();</span><br><span class="line">console.log(as);</span><br><span class="line"></span><br><span class="line">let shun = new Admin();</span><br><span class="line">console.log(shun);</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæœ‰æ—¶æ ¹æ®å¾—åˆ°çš„å¯¹è±¡è·å–æ„é€ å‡½æ•°ï¼Œç„¶åå†åˆ›å»ºæ–°å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦ä¿è¯æ„é€ å‡½æ•°å­˜åœ¨ï¼Œä½†å¦‚æœç›´æ¥è®¾ç½® <code>Admin.prototype</code> ï¼Œå´æ²¡æœ‰ä¸ºå…¶ä¿ç•™<code>constructor</code>å±æ€§ï¼Œä¼šé€ æˆé»˜è®¤çš„<code>constructor</code>ä¸¢å¤±ï¼Œæ‰€ä»¥éœ€è¦å†æ¬¡è®¾ç½®<code>constructor</code>å€¼ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line"></span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line">Admin.prototype.role = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">let as = new Admin();</span><br><span class="line">console.log(as.constructor); //constructorä¸¢å¤±ï¼Œè¿”å›Useræ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">Admin.prototype.constructor = Admin;</span><br><span class="line"></span><br><span class="line">let shun = new Admin();</span><br><span class="line">console.log(shun.constructor); //æ­£ç¡®è¿”å›Adminæ„é€ å‡½æ•°</span><br><span class="line"></span><br><span class="line">//ç°åœ¨å¯ä»¥é€šè¿‡å¯¹è±¡è·å–æ„é€ å‡½æ•°æ¥åˆ›å»ºæ–°å¯¹è±¡äº†</span><br><span class="line">console.log(new shun.constructor());</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Object.defineProperty</code>è®¾ç½®å±æ€§ç‰¹å¾æè¿°ï¼Œæ¥ç¦æ­¢éå†constructorå±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">function Admin(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line"></span><br><span class="line">Object.defineProperty(Admin.prototype, &quot;constructor&quot;, &#123;</span><br><span class="line">  value: Admin,</span><br><span class="line">  enumerable: false //ç¦æ­¢éå†</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">for (const key in as) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®Œå…¨é‡å†™æ„å»ºå‡½æ•°åŸå‹ï¼Œåªå¯¹åé¢åˆ›å»ºçš„å®ä¾‹å¯¹è±¡æœ‰æ•ˆ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">const lisi = new User();</span><br><span class="line">User.prototype = &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    return &quot;prototype show&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">const wangwu = new User();</span><br><span class="line">console.log(wangwu.show());</span><br><span class="line"></span><br><span class="line">console.log(lisi.show()); // lisi.show is not a function</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ–¹æ³•é‡å†™"><a href="#æ–¹æ³•é‡å†™" class="headerlink" title="æ–¹æ³•é‡å†™"></a>æ–¹æ³•é‡å†™</h4><p>ä¸‹è€Œå±•ç¤ºçš„æ˜¯å­ç±»éœ€è¦é‡å†™çˆ¶ç±»æ–¹æ³•çš„æŠ€å·§ã€‚</p>
<ul>
<li>åœ¨å­ç±»æ„é€ å‡½æ•°çš„åŸå‹ä¸Šå‹å…¥ ä¸ çˆ¶ç±»æ„é€ å‡½æ•°åŸå‹ä¸Šçš„ åŒåæ–¹æ³•</li>
<li>å½“å¯¹è±¡æœ¬èº«æ²¡æœ‰ä½¿ç”¨çš„æ–¹æ³•æ—¶ï¼Œä¼š<code>é€çº§</code>å‘åŸå‹é“¾ä¸Šå±‚æŸ¥æ‰¾ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Person() &#123;&#125;</span><br><span class="line">Person.prototype.getName = function() &#123;</span><br><span class="line">  console.log(&quot;parent method&quot;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function User(name) &#123;&#125;</span><br><span class="line">User.prototype = Object.create(Person.prototype);</span><br><span class="line">User.prototype.constructor = User;</span><br><span class="line"></span><br><span class="line">User.prototype.getName = function() &#123;</span><br><span class="line">  //è°ƒç”¨çˆ¶çº§åŒåæ–¹æ³•</span><br><span class="line">  Person.prototype.getName.call(this);</span><br><span class="line">  console.log(&quot;child method&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">let as = new User();</span><br><span class="line">as.getName();</span><br><span class="line">console.log(Object.getPrototypeOf(as).getName ==</span><br><span class="line">Object.getPrototypeOf(Object.getPrototypeOf(as)).getName); //false</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h4><p>å¤šæ€ï¼šæ ¹æ®å¤šç§ä¸åŒçš„å½¢æ€äº§ç”Ÿä¸åŒçš„ç»“æœã€‚</p>
<p>ä¸‹è€Œä¼šæ ¹æ®ä¸åŒç±»å‹çš„å¯¹è±¡å¾—åˆ°ä¸åŒçš„ç»“æœã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Person() &#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.show = function () &#123;</span><br><span class="line">     	console.log(this.desc);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">   function Admin() &#123;&#125;</span><br><span class="line">   Admin.prototype = Object.create(Person.prototype);</span><br><span class="line">   Admin.prototype.desc = &quot;ç®¡ç†å‘˜çš„è”‘è§†&quot;;</span><br><span class="line"></span><br><span class="line">   function Member() &#123;&#125;</span><br><span class="line">   Member.prototype = Object.create(Person.prototype);</span><br><span class="line">   Member.prototype.desc = &quot;æˆ‘æ˜¯Vip&quot;;</span><br><span class="line"></span><br><span class="line">   function Enterprise() &#123;&#125;</span><br><span class="line">   Enterprise.prototype = Object.create(Person.prototype);</span><br><span class="line">   Enterprise.prototype.desc = &quot;ä¼ä¸šè´¦æˆ·&quot;;</span><br><span class="line"></span><br><span class="line">   let users = [new Admin(), new Member(), new Enterprise()];</span><br><span class="line">   for (const user of Object.values(users)) user.show();</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="æ·±æŒ–ç»§æ‰¿"><a href="#æ·±æŒ–ç»§æ‰¿" class="headerlink" title="æ·±æŒ–ç»§æ‰¿"></a>æ·±æŒ–ç»§æ‰¿</h3><p>ç»§æ‰¿æ˜¯ä¸ºäº†å¤ç”¨ä»£ç ï¼Œç»§æ‰¿çš„æœ¬è´¨æ˜¯å°†åŸå‹æŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h4 id="æ„é€ å‡½æ•°-2"><a href="#æ„é€ å‡½æ•°-2" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>æˆ‘ä»¬å¸Œæœ›<code>è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°å®Œæˆå¯¹è±¡å±æ€§çš„åˆå§‹åŒ–</code>ï¼Œä½†åƒä¸‹é¢è¿™æ ·ä½¿ç”¨æ˜¯ä¸ä¼šæˆåŠŸçš„ã€‚å› ä¸ºæ­¤æ—¶ <code>this</code> æŒ‡å‘äº†windowï¼Œæ— æ³•ä¸ºå½“å‰å¯¹è±¡å£°æ˜å±æ€§ã€‚</p>
<ul>
<li>ä¸‹ä¾‹é€šè¿‡Adminæ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å¸Œæœ›åœ¨Adminä¸­ ä½¿ç”¨çˆ¶çº§æ„é€ å‡½æ•°Useræ¥åˆå§‹åŒ–å®ä¾‹çš„å±æ€§ã€‚</li>
<li>ä½†æ˜¯å¦‚æœç›´æ¥è°ƒç”¨Userå‡½æ•°ï¼Œç”±äºç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°thisæŒ‡å‘windowï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿä¸ºAdminå®ä¾‹èµ‹äºˆå±æ€§</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  console.log(this);// Window</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.getUserName = function() &#123;</span><br><span class="line">  return this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Admin(name) &#123;</span><br><span class="line">  User(name);</span><br><span class="line">&#125;</span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line"></span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.getUserName()); //undefined</span><br><span class="line">console.log(window.name); //é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>è§£å†³ä¸Šé¢çš„é—®é¢˜æ˜¯ä½¿ç”¨ <code>call/apply</code> æ”¹å˜Userå‡½æ•°çš„thisæŒ‡å‘ï¼Œä¸ºæ¯ä¸ªç”Ÿæˆçš„å¯¹è±¡è®¾ç½®å±æ€§ã€‚</p>
<ul>
<li>å› ä¸ºè¿™é‡Œåªæ˜¯ç®€å•çš„è°ƒç”¨Useræ„é€ å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦æ”¹å˜thisæŒ‡å‘ï¼Œä¸ç„¶thisæŒ‡å‘windowã€‚æ„é€ å‡½æ•°å®ä¾‹åŒ–ä¸ºå¯¹è±¡æ—¶ï¼Œå†…éƒ¨çš„thisæ‰ä¼šåˆ†é…åˆ°å®ä¾‹ä¸Šã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  console.log(this); // Admin</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.getUserName = function() &#123;</span><br><span class="line">  return this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Admin(name) &#123;</span><br><span class="line">  User.call(this, name);</span><br><span class="line">&#125;</span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line"></span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.getUserName()); //undefined</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹å·¥å‚"><a href="#åŸå‹å·¥å‚" class="headerlink" title="åŸå‹å·¥å‚"></a>åŸå‹å·¥å‚</h4><p>åŸå‹å·¥å‚æ˜¯å°†ç»§æ‰¿çš„è¿‡ç¨‹å°è£…ï¼Œä½¿ç”¨ç»§æ‰¿ä¸šåŠ¡ç®€å•åŒ–ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function extend(sub, sup) &#123;</span><br><span class="line">  sub.prototype = Object.create(sup.prototype);</span><br><span class="line">  sub.prototype.constructor = sub;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Access() &#123;&#125;</span><br><span class="line">function User() &#123;&#125;</span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line">function Member() &#123;&#125;</span><br><span class="line"></span><br><span class="line">extend(User, Access); </span><br><span class="line">extend(Admin, User); </span><br><span class="line">extend(Member, Access); </span><br><span class="line"></span><br><span class="line">Access.prototype.rules = function() &#123;&#125;;</span><br><span class="line">User.prototype.getName = function() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">console.log(new Admin()); // ç»§æ‰¿å…³ç³»: Admin&gt;User&gt;Access&gt;Object</span><br><span class="line">console.log(new Member()); //ç»§æ‰¿å…³ç³»ï¼šMember&gt;Access&gt;Object</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¯¹è±¡å·¥å‚"><a href="#å¯¹è±¡å·¥å‚" class="headerlink" title="å¯¹è±¡å·¥å‚"></a>å¯¹è±¡å·¥å‚</h4><p>å…¶å®å°±æ˜¯åœ¨<code>å·¥å‚å‡½æ•°</code>çš„åŸºç¡€ä¸Šï¼Œå®ŒæˆåŸå‹çš„ç»§æ‰¿ã€å¯¹è±¡å±æ€§çš„åˆå§‹åŒ–ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.show = function() &#123;</span><br><span class="line">  console.log(this.name, this.age);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Admin(name, age) &#123;</span><br><span class="line">  let instance = Object.create(User.prototype);</span><br><span class="line">  User.call(instance, name, age);</span><br><span class="line">  instance.role=function()&#123;</span><br><span class="line">    console.log(&#x27;admin.role&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">  return instance;</span><br><span class="line">&#125;</span><br><span class="line">let as = Admin(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">as.show();</span><br><span class="line"></span><br><span class="line">function member(name, age) &#123;</span><br><span class="line">  let instance = Object.create(User.prototype);</span><br><span class="line">  User.call(instance, name, age);</span><br><span class="line">  return instance;</span><br><span class="line">&#125;</span><br><span class="line">let lisi = member(&quot;æå››&quot;, 28);</span><br><span class="line">lisi.show();</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="Mixinæ¨¡å¼"><a href="#Mixinæ¨¡å¼" class="headerlink" title="Mixinæ¨¡å¼"></a>Mixinæ¨¡å¼</h4><p><code>JS</code>ä¸èƒ½å®ç°å¤šç»§æ‰¿ï¼Œå› ä¸ºæ¯ä¸ªç±»çš„åŸå‹<code>prototype</code>åªèƒ½è®¾ç½®ä¸€æ¬¡ï¼Œå¤šæ¬¡è®¾ç½®ä¼šè¦†ç›–ä¹‹å‰çš„é…ç½®ï¼Œæ¯ä¸ªç±»åªèƒ½å¤Ÿç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»åŸå‹ã€‚å¦‚æœè¦ä½¿ç”¨å¤šä¸ªç±»çš„æ–¹æ³•æ—¶å¯ä»¥ä½¿ç”¨<code>mixin</code>æ··åˆæ¨¡å¼æ¥å®Œæˆã€‚</p>
<ul>
<li><code>mixin</code> ç±»æ˜¯ä¸€ä¸ªåŒ…å«è®¸å¤šä¾›å…¶å®ƒç±»ä½¿ç”¨çš„æ–¹æ³•çš„ç±»</li>
<li><code>mixin</code> ç±»<code>ä¸ç”¨æ¥</code>ç»§æ‰¿åšä¸ºå…¶å®ƒç±»çš„çˆ¶ç±»,åªæ˜¯å°†å…¶ä¸­çš„æ–¹æ³•åˆå¹¶åˆ°ç›®æ ‡åŸå‹ä¸Šã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ä¸­ <code>Admin</code>éœ€è¦ä½¿ç”¨ <code>Request.prototype</code> ä¸ <code>Credit.prototype</code> çš„åŠŸèƒ½ï¼Œå› ä¸º<code>JS</code> æ˜¯å•ç»§æ‰¿ï¼Œ<code>Admin</code>ä¸èƒ½å¤ŸåŒæ—¶ç»§æ‰¿<code>Request.prototype</code> ä¸ <code>Credit.prototype</code> ã€‚æˆ‘ä»¬ä¸å¾—ä¸å°†æ— å…³çš„ç±»è¿æ¥åœ¨ä¸€èµ·ï¼Œæ˜¾ç„¶ä¸‹é¢çš„ä»£ç å®ç°å¹¶ä¸ä½³ã€‚</p>
<ul>
<li>User-&gt;Request-&gt;Credit</li>
<li>Adminè¦åŒæ—¶ä½¿ç”¨Requestå’ŒCreditä¸­çš„æ–¹æ³•ï¼Œåˆ™å°±éœ€è¦ä¸€ä¸ªä¸­é—´ç±»(User)ï¼Œå°†äºŒè€…è¿æ¥èµ·æ¥ï¼Œå†ç»§æ‰¿Userçš„åŸå‹</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function extend(sub, sup) &#123;</span><br><span class="line">  sub.prototype = Object.create(sup.prototype);</span><br><span class="line">  sub.prototype.constructor = sub;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Credit() &#123;&#125;</span><br><span class="line">function Request() &#123;&#125;</span><br><span class="line"></span><br><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">extend(Request, Credit);</span><br><span class="line">extend(User, Request);</span><br><span class="line"></span><br><span class="line">Request.prototype.ajax = function() &#123;</span><br><span class="line">  console.log(&quot;è¯·æ±‚åå°&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">Credit.prototype.total = function() &#123;</span><br><span class="line">  console.log(&quot;ç»Ÿè®¡ç§¯åˆ†&quot;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">User.prototype.show = function() &#123;</span><br><span class="line">  console.log(this.name, this.age);</span><br><span class="line">&#125;;</span><br><span class="line">function Admin(...args) &#123;</span><br><span class="line">  User.apply(this, args);</span><br><span class="line">&#125;</span><br><span class="line">extend(Admin, User);</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">as.show();</span><br><span class="line">as.total(); //ç»Ÿè®¡ç§¯åˆ†</span><br><span class="line">as.ajax(); //è¯·æ±‚åå°</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢åˆ†æ‹†åŠŸèƒ½ä½¿ç”¨<code>Object.assign</code>å®ç°Mixinå¤šç»§æ‰¿ï¼Œä½¿ç”¨ä»£ç ç»“æ„æ›´æ¸…æ™°ã€‚åªè®© <code>Admin</code> ç»§æ‰¿ <code>User</code> åŸå‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function extend(sub, sup) &#123;</span><br><span class="line">  sub.prototype = Object.create(sup.prototype);</span><br><span class="line">  sub.prototype.constructor = sub;</span><br><span class="line">&#125;</span><br><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.show = function() &#123;</span><br><span class="line">  console.log(this.name, this.age);</span><br><span class="line">&#125;;</span><br><span class="line">const Credit = &#123;</span><br><span class="line">  total() &#123;</span><br><span class="line">    console.log(&quot;ç»Ÿè®¡ç§¯åˆ†&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">const Request = &#123;</span><br><span class="line">  ajax() &#123;</span><br><span class="line">    console.log(&quot;è¯·æ±‚åå°&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Admin(...args) &#123;</span><br><span class="line">  User.apply(this, args);</span><br><span class="line">&#125;</span><br><span class="line">extend(Admin, User);</span><br><span class="line">Object.assign(Admin.prototype, Request, Credit);</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">as.show();</span><br><span class="line">as.total(); //ç»Ÿè®¡ç§¯åˆ†</span><br><span class="line">as.ajax(); //è¯·æ±‚åå°</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸Šé¢ä½¿ç”¨<code>Object.assign</code>å®ç°å¤šç»§æ‰¿ï¼Œå…·æœ‰å±€é™æ€§ï¼Œå› ä¸ºæ­¤æ—¶ï¼Œéœ€è¦ç»§æ‰¿çš„æ–¹æ³•å¿…é¡»éƒ½å°è£…åœ¨å¯¹è±¡ä¸­ï¼Œæ­¤æ—¶å°±éœ€è¦æŠŠ<code>Creditã€Request</code>ä»æ„é€ å‡½æ•°å½¢å¼ï¼Œè½¬åŒ–æˆå¯¹è±¡å½¢å¼ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>for/inã€for/of</code>æµ…æ‹·è´ç›®æ ‡åŸå‹ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œå®ç°å¤šç»§æ‰¿ï¼Œä¸‹ä¾‹å°±ä¸éœ€è¦ä¸­é—´ç±»Useräº†ï¼Œç›´æ¥ç»§æ‰¿<code>Credit</code>,å†Copy<code>Request.prototype</code>ä¸­çš„å±æ€§å³å¯ã€‚</p>
<p><strong>Tips</strong></p>
<ul>
<li><p>åœ¨éå†èµ‹å€¼ä¹‹å‰ï¼Œä½¿ç”¨<code>Object.create()</code>è®¾ç½®äº†å­ç±»çš„çˆ¶çº§åŸå‹ï¼Œä¹Ÿå¯¼è‡´å­ç±»æœ¬èº«çš„prototypeä¸º<code>&#123;&#125;</code></p>
</li>
<li><p>ä¹‹åéå†èµ‹å€¼æ“ä½œï¼Œè®¾ç½®äº†å­ç±»çš„constructorä¸ºçˆ¶ç±»çš„constructorï¼Œä¸ç¬¦åˆé€»è¾‘ï¼Œæ‰€ä»¥æˆ‘å†æ¬¡é…ç½®äº†å­ç±»çš„constructor</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function assignPrototype(sub, sup) &#123;</span><br><span class="line">     for (let [key, value] of Object.entries(sup.prototype)) &#123;</span><br><span class="line">       sub.prototype[key] &#x3D; value;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   function Credit() &#123;&#125;</span><br><span class="line">   function Request() &#123;&#125;</span><br><span class="line"></span><br><span class="line">   Credit.prototype.total &#x3D; function () &#123;</span><br><span class="line">     console.log(&quot;ç»Ÿè®¡ç§¯åˆ†&quot;);</span><br><span class="line">   &#125;;</span><br><span class="line">   Credit.prototype.getName &#x3D; function () &#123;</span><br><span class="line">     console.log(this.name);</span><br><span class="line">   &#125;;</span><br><span class="line">   Request.prototype.ajax &#x3D; function () &#123;</span><br><span class="line">     console.log(&quot;è¯·æ±‚åå°&quot;);</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br><span class="line">   function Admin(name) &#123;</span><br><span class="line">     this.name &#x3D; name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   Admin.prototype &#x3D; Object.create(Credit.prototype);</span><br><span class="line">   assignPrototype(Admin, Request);</span><br><span class="line">   Admin.prototype.constructor &#x3D; Admin;	&#x2F;&#x2F;é‡æ–°è®¾ç½®constructor</span><br><span class="line"></span><br><span class="line">   let as &#x3D; new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">   as.total();</span><br><span class="line">   as.getName();</span><br><span class="line">   as.ajax();</span><br><span class="line">   console.log(Admin.prototype);</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>Object.assign(sub.prototype,sup.prototype)</code>å°†äºŒè€…çš„åŸå‹è¿›è¡Œåˆå¹¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      Admin.prototype &#x3D; Object.create(Credit.prototype);</span><br><span class="line">      Object.assign(Admin.prototype, Request.prototype);</span><br><span class="line">      Admin.prototype.constructor &#x3D; Admin;	&#x2F;&#x2F;é‡æ–°è®¾ç½®constructor</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬åªæ˜¯å•çº¯çš„ä½¿ç”¨æŸäº›ç±»çš„æ–¹æ³•ï¼Œè€Œä¸åœ¨æ„çˆ¶å­å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨<code>Object.assign</code>åˆå¹¶å¤šä¸ªåŸå‹å³å¯ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰è®©è¿™äº›åŸå‹é“¾æ¥èµ·æ¥ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿä½¿ç”¨instanceofè¿›è¡Œåˆ¤æ–­ã€‚</p>
<ul>
<li>è‹¥æ²¡æœ‰ä½¿ç”¨<code>Object.create</code>è®¾ç½®å­ç±»çš„åŸå‹ï¼Œåˆ™ä¹‹åä½¿ç”¨<code>Object.assign</code>åˆå¹¶åŸå‹æ—¶ï¼Œä¸ä¼šè¦†ç›–å­ç±»çš„<code>prototype.constructor</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">      Object.assign(Admin.prototype, Credit.prototype, Request.prototype);</span><br><span class="line"></span><br><span class="line">      let as &#x3D; new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">      as.total();</span><br><span class="line">      as.getName();</span><br><span class="line">      as.ajax();</span><br><span class="line">      console.log(as instanceof Admin); &#x2F;&#x2F;true</span><br><span class="line">      console.log(as instanceof Credit); &#x2F;&#x2F;false</span><br><span class="line">      console.log(as instanceof Request); &#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>



<p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>Class</code>ç»“åˆ<code>super</code>å…³é”®å­—ï¼Œå®ç°å¤šç»§æ‰¿</p>
<ul>
<li>superå…³é”®å­—å¿…é¡»å†™åœ¨constructorçš„é¡¶éƒ¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let CalculaterMixin &#x3D; (Base) &#x3D;&gt;</span><br><span class="line">    class extends Base &#123;</span><br><span class="line">      constructor(...argus) &#123;</span><br><span class="line">        super(...argus);</span><br><span class="line">        this.argus &#x3D; argus;</span><br><span class="line">      &#125;</span><br><span class="line">      cacul() &#123;</span><br><span class="line">        console.log(&#96;Calculater Method:$&#123;this.argus&#125;&#96;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  let RandomMixin &#x3D; (Base) &#x3D;&gt;</span><br><span class="line">    class extends Base &#123;</span><br><span class="line">      constructor(...argus) &#123;</span><br><span class="line">        super(...argus);</span><br><span class="line">        this.argus &#x3D; argus;</span><br><span class="line">      &#125;</span><br><span class="line">      random() &#123;</span><br><span class="line">        console.log(&#96;Random Method:$&#123;this.argus&#125;&#96;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  class Foo &#123;</span><br><span class="line">    constructor(...argus) &#123;</span><br><span class="line">      this.argus &#x3D; argus;</span><br><span class="line">      console.log(...argus);</span><br><span class="line">    &#125;</span><br><span class="line">    foo() &#123;</span><br><span class="line">      console.log(&#96;Foo Method:$&#123;this.argus&#125;&#96;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  class End extends CalculaterMixin(RandomMixin(Foo)) &#123;&#125;</span><br><span class="line">  let end &#x3D; new End(&quot;ashun&quot;, &quot;SHUN&quot;);</span><br><span class="line">  end.foo();</span><br><span class="line">  end.random();</span><br><span class="line">  end.cacul();</span><br><span class="line">  console.log(end instanceof End);</span><br><span class="line">  console.log(end instanceof Foo);</span><br><span class="line">  console.log(end instanceof CalculaterMixin); &#x2F;&#x2F;Err</span><br><span class="line">  console.log(end instanceof RandomMixin); &#x2F;&#x2F;Err</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ç§æ–¹æ³•åˆ©ç”¨äº†ES6ä¸­classçš„extends<code>åé¢å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼</code>ç‰¹æ€§ï¼Œé—´æ¥å®ç°å¤šç»§æ‰¿ï¼Œè¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºç‚¹æ˜¯CalculatorMixinç­‰Mixinå…¶å®æ˜¯ä¸ªç®­å¤´å‡½æ•°ï¼Œæ— æ³•ç”¨instanceofæ£€æµ‹ï¼Œå› ä¸º<code>ç®­å¤´å‡½æ•°æ²¡æœ‰æ˜¾ç¤ºåŸå‹</code>ã€‚</p>
<p>ä¸‹é¢çœ‹çœ‹å¦‚ä½•ä¿®æ­£åŸå‹é“¾ï¼š</p>
<ul>
<li>æ‰‹åŠ¨è®¾ç½®Mixinçš„åŸå‹</li>
<li>è®©Mixinä¹‹é—´äº§ç”Ÿç»§æ‰¿å…³ç³»</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">&#x2F;&#x2F;éœ€è¦ç»§æ‰¿è‡ªObjectï¼Œè¿™é‡Œå¦‚æœå†™nullçš„è¯ï¼ŒCalculaterMixin instanceof Objectä¼šæ˜¯false</span><br><span class="line">CalculaterMixin.prototype &#x3D; Object.create(&#123;&#125;);</span><br><span class="line">RandomMixin.prototype &#x3D; Object.create(null);</span><br><span class="line"></span><br><span class="line">Object.setPrototypeOf(RandomMixin.prototype, CalculaterMixin.prototype);</span><br><span class="line">Object.setPrototypeOf(Foo.prototype, RandomMixin.prototype);</span><br><span class="line">      console.log(end instanceof End);</span><br><span class="line">      console.log(end instanceof Foo);</span><br><span class="line">      console.log(end instanceof CalculaterMixin); &#x2F;&#x2F;true</span><br><span class="line">      console.log(end instanceof RandomMixin); &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="super"><a href="#super" class="headerlink" title="super"></a>super</h5><p><code>mixin</code> ç±»ä¹Ÿå¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œæ¯”å¦‚ä¸‹é¢çš„ <code>Create</code> ç±»è·å–ç§¯åˆ†è¦è¯·æ±‚åå°ï¼Œå°±éœ€è¦ç»§æ‰¿ <code>Request</code> æ¥å®Œæˆã€‚</p>
<ul>
<li>æ‰‹åŠ¨é…ç½®<code>Create</code>çš„<code>__proto__</code>å±æ€§</li>
</ul>
<ul>
<li><code>super</code> å…³é”®å­—æŒ‡å‘æœ¬å¯¹è±¡çš„çˆ¶çº§åŸå‹ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function extend(sub, sup) &#123;</span><br><span class="line">  sub.prototype = Object.create(sup.prototype);</span><br><span class="line">  sub.prototype.constructor = sub;</span><br><span class="line">&#125;</span><br><span class="line">function User(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">User.prototype.show = function() &#123;</span><br><span class="line">  console.log(this.name, this.age);</span><br><span class="line">&#125;;</span><br><span class="line">const Request = &#123;</span><br><span class="line">  ajax() &#123;</span><br><span class="line">    return &quot;è¯·æ±‚åå°&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">const Credit = &#123;</span><br><span class="line">  __proto__: Request,</span><br><span class="line">  total() &#123;</span><br><span class="line">    console.log(super.ajax() + &quot;,ç»Ÿè®¡ç§¯åˆ†&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Admin(...args) &#123;</span><br><span class="line">  User.apply(this, args);</span><br><span class="line">&#125;</span><br><span class="line">extend(Admin, User);</span><br><span class="line">Object.assign(Admin.prototype, Request, Credit);</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">as.show();</span><br><span class="line">as.total(); //ç»Ÿè®¡ç§¯åˆ†</span><br><span class="line">as.ajax(); //è¯·æ±‚åå°</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å®ä¾‹ä½“éªŒ"><a href="#å®ä¾‹ä½“éªŒ" class="headerlink" title="å®ä¾‹ä½“éªŒ"></a>å®ä¾‹ä½“éªŒ</h4><p>ä½¿ç”¨ç»§æ‰¿åŸå‹çš„æ–¹æ³•ï¼Œç»“åˆ <code>call/apply</code> åˆ¶ä½œé€‰é¡¹å¡ã€‚</p>
<img src="åŸå‹ä¸ç»§æ‰¿.assets/prototype_7.gif" alt="prototype_7" style="zoom:70%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: space-around;</span><br><span class="line">        align-items: center;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        width: 45%;</span><br><span class="line">        height: 300px;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      main &gt; nav &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        min-height: 30px;</span><br><span class="line">        display: flex;</span><br><span class="line">        background-color: #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">      a &#123;</span><br><span class="line">        text-decoration: none;</span><br><span class="line">        flex: 1;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        color: #eee;</span><br><span class="line">      &#125;</span><br><span class="line">      main &gt; article &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        flex: 1;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">        position: relative;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        margin-top: 2px;</span><br><span class="line">      &#125;</span><br><span class="line">      section &#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">        display: none;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        font-size: 24px;</span><br><span class="line">        color: rgba(255, 255, 255, 0.8);</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;main class&#x3D;&quot;tab1&quot;&gt;</span><br><span class="line">      &lt;nav&gt;&lt;a&gt;Ashun&lt;&#x2F;a&gt; &lt;a&gt;é˜¿é¡º&lt;&#x2F;a&gt;&lt;&#x2F;nav&gt;</span><br><span class="line">      &lt;article&gt;</span><br><span class="line">        &lt;section&gt;Ashun&lt;&#x2F;section&gt;</span><br><span class="line">        &lt;section&gt;é˜¿é¡º&lt;&#x2F;section&gt;</span><br><span class="line">      &lt;&#x2F;article&gt;</span><br><span class="line">    &lt;&#x2F;main&gt;</span><br><span class="line">    &lt;main class&#x3D;&quot;tab2&quot;&gt;</span><br><span class="line">      &lt;nav&gt;</span><br><span class="line">        &lt;a&gt;SHUN&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;a&gt;shun&lt;&#x2F;a&gt;</span><br><span class="line">      &lt;&#x2F;nav&gt;</span><br><span class="line">      &lt;article&gt;</span><br><span class="line">        &lt;section&gt;SHUN&lt;&#x2F;section&gt;</span><br><span class="line">        &lt;section&gt;shun&lt;&#x2F;section&gt;</span><br><span class="line">      &lt;&#x2F;article&gt;</span><br><span class="line">    &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      &#x2F;*</span><br><span class="line">        prototype å®ä¾‹æ“ä½œï¼šå®ç°Tabé€‰é¡¹å¡</span><br><span class="line">        è®©Tabç±»åŸå‹ç»§æ‰¿Animationç±»çš„åŸå‹ã€‚</span><br><span class="line">        Animationç±»ä¸­æä¾›å®ç°åŠ¨ç”»çš„æ–¹æ³•ï¼ŒTabç±»ä¸­å®Œæˆdomçš„è¿½è¸ªå’Œäº‹ä»¶çš„ç»‘å®š,</span><br><span class="line">        åœ¨Tabç±»ä¸­ï¼Œç»“åˆcall&#x2F;applayä½¿ç”¨Animationä¸­çš„æ–¹æ³•ã€‚</span><br><span class="line">        Tabç±»ä¸­åªéœ€è¦ä¼ å…¥é€‰é¡¹å¡çš„rootDOMå³å¯ï¼Œå†…éƒ¨ä½¿ç”¨rootDOM.querySelectoræŸ¥æ‰¾å­å…ƒç´ å³å¯ã€‚</span><br><span class="line">      *&#x2F;</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;ç»§æ‰¿å°è£…</span><br><span class="line">      function extend(sub, sup) &#123;</span><br><span class="line">        sub.prototype &#x3D; Object.create(sup.prototype);</span><br><span class="line">        sub.prototype.constructor &#x3D; sub;</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;*Animationç±»*&#x2F;</span><br><span class="line"></span><br><span class="line">      function Animation() &#123;&#125;</span><br><span class="line">      Animation.prototype.show &#x3D; function () &#123;</span><br><span class="line">        this.style.display &#x3D; &quot;flex&quot;;</span><br><span class="line">      &#125;;</span><br><span class="line">      Animation.prototype.hide &#x3D; function () &#123;</span><br><span class="line">        this.style.display &#x3D; &quot;none&quot;;</span><br><span class="line">      &#125;;</span><br><span class="line">      Animation.prototype.background &#x3D; function (color) &#123;</span><br><span class="line">        this.style.backgroundColor &#x3D; color;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      function Tab(tab) &#123;</span><br><span class="line">        this.tab &#x3D; tab;</span><br><span class="line">        this.a &#x3D; tab.querySelectorAll(&quot;a&quot;);</span><br><span class="line">        this.section &#x3D; tab.querySelectorAll(&quot;section&quot;);</span><br><span class="line">        console.log(this.a, this.section);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      extend(Tab, Animation);</span><br><span class="line">      </span><br><span class="line">      Tab.prototype.init &#x3D; function () &#123;</span><br><span class="line">        this.build();</span><br><span class="line">        this.reset();</span><br><span class="line">        this.action(0);</span><br><span class="line">      &#125;;</span><br><span class="line">      Tab.prototype.reset &#x3D; function () &#123;</span><br><span class="line">        this.section.forEach((val) &#x3D;&gt; this.hide.call(val));</span><br><span class="line">        this.a.forEach((val) &#x3D;&gt; this.background.call(val, &quot;#ccc&quot;));</span><br><span class="line">      &#125;;</span><br><span class="line">      Tab.prototype.action &#x3D; function (i) &#123;</span><br><span class="line">        this.show.call(this.section[i]);</span><br><span class="line">        this.background.call(this.a[i], &quot;pink&quot;);</span><br><span class="line">      &#125;;</span><br><span class="line">      Tab.prototype.build &#x3D; function () &#123;</span><br><span class="line">        this.a.forEach((a, index) &#x3D;&gt; &#123;</span><br><span class="line">          a.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">            this.reset();</span><br><span class="line">            this.action(index);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      new Tab(document.querySelector(&quot;.tab1&quot;)).init();</span><br><span class="line">      new Tab(document.querySelector(&quot;.tab2&quot;)).init();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>æ•°ç»„ç±»å‹</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B/</url>
    <content><![CDATA[<h2 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h2><p>æ•°ç»„æ˜¯å¤šä¸ªå˜é‡å€¼çš„é›†åˆï¼Œæ•°ç»„æ˜¯<code>Array</code> å¯¹è±¡çš„å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥åƒå¯¹è±¡ä¸€æ ·è°ƒç”¨æ–¹æ³•ã€‚</p>
<h4 id="å£°æ˜æ•°ç»„"><a href="#å£°æ˜æ•°ç»„" class="headerlink" title="å£°æ˜æ•°ç»„"></a>å£°æ˜æ•°ç»„</h4><h5 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h5><p>ä½¿ç”¨å¯¹è±¡æ–¹å¼åˆ›å»ºæ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(new Array(1, &#x27;é˜¿é¡º&#x27;, &#x27;Ashun&#x27;)); //[1, &quot;é˜¿é¡º&quot;, &quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å­—é¢é‡åˆ›å»ºæ˜¯æ¨èçš„ç®€å•ä½œæ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const array = [&quot;ashun&quot;, &quot;Ashun&quot;];</span><br></pre></td></tr></table></figure>

<p>å¤šç»´æ•°ç»„å®šä¹‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const array = [[&quot;ashun&quot;], [&quot;Ashun&quot;]];					//å­—é¢é‡</span><br><span class="line">const arr = new Array([&quot;ashun&quot;], [&quot;Ashun&quot;]);	//æ„é€ å‡½æ•°</span><br><span class="line">console.log(array[1][0], arr[1][0]);  </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹å¯ä»¥ä½¿ç”¨<code>const</code>å£°æ˜å¹¶ä¿®æ”¹å®ƒçš„å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const array = [&quot;Ashun&quot;, &quot;ashun&quot;];</span><br><span class="line">array.push(&quot;ashuntefannao&quot;);</span><br><span class="line">console.log(array);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åŸå‹çš„ <code>length</code>å±æ€§å¯ä»¥è·å–æ•°ç»„å…ƒç´ æ•°é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as= [&quot;Ashun&quot;, &quot;ashun&quot;];</span><br><span class="line">console.log(as.length); //2</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å¯ä»¥è®¾ç½®ä»»ä½•å€¼ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ç´¢å¼•æ·»åŠ æ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = [&quot;é˜¿é¡º&quot;];</span><br><span class="line">as[1] = &quot;ashun&quot;;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ç›´æ¥è®¾ç½®3å·æ•°ç»„ï¼Œä¼šå°†1ï¼Œ2ç´¢å¼•çš„æ•°ç»„å®šä¹‰ä¸ºç©ºå€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Arr = [&quot;ashun&quot;];</span><br><span class="line">Arr[3] = &quot;Ashun&quot;;</span><br><span class="line">console.log(Arr, Arr[2]); //[&quot;ashun&quot;, empty Ã— 2, &quot;Ashun&quot;] undefined</span><br></pre></td></tr></table></figure>

<p>å£°æ˜å¤šä¸ªç©ºå…ƒç´ çš„æ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = new Array(3);		//ä»…ä¼ å…¥ä¸€ä¸ªå‚æ•°ä¸”ä¸ºNumberï¼Œä¼šåˆ›å»ºå¯¹åº”é•¿åº¦çš„ç©ºArray</span><br><span class="line">console.log(arr.length);</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>



<h5 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h5><p>ä½¿ç”¨<code>Array.of</code> ä¸ <code>new Array</code> ä¸åŒçš„æ˜¯ï¼šä»…ä¼ å…¥ä¸€ä¸ªå‚æ•°ä¸”ä¸ºNumberï¼Œä¸ä¼šåˆ›å»ºç©ºå…ƒç´ çš„Array</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = Array.of(3);</span><br><span class="line">console.log(as); //[3]</span><br><span class="line"></span><br><span class="line">as = Array.of(1, 2, 3);</span><br><span class="line">console.log(as); //[1, 2, 3]</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="ç±»å‹æ£€æµ‹"><a href="#ç±»å‹æ£€æµ‹" class="headerlink" title="ç±»å‹æ£€æµ‹"></a>ç±»å‹æ£€æµ‹</h5><p>æ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°ç»„ç±»å‹</p>
<ul>
<li>å†…ç½®æ–¹æ³•<code>Array.isArray(msg)</code></li>
<li><code>instanceof</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Array.isArray(1));					//false</span><br><span class="line">console.log(Array.isArray([&quot;ashun&quot;]));	//true</span><br><span class="line">console.log([] instanceof Array);				//true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p>â€‹    åœ¨jsä¸­ï¼Œçµæ´»çš„å°†å„ç§æ•°æ®ç±»å‹è½¬æ¢ï¼Œä½¿ç”¨ä¸åŒçš„æ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œèƒ½å¤Ÿå¿«é€Ÿçš„è§£å†³å¾ˆå¤šé—®é¢˜ã€‚</p>
<h5 id="gt-String"><a href="#gt-String" class="headerlink" title="-&gt;String"></a>-&gt;String</h5><p>å¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨<code>.toString()</code> å‡½æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(([1, 2, 3]).toString()); // 1,2,3</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•° <code>String()</code> è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(String([1, 2, 3]));</span><br></pre></td></tr></table></figure>

<p>æˆ–ä½¿ç”¨<code>join()</code>è¿æ¥ä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log([1, 2, 3].join(&quot;-&quot;));//1-2-3</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h5><p>ä½¿ç”¨<code>Array.from</code>å¯å°†<code>ç±»æ•°ç»„</code>è½¬æ¢ä¸ºæ•°ç»„ï¼Œç±»æ•°ç»„æŒ‡åŒ…å« <code>length</code> å±æ€§æˆ–å¯è¿­ä»£çš„å¯¹è±¡ã€‚</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦è½¬æ¢çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºç±»ä¼¼äº<code>map</code> å‡½æ•°çš„å›è°ƒæ–¹æ³•</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &#x27;é˜¿é¡º&#x27;;</span><br><span class="line">console.log(Array.from(str)); //[&quot;é˜¿&quot;, &quot;é¡º&quot;]</span><br></pre></td></tr></table></figure>

<p>ä¸ºå¯¹è±¡è®¾ç½®<code>length</code>å±æ€§åä¹Ÿå¯ä»¥è½¬æ¢ä¸ºæ•°ç»„ï¼Œä½†è¦ä¸‹æ ‡ä¸º<code>æ•°å€¼æˆ–æ•°å€¼å­—ç¬¦ä¸²</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  0: &#x27;é˜¿é¡º&#x27;,</span><br><span class="line">  &#x27;1&#x27;: 18,</span><br><span class="line">  length: 2</span><br><span class="line">&#125;;</span><br><span class="line">console.log(Array.from(user)); //[&quot;é˜¿é¡º&quot;, 18]</span><br></pre></td></tr></table></figure>

<p>DOMå…ƒç´ è½¬æ¢ä¸ºæ•°ç»„åæ¥ä½¿ç”¨æ•°ç»„å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ç±»ä¼¼äº<code>map</code> å‡½æ•°çš„æ–¹æ³•ï¼Œå¯å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li><code>querySelectorAll</code>è¿”å›çš„æ˜¯ä¸€ä¸ª<code>ç±»æ•°ç»„çš„Object</code>,ä½†ä¸æ˜¯æ•°ç»„</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;Ashun&lt;/button&gt;</span><br><span class="line">    &lt;button&gt;Ashuntefannao.com&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    let btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">    </span><br><span class="line">    console.log(btns instanceof Array); //false</span><br><span class="line">    console.log(btns instanceof Object); //true</span><br><span class="line">    </span><br><span class="line">    console.dir(btns); 		/*NodeList&#123;0:button,1:button,length:2&#125;*/</span><br><span class="line">    </span><br><span class="line">    Array.from(btns, (val) =&gt; &#123;</span><br><span class="line">      val.style.backgroundColor = &quot;red&quot;;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="å±•å¼€è¯­æ³•"><a href="#å±•å¼€è¯­æ³•" class="headerlink" title="å±•å¼€è¯­æ³•"></a>å±•å¼€è¯­æ³•</h5><p>ä½¿ç”¨<code>...</code>å±•å¼€è¯­æ³•å°† <code>NodeList</code> è½¬æ¢ä¸ºæ•°ç»„æ“ä½œã€‚</p>
<ul>
<li><code>forEach</code>å¯ä»¥ç›´æ¥æ“ä½œDomï¼Œä½†æ˜¯<code>map</code>æ–¹æ³•åªèƒ½è¢«Arrayè°ƒç”¨</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .active &#123;</span><br><span class="line">        background-color: pink;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;button&gt;Ashun&lt;/button&gt;</span><br><span class="line">   &lt;button&gt;Ashuntefannao.com&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">  [...btns].map((v) =&gt; &#123;</span><br><span class="line">        v.addEventListener(&quot;click&quot;, (e) =&gt;</span><br><span class="line">          console.log(e.target.classList.toggle(&quot;active&quot;))</span><br><span class="line">        );</span><br><span class="line">   &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å±•å¼€è¯­æ³•-1"><a href="#å±•å¼€è¯­æ³•-1" class="headerlink" title="å±•å¼€è¯­æ³•"></a>å±•å¼€è¯­æ³•</h4><p><code>...</code>å³å±•å¼€è¯­æ³•ï¼ŒåŠŸèƒ½æœ‰ä¸¤ä¸ªï¼Œä»‹ç»å¦‚ä¸‹:</p>
<ul>
<li>å°†Arrayæ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ•°æ®å…ƒ    ï¼ˆä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨æ—¶ï¼‰</li>
<li>å°†å¤šä¸ªç‹¬ç«‹æ•°æ®å…ƒåˆå¹¶ä¸ºArray    ï¼ˆåœ¨å½¢å‚ã€å®å‚ä¸­ä½¿ç”¨æ—¶ï¼‰</li>
</ul>
<h5 id="æ‹†åˆ†"><a href="#æ‹†åˆ†" class="headerlink" title="æ‹†åˆ†"></a>æ‹†åˆ†</h5><p>åˆ©ç”¨æ‹†åˆ†åŠŸèƒ½ï¼Œåˆå¹¶æ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [&quot;ashun&quot;, &quot;Ashun&quot;];</span><br><span class="line">let arr1 &#x3D; [1, 2, ...arr];</span><br><span class="line">console.log(arr1);</span><br><span class="line">&#x2F;&#x2F;[1, 2, &quot;ashun&quot;, &quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>

<p>å°†Arrayæ‹†åˆ†ï¼Œä¼ å…¥Math.max</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let nums &#x3D; [1, 2, 3];</span><br><span class="line">console.log(Math.max(...nums));&#x2F;&#x2F;3</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h5><p>å‡½æ•°æ¥æ”¶å¤šä¸ªå‚æ•°è½¬ä¸ºArray</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test(...argu) &#123;</span><br><span class="line">	console.log(argu);</span><br><span class="line">&#125;</span><br><span class="line">test(&quot;ashun&quot;, &quot;Ashun&quot;);&#x2F;&#x2F;[&quot;ashun&quot;, &quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test(a, ...argu) &#123;</span><br><span class="line">	console.log(a);							&#x2F;&#x2F;ashun</span><br><span class="line">	console.log(argu);					&#x2F;&#x2F;[1, &quot;site:Ashuntefannao.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">test(&quot;ashun&quot;, 1, &quot;site:Ashuntefannao.com&quot;);</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å®å‚ï¼Œåˆå¹¶æ¥æ”¶å¤šä¸ªæ•°ç»„å…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let [name, ...argus] &#x3D; [&quot;AHSUN&quot;, &quot;CSS3&quot;, &quot;ES6&quot;, &quot;Node&quot;];</span><br><span class="line">console.log(argus);	&#x2F;&#x2F;[&quot;CSS3&quot;, &quot;ES6&quot;, &quot;Node&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="èŠ‚ç‚¹è½¬æ¢"><a href="#èŠ‚ç‚¹è½¬æ¢" class="headerlink" title="èŠ‚ç‚¹è½¬æ¢"></a>èŠ‚ç‚¹è½¬æ¢</h5><p>â€‹    ä¹‹å‰å·²ç»é‡åˆ°è¿‡æ­¤é—®é¢˜ï¼šé€šè¿‡<code>querySelectAll</code>è·å–å¤šä¸ªDomèŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿä½¿ç”¨Arrayçš„<code>map</code>ç­‰æ–¹æ³•ã€‚åŸå› æ˜¯<code>querySelectAll</code>è¿”å›çš„æ˜¯ä¸€ä¸ª<code>ç±»æ•°ç»„çš„Object</code>(NodeList),ä½†å…¶å¹¶ä¸æ˜¯Arrayï¼Œè‡ªç„¶ä¹Ÿå°±ä¸èƒ½å¤Ÿä½¿ç”¨Arrayçš„æ–¹æ³•ã€‚ä½†æ˜¯<code>forEach</code>èƒ½å¤Ÿç›´æ¥æ“ä½œDomã€‚</p>
<p>å­¦ä¹ åé¢ç« èŠ‚åä¹Ÿå¯ä»¥ä½¿ç”¨åŸå‹å¤„ç†ï¼Œå°†DomèŠ‚ç‚¹ä¼ å…¥ï¼Œé‚£ä¹ˆArrayçš„mapæ–¹æ³•åœ¨æ‰§è¡Œæ—¶ï¼Œä¹Ÿå°±æ‹¥æœ‰äº†Domçš„context(æ‰§è¡Œä¸Šä¸‹æ–‡)ï¼Œä¹Ÿå°±èƒ½å¤Ÿæ“ä½œDomèŠ‚ç‚¹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;Ashun&lt;/button&gt;</span><br><span class="line">    &lt;button&gt;Ashuntefannao.com&lt;/button&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	let btns = document.querySelectorAll(&quot;button&quot;);</span><br><span class="line">	Array.prototype.map.call(btns,(item)=&gt;&#123;</span><br><span class="line">	 item.style.background = &#x27;red&#x27;;</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h4><h5 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h5><p>ä¸‹é¢æ˜¯åŸºæœ¬ä½¿ç”¨è¯­æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let [name, age] = [&quot;ashun&quot;, 18];</span><br><span class="line">console.log(name, age);</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°è¿”å›ç»“æœä¹Ÿå¯è§£æ„èµ‹å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function getInfo() &#123;</span><br><span class="line">	 return [&quot;ASHUN&quot;, 18];</span><br><span class="line">&#125;</span><br><span class="line">let [name, age] = getInfo();</span><br><span class="line">console.log(name);//ASHUN</span><br></pre></td></tr></table></figure>

<p>å‰©ä½™è§£æ„ï¼šæŒ‡ç”¨ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶å‰©ä½™å‚æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let [name, ...args] = [&quot;ashun&quot;, &quot;ashuntefannao.com&quot;, &quot;ES6&quot;, &quot;Vue&quot;];</span><br><span class="line">console.log(args);</span><br></pre></td></tr></table></figure>

<p><code>å­—ç¬¦ä¸²</code>ä¹Ÿå¯è¿›è¡Œè§£æ„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">let str = &quot;Ashun&quot;;</span><br><span class="line">let [...nameItems] = str;</span><br><span class="line">console.log(nameItems);		//[&quot;A&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h5><p>éä¸¥æ ¼æ¨¡å¼å¯ä»¥ä¸ä½¿ç”¨å£°æ˜æŒ‡ä»¤ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹å¿…é¡»ä½¿ç”¨å£°æ˜ã€‚æ‰€ä»¥å»ºè®®å…»æˆå…ˆå£°æ˜åä½¿ç”¨çš„å¥½ä¹ æƒ¯ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">[web, url] = [&quot;ashun.com&quot;, &quot;ashuntefannao.com&quot;];</span><br><span class="line">console.log(web, url);</span><br><span class="line">//Uncaught ReferenceError: web is not defined</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">let [web, url] &#x3D; [&quot;ashun.com&quot;, &quot;ashuntefannao.com&quot;];</span><br><span class="line">console.log(web, url);	&#x2F;&#x2F;ashun.com ashuntefannao.com</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="è®¾ç½®é»˜è®¤å€¼"><a href="#è®¾ç½®é»˜è®¤å€¼" class="headerlink" title="è®¾ç½®é»˜è®¤å€¼"></a>è®¾ç½®é»˜è®¤å€¼</h5><p>å¯åœ¨è§£æ„çš„åŒæ—¶ï¼Œè®¾ç½®é»˜è®¤å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let [name, age &#x3D; 18] &#x3D; [&quot;ashun&quot;];</span><br><span class="line">console.log(age);&#x2F;&#x2F;18</span><br></pre></td></tr></table></figure>



<h5 id="å‡½æ•°å‚æ•°èµ‹å€¼"><a href="#å‡½æ•°å‚æ•°èµ‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°èµ‹å€¼"></a>å‡½æ•°å‚æ•°èµ‹å€¼</h5><p>è‹¥å‡½æ•°æ¥æ”¶Arrayä¸ºå‚æ•°ï¼Œä¹Ÿå¯åˆ©ç”¨è§£æ„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test([a,b])&#123;</span><br><span class="line">	console.log(a,b);			&#x2F;&#x2F;18 ashun</span><br><span class="line">&#125;</span><br><span class="line">test([&quot;18&quot;,&quot;ashun&quot;]); </span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç®¡ç†å…ƒç´ "><a href="#ç®¡ç†å…ƒç´ " class="headerlink" title="ç®¡ç†å…ƒç´ "></a>ç®¡ç†å…ƒç´ </h4><h5 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h5><p>åˆ©ç”¨ç´¢å¼•ï¼Œæ”¹å˜Array</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, &quot;Ashun&quot;, &quot;ashun&quot;];</span><br><span class="line">arr[1] = &quot;Ashuntefannao&quot;;</span><br><span class="line">console.log(arr); //[1, &quot;Ashuntefannao&quot;, &quot;ashun&quot;]</span><br></pre></td></tr></table></figure>

<p>å‘æ•°ç»„è¿½åŠ å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, &quot;Ashun&quot;];</span><br><span class="line">arr[arr.length] = &quot;Ashuntefannao&quot;;</span><br><span class="line">console.log(arr); //[1, &quot;Ashun&quot;, &quot;Ashuntefannao&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="æ‰©å±•è¯­æ³•"><a href="#æ‰©å±•è¯­æ³•" class="headerlink" title="æ‰©å±•è¯­æ³•"></a>æ‰©å±•è¯­æ³•</h5><p>ä½¿ç”¨å±•ç¤ºè¯­æ³•æ‰¹é‡æ·»åŠ å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;A&quot;, &quot;s&quot;];</span><br><span class="line">let arr1 = [&quot;h&quot;, &quot;u&quot;, &quot;n&quot;];</span><br><span class="line">arr.push(...arr1);</span><br><span class="line">console.log(arr); //[&quot;A&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="push"><a href="#push" class="headerlink" title="push"></a>push</h5><p>å‹å…¥å…ƒç´ ï¼Œç›´æ¥æ”¹å˜å…ƒæ•°ç»„ï¼Œè¿”å›å€¼ä¸º<code>æ•°ç»„é•¿åº¦</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;ashun&quot;, 18, &quot;AshunTeFanNao&quot;];</span><br><span class="line">console.log(arr.push(&quot;ashun.com&quot;));		//4</span><br><span class="line">console.log(arr);		//[&quot;ashun&quot;, 18, &quot;AshunTeFanNao&quot;, &quot;ashun.com&quot;]</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®åŒºé—´åˆ›å»ºæ–°æ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function rangeArray(begin, end) &#123;</span><br><span class="line">		let newArr = [];</span><br><span class="line">		for (let i = begin; i &lt;= end; i++) &#123;</span><br><span class="line">				newArr.push(i);</span><br><span class="line">		&#125;</span><br><span class="line">		return newArr;</span><br><span class="line">&#125;</span><br><span class="line">console.log(rangeArray(2, 5)); //[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>



<h5 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h5><p>ä»æœ«å°¾å¼¹å‡ºå…ƒç´ ï¼Œç›´æ¥æ”¹å˜å…ƒæ•°ç»„ï¼Œè¿”å›å€¼ä¸º<code>å¼¹å‡ºçš„å…ƒç´ </code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;Ashun&quot;, &quot;ç‹äº”&quot;];</span><br><span class="line">console.log(arr.pop()); //ç‹äº”</span><br><span class="line">console.log(arr); //[&quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>



<h5 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h5><p>ä»æ•°ç»„å‰é¢å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›å€¼ä¸º<code>å¼¹å‡ºçš„å…ƒç´ </code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;ç‹äº”&quot;, &quot;Ashun&quot;];</span><br><span class="line">console.log(arr.shift()); //ç‹äº”</span><br><span class="line">console.log(arr); //[&quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>



<h5 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h5><p>ä»æ•°ç»„å‰é¢æ·»åŠ å…ƒç´ ï¼Œè¿”å›å€¼ä¸º<code>æ•°ç»„é•¿åº¦</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;u&quot;, &quot;n&quot;];</span><br><span class="line">console.log(arr.unshift(&#x27;s&#x27;, &#x27;h&#x27;)); //4</span><br><span class="line">console.log(arr); //[&quot;a&quot;,&quot;s&quot;,&quot;h&quot;,&quot;u&quot;,&quot;n&quot;]</span><br></pre></td></tr></table></figure>



<h5 id="æ ˆå’Œé˜Ÿåˆ—"><a href="#æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="æ ˆå’Œé˜Ÿåˆ—"></a>æ ˆå’Œé˜Ÿåˆ—</h5><p>â€‹    åˆ©ç”¨<code>push</code>ã€<code>shift</code>èƒ½å¤Ÿæ¨¡æ‹Ÿé˜Ÿåˆ—æ“ä½œï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œåˆ©ç”¨<code>unshift</code>ã€<code>shift</code>èƒ½å¤Ÿæ¨¡æ‹Ÿæ ˆæ“ä½œï¼Œæ“ä½œæ ˆé¡¶ï¼ˆåè¿›å…ˆå‡ºï¼‰ã€‚</p>
<p><em><strong>å°æ€»ç»“</strong></em>ï¼š</p>
<ul>
<li>pushã€unshiftéƒ½æ˜¯æ–°å¢æ•°æ®ï¼Œè¿”å›ç»“æœä¸ºArray.length</li>
<li>popã€shiftéƒ½æ˜¯å¼¹å‡ºæ•°æ®ï¼Œè¿”å›ç»“æœä¸ºå¼¹å‡ºçš„å…ƒç´ ã€‚</li>
</ul>
<hr>
<h5 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h5><ul>
<li>å‚æ•°1ï¼šå¡«å……çš„å…ƒç´ </li>
<li>å‚æ•°2ã€3ï¼šè§„å®šå¡«å……çš„èŒƒå›´ï¼ŒåŒºé—´å·¦é—­å³å¼€<code>[n1,n2)</code></li>
</ul>
<p>ä½¿ç”¨<code>fill</code> å¡«å……æ•°ç»„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.dir(new Array(3).fill(&quot;SHUN&quot;)); //[&quot;SHUN&quot;, &quot;SHUN&quot;, &quot;SHUN&quot;]</span><br><span class="line">//emptyÃ—3 -&gt; [&quot;SHUN&quot;, &quot;SHUN&quot;, &quot;SHUN&quot;]</span><br></pre></td></tr></table></figure>

<p><code>fill</code>èƒ½å¤Ÿ<code>è¦†ç›–åŸæ¥çš„æ•°æ®</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 3];</span><br><span class="line">arr.fill(&quot;Ashun&quot;);</span><br><span class="line">console.log(arr);		&#x2F;&#x2F;[&quot;Ashun&quot;, &quot;Ashun&quot;, &quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>

<p>æŒ‡å®šå¡«å……ä½ç½®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 2, 3];</span><br><span class="line">console.log(arr.fill(&quot;ashun&quot;, 1, 2));//[1, &quot;ashun&quot;, 3]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><p>è¯¥æ–¹æ³•çš„ä½¿ç”¨è§„åˆ™ä¸<code>string.slice()</code>ç›¸åŒï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°Arrayã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [1, 2, 3];</span><br><span class="line">console.log(arr.slice(2, 3));&#x2F;&#x2F;[3]</span><br><span class="line">console.log(arr);&#x2F;&#x2F;[1, 2, 3]</span><br></pre></td></tr></table></figure>

<p>ä¸ä¼ å‚æ—¶ï¼Œè·å–æ‰€æœ‰å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [0, 1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(arr.slice()); //[0, 1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h5><p>ä½¿ç”¨ <code>splice</code> æ–¹æ³•å¯ä»¥å®ç°<code>æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢</code>æ“ä½œï¼Œ<font color="#2980b9">ä¼šå¯¹åŸæ•°ç»„è¿›è¡Œæ”¹å˜</font>ï¼Œè¿”å›å€¼ä¸º<code>åˆ é™¤çš„å…ƒç´ </code>ã€‚</p>
<p>è¯¥æ–¹æ³•å¯æ¥å—å¤šä¸ªå‚æ•°ï¼š</p>
<ul>
<li>å‚æ•°1ï¼šæ“ä½œçš„ä½ç½®</li>
<li>å‚æ•°2ï¼šåˆ é™¤çš„ä¸ªæ•°</li>
<li>å‚æ•°3~nï¼šæ–°å¢çš„å…ƒç´ </li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [0, 1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(arr.splice(1, 3)); //è¿”å›åˆ é™¤çš„å…ƒç´  [1, 2, 3] </span><br><span class="line">console.log(arr); //åˆ é™¤æ•°æ®åçš„åŸæ•°ç»„ [0, 4, 5, 6]</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¿®æ”¹<code>length</code>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;ashun&quot;, &quot;Ashun&quot;];</span><br><span class="line">arr.length = arr.length - 1;</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æŒ‡å®šç¬¬3~nä¸ªå‚æ•°æ¥è®¾ç½®åœ¨åˆ é™¤ä½ç½®æ·»åŠ çš„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [0, 1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(arr.splice(1, 3, &quot;Ashun&quot;, &quot;SHUN&quot;)); //[1, 2, 3]</span><br><span class="line">console.log(arr); //[0, &quot;Ashun&quot;, &quot;SHUN&quot;, 4, 5, 6]</span><br></pre></td></tr></table></figure>

<p>å‘æœ«å°¾æ·»åŠ å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [0, 1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(arr.splice(arr.length, 0, &#x27;ashun&#x27;, &#x27;SHUN&#x27;)); 	//[]</span><br><span class="line">console.log(arr); 	// [0, 1, 2, 3, 4, 5, 6, &quot;ashun&quot;, &quot;SHUN&quot;]</span><br></pre></td></tr></table></figure>

<p>å‘æ•°ç»„å‰æ·»åŠ å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [0, 1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(arr.splice(0, 0, &#x27;ashun&#x27;, &#x27;SHUN&#x27;)); //[]</span><br><span class="line">console.log(arr); //[&quot;ashun&quot;, &quot;SHUN&quot;, 0, 1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>

<p>æ•°ç»„å…ƒç´ ä½ç½®è°ƒæ•´å‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function moveArrayItem(arr, begin, num, to) &#123;</span><br><span class="line">	if (begin &lt; 0 || to &gt; arr.length) &#123;</span><br><span class="line">		throw new Error(&quot;æ“ä½œèŒƒå›´æœ‰è¯¯&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	if (arr.length - begin &lt; num) &#123;</span><br><span class="line">		throw new Error(&quot;åˆ é™¤çš„æ•°æ®è¶…å‡ºæ•°ç»„çš„æ“ä½œé•¿åº¦&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	let newArr = [...arr];</span><br><span class="line">	let movePart = newArr.splice(begin, num);</span><br><span class="line">	newArr.splice(to, 0, ...movePart);</span><br><span class="line">	return newArr;</span><br><span class="line">&#125;</span><br><span class="line">let arr = [1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(moveArrayItem(arr, 0, 3, arr.length)); //[4, 5, 6, 1, 2, 3]</span><br><span class="line">console.log(arr);	//[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure>

<p>å¯å°†æ–¹æ³•æ·»åŠ åˆ°åŸå‹ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Array.prototype.moveArrayItem &#x3D; function (begin, num, to) &#123;</span><br><span class="line">	if (begin &lt; 0 || to &gt; this.length) &#123;</span><br><span class="line">		throw new Error(&quot;æ“ä½œèŒƒå›´æœ‰è¯¯&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	if (this.length - begin &lt; num) &#123;</span><br><span class="line">		throw new Error(&quot;åˆ é™¤çš„æ•°æ®è¶…å‡ºæ•°ç»„çš„æ“ä½œé•¿åº¦&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	let newArr &#x3D; [...this];</span><br><span class="line">	const movePart &#x3D; newArr.splice(begin, num);</span><br><span class="line">	newArr.splice(to, 0, ...movePart);</span><br><span class="line">	return newArr;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"> let arr &#x3D; [1, 2, 3, 4, 5, 6];</span><br><span class="line"> console.log(arr.moveArrayItem(0, 6, arr.length));</span><br><span class="line"> console.log(arr);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="æ¸…ç©ºæ•°ç»„"><a href="#æ¸…ç©ºæ•°ç»„" class="headerlink" title="æ¸…ç©ºæ•°ç»„"></a>æ¸…ç©ºæ•°ç»„</h5><p>å°†æ•°ç»„å€¼ä¿®æ”¹ä¸º<code>[]</code>å¯ä»¥æ¸…ç©ºæ•°ç»„ï¼Œå¦‚æœæœ‰å¤šä¸ªå˜é‡å¼•ç”¨æ—¶ï¼Œæ¸…ç©ºå…¶ä¸­ä¸€ä¸ªå˜é‡ï¼Œä¸ä¼šå½±å“å…¶å®ƒå˜é‡å¯¹æ•°ç»„å†…å­˜åœ°å€çš„å¼•ç”¨ï¼Œæ•°ç»„dataåœ¨å†…å­˜ä¸­ä¾æ—§å­˜åœ¨ï¼Œè¢«å…¶ä»–å˜é‡å¼•ç”¨ã€‚é™¤éæ¸…ç©ºæ‰€æœ‰å˜é‡å¯¹æ•°ç»„çš„å¼•ç”¨æ—¶ï¼Œæ‰ä¼šè¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [</span><br><span class="line">     &#123; name: &quot;ashun&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">     &#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;,</span><br><span class="line"> ];</span><br><span class="line">let arr = user;</span><br><span class="line">user = [];</span><br><span class="line">console.log(arr);	</span><br><span class="line">/*</span><br><span class="line">     [&#123; name: &quot;ashun&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">     &#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;]</span><br><span class="line"> */</span><br><span class="line">arr = [];</span><br><span class="line">console.log(arr, user); //[] []</span><br></pre></td></tr></table></figure>

<p>å°†æ•°ç»„<code>length</code>è®¾ç½®ä¸º0ä¹Ÿå¯ä»¥æ¸…ç©ºæ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [</span><br><span class="line">     &#123; name: &quot;ashun&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">     &#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;,</span><br><span class="line">];</span><br><span class="line">user.length = 0;</span><br><span class="line">console.log(user);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>splice</code>æ–¹æ³•åˆ é™¤æ‰€æœ‰æ•°ç»„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [&#123; name: &quot;ashun&quot; &#125;, &#123; name: &quot;SHUN&quot; &#125;];</span><br><span class="line">user.splice(0, user.length);</span><br><span class="line">console.log(user);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>pop/shift</code>åˆ é™¤æ‰€æœ‰å…ƒç´ ï¼Œæ¥æ¸…ç©ºæ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [&#123; name: &quot;ashun&quot; &#125;, &#123; name: &quot;SHUN&quot; &#125;];</span><br><span class="line">while (user.pop()) &#123;&#125;</span><br><span class="line">console.log(user);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="åˆå¹¶æ“ä½œ"><a href="#åˆå¹¶æ“ä½œ" class="headerlink" title="åˆå¹¶æ“ä½œ"></a>åˆå¹¶æ“ä½œ</h5><p>é™¤äº†ä¹‹å‰ä»‹ç»çš„æ–¹å¼ï¼š<code>...</code>å±•å¼€è¯­æ³•ã€<code>join(str)</code>åˆå¹¶ä¸ºStringã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªå±äºæ•°ç»„çš„åˆå¹¶æ–¹æ³•ï¼š<code>arr.concat(arr1,â€¦â€¦arrN)</code>ï¼Œèƒ½å¤Ÿå°†å¤šä¸ªæ•°ç»„åˆå¹¶åœ¨ä¸€èµ·ï¼Œè¯¥æ–¹æ³•<code>ä¸ä¼šæ”¹å˜</code>åŸæ•°ç»„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [&quot;ashun&quot;, &quot;Ashun&quot;];</span><br><span class="line">console.log(arr.concat([&quot;ASHUN&quot;, &quot;TeFanNao&quot;]));&#x2F;&#x2F;[&quot;ashun&quot;, &quot;Ashun&quot;, &quot;ASHUN&quot;, &quot;TeFanNao&quot;]</span><br><span class="line">console.log(arr);&#x2F;&#x2F;[&quot;ashun&quot;, &quot;Ashun&quot;]</span><br></pre></td></tr></table></figure>

<ul>
<li>å½“ä¼ å…¥çš„å‚æ•°ä¹Ÿä¸ºArrayæ—¶ï¼Œåœ¨åˆå¹¶æ—¶ä¼šè‡ªåŠ¨å°†å…¶å±•å¼€ä¸€å±‚ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; [&quot;a&quot;];</span><br><span class="line">console.log(as.concat(&quot;b&quot;));	&#x2F;&#x2F;[&quot;a&quot;,&quot;b&quot;]</span><br><span class="line">console.log(as.concat(&quot;c&quot;,[&quot;d&quot;,&quot;e&quot;],[[[[&quot;f&quot;]]]]));	&#x2F;&#x2F;[&quot;a&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,[[[&quot;f&quot;]]]];</span><br><span class="line">console.log(as);	&#x2F;&#x2F;[&quot;a&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h5><p>ä½¿ç”¨ <code>copyWithin</code> ä»æ•°ç»„ä¸­å¤åˆ¶ä¸€éƒ¨åˆ†åˆ°åŒæ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ã€‚ï¼ˆè¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ï¼‰</p>
<p>è¯­æ³•è¯´æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">array.copyWithin(target, start, end)</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>target</em></td>
<td align="left">å¿…éœ€ã€‚å¤åˆ¶åˆ°æŒ‡å®šç›®æ ‡ç´¢å¼•ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="left"><em>start</em></td>
<td align="left">å¯é€‰ã€‚å…ƒç´ å¤åˆ¶çš„èµ·å§‹ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="left"><em>end</em></td>
<td align="left">å¯é€‰ã€‚åœæ­¢å¤åˆ¶çš„ç´¢å¼•ä½ç½® (é»˜è®¤ä¸º <em>array</em>.length)ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</td>
</tr>
</tbody></table>
<p>startã€end<code>åŒºé—´å·¦é—­å³å¼€</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4];</span><br><span class="line">arr.copyWithin(2, 0, 2)</span><br><span class="line">console.log(arr); //[1, 2, 1, 2]</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æŸ¥æ‰¾å…ƒç´ "><a href="#æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="æŸ¥æ‰¾å…ƒç´ "></a>æŸ¥æ‰¾å…ƒç´ </h4><p>æ•°ç»„åŒ…å«å¤šç§æŸ¥æ‰¾çš„å‡½æ•°ï¼Œéœ€è¦æŠŠè¿™äº›å‡½æ•°æŒæ¡æ¸…æ¥šï¼Œç„¶åæ ¹æ®ä¸åŒåœºæ™¯é€‰æ‹©åˆé€‚çš„å‡½æ•°ã€‚</p>
<p><code>indexOfã€lastIndexOfã€includes</code>åªèƒ½æŸ¥æ‰¾éå¼•ç”¨ç±»å‹å…ƒç´ ã€‚ä½¿ç”¨æ–¹å¼åŒ<code>string.indexOf()/lastIndexOf()/indeludes()</code></p>
<p><code>findã€findIndex</code>èƒ½å¤ŸæŸ¥æ‰¾å¼•ç”¨ç±»å‹å…ƒç´ </p>
<h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h5><p>ä½¿ç”¨ <code>indexOf</code> ä»å‰å‘åæŸ¥æ‰¾å…ƒç´ å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å› <code>-1</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, 8, 2, 6];</span><br><span class="line">console.log(arr.indexOf(2)); // 2 ä»å‰é¢æŸ¥æ‰¾2å‡ºç°çš„ä½ç½®</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹é¢ä»£ç ä¸€ä¸‹ï¼Œä½¿ç”¨ <code>indexOf</code> æŸ¥æ‰¾å­—ç¬¦ä¸²å°†æ‰¾ä¸åˆ°ï¼Œå› ä¸º<code>indexOf</code> ç±»ä¼¼äº<code>===</code>æ˜¯ä¸¥æ ¼ç±»å‹çº¦æŸã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, &#x27;8&#x27;, 2, 6];</span><br><span class="line">console.log(arr.indexOf(8)); // -1</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæŒ‡å®šæŸ¥æ‰¾å¼€å§‹ä½ç½®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, 8, 2, 6];</span><br><span class="line">//ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å‘åæŸ¥æ‰¾</span><br><span class="line">console.log(arr.indexOf(2, 3)); //4</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h5><p>ä½¿ç”¨ <code>lastIndexOf</code> ä»åå‘å‰æŸ¥æ‰¾å…ƒç´ å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å› <code>-1</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, 8, 2, 6];</span><br><span class="line">console.log(arr.lastIndexOf(2)); // 4 ä»åæŸ¥æ‰¾2å‡ºç°çš„ä½ç½®</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæŒ‡å®šæŸ¥æ‰¾å¼€å§‹ä½ç½®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, 8, 2, 6];</span><br><span class="line">//ä»ç¬¬äº”ä¸ªå…ƒç´ å‘å‰æŸ¥æ‰¾</span><br><span class="line">console.log(arr.lastIndexOf(2, 5));</span><br><span class="line"></span><br><span class="line">//ä»æœ€åä¸€ä¸ªå­—ç¬¦å‘å‰æŸ¥æ‰¾</span><br><span class="line">console.log(arr.lastIndexOf(2, -2));</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h5><p>ä½¿ç”¨ <code>includes</code> æŸ¥æ‰¾å­—ç¬¦ä¸²è¿”å›å€¼æ˜¯å¸ƒå°”ç±»å‹æ›´æ–¹ä¾¿åˆ¤æ–­</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, 6];</span><br><span class="line">console.log(arr.includes(6)); //true</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªè‡ªå·²ç»çš„<code>includes</code>å‡½æ•°ï¼Œæ¥åŠ æ·±å¯¹<code>includes</code>æ–¹æ³•çš„äº†è§£</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function includes(array, item) &#123;</span><br><span class="line">  for (const value of array)</span><br><span class="line">    if (item === value) return true;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(includes([1, 2, 3, 4], 3)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><p>find æ–¹æ³•æ‰¾åˆ°åä¼šæŠŠå€¼è¿”å›å‡ºæ¥ï¼Œä¸”åªè¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„å€¼ï¼Œä¸ç»§ç»­æŸ¥æ‰¾ã€‚å¦‚æœæ‰¾ä¸åˆ°è¿”å›å€¼ä¸º<code>undefined</code>ã€‚</p>
<ul>
<li>å‚æ•°æ˜¯ä¸€ä¸ªcallbackï¼š<code>(val,index,arr)=&gt;&#123;return Boolean&#125;</code></li>
<li>callbackå¿…é¡»è¿”å›ä¸€ä¸ªbooleanï¼Œå°±æ˜¯é€šè¿‡è¿™ä¸ªbooleanåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°ç›®æ ‡å…ƒç´ ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [&quot;ashun&quot;, &quot;Ashun&quot;, &quot;SHUN&quot;];</span><br><span class="line">console.log(arr.find((v) =&gt; v === &quot;SHUN&quot;));//SHUN</span><br><span class="line">console.log(arr.find((v) =&gt; true));//ashun</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>includesã€indexOfã€lastIndexOf</code>ä¸èƒ½æŸ¥æ‰¾å¼•ç”¨ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬çš„å†…å­˜åœ°å€æ˜¯ä¸ç›¸ç­‰çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [</span><br><span class="line">    &#123; name: &quot;ashun&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">    &#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;,</span><br><span class="line">];</span><br><span class="line">console.log(user.includes(&#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;));//false</span><br><span class="line">console.log(user.indexOf(&#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;));//-1</span><br><span class="line">console.log(user.lastIndexOf(&#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;));//-1</span><br></pre></td></tr></table></figure>

<p><code>find</code> å¯ä»¥æ–¹ä¾¿çš„æŸ¥æ‰¾å¼•ç”¨ç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = [</span><br><span class="line">	&#123; name: &quot;ashun&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">	&#123; name: &quot;wangwu&quot;, type: &quot;user&quot; &#125;,</span><br><span class="line">];</span><br><span class="line">let find=user.find((v) =&gt; v.type == &quot;Controller&quot;);</span><br><span class="line">console.log(find);//&#123;name: &quot;ashun&quot;, type: &quot;Controller&quot;&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h5><p><code>findIndex</code> ä¸ <code>find</code> çš„åŒºåˆ«æ˜¯è¿”å›ç´¢å¼•å€¼ã€‚å…¶ä½™ç”¨æ³•ç›¸åŒã€‚</p>
<ul>
<li>æŸ¥æ‰¾ä¸åˆ°æ—¶è¿”å› <code>-1</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [7, 3, 2, &#x27;8&#x27;, 2, 6];</span><br><span class="line"></span><br><span class="line">console.log(arr.findIndex(function (v) &#123;</span><br><span class="line">	return v == 8;</span><br><span class="line">&#125;)); //3</span><br><span class="line"></span><br><span class="line">console.log(8 == &quot;8&quot;);//true</span><br><span class="line">console.log(8 === &quot;8&quot;);//false</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="findåŸç†"><a href="#findåŸç†" class="headerlink" title="findåŸç†"></a>findåŸç†</h5><p>ä¸‹é¢ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 2, 3, 4, 5];</span><br><span class="line">function find(array, callback) &#123;</span><br><span class="line">  for (const value of array) &#123;</span><br><span class="line">    if (callback(value) === true) return value;</span><br><span class="line">  &#125;</span><br><span class="line">  return undefined;</span><br><span class="line">&#125;</span><br><span class="line">let res = find(arr, function(item) &#123;</span><br><span class="line">  return item == 23;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(res);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function Find(arr, callback) &#123;</span><br><span class="line">	for (let i &#x3D; 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">		if (callback(arr[i], i, arr)) &#123;</span><br><span class="line">			return arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return undefined;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let arr &#x3D; [&quot;ashun&quot;, &quot;Ashun&quot;, &quot;SHUN&quot;];</span><br><span class="line">let find &#x3D; Find(arr, (val, index, arr) &#x3D;&gt; val &#x3D;&#x3D; &quot;SHUN&quot;);</span><br><span class="line">console.log(find);&#x2F;&#x2F;SHUN</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ·»åŠ åŸå‹æ–¹æ³•å®ç°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Array.prototype.Find = function (callback) &#123;</span><br><span class="line">	for (let i = 0; i &lt; this.length; i++) &#123;</span><br><span class="line">		if (callback(this[i], i, this)) return this[i];</span><br><span class="line">	&#125;</span><br><span class="line">	return undefined;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let arr = [7, 3, 2, &quot;8&quot;, 2, 6];</span><br><span class="line">let find = arr.Find((val, index, arr) =&gt; index == 3);</span><br><span class="line">console.log(find);//&#x27;8&#x27;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ•°ç»„æ’åº"><a href="#æ•°ç»„æ’åº" class="headerlink" title="æ•°ç»„æ’åº"></a>æ•°ç»„æ’åº</h4><h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h5><p>åè½¬æ•°ç»„é¡ºåºï¼Œè¯¥æ–¹æ³•<code>ä¼šæ”¹å˜</code>åŸæ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 4, 2, 9];</span><br><span class="line">arr.reverse();</span><br><span class="line">console.log(arr)//[9, 2, 4, 1]</span><br></pre></td></tr></table></figure>



<h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sort&#96;æ¯æ¬¡ä½¿ç”¨ä¸¤ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒ &#96;Array.sort((a,b)&#x3D;&gt;a-b)</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿”å›è´Ÿæ•° a æ’åœ¨ bå‰é¢ï¼Œä»å°åˆ°å¤§,<code>a-b</code></li>
<li>è¿”å›æ­£æ•° b æ’åœ¨a å‰é¢,<code>b-a</code></li>
<li>è¿”å› 0 æ—¶ä¿æŒä¸å˜</li>
<li>è¯¥æ–¹æ³•ä¹Ÿ<code>ä¼šæ”¹å˜</code>åŸæ•°ç»„</li>
</ul>
<p>é»˜è®¤ä»å°åˆ°å¤§æ’åºæ•°ç»„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 4, 2, 9];</span><br><span class="line">console.log(arr.sort()); //[1, 2, 4, 9]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [8, 4, 5, 2, 1, 7];</span><br><span class="line">arr.sort((a, b) &#x3D;&gt; a - b);</span><br><span class="line">console.log(arr); &#x2F;&#x2F;[1, 2, 4, 5, 7, 8];</span><br><span class="line"></span><br><span class="line">arr.sort((a, b) &#x3D;&gt; b - a);</span><br><span class="line">console.log(arr); &#x2F;&#x2F;[8, 7, 5, 4, 2, 1]</span><br><span class="line"></span><br><span class="line">arr.sort((a, b) &#x3D;&gt; 0);</span><br><span class="line">console.log(arr); &#x2F;&#x2F;[8, 7, 5, 4, 2, 1]</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æŒ‰è¯¾ç¨‹ç‚¹å‡»æ•°ç”±é«˜åˆ°ä½æ’åº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let lessons &#x3D; [</span><br><span class="line">	&#123; title: &quot;CSS3&quot;, click: 78 &#125;,</span><br><span class="line">	&#123; title: &quot;ES6&quot;, click: 12 &#125;,</span><br><span class="line">	&#123; title: &quot;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&quot;, click: 99 &#125;,</span><br><span class="line">	&#123; title: &quot;Node&quot;, click: 100 &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">let sortLessons &#x3D; lessons.sort((v1, v2) &#x3D;&gt; v2.click - v1.click);</span><br><span class="line">console.log(sortLessons);</span><br></pre></td></tr></table></figure>

<h5 id="æ’åºåŸç†"><a href="#æ’åºåŸç†" class="headerlink" title="æ’åºåŸç†"></a>æ’åºåŸç†</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Array.prototype.Sort &#x3D; function (callback) &#123;</span><br><span class="line">	for (let i &#x3D; 0; i &lt; this.length; i++) &#123;</span><br><span class="line">		for (let j &#x3D; 0; j &lt; this.length; j++) &#123;</span><br><span class="line">			let temp &#x3D; 0;</span><br><span class="line">			if (callback(this[i], this[j]) &lt; 0) &#123;</span><br><span class="line">					temp &#x3D; this[i];</span><br><span class="line">					this[i] &#x3D; this[j];</span><br><span class="line">					this[j] &#x3D; temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">let arr &#x3D; [1, 2, 4, 5, 3];</span><br><span class="line">arr.Sort((a, b) &#x3D;&gt; b - a);</span><br><span class="line">console.log(arr);	&#x2F;&#x2F;[5, 4, 3, 2, 1]</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¾ªç¯éå†"><a href="#å¾ªç¯éå†" class="headerlink" title="å¾ªç¯éå†"></a>å¾ªç¯éå†</h4><h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5><p>æ ¹æ®æ•°ç»„é•¿åº¦ç»“åˆ<code>for</code> å¾ªç¯æ¥éå†æ•°ç»„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">	&#123;title: &#x27;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">  &#123;title: &#x27;FLEX å¼¹æ€§ç›’æ¨¡å‹&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">	&#123;title: &#x27;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&#x27;,category: &#x27;mysql&#x27;&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">for (let i = 0; i &lt; lessons.length; i++) &#123;</span><br><span class="line">  lessons[i] = `é˜¿é¡º: $&#123;lessons[i].title&#125;`;</span><br><span class="line">&#125;</span><br><span class="line">console.log(lessons);</span><br></pre></td></tr></table></figure>



<h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h5><p><code>forEach</code>ä½¿å‡½æ•°ä½œç”¨åœ¨æ¯ä¸ªæ•°ç»„å…ƒç´ ä¸Šï¼Œä½†æ˜¯<code>æ²¡æœ‰è¿”å›å€¼</code>ã€‚</p>
<p>å…³äºå‚æ•°ï¼š</p>
<ul>
<li>å‚æ•°1ï¼švalue</li>
<li>å‚æ•°2ï¼šindex</li>
<li>å‚æ•°3ï¼šarr</li>
</ul>
<p>ä¸‹é¢ä¾‹å­æ˜¯æˆªå–æ ‡ç­¾çš„äº”ä¸ªå­—ç¬¦ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">	&#123;title: &#x27;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">  &#123;title: &#x27;FLEX å¼¹æ€§ç›’æ¨¡å‹&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">	&#123;title: &#x27;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&#x27;,category: &#x27;mysql&#x27;&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">lessons.forEach((item, index, array) =&gt; &#123;</span><br><span class="line">    item.title = item.title.substr(0, 5);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(lessons);</span><br></pre></td></tr></table></figure>



<h5 id="for-in"><a href="#for-in" class="headerlink" title="for/in"></a>for/in</h5><p>éå†æ—¶çš„ key å€¼ä¸ºæ•°ç»„çš„<code>ç´¢å¼•</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">	&#123;title: &#x27;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">  &#123;title: &#x27;FLEX å¼¹æ€§ç›’æ¨¡å‹&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">	&#123;title: &#x27;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&#x27;,category: &#x27;mysql&#x27;&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">for (const key in lessons) &#123;</span><br><span class="line">    console.log(`æ ‡é¢˜: $&#123;lessons[key].title&#125;`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="for-of"><a href="#for-of" class="headerlink" title="for/of"></a>for/of</h5><p>ä¸ <code>for/in</code> ä¸åŒçš„æ˜¯ <code>for/of</code> æ¯æ¬¡å¾ªç¯å–å…¶ä¸­çš„<code>å€¼</code>è€Œä¸æ˜¯ç´¢å¼•ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">	&#123;title: &#x27;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">  &#123;title: &#x27;FLEX å¼¹æ€§ç›’æ¨¡å‹&#x27;,category: &#x27;css&#x27;&#125;,</span><br><span class="line">	&#123;title: &#x27;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&#x27;,category: &#x27;mysql&#x27;&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">for (const item of lessons) &#123;</span><br><span class="line">  console.log(`</span><br><span class="line">    æ ‡é¢˜: $&#123;item.title&#125;</span><br><span class="line">    æ ç›®: $&#123;item.category == &quot;css&quot; ? &quot;å‰ç«¯&quot; : &quot;æ•°æ®åº“&quot;&#125;</span><br><span class="line">  `);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h5><p>â€‹    ä½¿ç”¨<code>arr.keys()ã€arr,values()ã€arr.entries()</code>åˆ›å»ºè¿­ä»£å™¨ï¼Œç„¶åä½¿ç”¨<code>.next()</code>æ–¹æ³•è¿›è¡Œè¿­ä»£ã€‚</p>
<h6 id="keys"><a href="#keys" class="headerlink" title="keys"></a>keys</h6><ul>
<li><code>.next()</code>è¿­ä»£è¿”å›å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§</li>
<li>value â€“è¿”å›å½“å‰çš„<code>index</code></li>
<li>done â€“è¿”å›å½“å‰æ˜¯å¦è¿­ä»£å®Œæ¯•</li>
</ul>
<p>é€šè¿‡è¿­ä»£å¯¹è±¡è·å–ç´¢å¼•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = [&quot;ashun&quot;, &quot;Ashun&quot;];</span><br><span class="line">const keys = as.keys();</span><br><span class="line">console.log(keys.next());	//[value:0,done:false]</span><br><span class="line">console.log(keys.next());	//[value:1,done:false]</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>for/of</code>ç»“åˆ<code>iterator</code>å–æ•°ç»„æ‰€æœ‰é”®ã€‚å› ä¸ºiteratorè¿”å›çš„æ˜¯ä¸€ä¸ª<code>å¯è¿­ä»£å¯¹è±¡</code>ï¼Œè€Œ<code>for/of</code>å¯ä»¥éå†å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;é˜¿é¡º&quot;];</span><br><span class="line"></span><br><span class="line">for (const key of arr.keys()) &#123;</span><br><span class="line">  console.log(key);</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr.keys());	//Array IteratorÂ &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨whileéå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const arr = [&quot;ashun&quot;, &quot;Ashun&quot;, &quot;Ashuntefannao.com&quot;];</span><br><span class="line"></span><br><span class="line">while ((&#123; value, done &#125; = values.keys()) &amp;&amp; !done ) &#123;</span><br><span class="line">	console.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h6 id="values"><a href="#values" class="headerlink" title="values"></a>values</h6><ul>
<li><code>.next()</code>è¿­ä»£è¿”å›å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§</li>
<li>value â€“è¿”å›å½“å‰çš„<code>value</code></li>
<li>done â€“è¿”å›å½“å‰æ˜¯å¦è¿­ä»£å®Œæ¯•</li>
</ul>
<p>é€šè¿‡è¿­ä»£å¯¹è±¡è·å–å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const arr = [&quot;ashun&quot;, &quot;Ashuntefannao.com&quot;];</span><br><span class="line"></span><br><span class="line">let iteratorVal = arr.values();</span><br><span class="line">console.log(iteratorVal.next());</span><br><span class="line">console.log(iteratorVal.next());</span><br><span class="line">console.log(iteratorVal.next());	//&#123;value: undefined, done: true&#125;</span><br></pre></td></tr></table></figure>

<p><code>iterator</code>ç»“åˆ<code>for/of</code>è·å–æ•°ç»„çš„æ‰€æœ‰å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;é˜¿é¡º&quot;];</span><br><span class="line"></span><br><span class="line">for (const value of arr.values()) &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h6 id="entries"><a href="#entries" class="headerlink" title="entries"></a>entries</h6><ul>
<li><code>.next()</code>è¿­ä»£è¿”å›å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§</li>
<li>value â€“å€¼ä¸º<code>Array</code>åŒ…å«å½“å‰çš„<code>key,value</code></li>
<li>done â€“è¿”å›å½“å‰æ˜¯å¦è¿­ä»£å®Œæ¯•</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr &#x3D; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;é˜¿é¡º&quot;];</span><br><span class="line">console.log(arr.entries().next());		&#x2F;&#x2F;&#123;value: [0 , &quot;a&quot;], done: false&#125;</span><br></pre></td></tr></table></figure>

<p><code>iterator</code>ç»“åˆ<code>for/of</code>ç»“åˆ<code>è§£æ„è¯­æ³•</code>ï¼Œè·å–æ•°ç»„çš„æ‰€æœ‰é”®å€¼å¯¹ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;é˜¿é¡º&quot;];</span><br><span class="line">for (const [key, value] of arr.entries()) &#123;</span><br><span class="line">  console.log(key, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£æ„è·å–å†…å®¹ï¼ˆå¯¹è±¡ç« èŠ‚ä¼šè¯¦ç»†è®²è§£ï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = [&quot;ashun&quot;, &quot;SHUN&quot;];</span><br><span class="line">const iterator = as.entries();</span><br><span class="line"></span><br><span class="line">let &#123;done,value: [k, v]&#125; = iterator.next();</span><br><span class="line"></span><br><span class="line">console.log(v);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ‰©å±•æ–¹æ³•"><a href="#æ‰©å±•æ–¹æ³•" class="headerlink" title="æ‰©å±•æ–¹æ³•"></a>æ‰©å±•æ–¹æ³•</h4><h5 id="every"><a href="#every" class="headerlink" title="every"></a>every</h5><p><code>every((val,index,arr)=&gt;Boolean)</code>ï¼Œevery æ¥æ”¶ä¸€ä¸ªcallbackå‚æ•°ï¼Œå¹¶ä¸”callbackå¿…é¡»è¿”å›ä¸€ä¸ªbooleanå€¼ï¼Œåˆ¤æ–­æ•°ç»„ä¸­çš„å„ä¸ªå…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p>
<p>åªæœ‰å½“æ‰€æœ‰å…ƒç´ éƒ½ç¬¦åˆæ¡ä»¶æ—¶everyè¿”å›true ; è‹¥æœ‰ä¸€ä¸ªä¸ç¬¦åˆå°±è¿”å›falseï¼Œå¹¶åœæ­¢éå†ã€‚</p>
<p>æŸ¥çœ‹ç­çº§ä¸­åŒå­¦çš„JSæˆç»©æ˜¯å¦éƒ½åŠæ ¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const user = [</span><br><span class="line">  &#123; name: &quot;æå››&quot;, js: 89 &#125;,</span><br><span class="line">  &#123; name: &quot;é©¬å…­&quot;, js: 55 &#125;,</span><br><span class="line">  &#123; name: &quot;å¼ ä¸‰&quot;, js: 78 &#125;</span><br><span class="line">];</span><br><span class="line">const resust = user.every(user =&gt; user.js &gt;= 60);</span><br><span class="line">console.log(resust);</span><br></pre></td></tr></table></figure>

<p>æ ‡é¢˜çš„å…³é”®è¯æ£€æŸ¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let words = [&quot;é˜¿é¡º&quot;, &quot;Ashun&quot;, &quot;çƒ¦æ¼&quot;];</span><br><span class="line">let title = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼æ¸´æœ›æ²¡æœ‰çƒ¦æ¼&quot;;</span><br><span class="line"></span><br><span class="line">let state = words.every(function (item, index, array) &#123;</span><br><span class="line">		 return title.indexOf(item) &gt;= 0;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">if (state == false) console.log(&quot;æ ‡é¢˜å¿…é¡»åŒ…å«æ‰€æœ‰å…³é”®è¯&quot;);</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="some"><a href="#some" class="headerlink" title="some"></a>some</h5><p><code>some((val,index,arr)=&gt;Boolean)</code>someåœ¨ä½¿ç”¨æ ¼å¼ä¸Šä¸everyç›¸åŒã€‚ä½†æ˜¯ä¸¤ä¸ªæ–¹æ³•çš„æ„ä¹‰ä¸åŒã€‚</p>
<p>å½“æ•°ç»„ä¸­æœ‰ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶æ—¶å°±è¿”å›trueï¼Œå¹¶ä¸”åœæ­¢éå†ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>some</code> æ£€æµ‹è§„åˆ™å…³é”®è¯çš„ç¤ºä¾‹ï¼Œå¦‚æœåŒ¹é…åˆ°ä¸€ä¸ªè¯å°±æç¤ºè¿è§„ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let words = [&#x27;é˜¿é¡º&#x27;, &#x27;Ashun&#x27;, &#x27;çƒ¦æ¼&#x27;];</span><br><span class="line">let title = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼æ¸´æœ›æ²¡æœ‰çƒ¦æ¼&#x27;</span><br><span class="line"></span><br><span class="line">let state = words.some(function (item, index, array) &#123;</span><br><span class="line">	return title.indexOf(item) &gt;= 0;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">if (state) console.log(&#x27;æ ‡é¢˜å«æœ‰è¿è§„å…³é”®è¯&#x27;);</span><br></pre></td></tr></table></figure>





<hr>
<h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h5><p><code>filter((val,index,arr)=&gt;Boolean)</code>ï¼Œfilterä¹Ÿæ¥å—ä¸€ä¸ªcallbackï¼Œå¹¶ä¸”callbackå¿…é¡»è¿”å›booleanå€¼ï¼Œé€šè¿‡è¿™ä¸ªbooleanï¼Œè¿‡æ»¤å‡ºç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨<code>filter</code>è·å–æ‰€æœ‰çš„æ™®é€šç”¨æˆ·ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let users = [</span><br><span class="line">		&#123; name: &quot;é˜¿é¡º&quot;, type: &quot;Controller&quot; &#125;,</span><br><span class="line">		&#123; name: &quot;æå›› &quot;, type: &quot;user&quot; &#125;,</span><br><span class="line">		&#123; name: &quot;ç‹äº”&quot;, type: &quot;user&quot; &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">let ordinary = users.filter((val, index, arr) =&gt; val.type == &quot;user&quot;);</span><br><span class="line">console.log(ordinary);</span><br><span class="line">//[ &#123;name: &quot;æå›› &quot;, type: &quot;user&quot;&#125;, &#123;name: &quot;ç‹äº” &quot;, type: &quot;user&quot;&#125;]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥å†™ä¸€ä¸ª<code>å‰”é™¤å…ƒç´ </code>çš„æ–¹æ³•æ¥åŠ æ·±äº›æŠ€æœ¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Filter(arr, callback) &#123;</span><br><span class="line">		let result = [];</span><br><span class="line">		arr.forEach((val, index, arr) =&gt; &#123;</span><br><span class="line">				!callback(val, index, arr) &amp;&amp; result.push(val);</span><br><span class="line">		&#125;);</span><br><span class="line">		return result;</span><br><span class="line">&#125;</span><br><span class="line">const user = [</span><br><span class="line">	&#123; name: &quot;æå››&quot;, js: 89 &#125;,</span><br><span class="line">	&#123; name: &quot;é©¬å…­&quot;, js: 55 &#125;,</span><br><span class="line">	&#123; name: &quot;å¼ ä¸‰&quot;, js: 78 &#125;,</span><br><span class="line">];</span><br><span class="line">console.log(Filter(user, (val, index, arr) =&gt; val.js &gt; 60));</span><br><span class="line">//[&#123; name: &quot;é©¬å…­&quot;, js: 55 &#125;]</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>åœ¨ä½¿ç”¨å½¢å¼ä¸Šä¸<code>forEach</code>ç›¸åŒï¼Œéƒ½èƒ½å¤Ÿéå†<code>Array</code>ã€‚</p>
<p>ä¸<code>forEAch</code>çš„ä¸åŒç‚¹ï¼š</p>
<ul>
<li><table>
<thead>
<tr>
<th align="left">map</th>
<th>forEach</th>
</tr>
</thead>
<tbody><tr>
<td align="left">è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</td>
<td>æ— è¿”å›å€¼</td>
</tr>
<tr>
<td align="left">è™½ç„¶èƒ½å¤Ÿè®¿é—®åˆ°åŸæ•°ç»„çš„æ•°æ®ï¼Œä½†æ˜¯è¿™äº›éƒ½æ˜¯æ–°çš„å­˜å‚¨ç©ºé—´<code>å€¼ä¸ºéå¼•ç”¨ç±»å‹æ—¶</code>ï¼Œæ¯æ¬¡éå†æ—¶ï¼Œ<code>å¿…é¡»è¿”å›ä¸€ä¸ªå€¼</code>ï¼Œä½œä¸ºå¯¹åº”ä½ç½®çš„å…ƒç´ ï¼Œè‹¥ä¸è¿”å›ï¼Œåˆ™å¯¹åº”çš„å…ƒç´ ä¸ºundefinedã€‚</td>
<td>èƒ½å¤Ÿç›´æ¥æ“ä½œåŸæ•°ç»„çš„å„ä¸ªå…ƒç´ </td>
</tr>
</tbody></table>
</li>
</ul>
<p>Arrayçš„å…ƒç´ ä¸º <code>éå¼•ç”¨ç±»å‹</code> æ•°æ®æ—¶ï¼Œmapæ“ä½œè¿”å›çš„æ•°ç»„ä¸åŸArray<code>æ²¡æœ‰ä»»ä½•å…³ç³»</code>ï¼Œæ— è®ºæ˜¯æ•´ä¸ªæ•°ç»„ï¼Œè¿˜æ˜¯æ•°ç»„çš„å„ä¸ªå…ƒç´ ï¼Œéƒ½æ˜¯æ–°çš„å†…å­˜ç©ºé—´ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const user &#x3D; [&quot;ashun&quot;, &quot;Ashun&quot;, &quot;SHUN&quot;];</span><br><span class="line"></span><br><span class="line">let newUser &#x3D; user.map((val) &#x3D;&gt; &#123;</span><br><span class="line">	return val &#x3D; &quot;ASHUN&quot;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(user);	&#x2F;&#x2F;Â [&quot;ashun&quot;, &quot;Ashun&quot;, &quot;SHUN&quot;]</span><br><span class="line">console.log(newUser);&#x2F;&#x2F;[&quot;ASHUN&quot;, &quot;ASHUN&quot;, &quot;ASHUN&quot;]</span><br></pre></td></tr></table></figure>

<p>Arrayçš„å…ƒç´ ä¸º <code>å¼•ç”¨ç±»å‹</code> æ•°æ®æ—¶ï¼Œè‹¥æ¯æ¬¡è¿”å›çš„æ˜¯åŸArrayå¯¹åº”å…ƒç´ çš„å†…å­˜åœ°å€ï¼Œåˆ™mapæ“ä½œè¿”å›çš„æ•°ç»„ï¼Œæ•´ä½“æ˜¯ä»æ˜¯ä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ï¼Œä½†æ˜¯ç”±äºå¯¹<code>å¼•ç”¨ç±»å‹æ•°æ®</code>æ“ä½œå¹¶è¿”å›ï¼Œåˆ™ä¼šå½±å“åŸæ•°ç»„çš„å¯¹åº”å…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;è¿”å›åŸArrayå¼•ç”¨ç±»å‹å…ƒç´ çš„å†…å­˜åœ°å€</span><br><span class="line">const user &#x3D; [</span><br><span class="line">		&#123; name: &quot;æå››&quot;, js: 89 &#125;,</span><br><span class="line">		&#123; name: &quot;é©¬å…­&quot;, js: 55 &#125;,</span><br><span class="line">		&#123; name: &quot;å¼ ä¸‰&quot;, js: 78 &#125;,</span><br><span class="line">];</span><br><span class="line">let newUsers &#x3D; user.map((v) &#x3D;&gt; &#123;</span><br><span class="line">		v.js &#x3D; 100;</span><br><span class="line">		return v;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(newUsers);</span><br><span class="line">console.log(user);</span><br><span class="line">&#x2F;*</span><br><span class="line">[ &#123; name: &quot;æå››&quot;, js: 100 &#125;,</span><br><span class="line">	&#123; name: &quot;é©¬å…­&quot;, js: 100 &#125;,</span><br><span class="line">	&#123; name: &quot;å¼ ä¸‰&quot;, js: 100 &#125; ]</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰æ–°å˜é‡ï¼Œç›´æ¥èµ‹å€¼ï¼Œä¹Ÿæ˜¯ç›¸åŒçš„å†…å­˜åœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">........</span><br><span class="line">let newUsers &#x3D; user.map((v) &#x3D;&gt; &#123;</span><br><span class="line">		let newValue &#x3D; v;		&#x2F;&#x2F;ç›´æ¥èµ‹å€¼,ä¸ä¸Šé¢ä»£ç æ²¡åŒºåˆ«ã€‚</span><br><span class="line">		newValue.js &#x3D; 100;</span><br><span class="line">		return newValue;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(user);</span><br><span class="line">console.log(newUsers);</span><br></pre></td></tr></table></figure>

<p>è§£å†³ï¼šå¯ä»¥è¿›è¡Œ<code>æµ…æ‹·è´</code>ï¼Œåªæ˜¯èµ‹å€¼å…¶å€¼ï¼Œè€Œä¸å…±äº«å†…å­˜åœ°å€ã€‚ã€åç»­åœ¨Objectç« èŠ‚ä¼šè¯¦ç»†ä»‹ç»ã€‘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">........</span><br><span class="line">let newUsers &#x3D; user.map((v) &#x3D;&gt; &#123;</span><br><span class="line">		let newValue &#x3D; &#123; ...v &#125;; &#x2F;&#x2F;æµ…æ‹·è´</span><br><span class="line">		newValue.js &#x3D; 100;</span><br><span class="line">		return newValue;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(user);</span><br><span class="line">&#x2F;*</span><br><span class="line">[ &#123; name: &quot;æå››&quot;, js: 89 &#125;,</span><br><span class="line">	&#123; name: &quot;é©¬å…­&quot;, js: 55 &#125;,</span><br><span class="line">	&#123; name: &quot;å¼ ä¸‰&quot;, js: 78 &#125; ]</span><br><span class="line">*&#x2F;</span><br><span class="line">console.log(newUsers);</span><br><span class="line">&#x2F;*</span><br><span class="line">[ &#123; name: &quot;æå››&quot;, js: 100 &#125;,</span><br><span class="line">	&#123; name: &quot;é©¬å…­&quot;, js: 100 &#125;,</span><br><span class="line">	&#123; name: &quot;å¼ ä¸‰&quot;, js: 100 &#125; ]</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h5><p>ä½¿ç”¨ <code>reduce</code> ä¸ <code>reduceRight</code> å‡½æ•°å¯ä»¥è¿­ä»£æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œ<code>reduce</code> ä»å‰å¼€å§‹ <code>reduceRight</code> ä»åé¢å¼€å§‹ã€‚ä¸‹é¢é€šè¿‡å‡½æ•°è®¡ç®—è¯¾ç¨‹ç‚¹å‡»æ•°çš„å’Œã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåˆå§‹å€¼</p>
<ul>
<li>ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°æ—¶å°†æ‰€æœ‰å…ƒç´ å¾ªç¯ä¸€éï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºpreçš„åˆå§‹å€¼ã€‚</li>
<li>ä¸ä¼ ç¬¬äºŒä¸ªå‚æ•°æ—¶ä»curä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å¾ªç¯ï¼Œåˆ™preçš„åˆå§‹å€¼ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li>
</ul>
<p>å‡½æ•°å‚æ•°è¯´æ˜å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>prev</td>
<td>ä¸Šæ¬¡è°ƒç”¨å›è°ƒå‡½æ•°è¿”å›çš„ç»“æœ</td>
</tr>
<tr>
<td>cur</td>
<td>å½“å‰çš„å…ƒç´ å€¼</td>
</tr>
<tr>
<td>index</td>
<td>å½“å‰çš„ç´¢å¼•</td>
</tr>
<tr>
<td>array</td>
<td>åŸæ•°ç»„</td>
</tr>
</tbody></table>
<p>ç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function countArrayELem(array, elem) &#123;</span><br><span class="line">  return array.reduce((total, cur) =&gt; (total += cur == elem ? 1 : 0), 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let numbers = [1, 2, 3, 1, 5];</span><br><span class="line">console.log(countArrayELem(numbers, 1)); //2</span><br></pre></td></tr></table></figure>

<p>å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function arrayMax(array) &#123;</span><br><span class="line">  return array.reduce(</span><br><span class="line">  	(max, elem) =&gt; (max &gt; elem ? max : elem)</span><br><span class="line">  , array[0]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(arrayMax([1, 3, 2, 9]));</span><br></pre></td></tr></table></figure>

<p>å–ä»·æ ¼æœ€é«˜çš„å•†å“</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let cart = [</span><br><span class="line">  &#123; name: &quot;iphone&quot;, price: 12000 &#125;,</span><br><span class="line">  &#123; name: &quot;imac&quot;, price: 25000 &#125;,</span><br><span class="line">  &#123; name: &quot;ipad&quot;, price: 3600 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function maxPrice(array) &#123;</span><br><span class="line">  return array.reduce(</span><br><span class="line">    (goods, elem) =&gt; (goods.price &gt; elem.price ? goods : elem)</span><br><span class="line">  ,array[0]);</span><br><span class="line">&#125;</span><br><span class="line">console.log(maxPrice(cart));</span><br></pre></td></tr></table></figure>

<p>è®¡ç®—è´­ç‰©è½¦ä¸­çš„å•†å“æ€»ä»·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let cart = [</span><br><span class="line">  &#123; name: &quot;iphone&quot;, price: 12000 &#125;,</span><br><span class="line">  &#123; name: &quot;imac&quot;, price: 25000 &#125;,</span><br><span class="line">  &#123; name: &quot;ipad&quot;, price: 3600 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const total = cart.reduce(</span><br><span class="line">	(total, goods) =&gt; total += goods.price</span><br><span class="line">, 0);</span><br><span class="line">console.log(total); //40600</span><br></pre></td></tr></table></figure>

<p>è·å–ä»·æ ¼è¶…è¿‡1ä¸‡çš„å•†å“åç§°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let goods = [</span><br><span class="line">  &#123; name: &quot;iphone&quot;, price: 12000 &#125;,</span><br><span class="line">  &#123; name: &quot;imac&quot;, price: 25000 &#125;,</span><br><span class="line">  &#123; name: &quot;ipad&quot;, price: 3600 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">function getNameByPrice(array, price) &#123;</span><br><span class="line">  return array.reduce((goods, elem) =&gt; &#123;</span><br><span class="line">    if (elem.price &gt; price) &#123;</span><br><span class="line">      goods.push(elem);</span><br><span class="line">    &#125;</span><br><span class="line">    return goods;</span><br><span class="line">  &#125;, []).map(elem =&gt; elem.name);</span><br><span class="line">&#125;</span><br><span class="line">console.table(getNameByPrice(goods, 10000));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>reduce</code> å®ç°æ•°ç»„å»é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let arr = [1, 2, 6, 2, 1];</span><br><span class="line">let filterArr = arr.reduce((pre, cur, index, array) =&gt; &#123;</span><br><span class="line">  if (pre.includes(cur) === false) &#123;</span><br><span class="line">      pre = [...pre, cur];</span><br><span class="line">  &#125;</span><br><span class="line">  return pre;</span><br><span class="line">&#125;, [])</span><br><span class="line">console.log(filterArr); // [1,2,6]</span><br></pre></td></tr></table></figure>



<h5 id="åŠ¨ç”»å®ä¾‹"><a href="#åŠ¨ç”»å®ä¾‹" class="headerlink" title="åŠ¨ç”»å®ä¾‹"></a>åŠ¨ç”»å®ä¾‹</h5><hr>
<img src="æ•°ç»„ç±»å‹.assets/Array-reduce.gif" alt="Array-reduce.gif" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      div &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">      &#125;</span><br><span class="line">      span &#123;</span><br><span class="line">        color: rebeccapurple;</span><br><span class="line">        font-weight: bold;</span><br><span class="line">      &#125;</span><br><span class="line">      .active &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        animation: active 0.8s 2;</span><br><span class="line">        letter-spacing: 0.4rem;</span><br><span class="line">      &#125;</span><br><span class="line">      @keyframes active &#123;</span><br><span class="line">        25% &#123;</span><br><span class="line">          color: pink;</span><br><span class="line">          transform: scale(1.2);</span><br><span class="line">        &#125;</span><br><span class="line">        40% &#123;</span><br><span class="line">          color: #f1c40f;</span><br><span class="line">          transform: scale(1.5);</span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">          color: red;</span><br><span class="line">          transform: scale(2);</span><br><span class="line">        &#125;</span><br><span class="line">        60% &#123;</span><br><span class="line">          color: #e67e22;</span><br><span class="line">          transform: scale(1.5);</span><br><span class="line">        &#125;</span><br><span class="line">        80% &#123;</span><br><span class="line">          color: pink;</span><br><span class="line">          transform: scale(1.2);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &lt;script&gt;</span><br><span class="line">      let div &#x3D; document.querySelector(&quot;div&quot;);</span><br><span class="line">      let text &#x3D; div.innerText;</span><br><span class="line">      [...text].reduce((pre, val) &#x3D;&gt; &#123;</span><br><span class="line">        pre &#x3D;&#x3D; 0 &amp;&amp; (div.innerHTML &#x3D; &quot;&quot;);</span><br><span class="line">        </span><br><span class="line">        let span &#x3D; document.createElement(&quot;span&quot;);</span><br><span class="line">        span.innerText &#x3D; val;</span><br><span class="line">        div.append(span);</span><br><span class="line"></span><br><span class="line">        span.addEventListener(&quot;mouseenter&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">          e.target.classList.add(&quot;active&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        span.addEventListener(&quot;animationend&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">          e.target.classList.remove(&quot;active&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, 0);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­<code>å­—ç¬¦ç»„åˆ</code>çš„æ¨¡å¼ï¼Œåœ¨ JavaScriptä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚</p>
<ul>
<li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯åœ¨å®¿ä¸»ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œå¦‚<code>js/php/node.js</code> ç­‰ , å³åœ¨ä¸åŒçš„è¯­è¨€ä¸­éƒ½ä¼šæœ‰æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
<li>æœ¬ç« è®²è§£çš„çŸ¥è¯†åœ¨å…¶ä»–è¯­è¨€ä¸­çŸ¥è¯†ä¹Ÿæ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯ä¼šæœ‰äº›å‡½æ•°ä½¿ç”¨ä¸Šçš„åŒºåˆ«</li>
</ul>
<h4 id="å¯¹æ¯”åˆ†æ"><a href="#å¯¹æ¯”åˆ†æ" class="headerlink" title="å¯¹æ¯”åˆ†æ"></a>å¯¹æ¯”åˆ†æ</h4><p>ä¸æ™®é€šå‡½æ•°æ“ä½œå­—ç¬¦ä¸²æ¥æ¯”è¾ƒï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å†™å‡ºæ›´ç®€æ´ã€åŠŸèƒ½å¼ºå¤§çš„ä»£ç ã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨è·å–å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰æ•°å­—æ¥æ¯”è¾ƒå‡½æ•°ä¸æ­£åˆ™çš„å·®å¼‚ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Str = &quot;Ashuntefannao1.1324Ashun&quot;;</span><br><span class="line">let numbers = [...Str].filter((char) =&gt; !isNaN(Number(char))).join(&quot;&quot;);</span><br><span class="line">console.log(numbers);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†ç®€å•å¾—å¤š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Str = &quot;Ashuntefannao1.1324Ashun&quot;;</span><br><span class="line">let numbers = Str.match(/\d/g).join(&quot;&quot;);</span><br><span class="line">console.log(numbers);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åˆ›å»ºæ­£åˆ™"><a href="#åˆ›å»ºæ­£åˆ™" class="headerlink" title="åˆ›å»ºæ­£åˆ™"></a>åˆ›å»ºæ­£åˆ™</h4><p>JSæä¾›<code>å­—é¢é‡</code>ä¸<code>å¯¹è±¡</code>ä¸¤ç§æ–¹å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¨èä½¿ç”¨<code>å­—é¢é‡å½¢å¼</code>åˆ›å»ºRegExpï¼Œå½¢å¼æ›´åŠ ç®€æ´ã€‚</p>
<h5 id="å­—é¢é‡åˆ›å»º"><a href="#å­—é¢é‡åˆ›å»º" class="headerlink" title="å­—é¢é‡åˆ›å»º"></a>å­—é¢é‡åˆ›å»º</h5><p>ä½¿ç”¨<code>//</code>åŒ…è£¹çš„å­—é¢é‡åˆ›å»ºæ–¹å¼æ˜¯æ¨èçš„ä½œæ³•ï¼Œä½†ä¸èƒ½åœ¨<code>//</code>ä¸­ä½¿ç”¨å˜é‡ä½œä¸ºåŒ¹é…è§„åˆ™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">let reg=/[A-Z]/;</span><br><span class="line">console.log(reg.test(as)); //true</span><br><span class="line">console.log(/[A-Z]/.test(as)); //true</span><br></pre></td></tr></table></figure>

<p><code>//</code>åŒ…è£¹çš„å­—é¢é‡åˆ›å»ºçš„æ­£åˆ™ï¼Œå…¶ä¸­ä¸èƒ½åº”ç”¨å˜é‡ï¼Œä½œä¸ºåŒ¹é…è§„åˆ™ã€‚</p>
<ul>
<li><code>//</code>åŒ…è£¹çš„å†…å®¹ä¼šè¢«ç†è§£ä¸ºæ­£åˆ™è¯­æ³•ï¼Œæ‰€ä»¥å…¶ä¸­çš„<code>z</code>ä¸æ˜¯å˜é‡ï¼Œæ˜¯åŒ¹é…<code>z</code>å­—ç¬¦</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">let z = &quot;shun&quot;;</span><br><span class="line">console.log(/z/.test(as)); //false</span><br><span class="line">console.log(/z/.test(&quot;zheng&quot;))//true</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶å¯ä»¥ä½¿ç”¨ <code>eval</code> è®¡ç®—å­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå°†å…¶è½¬æ¢ä¸ºjsè¯­æ³•æ¥å®ç°å°†å˜é‡è§£æåˆ°æ­£åˆ™ä¸­ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥<code>æœ‰å˜é‡æ—¶</code>å»ºè®®ä½¿ç”¨ä¸‹é¢æ‰€è®²çš„<code>å¯¹è±¡åˆ›å»º</code>æ–¹å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">let z = &quot;shun&quot;;</span><br><span class="line">console.log(eval(`/$&#123;z&#125;/`).test(as)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="å¯¹è±¡åˆ›å»º"><a href="#å¯¹è±¡åˆ›å»º" class="headerlink" title="å¯¹è±¡åˆ›å»º"></a>å¯¹è±¡åˆ›å»º</h5><p>å½“æ­£åˆ™éœ€è¦åŠ¨æ€åˆ›å»ºæ—¶ï¼ˆåº”ç”¨strå˜é‡ï¼‰ï¼Œå»ºè®®ä½¿ç”¨å¯¹è±¡æ–¹å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;ashuntefannao&quot;;</span><br><span class="line">let str = &quot;ashun&quot;;</span><br><span class="line">let reg = new RegExp(str);</span><br><span class="line">console.log(reg.test(as)); //true</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ç”¨æˆ·è¾“å…¥é«˜äº®æ˜¾ç¤ºå†…å®¹ï¼Œæ”¯æŒç”¨æˆ·è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;content&quot;&gt;ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	let matchStr = prompt(&quot;è¯·è¾“å…¥æœç´¢çš„å­—ç¬¦ä¸²,æ”¯æŒè¾“å…¥æ­£åˆ™&quot;);</span><br><span class="line">  let reg = new RegExp(matchStr, &quot;g&quot;);</span><br><span class="line">  let dom = document.querySelector(&quot;#content&quot;);</span><br><span class="line">  dom.innerHTML = dom.innerHTML.replace(reg, (str) =&gt; &#123;</span><br><span class="line">  	console.log(str);</span><br><span class="line">  	return `&lt;strong style=&quot;color:red;&quot;&gt;$&#123;str&#125;&lt;/strong&gt;`;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å¯¹è±¡åˆ›å»ºæ­£åˆ™ï¼Œæå–æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"> 		&lt;h1&gt;ashuntefannao&lt;/h1&gt;</span><br><span class="line">    &lt;h1&gt;ASHUN&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">        function getElement(ele) &#123;</span><br><span class="line">          let html = document.body.innerHTML;</span><br><span class="line">          let matchStr = `&lt;($&#123;ele&#125;)&gt;.+&lt;/\\1&gt;`;</span><br><span class="line">          let reg = new RegExp(matchStr, &quot;g&quot;);</span><br><span class="line"></span><br><span class="line">          console.table(html.match(reg));</span><br><span class="line">        &#125;</span><br><span class="line">        getElement(&quot;h1&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é€‰æ‹©ç¬¦"><a href="#é€‰æ‹©ç¬¦" class="headerlink" title="é€‰æ‹©ç¬¦"></a>é€‰æ‹©ç¬¦</h4><p>é€‰æ‹©ä¿®é‡Šç¬¦<code>|</code> è¿™ä¸ªç¬¦å·å¸¦è¡¨<code>æˆ–</code>çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ <code>|</code> å·¦å³ä¸¤ä¾§æœ‰ä¸€ä¸ªåŒ¹é…åˆ°å°±å¯ä»¥ã€‚</p>
<h6 id="è¦æ³¨æ„ï¼šä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ"><a href="#è¦æ³¨æ„ï¼šä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ" class="headerlink" title="è¦æ³¨æ„ï¼šä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ"></a><em>è¦æ³¨æ„ï¼šä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ</em></h6><ul>
<li>å¦‚æœåœ¨æ•´ä¸ªè¡¨è¾¾å¼ä½¿ç”¨ï¼Œåˆ™å°†æ•´ä¸ªè¡¨è¾¾å¼ä¸€åˆ†ä¸ºäºŒ</li>
<li>åŒç†ï¼Œåœ¨åŸå­ç»„ä¸­ä½¿ç”¨ï¼Œåˆ™åªæ˜¯å°†å½“å‰åŸå­ç»„ä¸€åˆ†ä¸ºäºŒ</li>
</ul>
<p>æ£€æµ‹ç”µè¯æ˜¯å¦æ˜¯ä¸Šæµ·æˆ–åŒ—äº¬çš„åæœº</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let tel = &quot;010-12345678&quot;;</span><br><span class="line">//é”™è¯¯ç»“æœï¼šåªåŒ¹é… | å·¦å³ä¸¤è¾¹ä»»ä¸€ç»“æœ</span><br><span class="line">console.log(tel.match(/010|020\-\d&#123;7,8&#125;/)); </span><br><span class="line"></span><br><span class="line">//æ­£ç¡®ç»“æœï¼šéœ€è¦æ”¾åœ¨åŸå­ç»„ä¸­ä½¿ç”¨ï¼Œå°†å½“å‰åŸå­ç»„ä¸€åˆ†ä¸ºäºŒ</span><br><span class="line">console.log(tel.match(/(010|020)\-\d&#123;7,8&#125;/));</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…å­—ç¬¦æ˜¯å¦åŒ…å«<code>ashuntefannao</code> æˆ– <code>ashun</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const title = &quot;ashuntefannao&quot;;</span><br><span class="line">console.log(/ashuntefannao|ashun/.test(title)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å­—ç¬¦è½¬ä¹‰"><a href="#å­—ç¬¦è½¬ä¹‰" class="headerlink" title="å­—ç¬¦è½¬ä¹‰"></a>å­—ç¬¦è½¬ä¹‰</h4><p><code>\è¢«è½¬ä¹‰å­—ç¬¦</code></p>
<ul>
<li><p>è½¬ä¹‰ç”¨äº <code>æ”¹å˜å­—ç¬¦çš„å«ä¹‰</code>ï¼Œç”¨æ¥å¤„ç† <code>æŸä¸ªå­—ç¬¦æœ‰å¤šç§è¯­ä¹‰æ—¶</code> çš„æƒ…å†µã€‚</p>
</li>
<li><p>åœ¨æ­£åˆ™ä¸­å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œä½¿ç”¨æ—¶éœ€è¦è½¬ä¹‰ã€‚</p>
</li>
<li><p>å‡å¦‚æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³é€šè¿‡æ­£åˆ™æŸ¥æ‰¾<code>/</code>ç¬¦å·ï¼Œä½†æ˜¯ <code>/</code>åœ¨æ­£åˆ™ä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚å¦‚æœå†™æˆ<code>///</code>è¿™ä¼šé€ æˆè§£æé”™è¯¯ï¼Œæ‰€ä»¥è¦ä½¿ç”¨è½¬ä¹‰è¯­æ³• <code>/\//</code>æ¥åŒ¹é…ã€‚</p>
</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const url = &quot;https://www.ashuntefannao.com&quot;;</span><br><span class="line">console.log(/https:\/\//.test(url)); //true</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>RegExp</code> æ„å»ºæ­£åˆ™æ—¶åœ¨è½¬ä¹‰ä¸Šä¼šæœ‰äº›åŒºåˆ«ï¼Œä¸‹é¢æ˜¯å¯¹è±¡ä¸å­—é¢é‡å®šä¹‰æ­£åˆ™æ—¶åŒºåˆ«</p>
<ul>
<li>åœ¨æ™®é€šå­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰ä¸€æ¬¡å­—ç¬¦ï¼Œç»“æœä¸å˜</li>
<li>ç”±äºä½¿ç”¨å¯¹è±¡å½¢å¼<code>new RegExp(str,mode)</code>åˆ›å»ºæ­£åˆ™æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦åœ¨å­—ç¬¦ä¸²ä¸­å®šä¹‰åŒ¹é…çš„è§„åˆ™ï¼Œæ‰€ä»¥ è‹¥ä½¿ç”¨ç‰¹æ®Šæ„ä¹‰çš„åŒ¹é…å­—ç¬¦ éœ€è¦è½¬ä¹‰ä¸¤æ¬¡ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let price = 12.23;</span><br><span class="line">//å«ä¹‰1: . é™¤æ¢è¡Œå¤–ä»»ä½•å­—ç¬¦ 	å«ä¹‰2: .æ™®é€šç‚¹</span><br><span class="line">//å«ä¹‰1: d å­—æ¯d   					å«ä¹‰2: \d æ•°å­— 0~9</span><br><span class="line">console.log(/\d+\.\d+/.test(price));</span><br><span class="line"></span><br><span class="line">//å­—ç¬¦ä¸²ä¸­ \d ä¸ d æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ new RegExp æ—¶\d å³ä¸º d</span><br><span class="line">console.log(&quot;\d&quot; == &quot;d&quot;);</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨å¯¹è±¡å®šä¹‰æ­£åˆ™æ—¶ï¼Œå¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²æ‰“å°ä¸€æ ·ï¼Œç»“æœæ˜¯å­—é¢é‡ä¸€æ ·çš„å®šä¹‰å°±å¯¹äº†</span><br><span class="line">console.log(&quot;\\d+\\.\\d+&quot;);</span><br><span class="line">let reg = new RegExp(&quot;\\d+\\.\\d+&quot;);</span><br><span class="line">console.log(reg.test(price));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ç½‘å€æ£€æµ‹ä¸­è½¬ä¹‰ç¬¦ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let url = &quot;https://www.ashuntefannao.com&quot;;</span><br><span class="line">console.log(url.match(/https?:\/\/w+\.\w+\.\w+/));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å­—ç¬¦è¾¹ç•Œ"><a href="#å­—ç¬¦è¾¹ç•Œ" class="headerlink" title="å­—ç¬¦è¾¹ç•Œ"></a>å­—ç¬¦è¾¹ç•Œ</h4><p>ä½¿ç”¨å­—ç¬¦è¾¹ç•Œç¬¦ç”¨äºæ§åˆ¶åŒ¹é…å†…å®¹çš„å¼€å§‹ä¸ç»“æŸçº¦å®šã€‚</p>
<table>
<thead>
<tr>
<th>è¾¹ç•Œç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>^</td>
<td>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸï¼Œå¿½ç•¥æ¢è¡Œç¬¦</td>
</tr>
</tbody></table>
<p>åŒ¹é…å†…å®¹å¿…é¡»ä»¥<code>www</code>å¼€å§‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &quot;www.ashuntefannao.com&quot;;</span><br><span class="line">console.log(/^www/.test(as)); //true</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…å†…å®¹å¿…é¡»ä»¥<code>.com</code>ç»“æŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &quot;www.ashuntefannao.com&quot;;</span><br><span class="line">console.log(/\.com$/.test(as)); //true</span><br></pre></td></tr></table></figure>

<p>æ£€æµ‹ç”¨æˆ·åé•¿åº¦ä¸º3~6ä½ï¼Œä¸”åªèƒ½ä¸ºå­—æ¯ã€‚å¦‚æœä¸ä½¿ç”¨ <code>^ä¸$</code> é™åˆ¶å°†å¾—ä¸åˆ°æ­£ç¡®ç»“æœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  	document.querySelector(&quot;[name=&#x27;username&#x27;]&quot;)</span><br><span class="line">          .addEventListener(&quot;input&quot;, function () &#123;</span><br><span class="line">            let test = this.value.match(/^[a-zA-Z]&#123;3,6&#125;$/);</span><br><span class="line">            console.log(test ? &quot;æ­£ç¡®&quot; : &quot;é”™è¯¯&quot;);</span><br><span class="line">          &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let reg &#x3D; &#x2F;[a-zA-Z]&#123;3,6&#125;&#x2F;;</span><br><span class="line">    let reg1 &#x3D; &#x2F;^[a-zA-Z]&#123;3,6&#125;$&#x2F;;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;ä¸ä½¿ç”¨^$é™åˆ¶ï¼Œè™½ç„¶å­—ç¬¦ä¸²é•¿åº¦ä¸è¶³æ—¶ä¹Ÿå¯è¿”å›æ­£ç¡®ç»“æœ</span><br><span class="line">    &#x2F;&#x2F;ä½†å­—ç¬¦ä¸²é•¿åº¦è¶…å‡ºæ—¶ï¼Œè¿”å›çš„æ˜¯è‡ªå‰å‘ååŒ¹é…çš„ç»“æœ</span><br><span class="line">    console.log(&quot;as&quot;.match(reg));							&#x2F;&#x2F;null</span><br><span class="line">    console.log(&quot;123ashuntefannao123&quot;.match(reg));	&#x2F;&#x2F;[&quot;ashunt&quot;]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä½¿ç”¨^$è¿›è¡Œé™åˆ¶ï¼Œä»¥å­—æ¯3-6ä½å¼€å¤´ï¼Œå¹¶ä»¥å­—æ¯3-6ä½ç»“å°¾ï¼Œåˆ™åŒ¹é…ç»“æœä¸º3-6ä½çº¯å­—æ¯</span><br><span class="line">    console.log(&quot;ashuntefannao&quot;.match(reg1)); &#x2F;&#x2F;null</span><br><span class="line">    console.log(&quot;as&quot;.match(reg1)); 						&#x2F;&#x2F;null</span><br><span class="line">    console.log(&quot;ashun&quot;.match(reg1)); 				&#x2F;&#x2F;[&quot;ashun&quot;]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åªæ˜¯ç”¨^é™åˆ¶ï¼Œåˆ™åªè¦å¼€å¤´æ»¡è¶³3-6ä½çº¯å­—æ¯å³å¯</span><br><span class="line">    console.log(&quot;ashuntefannao123&quot;.match(&#x2F;^[a-zA-Z]&#123;3,6&#125;&#x2F;)); &#x2F;&#x2F;[&quot;ashunt&quot;]</span><br><span class="line">    &#x2F;&#x2F;åªæ˜¯ç”¨$é™åˆ¶ï¼Œåˆ™åªè¦ç»“å°¾æ»¡è¶³3-6ä½çº¯å­—æ¯å³å¯</span><br><span class="line">    console.log(&quot;132ashuntefannao&quot;.match(&#x2F;[a-zA-Z]&#123;3,6&#125;$&#x2F;)); &#x2F;&#x2F;[&quot;fannao&quot;]</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h3><p>å…ƒå­—ç¬¦æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æœ€å°å…ƒç´ ï¼Œåªä»£è¡¨å•ä¸€ï¼ˆä¸€ä¸ªï¼‰å­—ç¬¦ã€‚</p>
<h4 id="æ™®é€šå…ƒå­—ç¬¦"><a href="#æ™®é€šå…ƒå­—ç¬¦" class="headerlink" title="æ™®é€šå…ƒå­—ç¬¦"></a>æ™®é€šå…ƒå­—ç¬¦</h4><p>æ™®é€šå…ƒå­—ç¬¦ï¼Œå³ åœ¨æ­£åˆ™ä¸­æ²¡æœ‰ç‰¹æ®Šæ„ä¹‰çš„ æ™®é€šå­—ç¬¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &quot;ashun&quot;;</span><br><span class="line">console.log(&#x2F;a&#x2F;.test(a)); 		&#x2F;&#x2F;true</span><br><span class="line">console.log(a.match(&#x2F;a&#x2F;)[0]); &#x2F;&#x2F;a</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç‰¹æ®Šå…ƒå­—ç¬¦"><a href="#ç‰¹æ®Šå…ƒå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå…ƒå­—ç¬¦"></a>ç‰¹æ®Šå…ƒå­—ç¬¦</h4><table>
<thead>
<tr>
<th>å…ƒå­—ç¬¦</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>\d</td>
<td>åŒ¹é…ä»»æ„ä¸€ä¸ªæ•°å­—</td>
<td>[0-9]</td>
</tr>
<tr>
<td>\D</td>
<td>ä¸é™¤äº†æ•°å­—ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åŒ¹é…</td>
<td>[^0-9]</td>
</tr>
<tr>
<td>\w</td>
<td>ä¸ä»»æ„ä¸€ä¸ªå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿åŒ¹é…</td>
<td>[a-zA-Z0-9_]</td>
</tr>
<tr>
<td>\W</td>
<td>é™¤äº† å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ä»¥å¤– ä¸ä»»ä½•å­—ç¬¦åŒ¹é…</td>
<td>[^a-zA-Z0-9_]</td>
</tr>
<tr>
<td>\s</td>
<td>ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦åŒ¹é…ï¼Œå¦‚ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦<code>\t</code>ï¼Œæ¢è¡Œç¬¦<code>\n</code></td>
<td>[\n\f\r\t\v]</td>
</tr>
<tr>
<td>\S</td>
<td>é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…</td>
<td>[^\n\f\r\t\v]</td>
</tr>
<tr>
<td>\p{prop}</td>
<td>é…åˆ<code>u</code>æ¨¡å¼ï¼ŒåŒ¹é…å¯¹åº”å±æ€§çš„å­—ç¬¦</td>
<td>( \p{P} | \p{sc=Han} )</td>
</tr>
<tr>
<td>.</td>
<td>åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»æ„å­—ç¬¦</td>
<td>[^\n]</td>
</tr>
</tbody></table>
<h4 id="ä½¿ç”¨ä½“éªŒ"><a href="#ä½¿ç”¨ä½“éªŒ" class="headerlink" title="ä½¿ç”¨ä½“éªŒ"></a>ä½¿ç”¨ä½“éªŒ</h4><p>åŒ¹é…ä»»æ„æ•°å­—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao 2020&quot;;</span><br><span class="line">console.log(as.match(/\d/g)); //[&quot;2&quot;, &quot;0&quot;, &quot;2&quot;, &quot;0&quot;]</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…æ‰€æœ‰ç”µè¯å·ç </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = `</span><br><span class="line">	å¼ ä¸‰:010-99999999,æå››:020-88888888</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">let res = as.match(/\d&#123;3&#125;-\d&#123;7,8&#125;/g);</span><br><span class="line">console.log(res);</span><br></pre></td></tr></table></figure>

<p>è·å–æ‰€æœ‰ç”¨æˆ·å</p>
<ul>
<li><code>-</code>åœ¨åŸå­ç»„<code>[]</code>ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¸ºäº†é¿å…å†²çªï¼Œæœ€å¥½è½¬ä¹‰ä½¿ç”¨</li>
<li>ä¸‹åˆ—æƒ…å†µæ˜¯å¦è½¬ä¹‰ï¼Œæƒ…å†µéƒ½ç›¸åŒï¼Œä½†åœ¨è¡¨ç¤ºä¸€äº›åŒ¹é…èŒƒå›´æ—¶ï¼Œå°±ä¼šæœ‰æ­§ä¹‰</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = `</span><br><span class="line">å¼ ä¸‰:010-99999999,æå››:020-88888888`;</span><br><span class="line">let res = as.match(/[^:\d-,\s]+/g);</span><br><span class="line"></span><br><span class="line">console.log(/[^:\d\-,\s]+/g)</span><br><span class="line">console.log(res);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;103azA&quot;.match(&#x2F;[0\-9]&#x2F;g));	&#x2F;&#x2F;[&quot;0&quot;]</span><br><span class="line">console.log(&quot;103azA&quot;.match(&#x2F;[0-9]&#x2F;g));	&#x2F;&#x2F;[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;]</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä½¿ç”¨<code>\p&#123;prop&#125;</code>ç»“åˆ<code>u</code>æ¨¡å¼ï¼ŒåŒ¹é…å±æ€§ä¸ºæ±‰å­—çš„å­—ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(as.match(&#x2F;\p&#123;sc&#x3D;Han&#125;&#123;2,3&#125;&#x2F;gu)); &#x2F;&#x2F;[&quot;å¼ ä¸‰&quot;,&quot;æå››&quot;]</span><br></pre></td></tr></table></figure>



<p>åŒ¹é…ä»»æ„éæ•°å­—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(/\D/.test(2029)); //false</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…å­—æ¯æ•°å­—ä¸‹åˆ’çº¿</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;ashun@&quot;;</span><br><span class="line">console.log(as.match(/\w/g)); //[&quot;a&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;]</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…é™¤äº†å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿å¤–ä¸ä»»ä½•å­—ç¬¦åŒ¹é…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(/\W/.test(&quot;@&quot;)); //true</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…ä¸ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(/\s/.test(&quot; &quot;)); //true</span><br><span class="line">console.log(/\s/.test(&quot;\n \t&quot;)); //true</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;ashun@&quot;;</span><br><span class="line">console.log(as.match(/\S/g)); //[&quot;a&quot;, &quot;s&quot;, &quot;h&quot;, &quot;u&quot;, &quot;n&quot;,&quot;@&quot;]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦åŒ¹é… å­—ç¬¦ä¸²ç‚¹<code>&quot;.&quot;</code> åˆ™éœ€è¦è½¬ä¹‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = `ashuntefannao@com`;</span><br><span class="line">console.log(/ashuntefannao.com/i.test(as));  //true</span><br><span class="line">console.log(/ashuntefannao\.com/i.test(as)); //false</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>.</code>åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦ï¼Œä¸‹é¢åŒ¹é…ä¸åˆ°<code>ashun.com</code> å› ä¸ºæœ‰æ¢è¡Œç¬¦ ä¸”æ²¡æœ‰ä½¿ç”¨<code>g</code>æ¨¡å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const url = `</span><br><span class="line">  https://www.Ashuntefanano.com</span><br><span class="line">  ashun.com</span><br><span class="line">`;</span><br><span class="line">console.log(url.match(/.+/));</span><br></pre></td></tr></table></figure>

<p>ç‰¹æ®Šå…ƒå­—ç¬¦<code>.</code> é…åˆ<code>s</code>æ¨¡å¼ï¼Œ<code>.</code>å°±å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ (èƒ½å¤ŸåŒ¹é…æ¢è¡Œç¬¦)</p>
<ul>
<li>ä½¿ç”¨<code>s</code>å•è¡Œæ¨¡å¼ï¼ˆå¿½ç•¥æ¢è¡Œï¼‰æ—¶ï¼Œå¯ä»¥åŒ¹é…æ‰€æœ‰</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title = `</span><br><span class="line">  &lt;span&gt;</span><br><span class="line">    ashuntefannao</span><br><span class="line">    ashun</span><br><span class="line">  &lt;/span&gt;</span><br><span class="line">`;</span><br><span class="line">let res = title.match(/&lt;span&gt;.*&lt;\/span&gt;/s);</span><br><span class="line">console.log(res[0]);</span><br></pre></td></tr></table></figure>

<p>æ­£åˆ™ä¸­ä¼šå°† ç©ºæ ¼ æŒ‰æ™®é€šå­—ç¬¦å¯¹å¾…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let tel = `010 - 999999`;</span><br><span class="line">console.log(/\d+-\d+/.test(tel)); //false</span><br><span class="line">console.log(/\d+ - \d+/.test(tel)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ‰€æœ‰å­—ç¬¦"><a href="#æ‰€æœ‰å­—ç¬¦" class="headerlink" title="æ‰€æœ‰å­—ç¬¦"></a>æ‰€æœ‰å­—ç¬¦</h4><ul>
<li>å¯ä»¥ä½¿ç”¨ <code>[\s\S]</code>ã€<code>[\d\D]</code>ã€<code>[\w\W]</code>ç­‰ç­‰æ¥åŒ¹é…æ‰€æœ‰å­—ç¬¦</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = `</span><br><span class="line">  &lt;span&gt;</span><br><span class="line">    ashuntefannao</span><br><span class="line">    ashun</span><br><span class="line">  &lt;/span&gt;</span><br><span class="line">`;</span><br><span class="line">let res = as.match(/&lt;span&gt;[\s\S]+&lt;\/span&gt;/);</span><br><span class="line">console.log(res[0]);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>.</code>ç»“åˆ<code>s</code>å•è¡Œæ¨¡å¼(å¿½ç•¥æ¢è¡Œç¬¦)ï¼Œä¹Ÿå¯åŒ¹é…æ‰€æœ‰å­—ç¬¦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">let res &#x3D; title.match(&#x2F;&lt;span&gt;.*&lt;\&#x2F;span&gt;&#x2F;s);</span><br><span class="line">console.log(res[0]);</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="åŒ¹é…æ¨¡å¼"><a href="#åŒ¹é…æ¨¡å¼" class="headerlink" title="åŒ¹é…æ¨¡å¼"></a>åŒ¹é…æ¨¡å¼</h3><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨æ‰§è¡Œæ—¶ä¼šæŒ‰ä»–ä»¬çš„é»˜è®¤æ‰§è¡Œæ–¹å¼è¿›è¡Œå¤„ç†ï¼Œä½†æœ‰æ—¶å€™é»˜è®¤çš„å¤„ç†æ–¹å¼æ€»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥å¯ä»¥åˆ‡æ¢ä¸åŒçš„åŒ¹é…æ¨¡å¼æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<table>
<thead>
<tr>
<th>ä¿®é¥°ç¬¦</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>ä¸åŒºåˆ†å¤§å°å†™å­—æ¯çš„åŒ¹é…</td>
</tr>
<tr>
<td>g</td>
<td>å…¨å±€æœç´¢æ‰€æœ‰åŒ¹é…å†…å®¹</td>
</tr>
<tr>
<td>m</td>
<td>è§†ä¸ºå¤šè¡Œ</td>
</tr>
<tr>
<td>s</td>
<td>è§†ä¸ºå•è¡Œå¿½ç•¥æ¢è¡Œç¬¦ï¼Œä½¿ç”¨<code>.</code> å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦</td>
</tr>
<tr>
<td>y</td>
<td>ä» <code>regexp.lastIndex</code> å¼€å§‹åŒ¹é…</td>
</tr>
<tr>
<td>u</td>
<td>Unicodeæ¨¡å¼ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 ç¼–ç </td>
</tr>
</tbody></table>
<h4 id="i"><a href="#i" class="headerlink" title="i"></a>i</h4><p>å°†æ‰€æœ‰<code>ashuntefannao</code> ç»Ÿä¸€ä¸ºå°å†™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let site = &quot;ashuntefannao ASHUNTEFANNAO&quot;;</span><br><span class="line">site = site.replace(/ashuntefannao/gi, &quot;ashuntefannao&quot;);</span><br><span class="line">console.log(site);</span><br></pre></td></tr></table></figure>



<h4 id="g"><a href="#g" class="headerlink" title="g"></a>g</h4><p>ä½¿ç”¨ <code>g</code> æ¨¡å¼ï¼Œå¯ä»¥æœç´¢åˆ°æ‰€æœ‰æ»¡è¶³åŒ¹é…è§„åˆ™çš„string</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">        let as = &quot;ashuntefannao&quot;;</span><br><span class="line">        as = as.replace(/n/, &quot;@&quot;);</span><br><span class="line">        console.log(as); //æ²¡æœ‰ä½¿ç”¨ g ä¿®é¥°ç¬¦æ˜¯ï¼Œåªæ›¿æ¢äº†ç¬¬ä¸€ä¸ª n</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">        let as = &quot;ashuntefannao&quot;;</span><br><span class="line">        as = as.replace(/n/g, &quot;@&quot;);</span><br><span class="line">        console.log(as); //ä½¿ç”¨å…¨å±€ä¿®é¥°ç¬¦åæ›¿æ¢äº†å…¨éƒ¨çš„ n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="m"><a href="#m" class="headerlink" title="m"></a>m</h4><p><code>m</code>å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼Œç»“åˆ<code>^$</code>å¯çº¦æŸåŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€è¡Œã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼šå­—ç¬¦ä¸²å­˜åœ¨æ¢è¡Œç¬¦<code>\n</code>æ—¶ï¼Œå­—ç¬¦ä¸²æœ‰å‡ è¡Œï¼Œå°±åŒ¹é…å¤šå°‘æ¬¡ã€‚å¹¶ä¸”æ¯ä¸€è¡Œéƒ½å¯ä½¿ç”¨<code>^$</code>è¿›è¡Œçº¦æŸã€‚</p>
<ul>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— è®ºå­—ç¬¦ä¸²æ˜¯å¦æœ‰æ¢è¡Œç¬¦ï¼Œéƒ½åªæœ‰ä¸€ä¸ªå¼€å¤´<code>^</code>å’Œç»“å°¾<code>$</code></li>
<li>ç»“åˆ<code>m</code>æ¨¡å¼ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰è‡ªèº«çš„<code>^$</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      let str &#x3D; &#96;</span><br><span class="line">      # jsES6 #</span><br><span class="line">      # vue2.0 #</span><br><span class="line">      # ashunte #</span><br><span class="line">      &#96;;</span><br><span class="line">      console.log(str.match(&#x2F;^\s*#\s+.*\s#$&#x2F;gm));	</span><br><span class="line">      console.log(str.match(&#x2F;^\s*#\s+.+#\s*$&#x2F;g));&#x2F;&#x2F;null</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹æ˜¯å°†ä»¥ <code>#æ•°å­—</code>å¼€å§‹çš„è¯¾ç¨‹è§£æä¸ºå¯¹è±¡ç»“æ„ï¼Œå­¦ä¹ è¿‡åé¢è®²åˆ°çš„åŸå­ç»„å¯ä»¥è®©ä»£ç ç®€å•äº›</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  			let str = `</span><br><span class="line">  				#1 js,200å…ƒ #</span><br><span class="line">  				#2 php,300å…ƒ #</span><br><span class="line">  				#9 ashuntefannao # é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">  				#3 node.js,180å…ƒ #</span><br><span class="line">				`;</span><br><span class="line">        let lessons = str.match(/^\s*#.+#$/gm);</span><br><span class="line">        console.log(lessons);</span><br><span class="line">        lessons = lessons</span><br><span class="line">          .map((v) =&gt; v.replace(/\s*#\d\s*/, &quot;&quot;).replace(/\s*#\s*/, &quot;&quot;))</span><br><span class="line">          .map((v) =&gt; &#123;</span><br><span class="line">            let [name, price] = v.split(&quot;,&quot;);</span><br><span class="line">            return &#123; name, price &#125;;</span><br><span class="line">          &#125;);</span><br><span class="line">        console.log(JSON.stringify(lessons, null, 2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="s"><a href="#s" class="headerlink" title="s"></a>s</h4><p><code>s</code>å•è¡Œæ¨¡å¼ï¼Œåœ¨åŒ¹é…æ—¶å¿½ç•¥<code>æ¢è¡Œç¬¦</code>ï¼Œç»“åˆ<code>.</code>èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let str &#x3D; &#96;</span><br><span class="line">      ashuntefannao.com</span><br><span class="line">      999999999</span><br><span class="line">      !@#$%^&amp;*()_+-</span><br><span class="line">&#96;;</span><br><span class="line">console.log(str.match(&#x2F;.+&#x2F;gs));</span><br></pre></td></tr></table></figure>



<h4 id="u"><a href="#u" class="headerlink" title="u"></a>u</h4><ul>
<li>æ¯ä¸ªå­—ç¬¦éƒ½æœ‰å±æ€§ï¼Œå¦‚<code>L</code>å±æ€§è¡¨ç¤ºæ˜¯å­—æ¯ï¼Œ<code>P</code> è¡¨ç¤ºæ ‡ç‚¹ç¬¦å·</li>
<li>å…¶ä»–å±æ€§ç®€å†™å¯ä»¥è®¿é—® <a href="https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt">å±æ€§çš„åˆ«å</a>ç½‘ç«™æŸ¥çœ‹ã€‚</li>
<li>åœ¨æ­£åˆ™ä¸­ï¼Œä½¿ç”¨<code>\p&#123;prop&#125;</code>æ¥åŒ¹é…å¯¹åº”å±æ€§çš„å­—ç¬¦</li>
<li><code>\p&#123;prop&#125;</code>éœ€è¦ç»“åˆ <code>u</code> æ¨¡å¼æ‰æœ‰æ•ˆã€‚</li>
</ul>
<p>å­—ç¬¦ä¹Ÿæœ‰unicodeæ–‡å­—ç³»ç»Ÿå±æ€§ <code>Script=æ–‡å­—ç³»ç»Ÿ</code>ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ <code>\p&#123;sc=Han&#125;</code> è·å–ä¸­æ–‡å­—ç¬¦ <code>han</code>ä¸ºä¸­æ–‡ç³»ç»Ÿï¼Œå…¶ä»–è¯­è¨€è¯·æŸ¥çœ‹ <a href="http://www.unicode.org/standard/supported.html">æ–‡å­—è¯­è¨€è¡¨</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> let user &#x3D; &#96;</span><br><span class="line">        é˜¿é¡º-157******01</span><br><span class="line">        å¼ ä¸‰-132******88</span><br><span class="line"> &#96;;</span><br><span class="line">let reg &#x3D; &#x2F;\p&#123;sc&#x3D;Han&#125;+&#x2F;gu;</span><br><span class="line">console.log(user.match(reg));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>u</code> æ¨¡å¼å¯ä»¥æ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 å­—èŠ‚ç¼–ç </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;ğ’³ğ’´&quot;;</span><br><span class="line">console.table(str.match(/[ğ’³ğ’´]/)); //ç»“æœä¸ºä¹±å­—ç¬¦&quot;ï¿½&quot;</span><br><span class="line"></span><br><span class="line">console.table(str.match(/[ğ’³ğ’´]/u)); //ç»“æœæ­£ç¡® &quot;ğ’³&quot;</span><br></pre></td></tr></table></figure>



<h4 id="lastIndex"><a href="#lastIndex" class="headerlink" title="lastIndex"></a>lastIndex</h4><p><code>reg.lastIndex</code> å¯ä»¥è¿”å›æˆ–è€…è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼<code>å¼€å§‹åŒ¹é…çš„ä½ç½®</code></p>
<ul>
<li><strong>å¿…é¡»ç»“åˆ <code>g</code>æˆ–<code>y</code> æ¨¡å¼ä½¿ç”¨</strong></li>
<li><strong>åªå¯¹ <code>exec</code> æ–¹æ³•æœ‰æ•ˆ</strong></li>
<li><strong>ä½¿ç”¨ <code>exec</code> åŒ¹é…å®Œæ‰€æœ‰ç»“æœæ—¶ï¼Œ<code>lastIndex</code> ä¼šè¢«é‡ç½®ä¸º0</strong></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">        let text = `é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºä¸å–œæ¬¢çƒ¦æ¼`;</span><br><span class="line">        let reg = /é˜¿é¡º(.&#123;2&#125;)/g;</span><br><span class="line">        reg.lastIndex = 10; //ä»ç´¢å¼•10å¼€å§‹æœç´¢</span><br><span class="line">        console.log(reg.exec(text));</span><br><span class="line">        console.log(reg.lastIndex); //ä¸Šæ¬¡åŒ¹é…çš„ç»“æŸä½ç½®+1=ä¸‹æ¬¡åŒ¹é…çš„å¼€å§‹ä½ç½®:18</span><br><span class="line"></span><br><span class="line">        reg = /\p&#123;sc=Han&#125;/gu;</span><br><span class="line">        while ((res = reg.exec(text))) &#123;</span><br><span class="line">          console.log(res[0]);</span><br><span class="line">        &#125;</span><br><span class="line">        console.log(reg.lastIndex);	//åŒ¹é…å®Œæ‰€æœ‰ç»“æœï¼ŒlastIndexé‡ç½®ä¸º0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>reg.lastIndex</code>åªå¯¹<code>reg.exec</code>æœ‰æ•ˆï¼Œå¯¹<code>str.match()</code>æ¯«æ— å½±å“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      let str &#x3D; &quot;ashuntefannao&quot;;</span><br><span class="line">      let reg &#x3D; &#x2F;a&#x2F;g;</span><br><span class="line">      reg.lastIndex &#x3D; 11;</span><br><span class="line">      console.log(str.match(reg)); &#x2F;&#x2F;[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="y"><a href="#y" class="headerlink" title="y"></a>y</h4><p>æˆ‘ä»¬æ¥å¯¹æ¯” <code>y</code> ä¸<code>g</code> æ¨¡å¼ï¼Œåœ¨ç»“åˆ<code>lastIndex</code>æ—¶çš„ä½¿ç”¨å·®å¼‚ã€‚</p>
<ul>
<li>ä½¿ç”¨ <code>g</code> æ¨¡å¼ä¼šå…¨å±€åŒ¹é…ï¼Œä»å¤´æŸ¥åˆ°å°¾ï¼Œä¸€ç›´åŒ¹é…å­—ç¬¦ä¸²</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let str = &quot;ashuntefannao&quot;;</span><br><span class="line">        let reg = /a/g;</span><br><span class="line">        console.log(reg.exec(str));</span><br><span class="line">        console.log(reg.lastIndex); //1</span><br><span class="line">        console.log(reg.exec(str));</span><br><span class="line">        console.log(reg.lastIndex); //9</span><br><span class="line">        console.log(reg.exec(str));</span><br><span class="line">        console.log(reg.lastIndex); //12</span><br><span class="line">        console.log(reg.exec(str)); //null</span><br><span class="line">        console.log(reg.lastIndex); //0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½†ä½¿ç”¨<code>y</code> æ¨¡å¼åå¦‚æœä» <code>lastIndex</code> å¼€å§‹åŒ¹é…ä¸æˆåŠŸå°±ä¸ç»§ç»­åŒ¹é…äº† ï¼ŒåŒ¹é…ç»“æŸ<code>lastIndex</code>ä¹Ÿä¼šç½®ä¸º0</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;fannao&quot;;</span><br><span class="line">let reg = /a/y;</span><br><span class="line">reg.lastIndex = 1;</span><br><span class="line">console.log(reg.exec(str));</span><br><span class="line">console.log(reg.lastIndex); //2</span><br><span class="line">console.log(reg.exec(str)); //null</span><br><span class="line">console.log(reg.lastIndex); //0</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä½¿ç”¨ <code>y</code> æ¨¡å¼å¯ä»¥åœ¨<code>lastIndex</code>åŒ¹é…ä¸åˆ°æ—¶åœæ­¢åŒ¹é…ï¼Œèµ·åˆ°åŠæ—¶æ­¢æŸçš„ä½œç”¨ï¼Œåœ¨åŒ¹é…ä¸‹é¢å­—ç¬¦ä¸­çš„qqæ—¶å¯ä»¥æé«˜åŒ¹é…æ•ˆç‡</p>
<ul>
<li>å¦‚æœæå‰çŸ¥é“åŒ¹é…ç›®æ ‡ <strong><code>æ˜¯è¿ç»­åœ¨ä¸€èµ·çš„</code></strong> é‚£ä¹ˆä½¿ç”¨<code>y</code>æ¨¡å¼ä¼šæ›´åŠ çš„é«˜æ•ˆ</li>
<li>ä½†ç”±äºéœ€è¦ç»“åˆ<code>lastIndex</code>,æ‰€ä»¥åªèƒ½å¤Ÿä½¿ç”¨<code>reg.exec</code>ç»“åˆå¾ªç¯åŒ¹é…ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let title = `é˜¿é¡ºç‰¹çƒ¦æ¼QQç¾¤:11111111,999999999,88888888</span><br><span class="line">        é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºä¸å–œæ¬¢çƒ¦æ¼`;</span><br><span class="line"></span><br><span class="line">        let reg = /(\d+),?/y;</span><br><span class="line">        reg.lastIndex = 9;</span><br><span class="line">        while ((res = reg.exec(title))) console.log(res[1]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<hr>
<h3 id="åŸå­è¡¨"><a href="#åŸå­è¡¨" class="headerlink" title="åŸå­è¡¨"></a>åŸå­è¡¨</h3><p>åœ¨ä¸€ç»„å­—ç¬¦ä¸­åŒ¹é…æŸä¸ªå…ƒå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é€šè¿‡å…ƒå­—ç¬¦è¡¨æ¥å®Œæˆï¼Œå°±æ˜¯æ”¾åˆ°<code>[]</code> (æ–¹æ‹¬å·)ä¸­ã€‚</p>
<h4 id="ä½¿ç”¨è¯­æ³•"><a href="#ä½¿ç”¨è¯­æ³•" class="headerlink" title="ä½¿ç”¨è¯­æ³•"></a>ä½¿ç”¨è¯­æ³•</h4><table>
<thead>
<tr>
<th>åŸå­è¡¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>[ â€¦ ]</td>
<td>åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªå…ƒå­—ç¬¦</td>
</tr>
<tr>
<td>[^]</td>
<td>åŒ¹é…<code>é™¤äº†</code>å…¶ä¸­æ‰€æœ‰å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªå…ƒå­—ç¬¦</td>
</tr>
<tr>
<td>[0-9]</td>
<td>åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­—</td>
</tr>
<tr>
<td>[a-z]</td>
<td>åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯</td>
</tr>
<tr>
<td>[A-Z]</td>
<td>åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯</td>
</tr>
</tbody></table>
<h4 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h4><p>ä½¿ç”¨<code>[]</code>åŒ¹é…å…¶ä¸­ä»»æ„å­—ç¬¦å³æˆåŠŸï¼Œä¸‹ä¾‹ä¸­åŒ¹é…<code>Af</code>å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸ä¼šå½“æˆä¸€ä¸ªæ•´ä½“æ¥å¯¹å¾…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const title = &quot;Ashuntefannao&quot;;</span><br><span class="line">console.log(/Af/.test(title)); //false</span><br><span class="line">console.log(/[Af]/.test(title)); //true</span><br></pre></td></tr></table></figure>

<p>æ—¥æœŸçš„åŒ¹é…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let time = &quot;2022-02-23&quot;;</span><br><span class="line">console.log(time.match(/\d&#123;4&#125;([-\/])\d&#123;2&#125;\1\d&#123;2&#125;/));</span><br></pre></td></tr></table></figure>

<p>è·å–<code>0~3</code>é—´çš„ä»»æ„æ•°å­—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const num = &quot;2&quot;;</span><br><span class="line">console.log(/[0-3]/.test(num)); //true</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…<code>a~f</code>é—´çš„ä»»æ„å­—ç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const char = &quot;e&quot;;</span><br><span class="line">console.log(/[a-f]/.test(char)); //true</span><br></pre></td></tr></table></figure>

<p>é¡ºåºå¿…é¡»ä¸º<code>å‡åº</code>ï¼Œå¦åˆ™å°†æŠ¥é”™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const num = &quot;2&quot;;</span><br><span class="line">console.log(/[3-0]/.test(num)); //SyntaxError</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &quot;ashuntefannao&quot;;</span><br><span class="line">console.log(/[f-a]/.test(as)); //SyntaxError</span><br></pre></td></tr></table></figure>

<p><code>æ’é™¤æ³• ^ </code>è·å–æ‰€æœ‰ç”¨æˆ·å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = `</span><br><span class="line">å¼ ä¸‰:010-99999999,æå››:020-88888888`;</span><br><span class="line">let res = user.match(/[^\s:\d\-,]+/g);</span><br><span class="line">console.log(res);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ <code>[\s\S]</code> æˆ– <code>[\d\D]</code>ç­‰ç­‰ï¼ŒåŒ¹é…åˆ°æ‰€æœ‰å­—ç¬¦åŒ…æ‹¬æ¢è¡Œç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">const reg = /[\s\S]+/g;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨åŸå­è¡¨çŸ¥è¯†åˆ é™¤æ‰€æœ‰æ ‡é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"> 		&lt;div id=&quot;content&quot;&gt;</span><br><span class="line"> 			ashuntefannao</span><br><span class="line"> 			&lt;h1&gt;ashun&lt;/h1&gt;</span><br><span class="line"> 		&lt;/div&gt;</span><br><span class="line">    &lt;h1&gt;ashuntefannao&lt;/h1&gt;</span><br><span class="line">    &lt;h1&gt;ashuntefannao&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;ASHUN&lt;/h2&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        let html = document.body;</span><br><span class="line">        console.log(html.innerHTML.match(/^\s*&lt;(h[0-6])&gt;.*&lt;\/\1&gt;\s*$/gm));</span><br><span class="line"></span><br><span class="line">        html.innerHTML = html.innerHTML.replace(</span><br><span class="line">          /^\s*&lt;(h[0-6])&gt;.*&lt;\/\1&gt;\s*$/gm,</span><br><span class="line">          &quot;&quot;</span><br><span class="line">        );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h5 id="ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦"><a href="#ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦" class="headerlink" title="ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦"></a>ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦</h5><p>æœ‰äº›å­—ç¬¦åœ¨æ­£åˆ™ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä½†æ˜¯åœ¨åŸå­ç»„ä¸­å´ä¸ç”¨è½¬ä¹‰ï¼Œåªè§†ä¸ºæ™®é€šå­—ç¬¦ã€‚</p>
<ul>
<li><code>|</code> ,  åŸå­è¡¨ä¸­çš„<code>|</code>åªæ˜¯æ™®é€šå­—ç¬¦ï¼Œä¸æ˜¯é€‰æ‹©ç¬¦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&quot;ASHUN|as&quot;.match(&#x2F;[a|A]&#x2F;g)); &#x2F;&#x2F;[&quot;A&quot;, &quot;|&quot;, &quot;a&quot;]</span><br><span class="line">console.log(&quot;ASHUN|as&quot;.match(&#x2F;(a|A)&#x2F;g)); &#x2F;&#x2F;[&quot;A&quot;, &quot;a&quot;]</span><br></pre></td></tr></table></figure>

<ul>
<li><code>.</code>  åœ¨åŸå­è¡¨ä¸­ä¹Ÿæ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œåªæ˜¯æ™®é€šçš„å­—ç¬¦<code>&quot;.&quot;</code>ã€‚</li>
<li><code>+</code>  åœ¨åŸå­è¡¨ä¸­ä¹Ÿåªæ˜¯æ™®é€šå­—ç¬¦<code>&quot;+&quot;</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let site &#x3D; &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(site.match(&#x2F;[\w+.\w+]&#x2F;g).join(&quot;&quot;));</span><br><span class="line">console.log(site.match(&#x2F;[\w.]&#x2F;g).join(&quot;&quot;));</span><br></pre></td></tr></table></figure>

<p>è‹¥æƒ³ä½¿ç”¨è¿™äº›ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨åŸå­ç»„<code>()</code>ç»“åˆé€‰æ‹©ç¬¦<code>|</code>ï¼Œè®©åŒ¹é…å½¢æˆ<code>æˆ–</code>çš„å…³ç³»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let site &#x3D; &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(site.match(&#x2F;(\w+|\.)&#x2F;g));</span><br><span class="line">console.log(site.match(&#x2F;(.+)&#x2F;g));</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="åŸå­ç»„"><a href="#åŸå­ç»„" class="headerlink" title="åŸå­ç»„"></a>åŸå­ç»„</h3><ul>
<li>å¦‚æœä¸€æ¬¡è¦åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œå¯ä»¥é€šè¿‡å…ƒå­ç»„å®Œæˆ</li>
<li>åŸå­ç»„ä¸åŸå­è¡¨çš„å·®åˆ«åœ¨äºåŸå­ç»„ä¸€æ¬¡åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œè€ŒåŸå­è¡¨åˆ™æ˜¯åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸”åŸå­ç»„é…åˆå…¶å®ƒçš„æ–¹æ³•ï¼Œèƒ½å¤Ÿå®Œæˆç»™æ›´å¤šçš„åŠŸèƒ½</li>
<li>å…ƒå­—ç¬¦ç»„ç”¨ <code>()</code> åŒ…è£¹</li>
</ul>
<p>ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é… <code>h1</code> æ ‡ç­¾ï¼Œå¦‚æœæƒ³åŒ¹é… <code>h2</code> åªéœ€è¦æŠŠå‰é¢åŸå­ç»„æ”¹ä¸º <code>h2</code> å³å¯ã€‚</p>
<ul>
<li>åŒ¹é…ç»“æŸæ ‡ç­¾æ—¶çš„ <code>\1</code> æ„ä¸ºï¼šåº”ç”¨ç¬¬ä¸€ä¸ªåŸå­ç»„åŒ¹é…åˆ°çš„å†…å®¹</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const dom = `&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;`;</span><br><span class="line">console.log(/&lt;(h1)&gt;.+&lt;\/\1&gt;/.test(hd)); //true</span><br></pre></td></tr></table></figure>

<h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>æ²¡æœ‰ä½¿ç”¨ <code>g</code> æ¨¡å¼æ—¶ï¼Œè‡ªå‰å‘ååªåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªï¼Œä½¿ç”¨<code>str.match\reg.exec</code>æ–¹æ³• åŒ¹é…åˆ°çš„ä¿¡æ¯åŒ…å«ä»¥ä¸‹æ•°æ®</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>åŒ¹é…åˆ°çš„å®Œæ•´å†…å®¹</td>
</tr>
<tr>
<td>1,2â€¦.</td>
<td>åŒ¹é…åˆ°çš„å„ä¸ªåŸå­ç»„å†…å®¹</td>
</tr>
<tr>
<td>index</td>
<td>åŒ¹é…åˆ°çš„stråœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ä½ç½®</td>
</tr>
<tr>
<td>input</td>
<td>åŸå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>groups</td>
<td>å‘½ååˆ†ç»„</td>
</tr>
</tbody></table>
<img src="æ­£åˆ™è¡¨è¾¾å¼.assets/RegExp_1.png" alt="RegExp_1" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      let title &#x3D; &quot;&lt;h3&gt;Ashuné˜¿é¡º&lt;&#x2F;h3&gt;&quot;;</span><br><span class="line">      let reg &#x3D; &#x2F;&lt;(h[0-9])&gt;(.+)&lt;\&#x2F;\1&gt;&#x2F;;</span><br><span class="line">      console.log(title.match(reg));</span><br><span class="line">      console.log(reg.exec(title));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(as.match(/fan(nao)\.(com)/));</span><br><span class="line">//[&quot;fannao.com&quot;, &quot;nao&quot;, &quot;com&quot;, index: 7, input: &quot;Ashuntefannao.com&quot;, groups: undefined]</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é…æ ‡é¢˜å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let content = `</span><br><span class="line">        &lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">        &lt;span&gt;é˜¿é¡º&lt;/span&gt;</span><br><span class="line">        &lt;h2&gt;Ashun&lt;/h2&gt;</span><br><span class="line">      `;</span><br><span class="line"></span><br><span class="line">        console.table(content.match(/&lt;(h[1-6])[\s\S]*&lt;\/\1&gt;/g));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ï¼Œåœ¨åŒ¹é…æ ‡ç­¾å¯¹å†…å®¹æ—¶ï¼ŒåŒ¹é…çš„æ˜¯ä»»æ„å­—ç¬¦ï¼Œä½†æ˜¯è¿™æ ·åœ¨åŒçº§åˆ«æ ‡é¢˜è¿ç»­æ—¶ï¼Œå°±ä¼šå‡ºé”™ã€‚</p>
<p>ä¼šå°†<code>&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt; \n &lt;h1&gt;ashun&lt;/h1&gt;</code>è§†ä¸º<code>&lt;h1&gt;é˜¿é¡ºâ€¦â€¦ashun&lt;/h1&gt;</code>ï¼Œä¸¤ä¸ªæ ‡ç­¾çš„åŒ¹é…ç»“æœåªæœ‰ä¸€é¡¹</p>
<ul>
<li>åº”è¯¥æ’é™¤æ¢è¡Œç¬¦ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let content &#x3D; &#96;</span><br><span class="line">        &lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h1&gt;Ashuntefannao&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;span&gt;é˜¿é¡º&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;h2&gt;Ashun&lt;&#x2F;h2&gt;</span><br><span class="line">      &#96;;</span><br><span class="line"></span><br><span class="line">        console.table(content.match(&#x2F;&lt;(h[1-6])[\s\S]*&lt;\&#x2F;\1&gt;&#x2F;g));</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F;æ ‡ç­¾å†…å®¹åº”è¯¥æ’é™¤æ¢è¡Œç¬¦</span><br><span class="line">        console.table(content.match(&#x2F;&lt;(h[1-6]).*&lt;\&#x2F;\1&gt;&#x2F;g));</span><br><span class="line">        console.table(content.match(&#x2F;^\s*&lt;(h[1-6]).*&lt;\&#x2F;\1&gt;\s*$&#x2F;gm));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ£€æµ‹ <code>0~100</code> çš„æ•°å€¼ï¼Œä½¿ç”¨ <code>parseInt</code> å°†æ•°å€¼è½¬ä¸º10è¿›åˆ¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(/^(\d&#123;1,2&#125;|100)$/.test(parseInt(09, 10)));</span><br></pre></td></tr></table></figure>



<h4 id="é‚®ç®±åŒ¹é…"><a href="#é‚®ç®±åŒ¹é…" class="headerlink" title="é‚®ç®±åŒ¹é…"></a>é‚®ç®±åŒ¹é…</h4><p>ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é…é‚®ç®±</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let email = &quot;2300071698@qq.com&quot;;</span><br><span class="line">let reg = /^[\w\-]+@[\w\-]+\.(com|org|cn|cc|net)$/i;</span><br><span class="line">console.dir(email.match(reg));</span><br></pre></td></tr></table></figure>

<p>å¦‚æœé‚®ç®±æ˜¯ä»¥ä¸‹æ ¼å¼ <code>Ashuntefannao@as.com.cn</code> ä¸Šé¢è§„åˆ™å°†æ— æ•ˆï¼Œéœ€è¦å®šä¹‰ä»¥ä¸‹æ–¹å¼</p>
<ul>
<li>å°†<code>xxx.</code>è¿™æ ·çš„åç¼€ï¼Œå°è£…ä¸ºåˆ†å­ç»„ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ª</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let email = `admin@Ashun.com.cn`;</span><br><span class="line">let reg = /^[\w-]+@([\w-]+\.)+(org|com|cc|cn)$/;</span><br><span class="line">console.log(email.match(reg));</span><br></pre></td></tr></table></figure>





<h4 id="å¼•ç”¨åŸå­ç»„"><a href="#å¼•ç”¨åŸå­ç»„" class="headerlink" title="å¼•ç”¨åŸå­ç»„"></a>å¼•ç”¨åŸå­ç»„</h4><ul>
<li><code>\number</code> åœ¨<strong>åŒ¹é…</strong>æ—¶å¼•ç”¨ç¬¬<code>number</code>ä¸ªåŸå­ç»„åŒ¹é…çš„æ•°æ®</li>
<li><code>$number</code> åœ¨<strong>æ›¿æ¢</strong>æ—¶å¼•ç”¨ç¬¬<code>number</code>ä¸ªåŸå­ç»„åŒ¹é…çš„æ•°æ®ã€‚</li>
</ul>
<p>ä¸‹é¢å°† æ ‡é¢˜æ ‡ç­¾ æ›¿æ¢ä¸º <code>p</code>æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let content = `</span><br><span class="line">  &lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">  &lt;span&gt;é˜¿é¡º&lt;/span&gt;</span><br><span class="line">  &lt;h2&gt;SHUN&lt;/h2&gt;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">let reg = /&lt;(h[1-6])&gt;(.*)&lt;\/\1&gt;/gi;</span><br><span class="line">console.log(content.replace(reg, `&lt;p&gt;$2&lt;/p&gt;`));</span><br></pre></td></tr></table></figure>



<h4 id=""><a href="#" class="headerlink" title="? :"></a>? :</h4><p>å¦‚æœå¸Œæœ›åŸå­ç»„<strong>åªå‚ä¸åŒ¹é…ï¼Œä¸è¿”å›åˆ°ç»“æœå½“ä¸­</strong>ï¼Œå¯ä½¿ç”¨ <code>?:</code> å¤„ç†ã€‚<code>:?</code>ç½®äºåŸå­ç»„å¤´éƒ¨ã€‚</p>
<p>ä¸‹é¢æ˜¯è·å–æ‰€æœ‰åŸŸåçš„ç¤ºä¾‹</p>
<ul>
<li>ç”±äºä¸‹é¢ç¬¬äºŒå±‚åµŒå¥—çš„åŸå­ç»„éƒ½ä½¿ç”¨<code>?:</code>å¤„ç†ï¼Œåˆ™åœ¨è¿”å›ç»“æœä¸­ï¼Œä¾¿æ²¡æœ‰äº†å±æ€§<code>2~n</code>ï¼Œä½†æœ‰å±æ€§<code>1</code>è¿”å›ç¬¬ä¸€å±‚åŸå­ç»„åŒ¹é…åˆ°çš„åŸŸåéƒ¨åˆ†</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let webs = `</span><br><span class="line">  https://www.Ashuntefannao.com</span><br><span class="line">  http://Ashunwang.com</span><br><span class="line">  https://Ashun.com</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">let reg = /https?:\/\/((?:\w+\.)?\w+\.(?:com|org|cn))/gi;</span><br><span class="line">while ((v = reg.exec(webs))) &#123;</span><br><span class="line">  console.dir(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="åˆ«å-lt-gt"><a href="#åˆ«å-lt-gt" class="headerlink" title="åˆ«å?&lt;&gt;"></a>åˆ«å?&lt;&gt;</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ä¸ä½¿ç”¨<code>g</code>æ¨¡å¼æ—¶ï¼Œå¹¶ç»“åˆ<code>str.match/reg.exec</code>æ–¹æ³•æ—¶ï¼Œå„åŸå­ç»„åŒ¹é…çš„ç»“æœå°†ä¼šå­˜å‚¨åˆ°<code>1~n</code>å±æ€§ä¸­ï¼Œä½†å¦‚æœåŸå­ç»„è¿‡å¤šï¼Œä¹Ÿå°±ä»£è¡¨RegExpè¶Šå¤æ‚ï¼Œå°±è¶Šä¸å®¹æ˜“æ‰¾åˆ°å¯¹åº”çš„åŸå­ç»„åŒ¹é…ç»“æœã€‚</p>
<p>å¦‚æœå¸Œæœ›è¿”å›çš„ç»„æ•°æ®æ›´æ¸…æ™°ï¼Œå¯ä»¥ä¸ºåŸå­ç»„å‘½åï¼Œç»“æœå°†ä¿å­˜åœ¨è¿”å›çš„ <code>groups</code>å­—æ®µä¸­</p>
<ul>
<li>è¯­æ³•<code>?&lt;alia&gt;</code>,å°†å…¶ç½®äºåŸå­ç»„å¤´éƒ¨å³å¯</li>
</ul>
<img src="æ­£åˆ™è¡¨è¾¾å¼.assets/RegExp_2.png" alt="RegExp_2" style="zoom:80%;" />

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let title = &quot;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&quot;;</span><br><span class="line">console.dir(title.match(/&lt;(?&lt;tag&gt;h[1-6])(?&lt;content&gt;.*)&lt;\/\1&gt;/));</span><br></pre></td></tr></table></figure>



<h5 id="å¼•ç”¨åˆ«ååŸå­ç»„"><a href="#å¼•ç”¨åˆ«ååŸå­ç»„" class="headerlink" title="å¼•ç”¨åˆ«ååŸå­ç»„"></a>å¼•ç”¨åˆ«ååŸå­ç»„</h5><p>åˆ«åä¸èƒ½åœ¨å‚ä¸åŒ¹é…æ—¶å¼•ç”¨ï¼Œè‹¥æƒ³å¼•ç”¨å¯¹åº”åŸå­ç»„ï¼Œè¿˜æ˜¯é€šè¿‡<code>\number</code>è¿›è¡Œå¼•ç”¨</p>
<ul>
<li><code>\number</code>ï¼Œå‚ä¸åŒ¹é…æ—¶å¼•ç”¨</li>
<li><code>$&lt;alia&gt;</code>ï¼Œå‚ä¸æ›¿æ¢æ—¶ä½¿ç”¨</li>
</ul>
<p>ç»„åˆ«åä½¿ç”¨ <code>?&lt;&gt;</code> å½¢å¼å®šä¹‰ï¼Œä¸‹é¢å°†æ ‡ç­¾æ›¿æ¢ä¸º<code>p</code>æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let txt = `</span><br><span class="line">  &lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">  &lt;span&gt;é˜¿é¡º&lt;/span&gt;</span><br><span class="line">  &lt;h2&gt;SHUN&lt;/h2&gt;</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">let reg = /&lt;(?&lt;tag&gt;h[1-6])&gt;(?&lt;content&gt;[\s\S]*)&lt;\/\1&gt;/gi;</span><br><span class="line">console.log(txt.replace(reg, `&lt;p&gt;$&lt;content&gt;&lt;/p&gt;`));</span><br></pre></td></tr></table></figure>

<p>è·å–é“¾æ¥ä¸ç½‘ç«™åç§°ç»„æˆæ•°ç»„é›†åˆ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;a href=&quot;https://astfn.github.io&quot;&gt;AshunBlog&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;https://www.hdcms.com&quot;&gt;hdcms&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;https://www.sina.com.cn&quot;&gt;æ–°æµª&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">   let body = document.body;</span><br><span class="line">   let reg = /^\s*&lt;a.+href=.*(?&lt;link&gt;https?:\/\/([-\w]+\.)+(?:cn|com|org|cc|github|io)).*&gt;(?&lt;name&gt;.*)&lt;\/a&gt;\s*$/gim;</span><br><span class="line">    let arr = [];</span><br><span class="line">    while ((exec = reg.exec(body.innerHTML))) &#123;</span><br><span class="line">      arr.push(exec[&quot;groups&quot;]);</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(arr);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="é‡å¤åŒ¹é…"><a href="#é‡å¤åŒ¹é…" class="headerlink" title="é‡å¤åŒ¹é…"></a>é‡å¤åŒ¹é…</h3><h4 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>å¦‚æœè¦é‡å¤åŒ¹é…ä¸€äº›å†…å®¹æ—¶æˆ‘ä»¬è¦ä½¿ç”¨é‡å¤åŒ¹é…ä¿®é¥°ç¬¦ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚</p>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td>+</td>
<td>é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td>?</td>
<td>é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</td>
</tr>
<tr>
<td>{n}</td>
<td>é‡å¤næ¬¡</td>
</tr>
<tr>
<td>{n,}</td>
<td>é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡</td>
</tr>
<tr>
<td>{n,m}</td>
<td>é‡å¤nåˆ°mæ¬¡</td>
</tr>
</tbody></table>
<p>é‡å¤åŒ¹é…å¯ä»¥åº”ç”¨äº:</p>
<ul>
<li>å•ä¸ªå­—ç¬¦</li>
<li>åŸå­è¡¨</li>
<li>åŸå­ç»„</li>
</ul>
<blockquote>
<p>å› ä¸ºæ­£åˆ™æœ€å°å•ä½æ˜¯å…ƒå­—ç¬¦ï¼Œè€Œæˆ‘ä»¬å¾ˆå°‘åªåŒ¹é…ä¸€ä¸ªå…ƒå­—ç¬¦å¦‚aã€bæ‰€ä»¥åŸºæœ¬ä¸Šé‡å¤åŒ¹é…åœ¨æ¯æ¡æ­£åˆ™è¯­å¥ä¸­éƒ½æ˜¯å¿…ç”¨åˆ°çš„å†…å®¹ã€‚</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹,é‡å¤é€‰é¡¹å¯¹å•ä¸ªå­—ç¬¦è¿›è¡Œé‡å¤åŒ¹é…ï¼Œæ˜¯è´ªå©ªåŒ¹é…ï¼Œä¸€åªåŒ¹é…åˆ°ä¸é‡å¤ä¸ºæ­¢ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;assshun&quot;;</span><br><span class="line">console.log(as.match(/as+/i)); //asss</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åŸå­ç»„ååˆ™å¯¹æ•´ä¸ªç»„é‡å¤åŒ¹é…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;ashunAshuntefannao&quot;;</span><br><span class="line">console.log(as.match(/(ashun)+/i)); //ashunAshun</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯éªŒè¯åæœºå·çš„æ­£åˆ™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let tell = &quot;010-12345678&quot;;</span><br><span class="line">console.log(/^0\d&#123;2,3&#125;-\d&#123;7,8&#125;$/.exec(tell));</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ç”¨æˆ·ååªèƒ½ä¸º3~8ä½çš„å­—æ¯æˆ–æ•°å­—ï¼Œå¹¶ä»¥å­—æ¯å¼€å§‹</p>
<ul>
<li>åƒè¿™ç§ä¸¥æ ¼çº¦æŸçš„æ­£åˆ™ï¼Œéœ€è¦ç”¨<code>^â€¦$</code>è¿›è¡Œçº¦æŸï¼Œè‹¥ä¸ä½¿ç”¨å…¶è¿›è¡Œçº¦æŸï¼Œé‚£ä¹ˆå¦‚æœç”¨æˆ·åç¬¦åˆå­—æ¯\æ•°å­—ï¼Œä½†æ˜¯ä½æ•°è¶…è¿‡8ä½ï¼Œä¹Ÿèƒ½åŒ¹é…æˆåŠŸï¼Œåªä¸è¿‡åªè¿”å›å‰8ä½ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  &#123;</span><br><span class="line">        let input = document.querySelector(&quot;[name=&#x27;username&#x27;]&quot;);</span><br><span class="line">        let reg = /^[a-zA-Z](\d|[a-zA-Z])&#123;2,7&#125;$/;</span><br><span class="line">        input.addEventListener(&quot;input&quot;, function () &#123;</span><br><span class="line">          console.log(reg.test(this.value) ? &quot;æ­£ç¡®&quot; : &quot;é”™è¯¯&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´</p>
<ul>
<li>å¤šç§éªŒè¯ç»„åˆï¼Œå¯ä»¥å°†regexpç½®äºæ•°ç»„ä¸­ï¼Œéå†æ•°ç»„è¿‡ç¨‹ä¸­å¯¹strè¿›è¡Œåˆ¤æ–­</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;password&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">let input = document.querySelector(`[name=&quot;password&quot;]`);</span><br><span class="line">input.addEventListener(&quot;keyup&quot;, e =&gt; &#123;</span><br><span class="line">  const value = e.target.value.trim();</span><br><span class="line">  const regs = [/^[a-zA-Z0-9]&#123;5,10&#125;$/, /[A-Z]/];</span><br><span class="line">  let state = regs.every(v =&gt; v.test(value));</span><br><span class="line">  console.log(state ? &quot;æ­£ç¡®ï¼&quot; : &quot;å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç¦æ­¢è´ªå©ª"><a href="#ç¦æ­¢è´ªå©ª" class="headerlink" title="ç¦æ­¢è´ªå©ª"></a>ç¦æ­¢è´ªå©ª</h4><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨è¿›è¡Œé‡å¤åŒ¹é…æ—¶ï¼Œ<strong>é»˜è®¤æ˜¯è´ªå©ªåŒ¹é…æ¨¡å¼</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šå°½é‡åŒ¹é…æ›´å¤šå†…å®¹ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›ä»–åŒ¹é…æ›´å¤šå†…å®¹ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡ <strong><code>?</code></strong> å¯¹ é‡å¤åŒ¹é…è¯­æ³• è¿›è¡Œä¿®é¥°ï¼Œä¼šå°½å¯èƒ½çš„å°‘åŒ¹é…ã€‚</p>
<table>
<thead>
<tr>
<th>ä½¿ç”¨</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>*?</td>
<td>0ä¸ªæˆ–å¤šä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td>
</tr>
<tr>
<td>+?</td>
<td>1ä¸ªæˆ–å¤šä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td>
</tr>
<tr>
<td>??</td>
<td>0ä¸ªæˆ–1ä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td>
</tr>
<tr>
<td>{n,m}?</td>
<td>n~mä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td>
</tr>
<tr>
<td>{n,}?</td>
<td>&gt;=nä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ˜¯ç¦æ­¢è´ªå©ªçš„è¯­æ³•ä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     let str &#x3D; &quot;assshun&quot;;</span><br><span class="line">     &#x2F;&#x2F; let reg &#x3D; &#x2F;as+?&#x2F;;      &#x2F;&#x2F;as</span><br><span class="line">     &#x2F;&#x2F; let reg &#x3D; &#x2F;as*?&#x2F;;      &#x2F;&#x2F;a</span><br><span class="line">     &#x2F;&#x2F; let reg &#x3D; &#x2F;as??&#x2F;;      &#x2F;&#x2F;a</span><br><span class="line">     &#x2F;&#x2F; let reg &#x3D; &#x2F;as&#123;2,&#125;?&#x2F;;   &#x2F;&#x2F;ass</span><br><span class="line">     &#x2F;&#x2F; let reg &#x3D; &#x2F;as&#123;2,3&#125;?&#x2F;;  &#x2F;&#x2F;ass</span><br><span class="line"></span><br><span class="line">     console.log(str.match(reg));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†æ‰€æœ‰spanæ›´æ¢ä¸º<code>h5</code> å¹¶æçº¢ï¼Œå¹¶åœ¨å†…å®¹å‰åŠ ä¸Š <code>é˜¿é¡º-</code></p>
<ul>
<li>ä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨åŒ¹é…æ ‡ç­¾æ—¶ï¼Œæ ‡ç­¾å¯¹çš„å†…å®¹è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œä¸ºäº†é¿å…åŒåæ ‡ç­¾è¿ç»­æ—¶ï¼Œåˆå¹¶åŒ¹é…çš„æƒ…å†µ</li>
<li>å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨ç¦æ­¢è´ªå©ªï¼Œæ¥è¿›è¡Œçº¦æŸï¼Œå¹¶ä¸”ç¦æ­¢è´ªå©ªæƒ…å†µä¸‹ï¼Œä¹Ÿå°±ä¸å¿…ä½¿ç”¨<code>m</code>æ¨¡å¼é…åˆ<code>^$</code>è¿›è¡Œä¸¥æ ¼çº¦æŸäº†ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;span&gt;ashunwang&lt;/span&gt;</span><br><span class="line">    &lt;span&gt;ashun.com&lt;/span&gt;</span><br><span class="line">    &lt;span&gt;ashuntefannao.com&lt;/span&gt;</span><br><span class="line">  &lt;/main&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const main = document.querySelector(&quot;main&quot;);</span><br><span class="line">  const reg = /&lt;span&gt;([\s\S]+?)&lt;\/span&gt;/gi;</span><br><span class="line">  main.innerHTML = main.innerHTML.replace(reg, (v, p1) =&gt; &#123;</span><br><span class="line">    console.log(p1);</span><br><span class="line">    return `&lt;h4 style=&quot;color:red&quot;&gt;åç›¾äºº-$&#123;p1&#125;&lt;/h4&gt;`;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨ç¦æ­¢è´ªå©ªæŸ¥æ‰¾é¡µé¢ä¸­çš„æ ‡é¢˜å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"> 		&lt;div id=&quot;content&quot;&gt;</span><br><span class="line">      ashuntefannao</span><br><span class="line">      &lt;h1&gt;ashun&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;h1&gt;ashuntefannao&lt;/h1&gt;</span><br><span class="line">    &lt;h1&gt;ashuntefannao&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;ASHUN&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#123;</span><br><span class="line">        let body = document.body.innerHTML;</span><br><span class="line">        let reg = /&lt;(h[1-6])&gt;[\s\S]*?&lt;\/\1&gt;/gi;</span><br><span class="line">        // let reg = /^\s*?&lt;(h[1-6])&gt;[\s\S]*?&lt;\/\1&gt;\s*?$/gim;</span><br><span class="line">        console.table(body.match(reg));</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="ç»†èŠ‚è¿”å›"><a href="#ç»†èŠ‚è¿”å›" class="headerlink" title="ç»†èŠ‚è¿”å›"></a>ç»†èŠ‚è¿”å›</h3><h4 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h4><p>é€šè¿‡ä¹‹å‰çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬çŸ¥é“<code>str.match</code>æ–¹æ³•ï¼š</p>
<ul>
<li>åœ¨é<code>g</code>å…¨å±€åŒ¹é…æ¨¡å¼ä¸‹ï¼Œåªè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œå¹¶ä¸”åŒ…å«åŒ¹é…ç»†èŠ‚å‚æ•°</li>
<li>åœ¨<code>g</code>æ¨¡å¼ä¸‹ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å†…å®¹çš„Arrayï¼Œä½†æ˜¯æ¯ä¸ªå…ƒç´ ä¸åŒ…å«åŒ¹é…ç»†èŠ‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;Ashuntefannao.com&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;ashun.com&lt;/h2&gt;</span><br><span class="line">  &lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function elem(tag) &#123;</span><br><span class="line">    const reg = new RegExp(`&lt;($&#123;tag&#125;).*&gt;.+?&lt;/\\1&gt;`, &quot;g&quot;);</span><br><span class="line">    return document.body.innerHTML.match(reg);</span><br><span class="line">  &#125;</span><br><span class="line">  console.table(elem(&quot;h1&quot;));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="matchAll"><a href="#matchAll" class="headerlink" title="matchAll"></a>matchAll</h4><p>åœ¨<strong>æ–°ç‰ˆæœ¬æµè§ˆå™¨</strong>ä¸­æ”¯æŒä½¿ç”¨ <code>matchAll</code> æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡</p>
<blockquote>
<p>éœ€è¦æ·»åŠ  <code>g</code> ä¿®é¥°ç¬¦</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     let str &#x3D; &quot;as&quot;;</span><br><span class="line">     let reg &#x3D; &#x2F;.&#x2F;g;</span><br><span class="line">     let iterator &#x3D; str.matchAll(reg);</span><br><span class="line">     console.log(iterator.next()); &#x2F;&#x2F;&#123; value:Array(1), done:false &#125;</span><br><span class="line">     console.log(iterator.next()); &#x2F;&#x2F;&#123; value:Array(1), done:false &#125;</span><br><span class="line">     console.log(iterator.next()); &#x2F;&#x2F;&#123; value:undefined, done:true &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>å¯è¿­ä»£å¯¹è±¡å¯ä½¿ç”¨<code>for/of</code>éå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashuntefannao&quot;;</span><br><span class="line">let reg = /[a-z]/ig;</span><br><span class="line">for (const iterator of str.matchAll(reg)) &#123;</span><br><span class="line">  console.log(iterator);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨åŸå‹å®šä¹‰ <code>matchAll</code>æ–¹æ³•ï¼Œç”¨äºåœ¨æ—§æµè§ˆå™¨ä¸­å·¥ä½œï¼Œä¸éœ€è¦æ·»åŠ <code>g</code> æ¨¡å¼è¿è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        String.prototype.matchAll = function (reg) &#123;</span><br><span class="line">          let match = this.match(reg);</span><br><span class="line">          if (match) &#123;</span><br><span class="line">            let str = this.replace(reg, &quot;^&quot;.repeat(match[0].length));</span><br><span class="line">            let matchArr = str.matchAll(reg) || [];</span><br><span class="line">            return [match, ...matchArr];</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        let reg = /a/;</span><br><span class="line">        console.log(&quot;ashuna&quot;.matchAll(reg));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h4><p>ä½¿ç”¨ <code>g</code> æ¨¡å¼ä¿®æ­£ç¬¦å¹¶ç»“åˆ <code>exec</code> å¾ªç¯æ“ä½œå¯ä»¥è·å–ç»“æœå’ŒåŒ¹é…ç»†èŠ‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;ashuntefannao.com&lt;/h1&gt;</span><br><span class="line">  &lt;h1&gt;é˜¿é¡º&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;Ashun.com&lt;/h2&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function search(string, reg) &#123;</span><br><span class="line">    const matchs = [];</span><br><span class="line">    while ((data = reg.exec( string))) &#123;</span><br><span class="line">      matchs.push(data);</span><br><span class="line">    &#125;</span><br><span class="line">    return matchs;</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(search(document.body.innerHTML, /&lt;(h[1-6]).*?&gt;[\s\S]+?&lt;\/\1&gt;/gi));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°æ¥æ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„ç½‘å€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let sites = `https://ashunwang.com  </span><br><span class="line">https://www.sina.com.cn</span><br><span class="line">https://astfn.github.io`;</span><br><span class="line"></span><br><span class="line">let res = search(sites, /https?:\/\/(\w+\.)?(\w+\.)+(com|cn|io)/gi);</span><br><span class="line">console.dir(res);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å­—ç¬¦æ–¹æ³•"><a href="#å­—ç¬¦æ–¹æ³•" class="headerlink" title="å­—ç¬¦æ–¹æ³•"></a>å­—ç¬¦æ–¹æ³•</h3><p>ä¸‹é¢ä»‹ç»çš„æ–¹æ³•æ˜¯ <code>String</code> æä¾›çš„æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•</p>
<h4 id="search"><a href="#search" class="headerlink" title="search"></a>search</h4><p><code>search(str/reg)</code> æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼Œè¿”å›å€¼ä¸ºç´¢å¼•ä½ç½®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(str.search(&quot;.com&quot;));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(str.search(/\.com/i));</span><br></pre></td></tr></table></figure>

<h4 id="match"><a href="#match" class="headerlink" title="match"></a>match</h4><p>ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æœç´¢</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(str.match(&quot;com&quot;));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­£åˆ™è·å–å†…å®¹ï¼Œä¸‹é¢æ˜¯ç®€å•çš„æœç´¢å­—ç¬¦ä¸², é<code>g</code>æ¨¡å¼ä¸‹ï¼ŒåªåŒ¹é…ä¸€æ¬¡ï¼Œä¸”è¿”å›è¯¦ç»†å‚æ•°ä¿¡æ¯ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;Ashuntefannao&quot;;</span><br><span class="line">let res = as.match(/a/i);</span><br><span class="line">console.log(res);</span><br><span class="line">console.log(res[0]); //åŒ¹é…çš„ç»“æœ</span><br><span class="line">console.log(res[index]); //å‡ºç°çš„ä½ç½®</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨ <code>g</code> ä¿®é¥°ç¬¦æ—¶ï¼Œå°±ä¸ä¼šæœ‰ç»“æœçš„è¯¦ç»†ä¿¡æ¯äº†ï¼ˆå¯ä»¥ä½¿ç”¨execï¼‰ï¼Œä¸‹é¢æ˜¯è·å–æ‰€æœ‰h1~6çš„æ ‡é¢˜å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let body = document.body.innerHTML;</span><br><span class="line">let result = body.match(/&lt;(h[1-6]).*?&gt;[\s\S]+?&lt;\/\1&gt;/g);</span><br><span class="line">console.table(result);</span><br></pre></td></tr></table></figure>

<h4 id="matchAll-1"><a href="#matchAll-1" class="headerlink" title="matchAll"></a>matchAll</h4><p>åœ¨æ–°æµè§ˆå™¨ä¸­æ”¯æŒä½¿ç”¨ <code>matchAll</code> ç»“åˆ<code>g</code>æ¨¡å¼æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashuntefannao&quot;;</span><br><span class="line">let reg = /[a-z]/ig;</span><br><span class="line">for (const iterator of str.matchAll(reg)) &#123;</span><br><span class="line">  console.log(iterator);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="split"><a href="#split" class="headerlink" title="split"></a>split</h4><p>ç”¨äºä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”å­—ç¬¦ä¸²ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²åˆ†éš”æ—¥æœŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;2023-02-12&quot;;</span><br><span class="line">console.log(str.split(&quot;-&quot;)); //[&quot;2023&quot;, &quot;02&quot;, &quot;12&quot;]</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ—¥æœŸçš„è¿æ¥ç¬¦ä¸ç¡®å®šï¼Œé‚£å°±è¦ä½¿ç”¨æ­£åˆ™æ“ä½œäº†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;2023/02-12&quot;;</span><br><span class="line">console.log(str.split(/-|\//));</span><br></pre></td></tr></table></figure>



<h4 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h4><p><code>replace</code> æ–¹æ³•ä¸ä»…å¯ä»¥æ‰§è¡ŒåŸºæœ¬å­—ç¬¦æ›¿æ¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ­£åˆ™æ›¿æ¢ï¼Œä¸‹é¢æ›¿æ¢æ—¥æœŸè¿æ¥ç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;2023/02/12&quot;;</span><br><span class="line">console.log(str.replace(/\//g, &quot;-&quot;)); //2023-02-12</span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥æ’å…¥ä¸‹é¢çš„ç‰¹æ®Šå˜é‡åï¼š</p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>$$</td>
<td>æ’å…¥ä¸€ä¸ª â€œ$â€ã€‚</td>
</tr>
<tr>
<td>$&amp;</td>
<td>æ’å…¥åŒ¹é…çš„ç»“æœã€‚</td>
</tr>
<tr>
<td>$`</td>
<td>æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>$â€™</td>
<td>æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>$n</td>
<td>å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>RegExp</code> ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œåˆ™<code>$n</code>æ„ä¸ºï¼šæ’å…¥ç¬¬ n ä¸ªåŸå­ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹</td>
</tr>
<tr>
<td>$&lt;alia&gt;</td>
<td>ä¸<code>$n</code>ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æ’å…¥åŸå­ç»„åŒ¹é…çš„å†…å®¹ï¼Œä½†<code>$&lt;alia&gt;</code>æ˜¯é€šè¿‡åˆ«åé”å®šå¯¹åº”åŸå­ç»„</td>
</tr>
</tbody></table>
<p>åœ¨â€é˜¿é¡ºâ€å‰åå†åˆ†åˆ«æ·»åŠ 2ä¸ª<code>=</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &quot;=é˜¿é¡º=&quot;;</span><br><span class="line">console.log(as.replace(/é˜¿é¡º/g, &quot;$`$`$&amp;$&#x27;$&#x27;&quot;)); // ===é˜¿é¡º===</span><br></pre></td></tr></table></figure>

<p>æŠŠç”µè¯å·ç”¨ <code>-</code> è¿æ¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let tell = &quot;(010)99999999 (020)8888888&quot;;</span><br><span class="line">console.log(tell.replace(/\((\d&#123;3,4&#125;)\)(\d&#123;7,8&#125;)/g, &quot;$1-$2&quot;));</span><br></pre></td></tr></table></figure>

<p>æŠŠæ‰€æœ‰<code>é˜¿é¡º</code>å…³é”®å­—åŠ ä¸Šé“¾æ¥ <code>https://www.Ashuntefannao.com</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const body = document.body;</span><br><span class="line">  body.innerHTML = body.innerHTML.replace(</span><br><span class="line">    /é˜¿é¡º/g,</span><br><span class="line">    `&lt;a href=&quot;https://www.Ashuntefannao.com&quot;&gt;$&amp;&lt;/a&gt;`</span><br><span class="line">  );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a><strong>å›è°ƒå‡½æ•°</strong></h5><p>replace æ”¯æŒå›è°ƒå‡½æ•°æ“ä½œï¼Œç”¨äºå¤„ç†å¤æ‚çš„æ›¿æ¢é€»è¾‘ï¼Œå›è°ƒå‡½æ•°å‚æ•°ä¸<code>str.match\str.matchAll\reg.exec</code>è¿”å›çš„è¯¦ç»†å‚æ•°æ˜¯å¯¹åº”çš„ã€‚</p>
<table>
<thead>
<tr>
<th>å˜é‡å</th>
<th>ä»£è¡¨çš„å€¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>str</code></td>
<td>åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&amp;ã€‚ï¼‰</td>
</tr>
<tr>
<td><code>p1,p2, ...</code></td>
<td>å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª <code>RegExp</code> ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªåŸå­ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td><code>index</code></td>
<td>åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯ <code>&#39;abcd&#39;</code>ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ <code>&#39;bc&#39;</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†ä¼šæ˜¯ 1ï¼‰</td>
</tr>
<tr>
<td><code>source</code></td>
<td>è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>NamedCaptureGroup</td>
<td>å‘½åæ•è·ç»„åŒ¹é…çš„å¯¹è±¡</td>
</tr>
</tbody></table>
<p>å°†å…³äºashunçš„é“¾æ¥åè®®å…¨éƒ¨ç½®ä¸º<code>https</code> ï¼Œå¹¶è¡¥å…¨ <code>www.</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;a style=&quot;color: red&quot; href=&quot;http://www.ashun.com&quot;&gt; é˜¿é¡º &lt;/a&gt;</span><br><span class="line">    &lt;a id=&quot;l1&quot; href=&quot;http://Ashuntefannao.com&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;http://yahoo.com&quot;&gt;é›…è™&lt;/a&gt;</span><br><span class="line">    &lt;h4&gt;http://www.ashun.com&lt;/h4&gt;</span><br><span class="line">  &lt;/main&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"> &#123;</span><br><span class="line">        let reg = /(&lt;a.*?)(http)?(:\/\/)(www\.)?(Ashuntefannao|ashun)/g;</span><br><span class="line">        let body = document.body;</span><br><span class="line">        body.innerHTML = body.innerHTML.replace(reg, (val, ...args) =&gt; &#123;</span><br><span class="line">          args[1] = &quot;https&quot;;</span><br><span class="line">          args[3] = args[3] || &quot;www.&quot;;</span><br><span class="line">          return args.slice(0, 5).join(&quot;&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        console.log(body.innerHTML.match(reg));</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å°†æ ‡é¢˜æ ‡ç­¾å…¨éƒ¨æ›¿æ¢ä¸º <code>p</code> æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;Ashuntefannao.com&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;ashun.com&lt;/h2&gt;</span><br><span class="line">  &lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const reg = /&lt;(h[1-6])&gt;(.*?)&lt;\/\1&gt;/g;</span><br><span class="line">  const body = document.body.innerHTML;</span><br><span class="line">  const html = body.replace(reg, function(str, tag, content) &#123;</span><br><span class="line">    return `&lt;p&gt;$&#123;content&#125;&lt;/p&gt;`;</span><br><span class="line">  &#125;);</span><br><span class="line">  document.body.innerHTML = html;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤é¡µé¢ä¸­çš„ <code>h1~h6</code> æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1&gt;Ashuntefannao.com&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;ashun.com&lt;/h2&gt;</span><br><span class="line">  &lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const reg = /&lt;(h[1-6])&gt;(.*?)&lt;\/\1&gt;/g;</span><br><span class="line">  const body = document.body.innerHTML;</span><br><span class="line">  const html = body.replace(reg, &quot;&quot;);</span><br><span class="line">  document.body.innerHTML = html;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å›è°ƒå‡½æ•°å°† <code>é˜¿é¡º</code> æ·»åŠ ä¸Šé“¾æ¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºè®¨åŒçƒ¦æ¼</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let content = document.querySelector(&quot;.content&quot;);</span><br><span class="line">  content.innerHTML = content.innerHTML.replace(&quot;é˜¿é¡º&quot;, function(</span><br><span class="line">    search,</span><br><span class="line">    index,</span><br><span class="line">    source</span><br><span class="line">  ) &#123;</span><br><span class="line">    return `&lt;a href=&quot;https://www.Ashuntefannao.com&quot;&gt;$&#123;search&#125;&lt;/a&gt;`;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸ºæ‰€æœ‰æ ‡é¢˜æ·»åŠ ä¸Š <code>hot</code> ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    &lt;h1&gt;Ashuntefannao.com&lt;/h1&gt;</span><br><span class="line">  	&lt;h2&gt;ashun.com&lt;/h2&gt;</span><br><span class="line">  	&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let content = document.querySelector(&quot;.content&quot;);</span><br><span class="line">  let reg = /&lt;(h[1-6])(.*?)&gt;([\s\S]*?)&lt;\/\1&gt;/gi;</span><br><span class="line">  content.innerHTML = content.innerHTML.replace(</span><br><span class="line">    reg,</span><br><span class="line">    (</span><br><span class="line">      search, //åŒ¹é…åˆ°çš„å­—ç¬¦</span><br><span class="line">      p1, //ç¬¬ä¸€ä¸ªåŸå­ç»„</span><br><span class="line">      p2, //ç¬¬äºŒä¸ªåŸå­ç»„</span><br><span class="line">      p3, //ç¬¬ä¸‰ä¸ªåŸå­ç»„</span><br><span class="line">      index, //ç´¢å¼•ä½ç½®</span><br><span class="line">      source //åŸå­—ç¬¦</span><br><span class="line">    ) =&gt; &#123;</span><br><span class="line">      return `</span><br><span class="line">    &lt;$&#123;p1&#125;$&#123;p2&#125; class=&quot;hot&quot;&gt;$&#123;p3&#125;&lt;/$&#123;p1&#125;&gt;</span><br><span class="line">    `;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="æ­£åˆ™æ–¹æ³•"><a href="#æ­£åˆ™æ–¹æ³•" class="headerlink" title="æ­£åˆ™æ–¹æ³•"></a>æ­£åˆ™æ–¹æ³•</h3><p>ä¸‹é¢æ˜¯ <code>RegExp</code> æ­£åˆ™å¯¹è±¡æä¾›çš„æ“ä½œæ–¹æ³•</p>
<h4 id="test"><a href="#test" class="headerlink" title="test"></a>test</h4><p><code>reg.test(str)</code>ç”¨äºåˆ¤æ–­stræ˜¯å¦ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œè¿”å›Boolean</p>
<p>æ£€æµ‹è¾“å…¥çš„é‚®ç®±æ˜¯å¦åˆæ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;email&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let email = document.querySelector(`[name=&quot;email&quot;]`);</span><br><span class="line">  email.addEventListener(&quot;keyup&quot;, e =&gt; &#123;</span><br><span class="line">    console.log(/^\w+@\w+\.\w+$/.test(e.target.value));</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="exec-1"><a href="#exec-1" class="headerlink" title="exec"></a>exec</h4><p>é…åˆ <code>g</code> æ¨¡å¼ä½¿ç”¨æ—¶ï¼Œ<code>reg.exec(str)</code>å¯ä»¥å¾ªç¯è°ƒç”¨ç›´åˆ°å…¨éƒ¨åŒ¹é…å®Œã€‚</p>
<ul>
<li>é…åˆ <code>g</code> æ¨¡å¼ä½¿ç”¨æ—¶ï¼Œåº”ä¸€ç›´æ“ä½œåŒä¸€ä¸ªæ­£åˆ™ï¼Œå³æŠŠæ­£åˆ™å®šä¹‰ä¸ºå˜é‡ä½¿ç”¨ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿä¸æ–­çš„å‘ååŒ¹é…</li>
<li>ä½¿ç”¨ <code>g</code> ä¿®é¥°ç¬¦æœ€ååŒ¹é…ä¸åˆ°æ—¶è¿”å› <code>null</code></li>
</ul>
<p>è®¡ç®—å†…å®¹ä¸­é˜¿é¡ºå‡ºç°çš„æ¬¡æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼	--é˜¿é¡º</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let content = document.querySelector(&quot;.content&quot;);</span><br><span class="line">  let reg = /(?&lt;tag&gt;é˜¿é¡º)/g;</span><br><span class="line">  let num = 0;</span><br><span class="line">  while ((result = reg.exec(content.innerHTML))) &#123;</span><br><span class="line">    num++;</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(`é˜¿é¡ºå…±å‡ºç°$&#123;num&#125;æ¬¡`);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="æ–­è¨€åŒ¹é…"><a href="#æ–­è¨€åŒ¹é…" class="headerlink" title="æ–­è¨€åŒ¹é…"></a>æ–­è¨€åŒ¹é…</h3><p>æ–­è¨€è™½ç„¶å†™åœ¨æ‰©å·ä¸­ä½†<code>å®ƒä¸æ˜¯ç»„</code>ï¼Œæ‰€ä»¥<strong>ä¸ä¼šåœ¨åŒ¹é…ç»“æœä¸­ä¿å­˜</strong>ï¼Œå¯ä»¥å°†æ–­è¨€ç†è§£ä¸º<code>æ­£åˆ™ä¸­çš„æ¡ä»¶</code>ã€‚</p>
<table>
<thead>
<tr>
<th>æ–­è¨€åŒ¹é…è¯­æ³•</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>(?=exp)</td>
<td>å°†å…¶æ”¾ç½®äºåŒ¹é…å†…å®¹çš„åé¢ï¼Œç”¨äºçº¦æŸåé¢çš„åŒ¹é…å†…å®¹</td>
</tr>
</tbody></table>
<h4 id="exp"><a href="#exp" class="headerlink" title="(?=exp)"></a>(?=exp)</h4><p><strong>é›¶å®½å…ˆè¡Œæ–­è¨€</strong> <code>(?=exp)</code> åŒ¹é…åé¢ä¸º <code>exp</code> çš„å†…å®¹</p>
<p>æŠŠåé¢å†…å®¹ä¸º<code>ç‰¹çƒ¦æ¼</code> çš„<code>é˜¿é¡º</code>åŠ ä¸Šé“¾æ¥.</p>
<ul>
<li>æ–­è¨€åŒ¹é…çš„ç»“æœä¸ä¼šè¿”å›åˆ°å†…å®¹å½“ä¸­ï¼Œä»¥ä¸‹replaceæ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°åªæœ‰<code>é˜¿é¡º</code></li>
<li>æ–­è¨€åŒ¹é…ï¼Œåªæ˜¯ä¸€ä¸ªçº¦æŸæ¡ä»¶ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼ã€‚</span><br><span class="line">  &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const main &#x3D; document.querySelector(&quot;main&quot;);</span><br><span class="line">  const reg &#x3D; &#x2F;é˜¿é¡º(?&#x3D;ç‰¹çƒ¦æ¼)&#x2F;gi;</span><br><span class="line">  main.innerHTML &#x3D; main.innerHTML.replace(</span><br><span class="line">    reg,</span><br><span class="line">    v &#x3D;&gt; &#96;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;Ashuntefannao.com&quot;&gt;$&#123;v&#125;&lt;&#x2F;a&gt;&#96;</span><br><span class="line">  );</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯å°†ä»·æ ¼åé¢ æ·»åŠ ä¸Š <code>.00</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  let lessons = `</span><br><span class="line">    js,200å…ƒ,300æ¬¡</span><br><span class="line">    php,300.00å…ƒ,100æ¬¡</span><br><span class="line">    node.js,180å…ƒ,260æ¬¡</span><br><span class="line">  `;</span><br><span class="line">  let reg = /(\d+)(.00)?(?=å…ƒ)/gi;</span><br><span class="line">  lessons = lessons.replace(reg, (v, ...args) =&gt; &#123;</span><br><span class="line">    args[1] = args[1] || &quot;.00&quot;;</span><br><span class="line">    return args.splice(0, 2).join(&quot;&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(lessons);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–­è¨€éªŒè¯ç”¨æˆ·åå¿…é¡»ä¸ºäº”ä½ï¼Œä¸‹é¢æ­£åˆ™ä½“ç°æ–­è¨€æ˜¯ä¸æ˜¯ç»„ï¼Œå¹¶ä¸”ä¸åœ¨åŒ¹é…ç»“æœä¸­è®°å½•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  document</span><br><span class="line">    .querySelector(`[name=&quot;username&quot;]`)</span><br><span class="line">    .addEventListener(&quot;keyup&quot;, function() &#123;</span><br><span class="line">      let reg = /^(?=[a-z]&#123;5&#125;$)/i;</span><br><span class="line">      console.log(reg.exec(this.value));</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="lt-exp"><a href="#lt-exp" class="headerlink" title="(?&lt;=exp)"></a>(?&lt;=exp)</h4><p><strong>é›¶å®½åè¡Œæ–­è¨€</strong> <code>?&lt;=exp</code> åŒ¹é…å‰é¢ä¸º <code>exp</code> çš„å†…å®¹</p>
<p>åŒ¹é…å‰é¢æ˜¯<code>Ashuntefannao</code> çš„æ•°å­—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashuntefannao789Ashun666&quot;;</span><br><span class="line">let reg = /(?&lt;=Ashuntefannao)\d+/i;</span><br><span class="line">console.log(str.match(reg)); //789</span><br></pre></td></tr></table></figure>

<p>åŒ¹é…å‰åéƒ½æ˜¯æ•°å­—çš„å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let str = &quot;Ashuntefannao789Ashun123&quot;;</span><br><span class="line">        let reg = /(?&lt;=\d)[a-z]+(?=\d)/gi;</span><br><span class="line">        // let reg = /(?&lt;=\d&#123;3&#125;).+(?=\d&#123;3&#125;)/g;</span><br><span class="line">        console.log(str.match(reg));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰aæ ‡ç­¾çš„è¶…é“¾æ¥æ›¿æ¢ä¸º<code>Ashuntefannao.com</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;a href=&quot;https://baidu.com&quot;&gt;ç™¾åº¦&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;https://yahoo.com&quot;&gt;é›…è™&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const body = document.body;</span><br><span class="line">  let reg = /(?&lt;=&lt;a.*href=([&#x27;&quot;])).+?(?=\1)/gi;</span><br><span class="line">  // console.log(body.innerHTML.match(reg));</span><br><span class="line">  body.innerHTML = body.innerHTML.replace(reg, &quot;https://Ashuntefannao.com&quot;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æŠŠå‰é¢å†…å®¹ä¸º<code>é˜¿é¡º</code> çš„<code>ç‰¹çƒ¦æ¼</code>åŠ ä¸Šé“¾æ¥.</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼ã€‚</span><br><span class="line">  &lt;/main&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const main = document.querySelector(&quot;main&quot;);</span><br><span class="line">  const reg = /(?&lt;=é˜¿é¡º)ç‰¹çƒ¦æ¼/gi;</span><br><span class="line">  main.innerHTML = main.innerHTML.replace(</span><br><span class="line">    reg,</span><br><span class="line">    v =&gt; `&lt;a href=&quot;https://Ashuntefannao.com&quot;&gt;$&#123;v&#125;&lt;/a&gt;`</span><br><span class="line">  );</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å°†ç”µè¯çš„åå››ä½æ¨¡ç³Šå¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let users = `</span><br><span class="line">  é˜¿é¡ºç”µè¯: 12345678901</span><br><span class="line">  å®¢æœç”µè¯: 98745675603</span><br><span class="line">`;</span><br><span class="line"></span><br><span class="line">let reg = /(?&lt;=\d&#123;7&#125;)\d+\s*/g;</span><br><span class="line">users = users.replace(reg, str =&gt; &#123;</span><br><span class="line">  return &quot;*&quot;.repeat(4);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(users); //é˜¿é¡ºç”µè¯: 1234567**** å®¢æœç”µè¯: 9874567****</span><br></pre></td></tr></table></figure>

<p>è·å–æ ‡é¢˜ä¸­çš„å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let th = `&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;`;</span><br><span class="line">let reg = /(?&lt;=&lt;h1.*?&gt;).*(?=&lt;\/h1&gt;)/g;</span><br><span class="line">console.log(th.match(reg));</span><br></pre></td></tr></table></figure>



<h4 id="exp-1"><a href="#exp-1" class="headerlink" title="(?!exp)"></a>(?!exp)</h4><p><strong>é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€</strong> åé¢<font color="#16a085">ä¸èƒ½å‡ºç°</font> <code>exp</code> æŒ‡å®šçš„å†…å®¹</p>
<p>ä½¿ç”¨ <code>(?!exp)</code>å­—æ¯åé¢ä¸èƒ½ä¸ºä¸¤ä½æ•°å­—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashun12&quot;;</span><br><span class="line">let reg = /[a-z]+(?!\d&#123;2&#125;)$/i;</span><br><span class="line">console.table(reg.exec(str));</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹ä¸ºç”¨æˆ·åä¸­ä¸èƒ½å‡ºç°<code>é˜¿é¡º</code></p>
<ul>
<li>ä¸‹ä¾‹ä¸­ï¼Œ<code>(?!exp)</code>å‰é¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œå³<code>&quot;&quot;</code>åé¢ä¸å‡†å‡ºç°é˜¿é¡ºï¼Œä¹Ÿå°±æ˜¯ä»»æ„ä¸€ä¸ªåœ°æ–¹åé¢ä¸èƒ½å‡ºç°é˜¿é¡º</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line">  &lt;/main&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const input = document.querySelector(`[name=&quot;username&quot;]`);</span><br><span class="line">  input.addEventListener(&quot;keyup&quot;, function() &#123;</span><br><span class="line">    const reg = /^(?!.*é˜¿é¡º)[(\w)(\p&#123;sc=Han&#125;)]&#123;5,6&#125;$/iu;</span><br><span class="line">    console.log(this.value.match(reg));</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="lt-exp-1"><a href="#lt-exp-1" class="headerlink" title="(?&lt;!exp)"></a>(?&lt;!exp)</h4><p><strong>é›¶å®½è´Ÿå‘åè¡Œæ–­è¨€</strong> å‰é¢<font color="#16a085">ä¸èƒ½å‡ºç°</font>expæŒ‡å®šçš„å†…å®¹</p>
<p>è·å–å‰é¢ä¸æ˜¯æ•°å­—çš„å­—ç¬¦</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let str = &quot;Ashun99shun&quot;;</span><br><span class="line">let reg = /(?&lt;!\d)[a-z]+/i;</span><br><span class="line">console.log(reg.exec(str)); //Ashun</span><br></pre></td></tr></table></figure>

<p>æŠŠæ‰€æœ‰ä¸æ˜¯ä»¥ <code>https://oss.Ashuntfn.com</code> å¼€å§‹çš„é™æ€èµ„æºæ›¿æ¢ä¸ºæ–°ç½‘å€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;main&gt;</span><br><span class="line">    &lt;a href=&quot;https://www.Ashuntfn.com/1.jpg&quot;&gt;1.jpg&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;https://oss.Ashuntfn.com/2.jpg&quot;&gt;2.jpg&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;https://cdn.Ashuntfn.com/2.jpg&quot;&gt;3.jpg&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;https://Ashuntfn.com/2.jpg&quot;&gt;3.jpg&lt;/a&gt;</span><br><span class="line">  &lt;/main&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const main = document.querySelector(&quot;main&quot;);</span><br><span class="line">  let reg = /https:\/\/(?&lt;!oss\.).+?(?=\/)/gi;</span><br><span class="line">  main.innerHTML = main.innerHTML.replace(reg, v =&gt; &#123;</span><br><span class="line">    console.log(v);</span><br><span class="line">    return &quot;https://oss.Ashuntfn.com&quot;;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>ç±»</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E7%B1%BB/</url>
    <content><![CDATA[<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>ä¸ºäº†å’Œå…¶ä»–è¯­è¨€ç»§æ‰¿å½¢æ€ä¸€è‡´ï¼ŒJSæä¾›äº†<code>class</code> å…³é”®è¯ç”¨äºæ¨¡æ‹Ÿä¼ ç»Ÿçš„<code>class</code> ï¼Œä½†åº•å±‚å®ç°æœºåˆ¶ä¾ç„¶æ˜¯åŸå‹ç»§æ‰¿ã€‚</p>
<p><code>class</code> åªæ˜¯è¯­æ³•ç³–ä¸ºäº†è®©ç±»çš„å£°æ˜ä¸ç»§æ‰¿æ›´åŠ ç®€æ´æ¸…æ™°ã€‚</p>
<h4 id="å£°æ˜å®šä¹‰"><a href="#å£°æ˜å®šä¹‰" class="headerlink" title="å£°æ˜å®šä¹‰"></a>å£°æ˜å®šä¹‰</h4><p>å¯ä»¥ä½¿ç”¨ç±»å£°æ˜å’Œèµ‹å€¼è¡¨è¾¾å¼å®šä¹‰ç±»ï¼Œæ¨èä½¿ç”¨ç±»å£°æ˜æ¥å®šä¹‰ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//ç±»å£°æ˜</span><br><span class="line">class User &#123;</span><br><span class="line">&#125;</span><br><span class="line">console.log(new Article());</span><br><span class="line"></span><br><span class="line">//èµ‹å€¼è¡¨è¾¾å¼</span><br><span class="line">let Article = class &#123;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(new User());</span><br></pre></td></tr></table></figure>

<p>ç±»æ–¹æ³•é—´ä¸éœ€è¦é€—å·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  show() &#123;&#125;</span><br><span class="line">  get() &#123;</span><br><span class="line">    console.log(&quot;get method&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = new User();</span><br><span class="line">as.get();</span><br></pre></td></tr></table></figure>



<h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>ä½¿ç”¨ <code>constructor</code> æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ï¼Œä¸‹ä¾‹ä¸­<code>show</code>ä¸ºæ„é€ å‡½æ•°æ–¹æ³•ï¼Œ<code>getName</code>ä¸ºåŸå‹æ–¹æ³•ã€‚</p>
<ul>
<li><code>constructor</code> ä¼šåœ¨ new æ—¶è‡ªåŠ¨æ‰§è¡Œ</li>
<li>åœ¨<code>class</code>ä¸­<code>constructor</code>å°±ç›¸å½“äºæ™®é€šæ„é€ å‡½æ•°çš„<code>å‡½æ•°ä½“</code>ï¼Œå½“ä½¿ç”¨<code>new</code>è¿›è¡Œæ—¶å®ä¾‹åŒ–æ—¶ï¼Œå°±ä¼šæ‰§è¡Œæ„é€ å‡½æ•°ï¼Œä¸ºå®ä¾‹åˆ†é…å±æ€§ã€‚</li>
<li>åœ¨<code>constructor</code>ä¸­ä½¿ç”¨<code>this</code>å£°æ˜çš„å±æ€§ï¼Œä¼šè¢«åˆ†é…åˆ°å®ä¾‹æœ¬èº«ï¼Œåœ¨<code>constructor</code>å¤–éƒ¨å®šä¹‰çš„<code>æ–¹æ³•</code>ï¼Œç›¸å½“äºæ·»åŠ åˆ°<code>class</code>è¿™ä¸ªæ„é€ å‡½æ•°çš„åŸå‹<code>prototype</code>ä¸Šã€‚ï¼ˆclasså®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰</li>
<li>ä½†æ˜¯åœ¨<code>constructor</code>å¤–éƒ¨å®šä¹‰çš„<code>å±æ€§</code>ä¾æ—§ä¼šè¢«åˆ†é…åˆ°å®ä¾‹ä¸Š</li>
<li>å…¶å®åˆ›å»ºä¸€ä¸ªç±»çš„è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯è®¾ç½®è¯¥ç±»çš„åŸå‹å¯¹è±¡<code>prototype</code>ï¼Œé»˜è®¤æœ‰<code>constructor</code>å±æ€§ï¼Œè¿˜å¯ä»¥åœ¨åŸå‹ä¸Šå‹å…¥å…¶å®ƒçš„å±æ€§ã€æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.show = function() &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  getName() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as);</span><br><span class="line">console.log(User.prototype);</span><br><span class="line">console.log(as.hasOwnProperty(&quot;getName&quot;));</span><br><span class="line">console.log(as.hasOwnProperty(&quot;name&quot;));</span><br></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°ç”¨äºä¼ é€’å¯¹è±¡çš„åˆå§‹å‚æ•°ï¼Œä½†ä¸æ˜¯å¿…é¡»å®šä¹‰çš„ï¼Œå¦‚æœä¸è®¾ç½®ç³»ç»Ÿä¼šè®¾ç½®å¦‚ä¸‹ç±»å‹</p>
<ul>
<li>**å­æ„é€ å™¨ä¸­è°ƒç”¨å®Œ<code>super</code> åæ‰å¯ä»¥ä½¿ç”¨ <code>this</code>**ã€‚</li>
<li>è‡³äº <code>super</code> çš„æ¦‚å¿µä¼šåœ¨åé¢è®²åˆ°ï¼Œï¼ˆæ‰§è¡Œçˆ¶ç±»ä¸­çš„constructorï¼‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">constructor(...args) &#123;</span><br><span class="line">  super(...args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h4><p>ä¹‹å‰ä¹Ÿæåˆ°è¿‡ï¼Œ**<code>class</code>å…¶å®å°±æ˜¯å‡½æ•°**</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">&#125;</span><br><span class="line">console.log(typeof User); //function</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸æ™®é€šå‡½æ•°çš„å¯¹æ¯”ï¼Œç»“æ„æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚</p>
<img src="ç±».assets/Class_1.png" alt="Class_1" style="zoom:80%;" />

<ul>
<li><code>constructor</code> ç”¨äºå®šä¹‰å‡½æ„é€ æ•°ä½“ä»£ç </li>
<li><code>constructor </code> å¤–éƒ¨å®šä¹‰çš„<code>æ–¹æ³•</code>ï¼Œä¼šè¿½åŠ åˆ°è¯¥ ç±»(æ„é€ å‡½æ•°) çš„åŸå‹ä¸Šã€‚</li>
<li><code>constructor </code> å¤–éƒ¨å®šä¹‰çš„<code>å±æ€§</code>ï¼Œä¾ç„¶ä¼šåˆ†é…åˆ°å®ä¾‹ä¸Š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">		this.name &#x3D; &quot;name&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	getName() &#123;</span><br><span class="line">		return this.name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ™®é€šæ„é€ å‡½æ•°</span><br><span class="line">function Ashun(name) &#123;</span><br><span class="line">	this.name &#x3D; &quot;name&quot;;</span><br><span class="line">&#125;</span><br><span class="line">Ashun.prototype.getName &#x3D; function () &#123;</span><br><span class="line">	return this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.dir(User);</span><br><span class="line">console.dir(Ashun);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å±æ€§å®šä¹‰"><a href="#å±æ€§å®šä¹‰" class="headerlink" title="å±æ€§å®šä¹‰"></a>å±æ€§å®šä¹‰</h4><p>åœ¨calssç±»ä¸­ï¼Œæ— è®ºæ˜¯åœ¨<code>constructor </code> å†…ã€å¤–éƒ¨å®šä¹‰çš„<code>å±æ€§</code>ï¼Œ<strong>éƒ½ä¼šåˆ†é…åˆ°å®ä¾‹ä¸Š</strong>ã€‚</p>
<ul>
<li><code>constructor </code> å†…éƒ¨å®šä¹‰çš„<code>å±æ€§</code>ï¼Œä½¿ç”¨thiså£°æ˜</li>
<li><code>constructor </code> å¤–éƒ¨å®šä¹‰çš„<code>å±æ€§</code>ï¼Œ<strong>ä¸ä½¿ç”¨</strong>å…³é”®å­—å£°æ˜ã€‚</li>
</ul>
<p>åœ¨classç±»ä¸­ï¼Œåœ¨<code>constructor </code> å¤–éƒ¨å®šä¹‰çš„<code>æ–¹æ³•</code>ï¼Œä¼šè‡ªåŠ¨æ·»åŠ åˆ°è¯¥ç±»çš„åŸå‹ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">	site &#x3D; &#96;Ashuntefannao.com&#96;; &#x2F;&#x2F;åœ¨constructorå¤–éƒ¨å®šä¹‰çš„å±æ€§ï¼Œä¾ç„¶ä¼šè¢«åˆ†é…åˆ°å®ä¾‹ä¸Š</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">		this.name &#x3D; name;</span><br><span class="line">	&#125;</span><br><span class="line">	show() &#123;</span><br><span class="line">		console.log(this.name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(User.prototype.site);&#x2F;&#x2F;undefined</span><br><span class="line">console.log(User.prototype.show);</span><br><span class="line">let as &#x3D; new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.name, as.site);&#x2F;&#x2F;é˜¿é¡º	Ashuntefannao.com</span><br><span class="line">console.table(as);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å‡½æ•°å·®å¼‚"><a href="#å‡½æ•°å·®å¼‚" class="headerlink" title="å‡½æ•°å·®å¼‚"></a>å‡½æ•°å·®å¼‚</h4><p>è™½ç„¶classæ˜¯å‡½æ•°çš„è¯­æ³•ç³–ï¼Œä½†æ˜¯ä¸æ™®é€šæ„é€ å‡½æ•°åœ¨ä½¿ç”¨æ–¹é¢è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œè¿™éƒ½æ˜¯ä¸ºäº†æ›´åŠ è§„èŒƒçš„ç®¡ç†åŸå‹ã€‚</p>
<ul>
<li>åœ¨classä¸­å®šä¹‰çš„æ–¹æ³•å³(åŸå‹ä¸Šçš„æ–¹æ³•)ï¼Œè‡ªåŠ¨è®¾ç½®ä¸ºä¸å¯æšä¸¾ã€‚</li>
</ul>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œæ™®é€šæ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œé€šè¿‡<code>for/in</code>éå†å±æ€§ï¼Œä¼šè®¿é—®åŸå‹ä¸Šçš„å±æ€§ã€‚ä½†è¿™æ ·å¯èƒ½ä¼šåœ¨éå†æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå½±å“åŸå‹çš„å±æ€§æˆ–æ–¹æ³•ã€‚æ‰€ä»¥classè‡ªåŠ¨ä¸ºåŸå‹ä¸Šçš„æ–¹æ³•è®¾ç½®å±æ€§ç‰¹å¾<code>enumerable:false</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        class User &#123;</span><br><span class="line">          site &#x3D; &#96;Ashuntefannao.com&#96;;</span><br><span class="line">          constructor(name) &#123;</span><br><span class="line">            this.name &#x3D; name;</span><br><span class="line">          &#125;</span><br><span class="line">          show() &#123;</span><br><span class="line">            console.log(this.name);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        let as &#x3D; new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">        for (let key in as) &#123;</span><br><span class="line">          console.log(key);		&#x2F;&#x2F;site name</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”æ™®é€šæ„é€ å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function User(name) &#123;</span><br><span class="line">          this.site &#x3D; &quot;Ashuntefannao.com&quot;;</span><br><span class="line">          this.name &#x3D; name;</span><br><span class="line">        &#125;</span><br><span class="line">        User.prototype.show &#x3D; function () &#123;</span><br><span class="line">          console.log(this.name);</span><br><span class="line">        &#125;;</span><br><span class="line">        let as &#x3D; new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">        for (let key in as) &#123;</span><br><span class="line">          console.log(key);  &#x2F;&#x2F;site name show</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h4><p><code>class</code> é»˜è®¤ä½¿ç”¨<code>use strict</code> ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        class User &#123;</span><br><span class="line">          site = `Ashuntefannao.com`;</span><br><span class="line">          constructor(name) &#123;</span><br><span class="line">            this.name = name;</span><br><span class="line">          &#125;</span><br><span class="line">          show() &#123;</span><br><span class="line">            !(function () &#123;</span><br><span class="line">              console.log(this); //é»˜è®¤ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰“å°undefined</span><br><span class="line">            &#125;)();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        let as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">        as.show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”æ™®é€šæ„é€ å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function User(name) &#123;</span><br><span class="line">          this.site &#x3D; &quot;Ashuntefannao.com&quot;;</span><br><span class="line">          this.name &#x3D; name;</span><br><span class="line">        &#125;</span><br><span class="line">        User.prototype.show &#x3D; function () &#123;</span><br><span class="line">          !(function () &#123;</span><br><span class="line">            console.log(this); &#x2F;&#x2F;éä¸¥æ ¼æ¨¡å¼ï¼Œthis&#x3D;ã€‹window</span><br><span class="line">          &#125;)();</span><br><span class="line">        &#125;;</span><br><span class="line">        let as &#x3D; new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">        as.show();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é™æ€è®¿é—®"><a href="#é™æ€è®¿é—®" class="headerlink" title="é™æ€è®¿é—®"></a>é™æ€è®¿é—®</h3><p>â€‹    é™æ€å±æ€§ã€æ–¹æ³•ï¼šæ„ä¸ºåªèƒ½å¤Ÿè¢« è¯¥ç±»æœ¬èº« è®¿é—®çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½¿ç”¨ç±»åæ¥è°ƒç”¨ã€‚</p>
<ul>
<li>åœ¨classä¸­ä½¿ç”¨<code>static</code>å…³é”®å­—è¿›è¡Œå£°æ˜</li>
<li>åœ¨æ™®é€šæ„é€ å‡½æ•°ä¸­ï¼Œå‘æ„é€ å‡½æ•°æœ¬èº«å‹å…¥å¯¹åº”çš„å±æ€§å’Œæ–¹æ³•ã€‚(æ„é€ å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡)</li>
</ul>
<h4 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h4><p>é™æ€å±æ€§å³ä¸ºç±»è®¾ç½®å±æ€§ï¼Œè€Œä¸æ˜¯ä¸ºå®ä¾‹å¯¹è±¡è®¾ç½®ï¼Œä¸‹é¢æ˜¯åŸç†å®ç°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.site = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">console.dir(User);</span><br><span class="line"></span><br><span class="line">const as = new User();</span><br><span class="line">console.log(as.site); //undefiend</span><br><span class="line">console.log(User.site); //é˜¿é¡ºç‰¹çƒ¦æ¼ </span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>class</code> ä¸­ä¸ºå±æ€§æ·»åŠ  <code>static</code> å…³é”®å­—å³å£°æ˜ä¸ºé™æ€å±æ€§</p>
<ul>
<li>å¯ä»¥æŠŠæ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½è¦ä½¿ç”¨çš„å€¼ å®šä¹‰ä¸ºé™æ€å±æ€§</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Request &#123;</span><br><span class="line">  static HOST = &quot;https://www.Ashuntefannao.com&quot;;</span><br><span class="line">  </span><br><span class="line">  query(api) &#123;</span><br><span class="line">    return Request.HOST + &quot;/&quot; + api;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let request = new Request();</span><br></pre></td></tr></table></figure>



<h4 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h4><p>æŒ‡é€šè¿‡ç±»è®¿é—®ä¸èƒ½ä½¿ç”¨å¯¹è±¡è®¿é—®çš„æ–¹æ³•ï¼Œæ¯”å¦‚ç³»ç»Ÿçš„<code>Math.round()</code>å°±æ˜¯é™æ€æ–¹æ³•</p>
<ul>
<li>ä¸€èˆ¬æ¥è®²æ–¹æ³•ä¸éœ€è¦å¯¹è±¡å±æ€§å‚ä¸è®¡ç®—å°±å¯ä»¥å®šä¹‰ä¸ºé™æ€æ–¹æ³•</li>
</ul>
<p>ä¸‹é¢æ˜¯é™æ€æ–¹æ³•å®ç°åŸç†ï¼Œå‘æ„é€ å‡½æ•°æœ¬èº«å‹å…¥æ–¹æ³•ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;</span><br><span class="line">  this.show = function() &#123;</span><br><span class="line">    return &quot;this is a object function&quot;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">User.show = function() &#123;</span><br><span class="line">  return &quot;welcome to Ashuntefannao&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">const as = new User();</span><br><span class="line">console.dir(as.show()); //this is a object function</span><br><span class="line">console.dir(User.show()); //welcome to Ashuntefannao</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>class</code> å†…å£°æ˜çš„æ–¹æ³•å‰ä½¿ç”¨ <code>static</code> å®šä¹‰çš„æ–¹æ³•å³æ˜¯é™æ€æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  static create(name) &#123;</span><br><span class="line">    return new User(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = User.create(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨é™æ€æ–¹æ³•åœ¨è¯¾ç¨‹ç±»ä¸­çš„ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const data = [</span><br><span class="line">  &#123; name: &quot;js&quot;, price: 100 &#125;,</span><br><span class="line">  &#123; name: &quot;mysql&quot;, price: 212 &#125;,</span><br><span class="line">  &#123; name: &quot;React&quot;, price: 98 &#125;</span><br><span class="line">];</span><br><span class="line">class Lesson &#123;</span><br><span class="line">  constructor(data) &#123;</span><br><span class="line">    this.model = data;</span><br><span class="line">  &#125;</span><br><span class="line">  get price() &#123;</span><br><span class="line">    return this.model.price;</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this.model.name;</span><br><span class="line">  &#125;</span><br><span class="line">  //æ‰¹é‡ç”Ÿæˆå¯¹è±¡</span><br><span class="line">  static createBatch(data) &#123;</span><br><span class="line">    return data.map(item =&gt; new Lesson(item));</span><br><span class="line">  &#125;</span><br><span class="line">  //æœ€è´µçš„è¯¾ç¨‹</span><br><span class="line">  static MaxPrice(collection) &#123;</span><br><span class="line">    return collection.reduce((pre, v) =&gt; (pre.price &gt; v.price ? pre : v));</span><br><span class="line">    //  return collection.sort((a, b) =&gt; b.price - a.price)[0];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const lessons = Lesson.createBatch(data);</span><br><span class="line">console.log(lessons);</span><br><span class="line">console.log(Lesson.MaxPrice(lessons).name);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="è®¿é—®å™¨"><a href="#è®¿é—®å™¨" class="headerlink" title="è®¿é—®å™¨"></a>è®¿é—®å™¨</h3><p>ä½¿ç”¨è®¿é—®å™¨å¯ä»¥å¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œè®¿é—®æ§åˆ¶ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨è®¿é—®å™¨å¯¹ç§æœ‰å±æ€§è¿›è¡Œç®¡ç†ã€‚</p>
<h4 id="è¯­æ³•ä»‹ç»"><a href="#è¯­æ³•ä»‹ç»" class="headerlink" title="è¯­æ³•ä»‹ç»"></a>è¯­æ³•ä»‹ç»</h4><ul>
<li>ä½¿ç”¨è®¿é—®å™¨å¯ä»¥ç®¡æ§å±æ€§ï¼Œæœ‰æ•ˆçš„é˜²æ­¢å±æ€§éšæ„ä¿®æ”¹</li>
<li>è®¿é—®å™¨å°±æ˜¯åœ¨å‡½æ•°å‰åŠ ä¸Š <code>get/set</code>ä¿®é¥°ï¼Œæ“ä½œå±æ€§æ—¶ä¸éœ€è¦åŠ å‡½æ•°çš„æ‰©å·ï¼Œç›´æ¥ç”¨å‡½æ•°å</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.data = &#123; name &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this.data.name;</span><br><span class="line">  &#125;</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    if (value.trim() == &quot;&quot;) throw new Error(&quot;invalid params&quot;);</span><br><span class="line">    this.data.name = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">as.name = &quot;Ashun&quot;;</span><br><span class="line">console.log(as.name);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h3><p>è®¾ç½®å¯¹è±¡çš„ç§æœ‰å±æ€§æœ‰å¤šç§æ–¹å¼ï¼ŒåŒ…æ‹¬åé¢ç« èŠ‚ä»‹ç»çš„æ¨¡å—å°è£…ã€‚</p>
<h4 id="public"><a href="#public" class="headerlink" title="public"></a>public</h4><p><code>public</code> æŒ‡ä¸å—ä¿æŠ¤çš„å±æ€§ï¼Œåœ¨ç±»çš„å†…éƒ¨ä¸å¤–éƒ¨éƒ½å¯ä»¥è®¿é—®åˆ°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  url = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.name, as.url);</span><br></pre></td></tr></table></figure>

<h4 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h4><p>protectedæ˜¯å—ä¿æŠ¤çš„å±æ€§ä¿®é‡Šï¼Œä¸å…è®¸å¤–éƒ¨ç›´æ¥æ“ä½œï¼Œåªèƒ½åœ¨<code>è¯¥ç±»</code>åŠå…¶<code>å­ç±»(ç»§æ‰¿ç±»)</code>ä¸­è®¿é—®çš„å±æ€§</p>
<h5 id="å‘½åä¿æŠ¤"><a href="#å‘½åä¿æŠ¤" class="headerlink" title="å‘½åä¿æŠ¤"></a>å‘½åä¿æŠ¤</h5><p>å°†å±æ€§å®šä¹‰ä¸ºä»¥ <code>_</code> å¼€å§‹ï¼Œæ¥å‘Šè¯‰ä½¿ç”¨è€…è¿™æ˜¯ä¸€ä¸ªç§æœ‰å±æ€§ï¼Œè¯·ä¸è¦åœ¨å¤–éƒ¨ä½¿ç”¨ã€‚</p>
<ul>
<li>å¤–éƒ¨ä¿®æ”¹ã€è®¿é—®protectedå±æ€§æ—¶å¯ä»¥ä½¿ç”¨è®¿é—®å™¨ <code>setter/getter</code> æ“ä½œ</li>
<li>ä½†è¿™åªæ˜¯æç¤ºï¼Œå°±åƒå¸çƒŸæ—¶çƒŸç›’ä¸Šçš„å¸çƒŸæœ‰å®³å¥åº·ï¼Œä½†è¿˜æ˜¯å¯ä»¥æŠ½çš„</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Article &#123;</span><br><span class="line">  _host = &quot;https://Ashuntefannao.com&quot;;</span><br><span class="line"></span><br><span class="line">  set host(url) &#123;</span><br><span class="line">    if (!/^https:\/\//i.test(url)) &#123;</span><br><span class="line">      throw new Error(&quot;ç½‘å€é”™è¯¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    this._host = url;</span><br><span class="line">  &#125;</span><br><span class="line">  get host()&#123;</span><br><span class="line">  	return this._host</span><br><span class="line">  &#125;</span><br><span class="line">  lists() &#123;</span><br><span class="line">    return `$&#123;this._host&#125;/article`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let article = new Article();</span><br><span class="line">console.log(article.lists()); //https://Ashuntefannao.com/article</span><br><span class="line">article.host = &quot;https://ASHUN.com&quot;;</span><br><span class="line">console.log(article.lists()); //https://ASHUN.com/article</span><br><span class="line">console.log(article._host);		//å®é™…ä¸Šæ˜¯èƒ½å¤Ÿè¢«å®ä¾‹è®¿é—®çš„ï¼Œå› ä¸º_hostå±æ€§è¢«åˆ†é…åˆ°äº†å®ä¾‹ä¸Š</span><br></pre></td></tr></table></figure>

<p>ç»§æ‰¿æ—¶æ˜¯å¯ä»¥ä½¿ç”¨çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Common &#123;</span><br><span class="line">  _host = &quot;https://Ashuntefannao.com&quot;;</span><br><span class="line">  set host(url) &#123;</span><br><span class="line">    if (!/^https:\/\//i.test(url)) &#123;</span><br><span class="line">      throw new Error(&quot;ç½‘å€é”™è¯¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    this._host = url;</span><br><span class="line">  &#125;</span><br><span class="line">   get host()&#123;</span><br><span class="line">  	return this._host</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Article extends Common &#123;</span><br><span class="line">  lists() &#123;</span><br><span class="line">    return `$&#123;this._host&#125;/article`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let article = new Article();</span><br><span class="line">console.log(article.lists()); //https://Ashuntefannao.com/article</span><br><span class="line">article.host = &quot;https://ASHUN.com&quot;;</span><br><span class="line">console.log(article.lists()); //https://ASHUN.com/article</span><br></pre></td></tr></table></figure>

<h5 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h5><p>ä¸‹é¢ä½¿ç”¨ <code>Symbol</code>å®šä¹‰protectedå±æ€§ï¼Œå³åœ¨å¤–éƒ¨é€šè¿‡æŸ¥çœ‹å¯¹è±¡ç»“æ„æ— æ³•è·å–çš„å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const protecteds = Symbol();</span><br><span class="line">class Common &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this[protecteds] = &#123;&#125;;</span><br><span class="line">    this[protecteds].host = &quot;https://Ashuntefannao.com&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  set host(url) &#123;</span><br><span class="line">    if (!/^https?:/i.test(url)) &#123;</span><br><span class="line">      throw new Error(&quot;éå¸¸ç½‘å€&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    this[protecteds].host = url;</span><br><span class="line">  &#125;</span><br><span class="line">  get host() &#123;</span><br><span class="line">    return this[protecteds].host;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class User extends Common &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    super();//è°ƒç”¨çˆ¶ç±»çš„constructor</span><br><span class="line">    this[protecteds].name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this[protecteds].name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">as.host = &quot;https://www.ASHUN.com&quot;;</span><br><span class="line">// console.log(as[Symbol()]);</span><br><span class="line">console.log(as.name);</span><br></pre></td></tr></table></figure>

<h5 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h5><p><strong>WeakMap</strong> æ˜¯ä¸€ç»„é”®/å€¼å¯¹çš„é›†ï¼Œä¸‹é¢åˆ©ç”¨<code>WeakMap</code>ç±»å‹ç‰¹æ€§å®šä¹‰protectedå±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const _host = new WeakMap();</span><br><span class="line">class Common &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    _host.set(this, &quot;https://Ashuntefannao.com&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  set host(url) &#123;</span><br><span class="line">    if (!/^https:\/\//i.test(url)) &#123;</span><br><span class="line">      throw new Error(&quot;ç½‘å€é”™è¯¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    _host.set(this, url);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Article extends Common &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">  &#125;</span><br><span class="line">  lists() &#123;</span><br><span class="line">    return `$&#123;_host.get(this)&#125;/article`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let article = new Article();</span><br><span class="line">console.log(article.lists()); //https://Ashuntefannao.com/article</span><br><span class="line">article.host = &quot;https://SHUN.com&quot;;</span><br><span class="line">console.log(article.lists()); //https://SHUN.com/article</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç»Ÿä¸€å®šä¹‰ç§æœ‰å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const protecteds = new WeakMap();</span><br><span class="line">class Common &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    protecteds.set(this, &#123;</span><br><span class="line">      host: &quot;https://Ashuntefannao&quot;,</span><br><span class="line">      port: &quot;80&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  set host(preset) &#123;</span><br><span class="line">    if (!/^https:\/\//i.test(preset.host)) &#123;</span><br><span class="line">      throw new Error(&quot;ç½‘å€é”™è¯¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    protecteds.set(this, &#123; ...protecteds.get(this), ...preset &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Article extends Common &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">  &#125;</span><br><span class="line">  lists() &#123;</span><br><span class="line">    return `$&#123;protecteds.get(this).host&#125;:$&#123;protecteds.get(this).port&#125;/article`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let article = new Article();</span><br><span class="line">console.log(article.lists()); //https://Ashuntefannao:80/article</span><br><span class="line">article.host = &#123; host: &quot;https://SHUN&quot;, port: 8083 &#125;;</span><br><span class="line">console.log(article.lists()); //https://SHUN:8083/article</span><br></pre></td></tr></table></figure>



<h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><p><code>private</code> æŒ‡ç§æœ‰å±æ€§ï¼Œåªåœ¨å½“å‰ç±»å¯ä»¥è®¿é—®åˆ°ï¼Œå¹¶ä¸”ä¸å…è®¸ç»§æ‰¿ä½¿ç”¨</p>
<ul>
<li>ä¸ºå±æ€§æˆ–æ–¹æ³•åå‰åŠ  <code>#</code> ä¸ºå£°æ˜ä¸ºç§æœ‰å±æ€§</li>
<li>ç§æœ‰å±æ€§<code>åªèƒ½</code>åœ¨å£°æ˜çš„ç±»ä¸­ä½¿ç”¨</li>
</ul>
<p>ä¸‹é¢å£°æ˜ç§æœ‰å±æ€§ <code>#host</code> ä¸ç§æœ‰æ–¹æ³• <code>#check</code> ç”¨äºæ£€æµ‹ç”¨æˆ·å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  //private</span><br><span class="line">  #host = &quot;https://Ashuntefannao.com&quot;;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name ;</span><br><span class="line">    this.#check(name);</span><br><span class="line">  &#125;</span><br><span class="line">  set host(url) &#123;</span><br><span class="line">    if (!/^https?:/i.test(url)) &#123;</span><br><span class="line">      throw new Error(&quot;éå¸¸ç½‘å€&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    this.#host = url;</span><br><span class="line">  &#125;</span><br><span class="line">  get host() &#123;</span><br><span class="line">    return this.#host;</span><br><span class="line">  &#125;</span><br><span class="line">  #check = () =&gt; &#123;</span><br><span class="line">    if (this.name.length &lt; 5) &#123;</span><br><span class="line">      throw new Error(&quot;ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°äºäº”ä½&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">as.host = &quot;https://www.SHUN.com&quot;;</span><br><span class="line">console.log(as[&quot;#host&quot;]);//å®ä¾‹ä¸­ä¸èƒ½è®¿é—®ç±»çš„ç§æœ‰å±æ€§</span><br><span class="line">console.log(as.host);	//å¯ä»¥é€šè¿‡getteré—´æ¥è®¿é—®</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯”æ™®é€šæ„é€ å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">	let privateProp &#x3D; &#123; name &#125;;</span><br><span class="line">	Object.defineProperty(this, &quot;name&quot;, &#123;</span><br><span class="line">			get() &#123;</span><br><span class="line">				return privateProp.name;</span><br><span class="line">			&#125;,</span><br><span class="line">			set(newVal) &#123;</span><br><span class="line">				privateProp.name &#x3D; newVal;</span><br><span class="line">			&#125;,</span><br><span class="line">	&#125;);     </span><br><span class="line">&#125;</span><br><span class="line">let as &#x3D; new User(&quot;Ashun&quot;);</span><br><span class="line">console.log(as.name);</span><br><span class="line">console.log(as.privateProp);	&#x2F;&#x2F;undefined</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="è¯¦è§£ç»§æ‰¿"><a href="#è¯¦è§£ç»§æ‰¿" class="headerlink" title="è¯¦è§£ç»§æ‰¿"></a>è¯¦è§£ç»§æ‰¿</h3><h4 id="å±æ€§ç»§æ‰¿"><a href="#å±æ€§ç»§æ‰¿" class="headerlink" title="å±æ€§ç»§æ‰¿"></a>å±æ€§ç»§æ‰¿</h4><p>classå®ç°å±æ€§ç»§æ‰¿çš„åŸå‹å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">function Admin(name) &#123;</span><br><span class="line">  User.call(this, name); </span><br><span class="line">&#125;</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>

<p>è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨å­ç±»æ„é€ å‡½æ•°ä¸­è¦å…ˆæ‰§è¡Œ<code>super</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    super(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç»§æ‰¿åŸç†"><a href="#ç»§æ‰¿åŸç†" class="headerlink" title="ç»§æ‰¿åŸç†"></a>ç»§æ‰¿åŸç†</h4><p><code>class</code> ä½¿ç”¨<code>extends</code>å…³é”®å­—å®ç°åŸå‹ç»§æ‰¿ã€‚</p>
<img src="ç±».assets/Class_2.png" alt="Class_2" style="zoom:70%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;user.show&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  info() &#123;</span><br><span class="line">    this.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as &#x3D; new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.dir(as);</span><br><span class="line">as.info();</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ–¹æ³•ç»§æ‰¿"><a href="#æ–¹æ³•ç»§æ‰¿" class="headerlink" title="æ–¹æ³•ç»§æ‰¿"></a>æ–¹æ³•ç»§æ‰¿</h4><p>åŸç”Ÿçš„ç»§æ‰¿ä¸»è¦æ˜¯æ“ä½œåŸå‹é“¾ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œä½¿ç”¨ <code>class</code> å°±è¦ç®€å•çš„å¤šäº†ã€‚</p>
<ul>
<li>åœ¨å­ç±»ä¸­ä½¿ç”¨çˆ¶ç±»åŒåæ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨<code>super</code>å…³é”®å­—è®¿é—®çˆ¶ç±»çš„æ–¹æ³•ï¼Œå½“ç„¶ï¼Œå¦‚æœå­ç±»ä¸­æ²¡æœ‰ä¸çˆ¶ç±»çš„åŒåæ–¹æ³•ï¼Œåˆ™ç›´æ¥ä½¿ç”¨<code>this</code>å³å¯ï¼Œè¯¥ç±»æ²¡æœ‰ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¼šåˆ°åŸå‹ä¸Šå»æŸ¥æ‰¾ï¼Œä½†æ˜¯ä¸ºäº†æ›´åŠ å‡†ç¡®åœ°è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œæ¨èä½¿ç”¨<code>super</code></li>
<li>super.show() æ‰§è¡Œçˆ¶ç±»çš„showæ–¹æ³•</li>
</ul>
<p>ä¸‹é¢æ˜¯åœ¨å­ç±»ä¸­ä½¿ç”¨çˆ¶ç±»çš„æ–¹æ³•<code>show</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">    return `é˜¿é¡ºç‰¹çƒ¦æ¼ä¼šå‘˜: $&#123;this.name&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class User extends Person &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    super(name);</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">    return &quot;is User show&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  run() &#123;</span><br><span class="line">    // return this.show();</span><br><span class="line">    return super.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = new User(&quot;ASHUN&quot;);</span><br><span class="line">console.log(as.run());</span><br></pre></td></tr></table></figure>

<p>classä¸­çš„<code>extends</code>å…³é”®å­—åé¢å¯ä»¥è·Ÿè¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ä½¿ç”¨ <code>extends</code> ç»§æ‰¿è¡¨è¾¾å¼è¿”å›çš„ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function controller() &#123;</span><br><span class="line">  return class &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      console.log(&quot;user.show&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends controller() &#123;</span><br><span class="line">  info() &#123;</span><br><span class="line">    this.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new Admin();</span><br><span class="line">as.show()</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="super"><a href="#super" class="headerlink" title="super"></a>super</h4><p>è¡¨ç¤ºä»å½“å‰åŸå‹ä¸­æŸ¥æ‰¾æ–¹æ³•ï¼Œ</p>
<ul>
<li>super ä¸€ç›´æŒ‡å‘å½“å‰å¯¹è±¡</li>
<li>superåªèƒ½åœ¨<code>ç±»</code>æˆ–<code>å¯¹è±¡æ–¹æ³•</code>ä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨ ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•° ä¸­ä½¿ç”¨</li>
</ul>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>this</code> æ¨¡æ‹Ÿ<code>super</code>ï¼Œä¼šæœ‰ä»¥ä¸‹é—®é¢˜</p>
<ul>
<li><code>this</code>æŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ï¼Œç»“æœå¹¶ä¸æ˜¯ <code>admin</code>çš„<code>name</code>å€¼</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let admin = &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.__proto__.show();	//this=&gt;user</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(admin.show()); //user</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œéœ€è¦è°ƒç”¨çˆ¶ç±»æ–¹æ³•æ—¶æ”¹å˜<code>this</code>æŒ‡å‘</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let admin = &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.__proto__.show.call(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(admin.show());//admin</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çœ‹ä¼¼ç»“æœæ­£å¸¸ï¼Œä½†å¦‚æœæ˜¯å¤šå±‚ç»§æ‰¿æ—¶ï¼Œä¼šå‡ºç°æ–°çš„é—®é¢˜</p>
<ul>
<li>æˆ‘ä»¬æœŸæœ›ä½¿ç”¨<code>common.show</code>ï¼Œä½†å› ä¸ºå§‹ç»ˆä¼ é€’çš„æ˜¯å½“å‰å¯¹è±¡<code>this</code> ï¼Œé€ æˆä» <code>this</code> åŸå‹å¾ªç¯è°ƒç”¨</li>
<li><code>admin.get</code>è°ƒç”¨çˆ¶çº§åŸå‹ä¸Šçš„showï¼Œå¹¶ç»‘å®šäº†adminçš„thisï¼Œæ‰€ä»¥å½“æ‰§è¡Œuser.show()æ—¶ï¼Œthisä¸ºadminï¼Œåˆä¼šå¯¼è‡´adminè°ƒç”¨user.show()ï¼Œå‘¨è€Œå¤å§‹ï¼Œäº§ç”Ÿå¾ªç¯è°ƒç”¨ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let common = &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;common.init&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let user = &#123;</span><br><span class="line">  __proto__: common,</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.__proto__.show.call(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let admin = &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  get() &#123;</span><br><span class="line">    return this.__proto__.show.call(this);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(admin.get());</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ <code>js</code> æä¾›äº† <code>super</code> å…³é”®å­—</p>
<ul>
<li>ä½¿ç”¨ <code>super</code> è°ƒç”¨æ—¶ï¼Œåœ¨æ‰€æœ‰ç»§æ‰¿ä¸­ <code>this</code> å§‹ç»ˆä¸ºè°ƒç”¨å¯¹è±¡</li>
<li><code>super</code> æ˜¯ç”¨æ¥æŸ¥æ‰¾å½“å‰å¯¹è±¡çš„åŸå‹ï¼Œè€Œä¸åƒä¸Šé¢ä½¿ç”¨ <code>this</code> æŸ¥æ‰¾åŸå‹é€ æˆæ­»å¾ªç¯</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let common = &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let user = &#123;</span><br><span class="line">  __proto__: common,</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return super.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let admin = &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  get() &#123;</span><br><span class="line">    return super.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(admin.get());</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶ä½¿ç”¨<code>super</code>è°ƒç”¨çˆ¶çº§æ–¹æ³•ï¼Œä½†<code>thisæŒ‡å‘å½“å‰å¯¹è±¡</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let common &#x3D; &#123;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(&quot;common.init&quot;);</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">let user &#x3D; &#123;</span><br><span class="line">  __proto__: common,</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return super.show();</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">let admin &#x3D; &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  get() &#123;</span><br><span class="line">    return super.show(); &#x2F;&#x2F;è™½ç„¶ä½¿ç”¨superè°ƒç”¨çˆ¶çº§æ–¹æ³•ï¼Œä½†thisæŒ‡å‘å½“å‰å¯¹è±¡</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">admin.get();	&#x2F;&#x2F;common.init admin</span><br></pre></td></tr></table></figure>

<p><code>super</code> <strong>åªèƒ½åœ¨</strong><code>ç±»</code>æˆ–<code>å¯¹è±¡çš„æ–¹æ³•</code>ä¸­ä½¿ç”¨ï¼Œè€Œä¸èƒ½åœ¨ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°ä¸­ä½¿ç”¨ï¼Œä¸‹é¢å°†äº§ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  name: &quot;user&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let admin = &#123;</span><br><span class="line">  __proto__: user,</span><br><span class="line">  name: &quot;admin&quot;,</span><br><span class="line">  get: function() &#123;</span><br><span class="line">    return super.show();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(admin.get()); //Uncaught SyntaxError: &#x27;super&#x27; keyword unexpected here</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h4><p><code>super</code> æŒ‡å‘çˆ¶ç±»å¼•ç”¨ï¼Œåœ¨æ„é€ å‡½æ•°<code>constructor</code> ä¸­å¿…é¡»å…ˆè°ƒç”¨<code>super()</code>ï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½å¤Ÿç»§æ‰¿çˆ¶çº§åŸå‹çš„å±æ€§ã€æ–¹æ³•ã€‚</p>
<ul>
<li><code>super()</code> è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°<code>constructor()</code></li>
<li>å¿…é¡»åœ¨ <code>constructor</code> å‡½æ•°é‡Œçš„<code>this</code> ä½¿ç”¨å‰æ‰§è¡Œ <code>super()</code></li>
<li>è‹¥ä¸æ‰‹åŠ¨é…ç½®<code>super()</code>,ç³»ç»Ÿä¼šé»˜è®¤æ‰§è¡Œ</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    super(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">as.show();</span><br></pre></td></tr></table></figure>

<p><code>constructor</code> ä¸­å…ˆè°ƒç”¨ <code>super</code> æ–¹æ³•çš„åŸç†å¦‚ä¸‹</p>
<ul>
<li>åˆ©ç”¨çˆ¶çº§æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å®ä¾‹å±æ€§</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Parent(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">function User(...args) &#123;</span><br><span class="line">  Parent.apply(this, args);</span><br><span class="line">&#125;</span><br><span class="line">User.prototype = Object.create(User.prototype)</span><br><span class="line">User.prototype.constructor = User;</span><br><span class="line">const as = new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.name);</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¸æ‰‹åŠ¨é…ç½®<code>super(...args)</code>,ç³»ç»Ÿä¼šé»˜è®¤æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(this.name, this.age);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  constructor(...args) &#123;</span><br><span class="line">    super(..args);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as &#x3D; new Admin(&quot;é˜¿é¡º&quot;,18);</span><br><span class="line">as.show();</span><br></pre></td></tr></table></figure>

<p>ä¸ä¸‹æ–¹ä»£ç ç»“æœç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">    this.age &#x3D; age;</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(this.name, this.age);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;&#125;</span><br><span class="line">let as &#x3D; new Admin(&quot;é˜¿é¡º&quot;,18);</span><br><span class="line">as.show();</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="çˆ¶ç±»æ–¹æ³•"><a href="#çˆ¶ç±»æ–¹æ³•" class="headerlink" title="çˆ¶ç±»æ–¹æ³•"></a>çˆ¶ç±»æ–¹æ³•</h4><p>ä¹‹å‰å·²ç»æåˆ°è¿‡ï¼Œä½¿ç”¨<code>super</code>æŒ‡å‘çˆ¶çº§åŸå‹å¼•ç”¨ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡<code>super</code>è°ƒç”¨çˆ¶çº§åŸå‹çš„æ–¹æ³•ï¼Œå¹¶ä¸”thisæŒ‡å‘å½“å‰å¯¹è±¡ã€‚</p>
<ul>
<li>ä¸æ·»åŠ æ–¹æ³•åæ˜¯æ‰§è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°<code>constructor</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  getName() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    super(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.getName());</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯é€šè¿‡çˆ¶ç±»æ–¹æ³•è·å–è¯¾ç¨‹æ€»ä»·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Controller &#123;</span><br><span class="line">  sum() &#123;</span><br><span class="line">    return this.data.reduce((t, c) =&gt; t + c.price, 0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line">class Lesson extends Controller &#123;</span><br><span class="line">  constructor(lessons) &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.data = lessons;</span><br><span class="line">  &#125;</span><br><span class="line">  info() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      totalPrice: super.sum(),</span><br><span class="line">      data: this.data</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let data = [</span><br><span class="line">  &#123; name: &quot;js&quot;, price: 100 &#125;,</span><br><span class="line">  &#123; name: &quot;mysql&quot;, price: 212 &#125;,</span><br><span class="line">  &#123; name: &quot;vue.js&quot;, price: 98 &#125;</span><br><span class="line">];</span><br><span class="line">const as = new Lesson(data);</span><br><span class="line">console.table(as.info());</span><br></pre></td></tr></table></figure>





<hr>
<h4 id="æ–¹æ³•è¦†ç›–"><a href="#æ–¹æ³•è¦†ç›–" class="headerlink" title="æ–¹æ³•è¦†ç›–"></a>æ–¹æ³•è¦†ç›–</h4><p>å³åœ¨å­ç±»ä¸­è®¾ç½®ä¸çˆ¶ç±»åŒåçš„æ–¹æ³•ï¼Œè¿™æ ·å°±ä¼šä¼˜å…ˆè°ƒç”¨å­ç±»è‡ªèº«çš„æ–¹æ³•ï¼Œå­ç±»è‡ªèº«æ²¡æœ‰ï¼Œæ‰ä¼šæ”€çˆ¬åŸå‹è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>å­ç±»å­˜åœ¨çˆ¶ç±»åŒåæ–¹æ³•æ—¶ä½¿ç”¨å­ç±»æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  say() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;</span><br><span class="line">  say() &#123;</span><br><span class="line">    return &quot;é˜¿é¡ºç‰¹çƒ¦æ¼ï¼š&quot; + super.say();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const as = new Admin(&quot;é˜¿é¡º&quot;);</span><br><span class="line">console.log(as.say());</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Œåªè·å–è¯¾ç¨‹åç§°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Controller &#123;</span><br><span class="line">  say() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">  total() &#123;</span><br><span class="line">    return this.data.reduce((t, c) =&gt; t + c.price, 0);</span><br><span class="line">  &#125;</span><br><span class="line">  getByKey(key) &#123;</span><br><span class="line">    return this.data.filter(item =&gt; item.name.includes(key));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Lesson extends Controller &#123;</span><br><span class="line">  constructor(lessons) &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.data = lessons;</span><br><span class="line">  &#125;</span><br><span class="line">  getByKey(key) &#123;</span><br><span class="line">    return super.getByKey(key).map(item =&gt; item.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let data = [</span><br><span class="line">  &#123; name: &quot;js&quot;, price: 100 &#125;,</span><br><span class="line">  &#123; name: &quot;mysql&quot;, price: 212 &#125;,</span><br><span class="line">  &#123; name: &quot;vue.js&quot;, price: 98 &#125;</span><br><span class="line">];</span><br><span class="line">const hd = new Lesson(data);</span><br><span class="line">console.log(hd.getByKey(&quot;js&quot;));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é™æ€ç»§æ‰¿"><a href="#é™æ€ç»§æ‰¿" class="headerlink" title="é™æ€ç»§æ‰¿"></a>é™æ€ç»§æ‰¿</h4><p>é™æ€çš„å±æ€§å’Œæ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥è¢«ç»§æ‰¿ä½¿ç”¨çš„ï¼Œä¸‹é¢æ˜¯åŸç†åˆ†æ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">User.site = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">User.url = function() &#123;</span><br><span class="line">  return &quot;Ashuntefannao.com&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line">Admin.__proto__ = User;</span><br><span class="line">console.dir(Admin);</span><br><span class="line">console.log(Admin.url());</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨ <code>class</code> æ¥æ¼”ç¤ºé™æ€ç»§æ‰¿</p>
<ul>
<li><code>extends</code>ä¹Ÿä¼šç»§æ‰¿<strong>é™æ€</strong>å±æ€§ã€æ–¹æ³•</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  static site = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">  static host() &#123;</span><br><span class="line">    return &quot;Ashuntefannao.com&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  show() &#123;</span><br><span class="line">  	console.log(User.site, User.host());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Admin extends User &#123;&#125;</span><br><span class="line">console.log(Admin.site);</span><br><span class="line">let as = new Admin();</span><br><span class="line">as.show();</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹æ£€æµ‹"><a href="#åŸå‹æ£€æµ‹" class="headerlink" title="åŸå‹æ£€æµ‹"></a>åŸå‹æ£€æµ‹</h4><h5 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h5><p>ä½¿ç”¨ <code>instanceof</code> ç”¨äºæ£€æµ‹ æ„é€ å‡½æ•°çš„<code>prototype</code>æ˜¯å¦åœ¨æŸä¸ªå®ä¾‹çš„åŸå‹é“¾ä¸Šï¼Œä¸‹é¢æ˜¯åœ¨åŸå‹ä¸­çš„åˆ†æï¼ˆå·²ç»åœ¨åŸå‹ä¸ç»§æ‰¿ä¸­è®²è¿‡ï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User() &#123;&#125;</span><br><span class="line">function Admin() &#123;&#125;</span><br><span class="line">Admin.prototype = Object.create(User.prototype);</span><br><span class="line">let as = new Admin();</span><br><span class="line">console.log(as instanceof Admin); //true</span><br><span class="line">console.log(as instanceof User); //true</span><br><span class="line"></span><br><span class="line">console.log(as.__proto__ == Admin.prototype);</span><br><span class="line">console.log(as.__proto__.__proto__ == User.prototype);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯é€’å½’æ£€æµ‹åŸå‹çš„ä»£ç ï¼Œå¸®åŠ©åˆ†æ <code>instanceof</code> çš„åŸç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function checkPrototype(obj, constructor) &#123;</span><br><span class="line">  if (!obj.__proto__) return false;</span><br><span class="line">  if (obj.__proto__ == constructor.prototype) return true;</span><br><span class="line">  return checkPrototype(obj.__proto__, constructor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>class</code> å†…éƒ¨å®ç°å°±æ˜¯åŸºäºåŸå‹ï¼Œæ‰€ä»¥ä½¿ç”¨<code>instanceof</code> åˆ¤æ–­å’Œä¸Šé¢åŸå‹æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;&#125;</span><br><span class="line">class Admin extends User &#123;&#125;</span><br><span class="line">let as = new Admin();</span><br><span class="line">console.log(as instanceof Admin);</span><br><span class="line">console.log(as instanceof User);</span><br></pre></td></tr></table></figure>

<h5 id="isPrototypeOf-NaN"><a href="#isPrototypeOf-NaN" class="headerlink" title="isPrototypeOf"></a>isPrototypeOf</h5><p>ä½¿ç”¨ <code>isPrototypeOf</code> åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸­ï¼Œä¸‹é¢æ˜¯åŸç†åˆ†æ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const a = &#123;&#125;;</span><br><span class="line">const b = &#123;</span><br><span class="line">  __proto__: a</span><br><span class="line">&#125;;</span><br><span class="line">const c = &#123;</span><br><span class="line">  __proto__: b</span><br><span class="line">&#125;;</span><br><span class="line">console.log(a.isPrototypeOf(b)); //true</span><br><span class="line">console.log(a.isPrototypeOf(c)); //true</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢åœ¨ä½¿ç”¨ <code>class</code> è¯­æ³•ä¸­ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;&#125;</span><br><span class="line">class Admin extends User &#123;&#125;</span><br><span class="line">let as = new Admin();</span><br><span class="line">console.log(Admin.prototype.isPrototypeOf(as));</span><br><span class="line">console.log(User.prototype.isPrototypeOf(as));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç»§æ‰¿å†…ç½®ç±»"><a href="#ç»§æ‰¿å†…ç½®ç±»" class="headerlink" title="ç»§æ‰¿å†…ç½®ç±»"></a>ç»§æ‰¿å†…ç½®ç±»</h4><p>ä½¿ç”¨åŸå‹æ‰©å±•å†…ç½®ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Arr(...args) &#123;</span><br><span class="line">  args.forEach(item =&gt; this.push(item));</span><br><span class="line">  this.first = function() &#123;</span><br><span class="line">    return this[0];</span><br><span class="line">  &#125;;</span><br><span class="line">  this.max = function() &#123;</span><br><span class="line">    return this.data.sort((a, b) =&gt; b - a)[0];</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Arr.prototype = Object.create(Array.prototype);</span><br><span class="line">let arr = new Arr(&quot;é˜¿é¡º&quot;, &quot;123&quot;, 18);</span><br><span class="line">console.log(arr.first());</span><br><span class="line">console.log(arr.max())</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>class</code>æ‰©å±•å†…ç½®ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class Arr extends Array &#123;</span><br><span class="line">        constructor(...args) &#123;</span><br><span class="line">          super(...args);</span><br><span class="line">        &#125;</span><br><span class="line">        add(val) &#123;</span><br><span class="line">          this.push(val);</span><br><span class="line">        &#125;</span><br><span class="line">        remove(val) &#123;</span><br><span class="line">          let index = this.findIndex((v) =&gt; v == val);</span><br><span class="line">          index &amp;&amp; this.splice(index, 1);</span><br><span class="line">          return index;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">let arr = new Arr(1, 2, 3);</span><br><span class="line">arr.push(&quot;ASHUNTEFANNAO&quot;);</span><br><span class="line">console.log(arr);</span><br><span class="line">console.log(arr.remove(3));</span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h4><p>å…³äº<code>mixin</code> çš„ä½¿ç”¨åœ¨åŸå‹ç« èŠ‚å·²ç»è®¨è®ºè¿‡ï¼Œåœ¨<code>class</code> ä½¿ç”¨ä¹Ÿæ˜¯ç›¸åŒçš„åŸç†</p>
<p><code>JS</code>ä¸èƒ½å®ç°å¤šç»§æ‰¿ï¼Œå¦‚æœè¦ä½¿ç”¨å¤šä¸ªç±»çš„æ–¹æ³•æ—¶å¯ä»¥ä½¿ç”¨<code>mixin</code>æ··åˆæ¨¡å¼æ¥å®Œæˆã€‚</p>
<ul>
<li><code>mixin</code> ç±»æ˜¯ä¸€ä¸ªåŒ…å«è®¸å¤šä¾›å…¶å®ƒç±»ä½¿ç”¨çš„æ–¹æ³•çš„ç±»</li>
<li><code>mixin</code> ç±»ä¸ç”¨æ¥ç»§æ‰¿åšä¸ºå…¶å®ƒç±»çš„çˆ¶ç±»</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const Tool = &#123;</span><br><span class="line">  max(key) &#123;</span><br><span class="line">    return this.data.sort((a, b) =&gt; b[key] - a[key])[0];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class Lesson &#123;</span><br><span class="line">  constructor(lessons) &#123;</span><br><span class="line">    this.lessons = lessons;</span><br><span class="line">  &#125;</span><br><span class="line">  get data() &#123;</span><br><span class="line">    return this.lessons;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Object.assign(Lesson.prototype, Tool);</span><br><span class="line">const data = [</span><br><span class="line">  &#123; name: &quot;js&quot;, price: 100 &#125;,</span><br><span class="line">  &#123; name: &quot;mysql&quot;, price: 212 &#125;,</span><br><span class="line">  &#123; name: &quot;vue.js&quot;, price: 98 &#125;</span><br><span class="line">];</span><br><span class="line">let hd = new Lesson(data);</span><br><span class="line">console.log(hd.max(&quot;price&quot;));</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h4><img src="ç±».assets/Class_3.gif" alt="Class_3" style="zoom:70%;" />

<ul>
<li>ç±»ï¼šAnimationã€Slideã€Panel</li>
<li>Animation:åŠ¨ç”»æ•ˆæœçš„å®ç°</li>
<li>Slideï¼šå¤„ç†äº‹ä»¶ç»‘å®šï¼Œé€šè¿‡Panelè°ƒç”¨åŠ¨ç”»ï¼Œå®ç°é€»è¾‘</li>
<li>Panelï¼šç”¨äºç®¡ç†é¢æ¿çš„ä¼¸ç¼©</li>
<li>åªæœ‰Panel extends Animation åœ¨Slideä¸­é€šè¿‡é€‰æ‹©å™¨éå†å®ä¾‹åŒ–panelã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      * &#123;</span><br><span class="line">        margin: 0px;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        width: 100vw;</span><br><span class="line">        height: 100vh;</span><br><span class="line">        position: relative;</span><br><span class="line">      &#125;</span><br><span class="line">      main &#123;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        width: 80%;</span><br><span class="line">        height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      .slide &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      dl &#123;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        height: 90%;</span><br><span class="line">      &#125;</span><br><span class="line">      section &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        display: flex;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">      &#125;</span><br><span class="line">      section &gt; dt,</span><br><span class="line">      section &gt; dd &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">        display: flex;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        color: rgba(255, 255, 255, 0.8);</span><br><span class="line">      &#125;</span><br><span class="line">      section &gt; dt &#123;</span><br><span class="line">        min-height: 30px;</span><br><span class="line">        background-color: #16a085;</span><br><span class="line">      &#125;</span><br><span class="line">      section &gt; dd &#123;</span><br><span class="line">        height: 200px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        background-color: #f39c12;</span><br><span class="line">        font-size: 24px;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;slide&quot;&gt;</span><br><span class="line">        &lt;dl&gt;</span><br><span class="line">          &lt;section&gt;</span><br><span class="line">            &lt;dt&gt;Ashun&lt;&#x2F;dt&gt;</span><br><span class="line">            &lt;dd&gt;Ashun&lt;&#x2F;dd&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;section&gt;</span><br><span class="line">            &lt;dt&gt;é˜¿é¡º&lt;&#x2F;dt&gt;</span><br><span class="line">            &lt;dd&gt;é˜¿é¡º&lt;&#x2F;dd&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;section&gt;</span><br><span class="line">            &lt;dt&gt;ashun&lt;&#x2F;dt&gt;</span><br><span class="line">            &lt;dd&gt;ashun&lt;&#x2F;dd&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;&#x2F;dl&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;main&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"> class Animation &#123;</span><br><span class="line">        constructor(el) &#123;</span><br><span class="line">          this.el &#x3D; el;</span><br><span class="line">          this.timeOut &#x3D; 6;</span><br><span class="line">          this.step &#x3D; 3;</span><br><span class="line">          this.isShow &#x3D; false;</span><br><span class="line">          this.defaultHeight &#x3D; this.height;</span><br><span class="line">          this.timer &#x3D; undefined;</span><br><span class="line">        &#125;</span><br><span class="line">        get height() &#123;</span><br><span class="line">          return parseFloat(window.getComputedStyle(this.el).height);</span><br><span class="line">        &#125;</span><br><span class="line">        set height(num) &#123;</span><br><span class="line">          this.el.style.height &#x3D; num + &quot;px&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        show(callback) &#123;</span><br><span class="line">          this.isShow &#x3D; true;</span><br><span class="line">          clearInterval(this.timer);</span><br><span class="line">          this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">            if (this.height &gt;&#x3D; this.defaultHeight) &#123;</span><br><span class="line">              clearInterval(this.timer);</span><br><span class="line">              callback &amp;&amp; callback(this);</span><br><span class="line">              return;</span><br><span class="line">            &#125;</span><br><span class="line">            this.height &#x3D; this.height + this.step &gt;&#x3D; this.defaultHeight</span><br><span class="line">                ? this.defaultHeight</span><br><span class="line">                : this.height + this.step;</span><br><span class="line">          &#125;, this.timeOuttimeOut);</span><br><span class="line">        &#125;</span><br><span class="line">        hide(callback) &#123;</span><br><span class="line">          this.isShow &#x3D; false;</span><br><span class="line">          clearInterval(this.timer);</span><br><span class="line">          this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">            if (this.height &lt;&#x3D; 0) &#123;</span><br><span class="line">              clearInterval(this.timer);</span><br><span class="line">              callback &amp;&amp; callback(this);</span><br><span class="line">              return;</span><br><span class="line">            &#125;</span><br><span class="line">            this.height &#x3D; this.height - this.step &lt; 0 ? 0 : this.height - this.step;</span><br><span class="line">          &#125;, this.timeOuttimeOut);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      class Slide &#123;</span><br><span class="line">        constructor(el) &#123;</span><br><span class="line">          this.el &#x3D; document.querySelector(el);</span><br><span class="line">          this.links &#x3D; this.el.querySelectorAll(&quot;dt&quot;);</span><br><span class="line">          this.panels &#x3D; [...this.el.querySelectorAll(&quot;dd&quot;)].map(</span><br><span class="line">            (v) &#x3D;&gt; new Panel(v)</span><br><span class="line">          );</span><br><span class="line">          this.init();</span><br><span class="line">          this.buildEvent();</span><br><span class="line">        &#125;</span><br><span class="line">        init() &#123;</span><br><span class="line">          Panel.hidAll(this.panels, 0);</span><br><span class="line">          this.panels[0].action();</span><br><span class="line">        &#125;</span><br><span class="line">        buildEvent() &#123;</span><br><span class="line">          this.links.forEach((link, index) &#x3D;&gt; &#123;</span><br><span class="line">            link.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">              let test &#x3D; Panel.hidAll(this.panels, index);</span><br><span class="line">              this.panels[index].action();</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      class Panel extends Animation &#123;</span><br><span class="line">        static num &#x3D; 0;</span><br><span class="line">        constructor(el) &#123;</span><br><span class="line">          super(el);</span><br><span class="line">          this.el &#x3D; el;</span><br><span class="line">        &#125;</span><br><span class="line">        action() &#123;</span><br><span class="line">          this.show();</span><br><span class="line">        &#125;</span><br><span class="line">        static hidAll(panels, index) &#123;</span><br><span class="line">          panels.forEach((v, i) &#x3D;&gt; &#123;</span><br><span class="line">            if (index !&#x3D; i) &#123;</span><br><span class="line">              v.hide();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">		&#125;</span><br><span class="line">    new Slide(&quot;.slide&quot;);</span><br><span class="line"> &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ç‰ˆæœ¬ï¼šæ¯æ¬¡ç‚¹å‡»ä¸åŒçš„itemï¼Œä¼šå±•ç¤ºå½“å‰çš„itemï¼Œæ”¶ç¼©å…¶å®ƒitemã€‚åœ¨åŠ¨ç”»ç»“æŸå‰å¯ä»¥æ“ä½œå…¶å®ƒitemã€‚</p>
<p>ä¸‹é¢çš„ç‰ˆæœ¬ï¼šåŠ¨ç”»ç»“æŸå‰æ“ä½œå…¶å®ƒitemæ— æ•ˆæœã€‚</p>
<ul>
<li>å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼Œç”¨äºè®°å½•æ”¶ç¼©é€‰é¡¹çš„ä¸ªæ•°</li>
<li>å¦‚æœå½“å‰æ”¶ç¼©é€‰é¡¹çš„ä¸ªæ•°å¤§äº0ï¼Œå³è¿˜æœ‰é€‰é¡¹æ²¡æœ‰æ”¶ç¼©å®Œæ¯•ï¼Œåˆ™ä¸æ‰§è¡Œå¯¹åº”çš„åŠ¨ç”»ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  class Animation &#123;</span><br><span class="line">    constructor(el) &#123;</span><br><span class="line">      this.el &#x3D; el;</span><br><span class="line">      this.timeOut &#x3D; 6;</span><br><span class="line">      this.step &#x3D; 3;</span><br><span class="line">      this.isShow &#x3D; false;</span><br><span class="line">      this.defaultHeight &#x3D; this.height;</span><br><span class="line">      this.timer &#x3D; undefined;</span><br><span class="line">    &#125;</span><br><span class="line">    get height() &#123;</span><br><span class="line">      return parseFloat(window.getComputedStyle(this.el).height);</span><br><span class="line">    &#125;</span><br><span class="line">    set height(num) &#123;</span><br><span class="line">      this.el.style.height &#x3D; num + &quot;px&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    show(callback) &#123;</span><br><span class="line">      this.isShow &#x3D; true;</span><br><span class="line">      clearInterval(this.timer);</span><br><span class="line">      this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        if (this.height &gt;&#x3D; this.defaultHeight) &#123;</span><br><span class="line">          clearInterval(this.timer);</span><br><span class="line">          callback &amp;&amp; callback(this);</span><br><span class="line">          return;</span><br><span class="line">        &#125;</span><br><span class="line">        this.height &#x3D; this.height + this.step &gt;&#x3D; this.defaultHeight</span><br><span class="line">            ? this.defaultHeight</span><br><span class="line">            : this.height + this.step;</span><br><span class="line">      &#125;, this.timeOuttimeOut);</span><br><span class="line">    &#125;</span><br><span class="line">    hide(callback) &#123;</span><br><span class="line">      this.isShow &#x3D; false;</span><br><span class="line">      clearInterval(this.timer);</span><br><span class="line">      this.timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">        if (this.height &lt;&#x3D; 0) &#123;</span><br><span class="line">          clearInterval(this.timer);</span><br><span class="line">          callback &amp;&amp; callback(this);</span><br><span class="line">          return;</span><br><span class="line">        &#125;</span><br><span class="line">        this.height &#x3D; this.height - this.step &lt; 0 ? 0 : this.height - this.step;</span><br><span class="line">      &#125;, this.timeOuttimeOut);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  class Slide &#123;</span><br><span class="line">    constructor(el) &#123;</span><br><span class="line">      this.el &#x3D; document.querySelector(el);</span><br><span class="line">      this.links &#x3D; this.el.querySelectorAll(&quot;dt&quot;);</span><br><span class="line">      this.panels &#x3D; [...this.el.querySelectorAll(&quot;dd&quot;)].map(</span><br><span class="line">        (v) &#x3D;&gt; new Panel(v)</span><br><span class="line">      );</span><br><span class="line">      this.init();</span><br><span class="line">      this.buildEvent();</span><br><span class="line">    &#125;</span><br><span class="line">    init() &#123;</span><br><span class="line">      Panel.hidAll(Panel.others(this.panels, 0), () &#x3D;&gt; &#123;</span><br><span class="line">        this.panels[0].action();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    buildEvent() &#123;</span><br><span class="line">      this.links.forEach((link, index) &#x3D;&gt; &#123;</span><br><span class="line">        link.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">          Panel.hidAll(Panel.others(this.panels, index), () &#x3D;&gt; &#123;</span><br><span class="line">            this.panels[index].action();</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  class Panel extends Animation &#123;</span><br><span class="line">    static num &#x3D; 0;</span><br><span class="line">    constructor(el) &#123;</span><br><span class="line">      super(el);</span><br><span class="line">      this.el &#x3D; el;</span><br><span class="line">    &#125;</span><br><span class="line">    action() &#123;</span><br><span class="line">       this.show();</span><br><span class="line">    &#125;</span><br><span class="line">    static hidAll(others, callback) &#123;</span><br><span class="line">      if (Panel.num &gt; 0) return false;</span><br><span class="line">      others.forEach((v, i) &#x3D;&gt; &#123;</span><br><span class="line">        ++Panel.num;</span><br><span class="line">        v.hide(() &#x3D;&gt; Panel.num--);	&#x2F;&#x2F;å½“panelçš„åŠ¨ç”»æ‰§è¡Œå®Œæ¯•å,è¿›è¡Œ--</span><br><span class="line">      &#125;);</span><br><span class="line">      callback &amp;&amp; callback();</span><br><span class="line">    &#125;</span><br><span class="line">    static others(panels, index) &#123;</span><br><span class="line">      return panels.filter((v, i) &#x3D;&gt; i !&#x3D; index);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line">new Slide(&quot;.slide&quot;);</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>Promise</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/Promise/</url>
    <content><![CDATA[<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p><code>JavaScript</code> ä¸­å­˜åœ¨å¾ˆå¤šå¼‚æ­¥æ“ä½œ,<code>Promise</code> å°†å¼‚æ­¥æ“ä½œé˜Ÿåˆ—åŒ–ï¼ŒæŒ‰ç…§æœŸæœ›çš„é¡ºåºæ‰§è¡Œï¼Œè¿”å›ç¬¦åˆé¢„æœŸçš„ç»“æœã€‚å¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨å¤šä¸ª <code>Promise</code> è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚</p>
<p>Promise åœ¨å„ç§å¼€æºåº“ä¸­å·²ç»å®ç°ï¼Œç°åœ¨æ ‡å‡†åŒ–åè¢«æµè§ˆå™¨é»˜è®¤æ”¯æŒã€‚</p>
<blockquote>
<p>promise æ˜¯ä¸€ä¸ªæ‹¥æœ‰ <code>then</code> æ–¹æ³•çš„å¯¹è±¡æˆ–å‡½æ•°</p>
</blockquote>
<h3 id="é—®é¢˜æ¢è®¨"><a href="#é—®é¢˜æ¢è®¨" class="headerlink" title="é—®é¢˜æ¢è®¨"></a>é—®é¢˜æ¢è®¨</h3><p>ä¸‹é¢é€šè¿‡å¤šä¸ªç¤ºä¾‹æ¥æ„Ÿå—ä¸€ä¸‹ä¸ä½¿ç”¨ <code>promise</code> æ—¶ï¼Œå¤„ç†ç›¸åº”é—®é¢˜çš„ä¸æ˜“ï¼ŒåŠç”Ÿæˆäº†ä¸ä¾¿é˜…è¯»çš„ä»£ç ã€‚</p>
<h4 id="å®šæ—¶åµŒå¥—"><a href="#å®šæ—¶åµŒå¥—" class="headerlink" title="å®šæ—¶åµŒå¥—"></a>å®šæ—¶åµŒå¥—</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®šæ—¶å™¨æ‰§è¡Œç»“æŸåï¼Œæ‰§è¡Œå¦ä¸€ä¸ªå®šæ—¶å™¨ï¼Œè¿™ç§åµŒå¥—é€ æˆä»£ç ä¸æ˜“é˜…è¯»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">      div &#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background-color: pink;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      function createInterval(callback, delay &#x3D; 50) &#123;</span><br><span class="line">        let timer &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">          callback(timer);</span><br><span class="line">        &#125;, delay);</span><br><span class="line">      &#125;</span><br><span class="line">      const div &#x3D; document.querySelector(&quot;div&quot;);</span><br><span class="line">      console.log(parseFloat(window.getComputedStyle(div).left));</span><br><span class="line"></span><br><span class="line">      function run() &#123;</span><br><span class="line">        createInterval((timer) &#x3D;&gt; &#123;</span><br><span class="line">          div.style.left &#x3D;</span><br><span class="line">            parseFloat(window.getComputedStyle(div).left) + 2 + &quot;px&quot;;</span><br><span class="line">          &#x2F;&#x2F; console.log(&quot;left&quot;);</span><br><span class="line">          if (parseFloat(div.style.left) &gt;&#x3D; 50) &#123;</span><br><span class="line">            clearInterval(timer);</span><br><span class="line">            createInterval((timer) &#x3D;&gt; &#123;</span><br><span class="line">              div.style.width &#x3D;</span><br><span class="line">                parseFloat(window.getComputedStyle(div).width) - 2 + &quot;px&quot;;</span><br><span class="line">              &#x2F;&#x2F; console.log(&quot;width&quot;);</span><br><span class="line">              parseFloat(div.style.width) &lt;&#x3D; 0 &amp;&amp; clearInterval(timer);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      div.addEventListener(&quot;click&quot;, run);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å›¾ç‰‡åŠ è½½"><a href="#å›¾ç‰‡åŠ è½½" class="headerlink" title="å›¾ç‰‡åŠ è½½"></a>å›¾ç‰‡åŠ è½½</h4><p>ä¸‹é¢æ˜¯å›¾ç‰‡åè®¾ç½®å›¾ç‰‡è¾¹æ¡†ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨å›è°ƒå‡½æ•°å¤„ç†ï¼Œä»£ç åµŒå¥—è¾ƒå¤æ‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function createImage(file, resolve, reject) &#123;</span><br><span class="line">  const img = new Image();</span><br><span class="line">  img.src = file;</span><br><span class="line">  img.onload = () =&gt; &#123;</span><br><span class="line">    resolve(img);</span><br><span class="line">    console.log(&quot;image Loading fulfilled&quot;);</span><br><span class="line">  &#125;;</span><br><span class="line">  img.onerror = () =&gt; &#123;</span><br><span class="line">    console.log(&quot;image loading fail&quot;);</span><br><span class="line">  &#125;;</span><br><span class="line">  document.body.append(img);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createImage(&quot;./images/img1.jpg&quot;, (img) =&gt; &#123;</span><br><span class="line">  img.style.border = &quot;5px solid pink&quot;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="åŠ è½½æ–‡ä»¶"><a href="#åŠ è½½æ–‡ä»¶" class="headerlink" title="åŠ è½½æ–‡ä»¶"></a>åŠ è½½æ–‡ä»¶</h4><p>ä¸‹é¢æ˜¯å¼‚æ­¥åŠ è½½å¤–éƒ¨<code>JS</code>æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¹¶è®¾ç½®çš„é”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function loadJS(file, resolve, reject) &#123;</span><br><span class="line">  let script = document.createElement(&quot;script&quot;);</span><br><span class="line">  script.src = file;</span><br><span class="line">  script.onload = resolve;</span><br><span class="line">  script.onerror = reject;</span><br><span class="line">  document.body.append(script);</span><br><span class="line">&#125;</span><br><span class="line">loadJS(</span><br><span class="line">  &quot;./js/ashun.js&quot;,</span><br><span class="line">  (script) =&gt; &#123;</span><br><span class="line">    console.log(`$&#123;script.path[0].src&#125;  load Resolve`);</span><br><span class="line">    title();</span><br><span class="line">  &#125;,</span><br><span class="line">  (err) =&gt; console.log(`$&#123;err.srcElement.src&#125;  load Reject`)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å®ä¾‹ä¸­ç”¨åˆ°çš„ <code>ashun.js</code> ä¸ <code>SHUN.js</code> å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># ashun.js</span><br><span class="line">function title() &#123;</span><br><span class="line">  console.log(&quot;title method&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># SHUN.js</span><br><span class="line">function run() &#123;</span><br><span class="line">  title();</span><br><span class="line">  console.log(&quot;run method&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¦åŠ è½½å¤šä¸ªè„šæœ¬æ—¶éœ€è¦åµŒå¥—ä½¿ç”¨ï¼Œä¸‹é¢<code>SHUN.js</code> ä¾èµ– <code>ashun.js</code>ï¼Œéœ€è¦å…ˆåŠ è½½<code>ashun.js</code> ååŠ è½½<code>SHUN.js</code></p>
<blockquote>
<p>ä¸æ–­çš„å›è°ƒå‡½æ•°æ“ä½œå°†äº§ç”Ÿå›è°ƒåœ°ç‹±ï¼Œä½¿ä»£ç å¾ˆéš¾ç»´æŠ¤</p>
</blockquote>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function loadJS(file,resolve,reject)&#123;â€¦â€¦&#125;</span><br><span class="line"></span><br><span class="line">   loadJS(</span><br><span class="line">        &quot;/js/ashun.js&quot;,</span><br><span class="line">        (script) =&gt; &#123;</span><br><span class="line">          loadJS(</span><br><span class="line">            &quot;/js/SHUN.js&quot;,</span><br><span class="line">            (script) =&gt; &#123;</span><br><span class="line">              run();</span><br><span class="line">              console.log(`$&#123;script.path[0].src&#125;  load Resolve`);</span><br><span class="line">            &#125;,</span><br><span class="line">            (err) =&gt; &#123;</span><br><span class="line">              console.log(`$&#123;err.srcElement.src&#125;åŠ è½½å¤±è´¥`);</span><br><span class="line">            &#125;</span><br><span class="line">          );</span><br><span class="line">          console.log(`$&#123;script.path[0].src&#125;  load Resolve`);</span><br><span class="line">        &#125;,</span><br><span class="line">        (err) =&gt; &#123;</span><br><span class="line">          console.log(`$&#123;err.srcElement.src&#125;åŠ è½½å¤±è´¥`);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>



<h4 id="å¼‚æ­¥è¯·æ±‚"><a href="#å¼‚æ­¥è¯·æ±‚" class="headerlink" title="å¼‚æ­¥è¯·æ±‚"></a>å¼‚æ­¥è¯·æ±‚</h4><p>ä½¿ç”¨ä¼ ç»Ÿçš„å¼‚æ­¥è¯·æ±‚ä¹Ÿä¼šäº§ç”Ÿå›è°ƒåµŒå¥—çš„é—®é¢˜ã€‚</p>
<p>æ¯”å¦‚è‹¥è¦è·å–å•†å“çš„è¯¦æƒ…ï¼Œå°±è¦åˆ†ä¸ºä¸¤æ­¥</p>
<ol>
<li>å…ˆè¯·æ±‚å•†å“æ•°æ®ï¼Œå¾—åˆ°å•†å“çš„id</li>
<li>æ ¹æ®å•†å“idè¯·æ±‚è·å–å¯¹åº”å•†å“çš„è¯¦æƒ…æ•°æ®ã€‚</li>
</ol>
<p>ä»¥ä¸‹æ¥å£æ— å®é™…ç”¨é€”ï¼Œä»…ä½œç¤ºä¾‹ï¼Œå¯è‡ªå·±ç¼–å†™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function ajax(url, resolve, reject) &#123;</span><br><span class="line">  let xhr = new XMLHttpRequest();</span><br><span class="line">  xhr.open(&quot;GET&quot;, url);</span><br><span class="line">  xhr.send();</span><br><span class="line">  xhr.onload = function() &#123;</span><br><span class="line">    if (this.status == 200) &#123;</span><br><span class="line">      resolve(JSON.parse(this.response));</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      reject(this);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">ajax(&quot;http://localhost:8888/goodslist/data, goods =&gt; &#123;</span><br><span class="line">  ajax(</span><br><span class="line">    `http://localhost:8888/category?id=$&#123;goods[&quot;id&quot;]&#125;`,</span><br><span class="line">    response =&gt; &#123;</span><br><span class="line">      console.log(response[0]);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="è‚¯å¾·åŸº"><a href="#è‚¯å¾·åŸº" class="headerlink" title="è‚¯å¾·åŸº"></a>è‚¯å¾·åŸº</h4><p>ä¸‹é¢æ˜¯æ¨¡æ‹Ÿè‚¯å¾·åŸºåƒé¥­çš„äº‹æƒ…ï¼Œä½¿ç”¨ <code>promise</code> æ“ä½œå¼‚æ­¥çš„æ–¹å¼æ¯ä¸ªé˜¶æ®µä¼šå¾ˆæ¸…æ¥š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let kfc = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  console.log(&quot;è‚¯å¾·åŸºæ­£åœ¨ä¸ºæ‚¨åšé¤â€¦â€¦&quot;);</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    resolve(&quot;é¤å“å·²ç»åšå¥½ï¼Œä¸ºæ‚¨ä¸Šæ¡Œ&quot;);</span><br><span class="line">  &#125;, 2000);</span><br><span class="line">&#125;);</span><br><span class="line">let as = kfc.then((result) =&gt; &#123;</span><br><span class="line">  console.log(result);</span><br><span class="line">  console.log(&quot;é˜¿é¡ºæ”¶åˆ°æ¶ˆæ¯&quot;);</span><br><span class="line">  return &#123;</span><br><span class="line">    then(resolve, reject) &#123;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        resolve(&quot;æˆ‘åƒäº†2ç§’ï¼Œä¸è¾£ï¼Œå¼ ä¸‰ä½ å¯ä»¥åƒäº†&quot;);</span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">let zhangsan = as.then((msg) =&gt; &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    console.log(&quot;å¼ ä¸‰æ”¶åˆ°é˜¿é¡ºæ¶ˆæ¯ï¼š&quot; + msg);</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      let msg = &quot;æˆ‘åƒäº†1ç§’ï¼ŒçœŸå¥½åƒï¼Œ æå››ä¹Ÿå°å°å§&quot;;</span><br><span class="line">      console.log(msg);</span><br><span class="line">      resolve(msg);</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">let lisi = zhangsan.then((result) =&gt; &#123;</span><br><span class="line">  console.log(&quot;æå››æ”¶åˆ°æ¶ˆæ¯ï¼š&quot; + result);</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;æå››:æˆ‘åƒäº†1ç§’ï¼Œä¸é”™ä¸é”™&quot;);</span><br><span class="line">  &#125;, 1000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è€Œä½¿ç”¨ä»¥å¾€çš„å›è°ƒæ–¹å¼ï¼Œå°±ä¼šè®©äººè‹¦ä¸å ªè¨€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function notice(msg, then) &#123;</span><br><span class="line">  then(msg);</span><br><span class="line">&#125;</span><br><span class="line">function meal() &#123;</span><br><span class="line">  notice(&quot;è‚¯å¾·åŸºå¨æˆ¿å¼€å§‹åšé¥­&quot;, (msg) =&gt; &#123;</span><br><span class="line">    console.log(msg);</span><br><span class="line">    notice(&quot;æˆ‘æ˜¯è‚¯å¾·åŸºï¼Œä½ çš„é¤å·²ç»åšå¥½&quot;, (msg) =&gt; &#123;</span><br><span class="line">      console.log(`é˜¿é¡ºæ”¶åˆ°è‚¯å¾·åŸºæ¶ˆæ¯: $&#123;msg&#125;`);</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        notice(&quot;å¼ ä¸‰ï¼Œæˆ‘åƒäº†ä¸¤ç§’äº†ï¼Œä¸è¾£ï¼Œä½ å¯ä»¥åƒäº†&quot;, (msg) =&gt; &#123;</span><br><span class="line">          console.log(`å¼ ä¸‰æ”¶åˆ°é˜¿é¡ºæ¶ˆæ¯: $&#123;msg&#125;`);</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            notice(&quot;å¾ˆå¥½åƒï¼Œæå››ä¹Ÿå°å°å§&quot;, (msg) =&gt; &#123;</span><br><span class="line">              console.log(msg);</span><br><span class="line">              notice(&quot;æå››æ”¶åˆ°æ¶ˆæ¯&quot;, (msg) =&gt; &#123;</span><br><span class="line">                console.log(msg);</span><br><span class="line">                setTimeout(() =&gt; &#123;</span><br><span class="line">                  console.log(&quot;æå››:ä¸é”™ä¸é”™&quot;);</span><br><span class="line">                &#125;, 1000);</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;, 2000);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, 2000);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">meal();</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å¼‚æ­¥çŠ¶æ€"><a href="#å¼‚æ­¥çŠ¶æ€" class="headerlink" title="å¼‚æ­¥çŠ¶æ€"></a>å¼‚æ­¥çŠ¶æ€</h3><p>Promise æ„ä¸ºæ‰¿è¯ºï¼Œå°±åƒæˆ‘ä»¬å»é¥­åº—ç”¨é¤ï¼Œç‚¹å®Œé¤åæœåŠ¡å‘˜ä¼šç»™æˆ‘ä»¬ä¸€ä¸ªç¥¨å·ï¼Œå¦‚æœé¥­èœåšå¥½ï¼Œæˆ‘ä»¬å‡­å€Ÿç¥¨å·å»é¢†é¤ï¼Œè¿™å°±ä»£è¡¨æˆåŠŸçŠ¶æ€ï¼Œè‹¥ç”±äºå…¶å®ƒåŸå› é¥­èœä¸èƒ½å¤Ÿé¡ºåˆ©åšå¥½ï¼Œè¿™å°±ä»£è¡¨æ‹’ç»çŠ¶æ€ã€‚åœ¨å¾—åˆ°è¿™äº›ç»“æœå‰ï¼Œæˆ‘ä»¬ä¸€ç›´å¤„äºç­‰å¾…çš„çŠ¶æ€ã€‚</p>
<ul>
<li>ä¸€ä¸ª <code>promise</code> å¿…é¡»æœ‰ä¸€ä¸ª <code>then</code> æ–¹æ³•ç”¨äºå¤„ç†çŠ¶æ€æ”¹å˜</li>
</ul>
<h4 id="çŠ¶æ€è¯´æ˜"><a href="#çŠ¶æ€è¯´æ˜" class="headerlink" title="çŠ¶æ€è¯´æ˜"></a>çŠ¶æ€è¯´æ˜</h4><p>PromiseåŒ…å«<code>pending</code>ã€<code>fulfilled</code>ã€<code>rejected</code>ä¸‰ç§çŠ¶æ€</p>
<ul>
<li><code>pending</code> æŒ‡ç­‰å¾…çŠ¶æ€ï¼Œåˆå§‹åŒ– <code>promise</code> æ—¶çš„çŠ¶æ€</li>
<li><code>resolve</code> æŒ‡å·²ç»è§£å†³ï¼Œå°† <code>promise</code> çŠ¶æ€è®¾ç½®ä¸º<code>fulfilled</code></li>
<li><code>reject</code> æŒ‡æ‹’ç»å¤„ç†ï¼Œå°† <code>promise</code> çŠ¶æ€è®¾ç½®ä¸º<code>rejected</code></li>
<li><code>promise</code> æ˜¯ç”Ÿäº§è€…ï¼Œé€šè¿‡ <code>resolve</code> ä¸ <code>reject</code> å‡½æ•°å‘ŠçŸ¥ç»“æœ</li>
<li><code>promise</code> éå¸¸é€‚åˆéœ€è¦ä¸€å®šæ‰§è¡Œæ—¶é—´çš„å¼‚æ­¥ä»»åŠ¡</li>
<li>åŒä¸€PromiseçŠ¶æ€ä¸€æ—¦ç¡®å®š(<code>fufilled\rejected</code>),çŠ¶æ€å°†ä¸å¯å†æ¬¡æ›´æ”¹</li>
</ul>
<p>promise æ˜¯é˜Ÿåˆ—çŠ¶æ€ï¼Œå°±åƒä½“è‚²ä¸­çš„æ¥åŠ›èµ›ï¼Œæˆ–å¤šç±³è¯ºéª¨ç‰Œæ¸¸æˆï¼ŒçŠ¶æ€ä¸€ç›´å‘åä¼ é€’ï¼Œå½“ç„¶ ä¹Ÿå¯æ›´æ”¹å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªpromiseçš„çŠ¶æ€ï¼Œæ¥å½±å“åç»­çš„promiseã€‚</p>
<p>promise æ²¡æœ‰ä½¿ç”¨ <code>resolve</code> æˆ– <code>reject</code> æ›´æ”¹çŠ¶æ€æ—¶ï¼Œé»˜è®¤çŠ¶æ€ä¸º <code>pending</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(</span><br><span class="line">  new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  &#125;);</span><br><span class="line">); //Promise &#123;&lt;pending&gt;&#125;</span><br></pre></td></tr></table></figure>

<p>å½“æ›´æ”¹çŠ¶æ€å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(</span><br><span class="line">  new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(&quot;fulfilled&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">); //Promise &#123;&lt;resolved&gt;: &quot;fulfilled&quot;&#125;</span><br><span class="line"></span><br><span class="line">console.log(</span><br><span class="line">  new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    reject(&quot;rejected&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">); //Promise &#123;&lt;rejected&gt;: &quot;rejected&quot;&#125; //Error</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¸€ä¸ªPromiseä¸º<code>rejected</code>çŠ¶æ€ï¼Œå´æ²¡æœ‰å¤„ç†ï¼Œç³»ç»Ÿä¼šå‘å‡ºè­¦ç¤ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(</span><br><span class="line">  new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    reject(&quot;rejected&quot;);</span><br><span class="line">  &#125;)</span><br><span class="line">); &#x2F;&#x2F;Promise &#123;&lt;rejected&gt;: &quot;rejected&quot;&#125; &#x2F;&#x2F;Error:Uncaught (in promise) rejected</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>then\catch</code>å¤„ç†åï¼Œä¸ä¼šæŠ¥é”™ï¼Œ<code>then\catch</code>è¿™äº›æ–¹æ³•é»˜è®¤ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„<code>promise</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(</span><br><span class="line">        new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;rejected&quot;);</span><br><span class="line">        &#125;).catch((err) &#x3D;&gt; &#123;&#125;)</span><br><span class="line">); &#x2F;&#x2F;PromiseÂ &#123;&lt;pending&gt;&#125;</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç†æ¥è¯´ä¸Šè¿°Promiseå·²ç»ç¡®è®¤ä¸ºrejectedçŠ¶æ€ï¼Œä¹Ÿç»è¿‡äº†<code>then\catch</code>çš„onRejectedå›è°ƒå‡½æ•°å¤„ç†ï¼Œåº”è¯¥è¿”å›<code>fufilled</code>çŠ¶æ€ï¼ˆ<code>then\catch</code>é»˜è®¤è¿”å›çš„promiseçŠ¶æ€ä¸ºfufilledï¼‰ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿”å›pendingçŠ¶æ€å‘¢ï¼Ÿ</p>
<ul>
<li>console.logæ˜¯åŒæ­¥ä»£ç ä¼šç«‹å³æ‰§è¡Œï¼Œå½“æ—¥å¿—ä¿¡æ¯è¢«æ‰“å°æ—¶ï¼Œpromiseçš„çŠ¶æ€è¿˜æœªè¢«ç¡®è®¤ï¼Œæ‰€ä»¥è¿”å›pending</li>
<li>å°†æ‰“å°æ”¾åœ¨å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¯çœ‹åˆ°æ­£ç¡®ç»“æœ</li>
</ul>
<p>å…³äº<code>ä»»åŠ¡é˜Ÿåˆ—</code>ï¼Œä¸‹ä¸€ç« èŠ‚ä¼šè¯¦ç»†è®²è§£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  reject(&quot;rejected&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p1 &#x3D; promise.catch((err) &#x3D;&gt; err);</span><br><span class="line"></span><br><span class="line">console.log(promise)&#x2F;&#x2F;Promise &#123;&lt;rejected&gt;:&quot;rejected&quot;&#125;</span><br><span class="line">console.log(p1);		&#x2F;&#x2F;PromiseÂ &#123;&lt;pending&gt;&#125;</span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(p1);	&#x2F;&#x2F;PromiseÂ &#123;&lt;fulfilled&gt;:&quot;rejected&quot;&#125;</span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>

<p><code>promise</code> è‡ªåˆ›å»ºæ—¶ï¼Œç«‹å³æ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œ<code>then</code> ä¼šæ”¾åœ¨å¼‚æ­¥å¾®ä»»åŠ¡ä¸­æ‰§è¡Œï¼Œéœ€è¦ç­‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œåæ‰æ‰§è¡Œã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(&quot;fulfilled&quot;);</span><br><span class="line">  console.log(&quot;é˜¿é¡º&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(msg =&gt; &#123;</span><br><span class="line">  console.log(msg);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">// é˜¿é¡º é˜¿é¡ºç‰¹çƒ¦æ¼ fulfilled</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const promise &#x3D; new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">	resolve(&quot;fulfilled&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(alert);</span><br><span class="line">alert(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">promise.then((_) &#x3D;&gt; alert(&quot;ashuntefannao&quot;));</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹åœ¨ä¸‰ç§’åå°† <code>Promise</code> çŠ¶æ€è®¾ç½®ä¸º <code>fulfilled</code> ï¼Œç„¶åæ‰§è¡Œ <code>then</code> æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    resolve(&quot;fulfilled&quot;);</span><br><span class="line">  &#125;, 3000);</span><br><span class="line">&#125;).then(</span><br><span class="line">  msg =&gt; &#123;</span><br><span class="line">    console.log(msg);</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>çŠ¶æ€è¢«æ”¹å˜åå°±ä¸èƒ½å†ä¿®æ”¹äº†ï¼Œä¸‹é¢å…ˆé€šè¿‡<code>resolve</code> æ”¹å˜ä¸ºæˆåŠŸçŠ¶æ€ï¼Œè¡¨ç¤º<code>promise</code> çŠ¶æ€å·²ç»å®Œæˆï¼Œå°±ä¸èƒ½ä½¿ç”¨ <code>reject</code> æ›´æ”¹çŠ¶æ€äº†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(&quot;æ“ä½œæˆåŠŸ&quot;);</span><br><span class="line">  reject(new Error(&quot;è¯·æ±‚å¤±è´¥&quot;));</span><br><span class="line">&#125;).then(</span><br><span class="line">  msg =&gt; &#123;</span><br><span class="line">    console.log(msg);</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h4 id="åŠ¨æ€æ”¹å˜"><a href="#åŠ¨æ€æ”¹å˜" class="headerlink" title="åŠ¨æ€æ”¹å˜"></a>åŠ¨æ€æ”¹å˜</h4><p>å¯ä»¥åœ¨ä¸€ä¸ª<code>promise</code>ä¸­ï¼Œé€šè¿‡å¤„ç†å¦ä¸€ä¸ª<code>promise1</code>ï¼Œæ¥æ”¹å˜<code>promise</code>çš„çŠ¶æ€ã€‚</p>
<p>å½“åœ¨ä¸€ä¸ª<code>promise</code>ä¸­ï¼Œå‘ŠçŸ¥çŠ¶æ€æ—¶ä¼ å…¥çš„æ˜¯å¦ä¸€ä¸ª<code>promise1</code>ï¼Œåˆ™åç»­ä½¿ç”¨<code>then</code>æˆ–å…¶å®ƒæ–¹æ³•å¯¹å…¶è¿›è¡Œå¤„ç†æ—¶ï¼Œå¤„ç†çš„å·²ç»ä¸å†æ˜¯promiseçš„çŠ¶æ€ï¼Œè€Œæ˜¯promise1ã€‚</p>
<ul>
<li>åœ¨p2ä¸­ç¡®è®¤<code>resolve</code>çŠ¶æ€ï¼Œä½†åœ¨åç»­çš„<code>then</code>ä¸­å´æ‰§è¡Œäº†<code>rejected</code>å›è°ƒå‡½æ•°ã€‚</li>
<li>åœ¨p2ä¸­ç¡®è®¤çŠ¶æ€æ—¶ï¼Œè¿”å›çš„æ˜¯p1ï¼Œé‚£ä¹ˆåç»­å¤„ç†çš„promiseå°†æ˜¯p1ï¼Œp2çš„çŠ¶æ€å·²ç»æ— æ„ä¹‰</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      let p1 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        reject(&quot;p1 reject&quot;);</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      let p2 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">        console.log(&#96;p2å‘é€resolveçŠ¶æ€&#96;);</span><br><span class="line">        resolve(p1);</span><br><span class="line">      &#125;).then(</span><br><span class="line">        (result) &#x3D;&gt; console.log(&#96;p2 å¤„ç†ç»“æœ:fulfilled--$&#123;result&#125;&#96;),</span><br><span class="line">        (err) &#x3D;&gt; console.log(&#96;p2 å¤„ç†ç»“æœ:rejected--$&#123;err&#125;&#96;)</span><br><span class="line">      );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="then"><a href="#then" class="headerlink" title="then"></a>then</h3><p>ä¸€ä¸ªpromise éœ€è¦æä¾›ä¸€ä¸ªthenæ–¹æ³•è®¿é—®promise ç»“æœï¼Œ<code>then</code> ç”¨äºå½“ <code>promise</code> çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å¤„ç†ï¼Œå³<code>promise</code>å¤„ç†å¼‚æ­¥æ“ä½œè¿‡ç¨‹ï¼Œ<code>then</code> ç”¨äºå¤„ç†ç»“æœã€‚</p>
<p><code>promise</code> å°±åƒ <code>é¥­é¦†</code> ä¸­çš„å¨æˆ¿ï¼Œ<code>then</code> å°±æ˜¯æˆ‘ä»¬ç”¨æˆ·ï¼Œå¦‚æœé¤åšå¥½äº†å³ <code>fulfilled</code> ï¼Œåšä¸äº†æ‹’ç»å³<code>rejected</code> çŠ¶æ€ã€‚é‚£ä¹ˆ then å°±è¦å¯¹ä¸åŒçŠ¶æ€å¤„ç†ã€‚</p>
<ul>
<li>then æ–¹æ³• <strong>å¿…é¡»</strong> è¿”å› promiseï¼Œç”¨æˆ·è¿”å›æˆ–ç³»ç»Ÿè‡ªåŠ¨è¿”å›</li>
<li>ç¬¬ä¸€ä¸ªå‡½æ•°åœ¨<code>resolved</code> çŠ¶æ€æ—¶æ‰§è¡Œï¼Œå³ä½¿ç”¨<code>resolve</code>ç¡®è®¤å®ŒæˆçŠ¶æ€æ—¶ï¼Œæ‰§è¡Œ<code>then</code>ç¬¬ä¸€ä¸ªcallbackå¤„ç†æˆåŠŸçŠ¶æ€</li>
<li>ç¬¬äºŒä¸ªå‡½æ•°åœ¨<code>rejected</code>çŠ¶æ€æ—¶æ‰§è¡Œï¼Œå³ä½¿ç”¨<code>reject</code>ç¡®è®¤æ‹’ç»çŠ¶æ€æ—¶ï¼Œæ‰§è¡Œç¬¬äºŒä¸ªcallbackå¤„ç†å¤±è´¥çŠ¶æ€ï¼Œè¯¥å‡½æ•°æ˜¯å¯é€‰çš„</li>
<li>ä¸¤ä¸ªcallbackéƒ½æ¥æ”¶ <code>promise</code> ç¡®è®¤çŠ¶æ€æ—¶ä¼ å…¥çš„å€¼åšä¸ºå‚æ•°</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>catch</code> æ¥å¤„ç†å¤±è´¥çš„çŠ¶æ€</li>
<li>å¦‚æœåœ¨ <code>then</code> ä¸­æ‰‹åŠ¨è¿”å› <code>promise</code> ï¼Œä¸‹ä¸€ä¸ª<code>then</code> ä¼šåœ¨ä¸Šä¸€ä¸ªthenè¿”å›çš„<code>promise</code> çŠ¶æ€æ”¹å˜åæ‰§è¡Œ</li>
</ul>
<h4 id="è¯­æ³•è¯´æ˜"><a href="#è¯­æ³•è¯´æ˜" class="headerlink" title="è¯­æ³•è¯´æ˜"></a>è¯­æ³•è¯´æ˜</h4><p>thençš„è¯­æ³•å¦‚ä¸‹ï¼ŒonFulfilled å‡½æ•°å¤„ç† <code>fulfilled</code> çŠ¶æ€ï¼Œ onRejectedå‡½æ•°å¤„ç† <code>rejected</code> çŠ¶æ€</p>
<ul>
<li>onFulfilled æˆ– onRejected <code>ä¸æ˜¯å‡½æ•°å°†è¢«å¿½ç•¥</code></li>
<li>ä¸¤ä¸ªå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡</li>
<li>onFulfilled åœ¨ promise æ‰§è¡ŒæˆåŠŸæ—¶è°ƒç”¨</li>
<li>onRejected åœ¨ promise æ‰§è¡Œæ‹’ç»æ—¶è°ƒç”¨</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">promise.then(onFulfilled, onRejected)</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p><code>then</code> ä¼šåœ¨ <code>promise</code> ç¡®è®¤çŠ¶æ€åæ‰§è¡Œï¼Œ<code>then</code> ç¬¬ä¸€ä¸ªcallbackåœ¨ <code>resolve</code>æˆåŠŸçŠ¶æ€æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(&quot;success&quot;);</span><br><span class="line">&#125;).then(</span><br><span class="line">  value =&gt; &#123;</span><br><span class="line">    console.log(`è§£å†³ï¼š$&#123;value&#125;`);</span><br><span class="line">  &#125;,</span><br><span class="line">  reason =&gt; &#123;</span><br><span class="line">    console.log(`æ‹’ç»:$&#123;reason&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><code>then</code> ä¸­ç¬¬äºŒä¸ªå‚æ•°åœ¨å¤±è´¥çŠ¶æ€æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(&quot;is error&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(</span><br><span class="line">  msg =&gt; &#123;</span><br><span class="line">    console.log(`æˆåŠŸï¼š$&#123;msg&#125;`);</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    console.log(`å¤±è´¥:$&#123;error&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªå…³å¿ƒæˆåŠŸåˆ™ä¸éœ€è¦ä¼ é€’ <code>then</code> çš„ç¬¬äºŒä¸ªå‚æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(&quot;success&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(msg =&gt; &#123;</span><br><span class="line">  console.log(`æˆåŠŸï¼š$&#123;msg&#125;`);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåªå…³å¿ƒå¤±è´¥æ—¶çŠ¶æ€ï¼Œ<code>then</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ <code>null</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(&quot;is error&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(null, error =&gt; &#123;</span><br><span class="line">  console.log(`å¤±è´¥:$&#123;error&#125;`);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>promise ç¡®è®¤çŠ¶æ€åè½¬å…¥çš„å‚æ•°ï¼Œä¼šä¼ å…¥åˆ°<code>then</code>å¯¹åº”callbackçš„å‚æ•°ä¸­ï¼Œå¦‚æœthenæ²¡æœ‰å¯å¤„ç†å‡½æ•°ï¼Œä¼šä¸€ç›´å‘åä¼ é€’</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let p1 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">	reject(&quot;rejected&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.then()</span><br><span class="line">.then(</span><br><span class="line">  null,</span><br><span class="line">  f =&gt; console.log(f)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&quot;resolve&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 &#x3D; promise.then();</span><br><span class="line">p2.then().then(resolve &#x3D;&gt; &#123;</span><br><span class="line">  console.log(resolve);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  reject(&quot;reject&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 &#x3D; promise.then(() &#x3D;&gt; &#123;&#125;);</span><br><span class="line">p2.then(null, null).then(null, reject &#x3D;&gt; &#123;</span><br><span class="line">  console.log(reject);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="é“¾å¼è°ƒç”¨"><a href="#é“¾å¼è°ƒç”¨" class="headerlink" title="é“¾å¼è°ƒç”¨"></a>é“¾å¼è°ƒç”¨</h4><ul>
<li><code>then\catch</code>ç­‰promiseçš„æ–¹æ³•ï¼Œæ˜¯å¯¹ä¸Šä¸€ä¸ªpromiseçŠ¶æ€çš„å¤„ç†ï¼Œè€Œä½¿ç”¨<code>then/catch</code>å å®ƒä»¬æœ¬èº«åˆä¼šé»˜è®¤è¿”å›ä¸€ä¸ªæ–°çš„promiseï¼Œä¸”çŠ¶æ€ä¸º<code>fulfilled</code>,æ‰€ä»¥thenæ‰å¯ä¸æ–­åœ°é“¾å¼è°ƒç”¨ã€‚</li>
<li>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨<code>then\catch</code>ä¸­æ‰‹åŠ¨è¿”å›è‡ªå®šä¹‰çš„promiseï¼Œå¯é€šè¿‡è¿™ä¸ªpromiseï¼Œæ”¹å˜å½“å‰thençš„çŠ¶æ€</li>
</ul>
<p>æ¯æ¬¡çš„ <code>then</code> éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„ <code>promise</code>ï¼Œ then é»˜è®¤è¿”å›çš„ promise çŠ¶æ€æ˜¯ fulfilled</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">       reject(&quot;promise state rejected&quot;);</span><br><span class="line">     &#125;);</span><br><span class="line">     promise</span><br><span class="line">       .then(null, (err) &#x3D;&gt; console.log(err))</span><br><span class="line">       .then((_) &#x3D;&gt; console.log(&quot;thené»˜è®¤çŠ¶æ€ä¸ºfulfilled&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯æ¬¡çš„ <code>then</code> éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„ <code>promise</code>ï¼Œä¸è¦è®¤ä¸ºä¸Šä¸€ä¸ª promiseçŠ¶æ€ä¼šå½±å“ä»¥åthenè¿”å›çš„çŠ¶æ€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let p1 = new Promise(resolve =&gt; &#123;</span><br><span class="line">  rejected(&quot;p1 rejected&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 = p1.then(null,rej=&gt;console.log(reg));</span><br><span class="line">p2.then(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;Ashuntefannao&quot;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(p1); // Promise &#123;&lt;resolved&gt;&#125;</span><br><span class="line">console.log(p2); // Promise &#123;&lt;pending&gt;&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  console.log(p1); // Promise &#123;&lt;resolved&gt;&#125;</span><br><span class="line">  console.log(p2); // Promise &#123;&lt;resolved&gt;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>then</code> æ˜¯å¯¹ä¸Šä¸ªpromise çš„å¤„ç†ï¼Œæ¯ä¸ª <code>then</code> åˆä¼šè¿”å›ä¸€ä¸ªpromiseï¼Œé»˜è®¤ä¼ é€’ <code>fulfilled</code>çŠ¶æ€ï¼Œæ‰€ä»¥æ‰å¯ä»¥ä¸æ–­åœ°é“¾å¼è°ƒç”¨thenå¤„ç†promiseã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject();</span><br><span class="line">&#125;)</span><br><span class="line">.then(</span><br><span class="line">  resolve =&gt; console.log(&quot;fulfilled&quot;),</span><br><span class="line">  reject =&gt; console.log(&quot;rejected&quot;)</span><br><span class="line">)</span><br><span class="line">.then(</span><br><span class="line">  resolve =&gt; console.log(&quot;fulfilled&quot;),</span><br><span class="line">  reject =&gt; console.log(&quot;rejected&quot;)</span><br><span class="line">)</span><br><span class="line">.then(</span><br><span class="line">  resolve =&gt; console.log(&quot;fulfilled&quot;),</span><br><span class="line">  reject =&gt; console.log(&quot;rejected&quot;)</span><br><span class="line">);</span><br><span class="line">  </span><br><span class="line"># æ‰§è¡Œç»“æœå¦‚ä¸‹</span><br><span class="line">  rejected</span><br><span class="line">  fulfilled</span><br><span class="line">  fulfilled</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå†…éƒ¨æ‰‹åŠ¨è¿”å› <code>promise</code> æ—¶ï¼Œåç»­å¤„ç†çš„ä¾¿æ˜¯è¯¥ <code>promise</code>ï¼Œå³è¯¥promiseå¯ä»¥æ”¹å˜å½“å‰thençš„çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">       let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">         reject(&quot;promise state rejected&quot;);</span><br><span class="line">       &#125;);</span><br><span class="line">       promise</span><br><span class="line">         .then(</span><br><span class="line">           (result) &#x3D;&gt; console.log(&quot;fulfilled&quot;),</span><br><span class="line">           (reject) &#x3D;&gt; console.log(reject)</span><br><span class="line">         )</span><br><span class="line">         .then(</span><br><span class="line">           (res) &#x3D;&gt; console.log(&quot;fufilled&quot;),</span><br><span class="line">           (rej) &#x3D;&gt; console.log(&quot;rejected&quot;)</span><br><span class="line">         )</span><br><span class="line">         .then((res) &#x3D;&gt; &#123;</span><br><span class="line">           console.log(&quot;fufilled&quot;);</span><br><span class="line">           return Promise.reject(&quot;æ‰‹åŠ¨è¿”å›çš„promiseï¼ŒçŠ¶æ€ä¸ºrejected&quot;);</span><br><span class="line">         &#125;)</span><br><span class="line">         .then(</span><br><span class="line">           (res) &#x3D;&gt; console.log(&quot;fufilled&quot;),</span><br><span class="line">           (rej) &#x3D;&gt; console.log(rej)</span><br><span class="line">         );</span><br><span class="line">&#125;</span><br><span class="line"># æ‰§è¡Œç»“æœå¦‚ä¸‹</span><br><span class="line"> &quot;promise state rejected&quot;</span><br><span class="line"> &quot;fulfilled&quot;</span><br><span class="line"> &quot;fulfilled&quot;</span><br><span class="line"> &quot;æ‰‹åŠ¨è¿”å›çš„promiseï¼ŒçŠ¶æ€ä¸ºrejected&quot;</span><br></pre></td></tr></table></figure>

<p>è‹¥æ‰‹åŠ¨è¿”å›çš„ä¸æ˜¯Promiseï¼Œåˆ™ä¸‹ä¸€ä¸ªthenå¤„ç†çš„è¿˜æ˜¯ ä¸Šä¸€ä¸ªthené»˜è®¤è¿”å›çš„Promiseï¼ŒçŠ¶æ€ä¸ºfulfilledã€‚</p>
<ul>
<li>ä½†æ˜¯ä¸‹ä¸€ä¸ªthenå¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œä¼šæ¥å—ä¸Šä¸€ä¸ªthenè¿”å›çš„å‚æ•°ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;promise state rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p1 &#x3D; promise.then(null, (rej) &#x3D;&gt; &#123;</span><br><span class="line">        	console.log(rej)</span><br><span class="line">          return &quot;p1 rejected&quot;;</span><br><span class="line">        &#125;);</span><br><span class="line">        let p2 &#x3D; p1.then((res) &#x3D;&gt; &#123;</span><br><span class="line">          console.log(&#96;p2 fulfilled \n$&#123;res&#125;&#96;);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"> # æ‰§è¡Œç»“æœå¦‚ä¸‹</span><br><span class="line">  &quot;promise state rejected&quot;</span><br><span class="line">  &quot;p2 fulfilled</span><br><span class="line">   p1 rejected&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(v &#x3D;&gt; &#123;</span><br><span class="line">  return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">    resolve(&quot;ç¬¬äºŒä¸ªpromise&quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(value &#x3D;&gt; &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">  return value;</span><br><span class="line">&#125;)</span><br><span class="line">.then(value &#x3D;&gt; &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>thenæ˜¯å¤„ç†ä¸Šä¸€ä¸ªPromiseçš„ç»“æœï¼Œåªæœ‰ä¸Šä¸€ä¸ªpromiseç¡®è®¤äº†çŠ¶æ€ï¼Œthenæ‰ä¼šæ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            resolve(&quot;promise fulfilled&quot;);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">        &#125;)</span><br><span class="line">          .then((res) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(res);</span><br><span class="line">            return new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">              setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                resolve(&quot;resolved&quot;);</span><br><span class="line">              &#125;, 1000);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .then((res) &#x3D;&gt; console.log(res));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¾ªç¯è°ƒç”¨</strong></p>
<p>å¦‚æœ <code>then</code> çš„è¿”å›å€¼ä¸æ‰€å¤„ç†çš„ <code>promise</code> ç›¸åŒå°†ç¦æ­¢æ‰§è¡Œï¼Œï¼ˆé¿å…é™·å…¥æ­»å¾ªç¯ï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = new Promise(resolve =&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;);</span><br><span class="line">let p2 = promise.then(() =&gt; &#123;</span><br><span class="line">  return p2;</span><br><span class="line">&#125;); // TypeError: Chaining cycle detected for promise</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å…¶å®ƒç±»å‹"><a href="#å…¶å®ƒç±»å‹" class="headerlink" title="å…¶å®ƒç±»å‹"></a>å…¶å®ƒç±»å‹</h4><p><strong>then able</strong>ï¼šå…·æœ‰thenèƒ½åŠ›çš„ç±»å‹</p>
<p>Promise è§£å†³è¿‡ç¨‹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ“ä½œï¼Œå…¶éœ€è¾“å…¥ä¸€ä¸ª <code>promise</code> å’Œä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬è¡¨ç¤ºä¸º <code>[[Resolve]](promise, x)</code>ï¼Œå¦‚æœ <code>x</code> æœ‰ <code>then</code> æ–¹æ³•ä¸”çœ‹ä¸Šå»åƒä¸€ä¸ª Promise ï¼Œè§£å†³ç¨‹åºå³å°è¯•ä½¿ <code>promise</code> æ¥å— <code>x</code> çš„çŠ¶æ€ï¼›å¦åˆ™å…¶ç”¨ <code>x</code> çš„å€¼æ¥æ‰§è¡Œ <code>promise</code> ã€‚</p>
<ul>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<code>x</code>å…·æœ‰<code>then</code>æ–¹æ³•ï¼Œé‚£ä¹ˆå°†ä¼šè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯<code>ç±»promise</code>çš„ç»“æ„</li>
<li>è‹¥åœ¨Promiseä¸­è¿”å›<code>x</code>,åˆ™ä½¿ç”¨thenå¤„ç†Promiseæ—¶ï¼Œç³»ç»Ÿä¼šå°è¯•è®©åŸPromiseçš„thenæ–¹æ³•æ¥æ”¶<code>x</code>ä¸­thenæ–¹æ³•çš„çŠ¶æ€</li>
</ul>
<p>åŒ…å«thenæ–¹æ³•çš„Objectå¯ä»¥å½“ä½œpromiseä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          resolve(&#123;</span><br><span class="line">            then(resolve, reject) &#123;</span><br><span class="line">              resolve(&quot;promise fulfilled&quot;);</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p1 &#x3D; promise.then((result) &#x3D;&gt; &#123;</span><br><span class="line">          console.log(result);</span><br><span class="line">          return &#123;</span><br><span class="line">            then(resolve, reject) &#123;</span><br><span class="line">              setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                reject(&quot; p1 rejected&quot;);</span><br><span class="line">              &#125;, 1000);</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;);</span><br><span class="line">        p1.then(</span><br><span class="line">          (mgs) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(mgs);</span><br><span class="line">          &#125;,</span><br><span class="line">          (rej) &#x3D;&gt; console.log(rej)</span><br><span class="line">        );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Goods &#123;</span><br><span class="line">  constructor(id) &#123;</span><br><span class="line">    this.id &#x3D; id;</span><br><span class="line">  &#125;</span><br><span class="line">  then(resolve, reject) &#123;</span><br><span class="line">    resolve(ajax(&#96;http:&#x2F;&#x2F;localhost:8083&#x2F;goods?id&#x3D;$&#123;this.id&#125;&#96;));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(ajax(&#96;http:&#x2F;&#x2F;localhost:8083&#x2F;goodsList?type&#x3D;new&#96;));</span><br><span class="line">&#125;)</span><br><span class="line">.then(goods &#x3D;&gt; &#123;</span><br><span class="line">  return new Goods(goods.id);</span><br><span class="line">&#125;)</span><br><span class="line">.then(category &#x3D;&gt; &#123;</span><br><span class="line">  console.log(category);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ç±»</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(</span><br><span class="line">    class &#123;</span><br><span class="line">      static then(resolve, reject) &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          resolve(&quot;è§£å†³çŠ¶æ€&quot;);</span><br><span class="line">        &#125;, 2000);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">&#125;).then(</span><br><span class="line">  v =&gt; &#123;</span><br><span class="line">    console.log(`fulfilled: $&#123;v&#125;`);</span><br><span class="line">  &#125;,</span><br><span class="line">  v =&gt; &#123;</span><br><span class="line">    console.log(`rejected: $&#123;v&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¯¹è±¡ä¸­çš„ then ä¸æ˜¯å‡½æ•°ï¼Œåˆ™å°†å¯¹è±¡åšä¸ºå€¼ä¼ é€’</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(() =&gt; &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    then: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)</span><br><span class="line">.then(v =&gt; &#123;</span><br><span class="line">  console.log(v); //&#123;then: &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h3><h4 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p>ä¸‹é¢ä½¿ç”¨æœªå®šä¹‰çš„å˜é‡åŒæ ·ä¼šè§¦å‘å¤±è´¥çŠ¶æ€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  as;</span><br><span class="line">&#125;).then(</span><br><span class="line">  value =&gt; console.log(value),</span><br><span class="line">  reason =&gt; console.log(reason)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ onFulfilled æˆ– onRejected æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ p2 æ‹’ç»æ‰§è¡Œå¹¶è¿”å›æ‹’å› </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  throw new Error(&quot;fail&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">let p2 = promise.then();</span><br><span class="line">p2.then().then(null, resolve =&gt; &#123;</span><br><span class="line">  console.log(resolve + &quot;,é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>catch(err=&gt;&#123;&#125;)</code>æ˜¯ç”¨æ¥æ¥æ”¶Promiseæ‹’ç»çŠ¶æ€çš„ã€‚ç»catchå¤„ç†åï¼Œé»˜è®¤è¿”å›çš„promiseçŠ¶æ€ä¹Ÿä¸ºfulfilled</li>
<li><code>catch</code>ç›¸å½“äº<code>then(null,onReject)</code></li>
<li>è‹¥æŸä¸ªpromiseå·²è¢«<code>then(null,onReject)</code>å¤„ç†ï¼Œåˆ™<code>catch</code>å°†ä¸ä¼šæ¥æ”¶è¯¥æ‹’ç»çŠ¶æ€</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p1 &#x3D; promise.catch((err) &#x3D;&gt; console.log(err));</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          console.log(p1);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;promise rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        promise</span><br><span class="line">          .then(null, (resolve) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(resolve + &quot;,é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch((err) &#x3D;&gt; console.log(err));</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;	promise rejected,é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;promise rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        promise</span><br><span class="line">          .catch((err) &#x3D;&gt; console.log(err))</span><br><span class="line">          .then(null, (resolve) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(resolve + &quot;,é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">          &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;	promise rejected</span><br></pre></td></tr></table></figure>

<ul>
<li>å»ºè®®ä½¿ç”¨ <code>catch</code> å¤„ç†é”™è¯¯</li>
<li>å°† <code>catch</code> æ”¾åœ¨æœ€åé¢ç”¨äºç»Ÿä¸€å¤„ç†å‰é¢å‘ç”Ÿçš„é”™è¯¯</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(new Error(&quot;Notice: Promise Exception&quot;));</span><br><span class="line">&#125;).catch(msg =&gt; &#123;</span><br><span class="line">  console.error(msg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>catch</code> å¯ä»¥æ•è·ä¹‹å‰æ‰€æœ‰ <code>promise</code> çš„é”™è¯¯ï¼Œæ‰€ä»¥å»ºè®®å°† <code>catch</code> æ”¾åœ¨æœ€åã€‚ä¸‹ä¾‹ä¸­ <code>catch</code> ä¹Ÿå¯ä»¥æ•è·åˆ°äº†ç¬¬ä¸€ä¸ª <code>then</code> è¿”å› çš„ <code>promise</code> çš„é”™è¯¯ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(() =&gt; &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    reject(&quot;err from .then &quot;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(() =&gt; &#123;&#125;)</span><br><span class="line">.catch(msg =&gt; &#123;</span><br><span class="line">  console.log(msg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯æ˜¯å†’æ³¡çš„æ“ä½œçš„ï¼Œä¸‹é¢æ²¡æœ‰ä»»ä½•ä¸€ä¸ª<code>then</code> å®šä¹‰ç¬¬äºŒä¸ªå‡½æ•°å‚æ•°<code>onRejected</code>ï¼Œå°†ä¸€ç›´å†’æ³¡åˆ° <code>catch</code> å¤„ç†é”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(new Error(&quot;è¯·æ±‚å¤±è´¥&quot;));</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg =&gt; &#123;&#125;)</span><br><span class="line">.then(msg =&gt; &#123;&#125;)</span><br><span class="line">.catch(error =&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>catch</code> ä¹Ÿå¯ä»¥æ•è·å¯¹ <code>then</code> æŠ›å‡ºçš„é”™è¯¯å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg =&gt; &#123;</span><br><span class="line">  throw new Error(&quot;è¿™æ˜¯then æŠ›å‡ºçš„é”™è¯¯&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;33&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>catch</code> ä¹Ÿå¯ä»¥æ•è·å…¶ä»–é”™è¯¯ï¼Œä¸‹é¢åœ¨ <code>then</code> ä¸­ä½¿ç”¨äº†æœªå®šä¹‰çš„å˜é‡ï¼Œå°†ä¼šæŠŠé”™è¯¯æŠ›å‡ºåˆ° <code>catch</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&quot;success&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg &#x3D;&gt; &#123;</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(reason &#x3D;&gt; &#123;</span><br><span class="line">  console.log(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¤„ç†æœºåˆ¶"><a href="#å¤„ç†æœºåˆ¶" class="headerlink" title="å¤„ç†æœºåˆ¶"></a>å¤„ç†æœºåˆ¶</h4><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  throw new Error(&quot;fail&quot;);</span><br><span class="line">&#125;).catch(msg =&gt; &#123;</span><br><span class="line">  console.log(msg.toString()+&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°†ä¸Šé¢çš„ç†è§£ä¸ºå¦‚ä¸‹ä»£ç ï¼Œå¯ä»¥ç†è§£ä¸ºå†…éƒ¨è‡ªåŠ¨æ‰§è¡Œ <code>try...catch</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    throw new Error(&quot;fail&quot;);</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).catch(msg =&gt; &#123;</span><br><span class="line">  console.log(msg.toString());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä½†åƒä¸‹é¢çš„åœ¨<code>å¼‚æ­¥å®ä»»åŠ¡</code>ä¸­ <code>throw new Error</code> å°†ä¸ä¼šè§¦å‘ <code>catch</code>ï¼Œè€Œä½¿ç”¨ç³»ç»Ÿé”™è¯¯å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    throw new Error(&quot;fail&quot;);</span><br><span class="line">  &#125;, 2000);</span><br><span class="line">&#125;).catch(msg =&gt; &#123;</span><br><span class="line">  console.log(msg + &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>catch</code> ä¸­å‘ç”Ÿçš„é”™è¯¯ä¹Ÿä¼šæŠ›ç»™æœ€è¿‘çš„é”™è¯¯å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject();</span><br><span class="line">&#125;)</span><br><span class="line">.catch(msg =&gt; &#123;</span><br><span class="line">  ashun();</span><br><span class="line">&#125;)</span><br><span class="line">.then(null, error =&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å®šåˆ¶é”™è¯¯"><a href="#å®šåˆ¶é”™è¯¯" class="headerlink" title="å®šåˆ¶é”™è¯¯"></a>å®šåˆ¶é”™è¯¯</h4><p>å¯ä»¥æ ¹æ®ä¸åŒçš„é”™è¯¯ç±»å‹è¿›è¡Œå®šåˆ¶æ“ä½œï¼Œä¸‹é¢å°†<code>urlæ ¼å¼é”™è¯¯</code>ä¸<code>å‚æ•°é”™è¯¯</code>åˆ†åˆ«è¿›è¡Œäº†å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class ParamError extends Error &#123;</span><br><span class="line">  constructor(msg) &#123;</span><br><span class="line">    super(msg);</span><br><span class="line">    this.name = &quot;ParamError&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">class HttpError extends Error &#123;</span><br><span class="line">  constructor(msg) &#123;</span><br><span class="line">    super(msg);</span><br><span class="line">    this.name = &quot;HttpError&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">function ajax(url) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    if (!/^http/.test(url)) &#123;</span><br><span class="line">      throw new HttpError(&quot;è¯·æ±‚åœ°å€æ ¼å¼é”™è¯¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    let xhr = new XMLHttpRequest();</span><br><span class="line">    xhr.open(&quot;GET&quot;, url);</span><br><span class="line">    xhr.send();</span><br><span class="line">    xhr.onload = function() &#123;</span><br><span class="line">      if (this.status == 200) &#123;</span><br><span class="line">        resolve(JSON.parse(this.response));</span><br><span class="line">      &#125; else if (this.status == 404) &#123;</span><br><span class="line">        // throw new ParamError(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;);</span><br><span class="line">        reject(new ParamError(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        reject(&quot;åŠ è½½å¤±è´¥&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.onerror = function() &#123;</span><br><span class="line">      reject(this);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ajax(`http://localhost:8083?name=é˜¿é¡ºç‰¹çƒ¦æ¼`)</span><br><span class="line">.then(value =&gt; &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(error =&gt; &#123;</span><br><span class="line">  if (error instanceof ParamError) &#123;</span><br><span class="line">    console.log(`å‚æ•°é”™è¯¯:$&#123;error.message&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">  if (error instanceof HttpError) &#123;</span><br><span class="line">    alert(`urlæ ¼å¼é”™è¯¯:$&#123;error.message&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h3><p>æ— è®ºçŠ¶æ€æ˜¯<code>resolve</code> æˆ– <code>reject</code> éƒ½ä¼šæ‰§è¡Œæ­¤åŠ¨ä½œï¼Œ<code>finally</code> ä¸çŠ¶æ€æ— å…³ã€‚</p>
<ul>
<li>æ ¹æ®finallyçš„ç‰¹æ€§ï¼Œé€šå¸¸åœ¨å…¶ä¸­åšä¸€äº›å…¬å…±çš„æ“ä½œï¼Œä¸è®ºçŠ¶æ€ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  reject(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg =&gt; &#123;</span><br><span class="line">  console.log(&quot;resolve&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(msg =&gt; &#123;</span><br><span class="line">  console.log(&quot;reject&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.finally(() =&gt; &#123;</span><br><span class="line">  console.log(&quot;resolve/rejectçŠ¶æ€éƒ½ä¼šæ‰§è¡Œ&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨ <code>finally</code> å¤„ç†åŠ è½½çŠ¶æ€ï¼Œå½“å›¾ç‰‡åŠ è½½å®Œæˆæ—¶ç§»é™¤åŠ è½½å›¾æ ‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      div &#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        width: 100px;</span><br><span class="line">        height: 100px;</span><br><span class="line">        background-color: pink;</span><br><span class="line">      &#125;</span><br><span class="line">      .result &#123;</span><br><span class="line">        display: none;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;loading&quot;&gt;loading...&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;result&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      function createImage(file) &#123;</span><br><span class="line">        return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          let img &#x3D; new Image();</span><br><span class="line">          img.src &#x3D; file;</span><br><span class="line">          img.onload &#x3D; () &#x3D;&gt; resolve(img);</span><br><span class="line">          img.onerror &#x3D; () &#x3D;&gt; reject(&quot;åŠ è½½å¤±è´¥&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        createImage(&quot;.&#x2F;images&#x2F;img1.jpg&quot;)</span><br><span class="line">          .then((img) &#x3D;&gt; &#123;</span><br><span class="line">            document.body.append(img);</span><br><span class="line">            document.querySelector(&quot;.result&quot;).innerHTML &#x3D; &quot;åŠ è½½æˆåŠŸ&quot;;</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch((err) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(err);</span><br><span class="line">            document.querySelector(&quot;.result&quot;).innerHTML &#x3D; err;</span><br><span class="line">          &#125;)</span><br><span class="line">          .finally(() &#x3D;&gt; &#123;</span><br><span class="line">            document.querySelector(&quot;div&quot;).style.display &#x3D; &quot;none&quot;;</span><br><span class="line">            document.querySelector(&quot;.result&quot;).style.display &#x3D; &quot;block&quot;;</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;, 1000);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å®ä¾‹æ“ä½œ"><a href="#å®ä¾‹æ“ä½œ" class="headerlink" title="å®ä¾‹æ“ä½œ"></a>å®ä¾‹æ“ä½œ</h4><h5 id="å¼‚æ­¥è¯·æ±‚-1"><a href="#å¼‚æ­¥è¯·æ±‚-1" class="headerlink" title="å¼‚æ­¥è¯·æ±‚"></a>å¼‚æ­¥è¯·æ±‚</h5><p>ä¸‹é¢æ˜¯å°† <code>ajax</code> è¯·æ±‚ä½¿ç”¨ <code>promise</code> å¤„ç†ï¼Œä»£ç ç»“æ„æ¸…æ™°äº†å¾ˆå¤š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function ajax(url) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    let xhr = new XMLHttpRequest();</span><br><span class="line">    xhr.open(&quot;GET&quot;, url);</span><br><span class="line">    xhr.send();</span><br><span class="line">    xhr.onload = function() &#123;</span><br><span class="line">      if (this.status == 200) &#123;</span><br><span class="line">        resolve(JSON.parse(this.response));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        reject(this);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ajax(&quot;http://localhost:8083/goodsList?name=new&quot;)</span><br><span class="line">.then(goods =&gt;ajax(`http://localhost:8083/category?id=$&#123;goods[&quot;id&quot;]&#125;`))</span><br><span class="line">.then(data =&gt; &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h5 id="è„šæœ¬åŠ è½½"><a href="#è„šæœ¬åŠ è½½" class="headerlink" title="è„šæœ¬åŠ è½½"></a>è„šæœ¬åŠ è½½</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function loadJS(file) &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            let script &#x3D; document.createElement(&quot;script&quot;);</span><br><span class="line">            script.src &#x3D; file;</span><br><span class="line">            document.body.append(script);</span><br><span class="line">            script.onload &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">              resolve(script);</span><br><span class="line">            &#125;;</span><br><span class="line">            script.onerror &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">              reject(script);</span><br><span class="line">            &#125;;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        loadJS(&quot;.&#x2F;js&#x2F;ashun.js&quot;)</span><br><span class="line">          .then((script) &#x3D;&gt; &#123;</span><br><span class="line">            title();</span><br><span class="line">            console.log(&quot;ashun.js finishLaod&quot;);</span><br><span class="line">            return script;</span><br><span class="line">          &#125;)</span><br><span class="line">          .then((ashunjs) &#x3D;&gt; &#123;</span><br><span class="line">            return loadJS(&quot;.&#x2F;js&#x2F;SHUN.js&quot;).then((script) &#x3D;&gt; &#123;</span><br><span class="line">              console.log(&quot;SHUN.js finishLaod&quot;);</span><br><span class="line">              run();</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .catch((script) &#x3D;&gt; console.log(&#96;$&#123;script.src&#125;ï¼šåŠ è½½å¤±è´¥&#96;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h5><p>ä¸‹é¢æ˜¯å°è£…çš„<code>timeout</code> å‡½æ•°ï¼Œä½¿ç”¨å®šæ—¶å™¨æ“ä½œæ›´åŠ æ–¹ä¾¿</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function timeout(times) &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(resolve, times);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">timeout(3000)</span><br><span class="line">  .then(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;3ç§’åæ‰§è¡Œ&quot;);</span><br><span class="line">    return timeout(1000);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(() =&gt; &#123;</span><br><span class="line">    console.log(&quot;æ‰§è¡Œä¸Šä¸€æ­¥çš„promiseå1ç§’æ‰§è¡Œ&quot;);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Promiseå°è£… <code>setInterval</code> å®šæ—¶å™¨å¹¶å®ç°åŠ¨ç”»æ•ˆæœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    div &#123;</span><br><span class="line">      width: 100px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      background: pink;</span><br><span class="line">      position: absolute;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        function interval(callback, delay &#x3D; 5) &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            let id &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">              callback(id, resolve);</span><br><span class="line">            &#125;, delay);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let div &#x3D; document.querySelector(&quot;div&quot;);</span><br><span class="line"></span><br><span class="line">        function run() &#123;</span><br><span class="line">          const step &#x3D; 2;</span><br><span class="line">          interval((timer, resolve) &#x3D;&gt; &#123;</span><br><span class="line">            let left &#x3D; parseFloat(window.getComputedStyle(div).left);</span><br><span class="line">            if (left &gt;&#x3D; 200) &#123;</span><br><span class="line">              clearInterval(timer);</span><br><span class="line">              resolve(&quot;left end&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            div.style.left &#x3D; left + step + &quot;px&quot;;</span><br><span class="line">          &#125;)</span><br><span class="line">            .then((result) &#x3D;&gt; &#123;</span><br><span class="line">              console.log(result);</span><br><span class="line">              return interval((timer, resolve) &#x3D;&gt; &#123;</span><br><span class="line">                let width &#x3D; parseFloat(window.getComputedStyle(div).width);</span><br><span class="line">                if (width &lt;&#x3D; 0) &#123;</span><br><span class="line">                  clearInterval(timer);</span><br><span class="line">                  resolve(&quot;width end&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">                div.style.width &#x3D; width - step + &quot;px&quot;;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line">            .then((result) &#x3D;&gt; console.log(result));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        div.addEventListener(&quot;click&quot;, run);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="é“¾å¼æ“ä½œ"><a href="#é“¾å¼æ“ä½œ" class="headerlink" title="é“¾å¼æ“ä½œ"></a>é“¾å¼æ“ä½œ</h3><ul>
<li>æ¯ä¸ª <code>then</code> éƒ½æ˜¯ä¸€ä¸ªpromiseï¼Œ<code>then</code>ä¼šé»˜è®¤è¿”å›ä¸€ä¸ªpromiseï¼Œä¸”çŠ¶æ€ä¸ºfulfilledã€‚</li>
<li>å¦‚æœåœ¨ <code>then</code> ä¸­æ‰‹åŠ¨è¿”å›ä¸€ä¸ªæ–°<code>promsie</code>ï¼Œåªå½“è¿™ä¸ªæ–°çš„<code>promise</code> ç¡®è®¤çŠ¶æ€åï¼Œæ‰ä¼šç»§æ‰¿æ‰§è¡Œä¸‹ä¸€ä¸ª <code>then</code></li>
</ul>
<h5 id="è¯­æ³•ä»‹ç»"><a href="#è¯­æ³•ä»‹ç»" class="headerlink" title="è¯­æ³•ä»‹ç»"></a>è¯­æ³•ä»‹ç»</h5><p>ä¸‹é¢æ˜¯å¯¹åŒä¸€ä¸ª <code>promise</code> åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„ <code>then</code> è¿›è¡Œæ“ä½œ ï¼Œæ¯ä¸ª<code>then</code> éƒ½å¾—åˆ°äº†åŒä¸€ä¸ªpromise ç»“æœï¼Œè¿™ä¸æ˜¯é“¾å¼æ“ä½œï¼Œå®é™…ä½¿ç”¨æ„ä¹‰ä¸å¤§ã€‚</p>
<img src="Promise.assets/Promise_then_1.png" alt="Promise_then_1" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(title &#x3D;&gt; &#123;</span><br><span class="line">  title +&#x3D; &quot;-Ashun&quot;;</span><br><span class="line">  console.log(title); &#x2F;&#x2F;é˜¿é¡ºç‰¹çƒ¦æ¼-Ashun</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(title &#x3D;&gt; &#123;</span><br><span class="line">  title +&#x3D; &quot;-Ashuntefannao&quot;;</span><br><span class="line">  console.log(title); &#x2F;&#x2F;é˜¿é¡ºç‰¹çƒ¦æ¼-Ashuntefannao</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p><code>promise</code> ä¸­çš„ <code>then</code> æ–¹æ³•å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œ<code>then</code> æ–¹æ³•çš„è¿”å›å€¼ä¼šä¼ é€’åˆ°ä¸‹ä¸€ä¸ª<code>then</code> æ–¹æ³•å¯¹åº”çš„å¤„ç†å‡½æ•°ä¸­ã€‚</p>
<ul>
<li><code>then</code> ä¼šè¿”å›ä¸€ä¸ª<code>promise</code> ï¼Œæ‰€ä»¥å¦‚æœæœ‰å¤šä¸ª<code>then</code> æ—¶ä¼šè¿ç»­æ‰§è¡Œ</li>
<li><code>then</code> è¿”å›çš„å€¼ä¼šåšä¸ºå½“å‰<code>promise</code> çš„ç»“æœ</li>
</ul>
<p>ä¸‹é¢æ˜¯é“¾å¼æ“ä½œçš„ <code>then</code>ï¼Œå³å§‹æ²¡æœ‰ <code>return</code> ä¹Ÿæ˜¯ä¼šæ‰§è¡Œï¼Œå› ä¸ºæ¯ä¸ª<code>then</code> é»˜è®¤ä¼šè¿”å›<code>promise</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">  resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">  .then((title) &#x3D;&gt; &#123;</span><br><span class="line">    title +&#x3D; &quot;-Ashun&quot;;</span><br><span class="line">    console.log(title); &#x2F;&#x2F;é˜¿é¡ºç‰¹çƒ¦æ¼-Ashun</span><br><span class="line">    return title;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then((title) &#x3D;&gt; &#123;</span><br><span class="line">    title +&#x3D; &quot;-Ashuntefannao&quot;;</span><br><span class="line">    console.log(title); &#x2F;&#x2F;é˜¿é¡ºç‰¹çƒ¦æ¼-Ashun-Ashuntefannao</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p><code>then</code> æ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„<code>promise</code> å¯¹è±¡ï¼Œç­‰è¿”å›çš„<code>promise</code> ç¡®è®¤çŠ¶æ€åï¼Œæ‰ä¼šæ‰§è¡Œåé¢çš„ <code>then</code>ã€‚åé¢çš„<code>then</code> æ–¹æ³•å°±æ˜¯å¯¹æ–°è¿”å›çš„<code>promise</code> çŠ¶æ€çš„å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  resolve(&quot;ç¬¬ä¸€ä¸ªpromise&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg =&gt; &#123;</span><br><span class="line">  console.log(msg);</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(&quot;ç¬¬äºŒä¸ªpromise&quot;);</span><br><span class="line">    &#125;, 3000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(msg =&gt; &#123;</span><br><span class="line">  console.log(msg);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><p>Promiseç±»è¿˜æä¾›ä¸€äº›é™æ€æ–¹æ³•ï¼Œèƒ½å¤Ÿæ›´å¥½çš„å¤„ç†å¼‚æ­¥æ“ä½œã€‚</p>
<ul>
<li>è¿™äº›é™æ€æ–¹æ³•å‚æ•°ä¸­è‹¥ä¼ å…¥<code>éPromise</code>æ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå°†å…¶è½¬åŒ–ä¸º<code>Promise</code>,é™¤äº†<code>reject</code>é™æ€æ–¹æ³•ä¼šé»˜è®¤å°†å…¶è½¬åŒ–ä¸º<code>Promise.resolve</code>,å…¶ä½™é™æ€æ–¹æ³•éƒ½ä¼šå°†å…¶è½¬åŒ–ä¸º<code>Promise.resolve</code>,æ•°æ®æœ¬èº«ä½œä¸ºè¿”å›ç»“æœã€‚</li>
</ul>
<h4 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h4><p>ä½¿ç”¨ <code>promise.resolve(msg)</code> æ–¹æ³•å¯ä»¥å¿«é€Ÿçš„è¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºresolveçš„promiseå¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(Promise.resolve(&quot;fulfilled&quot;));	//PromiseÂ &#123;&lt;fulfilled&gt;: &quot;fulfilled&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          reject(&quot;promise state: rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        promise</span><br><span class="line">          .then(null, (rej) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(rej);</span><br><span class="line">            return Promise.resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .then((result) &#x3D;&gt; console.log(result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¼ å…¥å€¼ä¸ºpromiseï¼Œåç»­thenå¤„ç†çš„æ˜¯ä¼ å…¥çš„promsie</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Promise.resolve(Promise.reject(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;)).catch((rej) &#x3D;&gt;console.log(rej));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å°†è¯·æ±‚ç»“æœç¼“å­˜ï¼Œå¦‚æœå†æ¬¡è¯·æ±‚æ—¶ç›´æ¥è¿”å›å¸¦å€¼çš„ <code>promise</code></p>
<ul>
<li>ä¸ºäº†æ¼”ç¤ºä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨åå°è®¾ç½®å»¶è¿Ÿå“åº”</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function query(name) &#123;</span><br><span class="line">  const cache = query.cache || (query.cache = new Map());</span><br><span class="line">  if (cache.has(name)) &#123;</span><br><span class="line">    console.log(&quot;èµ°ç¼“å­˜äº†&quot;);</span><br><span class="line">    return Promise.resolve(cache.get(name));</span><br><span class="line">  &#125;</span><br><span class="line">  return ajax(`http://localhost:8083/users?name=$&#123;name&#125;`).then(</span><br><span class="line">    response =&gt; &#123;</span><br><span class="line">      cache.set(name, response);</span><br><span class="line">      console.log(&quot;æ²¡èµ°ç¼“å­˜&quot;);</span><br><span class="line">      return response;</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">query(&quot;é˜¿é¡º&quot;).then(response =&gt; &#123;</span><br><span class="line">  console.log(response);</span><br><span class="line">&#125;);</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  query(&quot;é˜¿é¡º&quot;).then(response =&gt; &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯ <code>then able</code> (å…·æœ‰thenèƒ½åŠ›ï¼Œç±»ä¼¼promise)å¯¹è±¡ï¼Œä¼šå°†å¯¹è±¡åŒ…è£…æˆpromiseå¤„ç†ï¼Œè¿™ä¸å…¶ä»–promiseå¤„ç†æ–¹å¼ä¸€æ ·çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &#123;</span><br><span class="line">  then(resolve, reject) &#123;</span><br><span class="line">    resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">Promise.resolve(as).then(value =&gt; &#123;</span><br><span class="line">  console.log(value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¼ å…¥éPromiseæ•°æ®ï¼Œé»˜è®¤å°†å…¶è½¬åŒ–ä¸º<code>Promise.resolve</code>,æ•°æ®æœ¬èº«ä½œä¸º<code>Promise.resolve</code>çš„è¿”å›å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getName() &#123;</span><br><span class="line">  return &quot;ashun&quot;;</span><br><span class="line">&#125;</span><br><span class="line">Promise.resolve(getName).then((result) &#x3D;&gt; console.log(result()));</span><br><span class="line">&#x2F;&#x2F;ashun</span><br></pre></td></tr></table></figure>



<h4 id="reject"><a href="#reject" class="headerlink" title="reject"></a>reject</h4><p>å’Œ <code>Promise.resolve</code> ç±»ä¼¼ï¼Œ<code>reject</code> ç”Ÿæˆä¸€ä¸ªæ‹’ç»çŠ¶æ€çš„<code>promise</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">Promise.reject(&quot;fail&quot;).catch(error =&gt; console.log(error));</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨ <code>Project.reject</code> è®¾ç½®çŠ¶æ€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">new Promise(resolve =&gt; &#123;</span><br><span class="line">  resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(v =&gt; &#123;</span><br><span class="line">  if (v != &quot;Ashuntefannao&quot;) return Promise.reject(new Error(&quot;not Ashuntefannao&quot;));</span><br><span class="line">&#125;)</span><br><span class="line">.catch(error =&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è‹¥ä¼ å…¥éPromiseæ•°æ®ï¼Œé»˜è®¤å°†å…¶è½¬åŒ–ä¸º<code>Promise.reject</code>æ•°æ®æœ¬èº«ä½œä¸º<code>Promise.reject</code>çš„è¿”å›å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123;name:&quot;Ashun&quot;&#125;;</span><br><span class="line">Promise.reject(obj).catch((reason) &#x3D;&gt; console.log(reason.name));</span><br><span class="line">&#x2F;&#x2F;Ashun</span><br></pre></td></tr></table></figure>



<h4 id="all"><a href="#all" class="headerlink" title="all"></a>all</h4><p>ä½¿ç”¨<code>Promise.all(promiseArr)</code> æ–¹æ³•å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚é¡µé¢åŠ è½½æ—¶åŒè¿›è·å–è¯¾ç¨‹åˆ—è¡¨ä¸æ¨èè¯¾ç¨‹ã€‚</p>
<ul>
<li>ä»»ä½•ä¸€ä¸ª <code>Promise</code> æ‰§è¡Œå¤±è´¥å°±ä¼šè°ƒç”¨ <code>catch</code>æ–¹æ³•</li>
<li>ä»»ä½•ä¸€ä¸ª<code>Promise</code>æ²¡æœ‰ç¡®è®¤çŠ¶æ€ï¼Œåˆ™allé»˜è®¤è¿”å›çš„promiseçŠ¶æ€ä¹Ÿä¸ºpendingï¼Œä¹Ÿå°±ä¸ä¼šæ‰§è¡Œåç»­çš„then</li>
<li>é€‚ç”¨äºä¸€æ¬¡å‘é€å¤šä¸ªå¼‚æ­¥æ“ä½œ</li>
<li>å‚æ•°å¿…é¡»æ˜¯å¯è¿­ä»£ç±»å‹ï¼Œå¦‚Array/Set</li>
<li>æˆåŠŸåè¿”å›åŒ…å« <code>promise</code> ç»“æœçš„æœ‰åºæ•°ç»„</li>
<li>è‹¥ä¼ å…¥<code>éPromise</code>æ•°æ®ï¼Œåˆ™å°†å…¶è‡ªåŠ¨è½¬åŒ–ä¸º<code>Promise.resolve</code>ï¼Œæ•°æ®æœ¬èº«ä½œä¸ºè¿”å›å€¼</li>
</ul>
<p>ä¸‹ä¾‹ä¸­å½“ <code>p1ã€p2</code> ä¸¤ä¸ª Promise çŠ¶æ€éƒ½ä¸º <code>fulfilled</code> æ—¶ï¼Œp3çŠ¶æ€æ‰ä¸º<code>fulfilled</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let p1 = new Promise((resolve) =&gt; &#123;</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            resolve(&quot;p1 state: fulfilled&quot;);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p2 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">          setTimeout(() =&gt; &#123;</span><br><span class="line">            resolve(&quot;p2 state: fulfilled&quot;);</span><br><span class="line">          &#125;, 2000);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p3 = Promise.all([p1, p2]).then(</span><br><span class="line">          (result) =&gt; console.log(result),</span><br><span class="line">          (err) =&gt; console.log(err)</span><br><span class="line">        );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>è‹¥å…¶ä¸­æœ‰ä¸€ä¸ªpromiseçŠ¶æ€ä¸ºrejectï¼Œåˆ™å°†è°ƒç”¨<code>Promise.all()</code>åç»­<code>then</code>ä¸­çš„<code>onReject</code>ï¼Œæˆ–<code>catch</code>æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let p1 &#x3D; new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            resolve(&quot;p1 state: fulfilled&quot;);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p2 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            reject(&quot;p2 state: reject&quot;);</span><br><span class="line">          &#125;, 2000);</span><br><span class="line">        &#125;)</span><br><span class="line">        let p3 &#x3D; Promise.all([p1, p2]).then(</span><br><span class="line">          (result) &#x3D;&gt; console.log(result),</span><br><span class="line">          (err) &#x3D;&gt; console.log(err)</span><br><span class="line">        );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦â€¦â€¦</span><br><span class="line">let p3 &#x3D; Promise.all([p1, p2]).catch(</span><br><span class="line">          (err) &#x3D;&gt; console.log(err)</span><br><span class="line">        );</span><br></pre></td></tr></table></figure>

<p>è‹¥æŸä¸ªçŠ¶æ€ä¸º<code>rejected</code>çš„Promiseå·²ç»è¢«è‡ªèº«çš„<code>then</code>å¤„ç† , é‚£ä¹ˆè¯¥Promiseæœ€åè¿”å›çš„çŠ¶æ€æ˜¯<code>fulfilled</code>,(<strong>thené»˜è®¤è¿”å›çŠ¶æ€ä¸ºfulfilledçš„Promise</strong>)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let p1 &#x3D; new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            resolve(&quot;p1 state: fulfilled&quot;);</span><br><span class="line">          &#125;, 1000);</span><br><span class="line">        &#125;);</span><br><span class="line">        let p2 &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">          setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">            reject(&quot;p2 state: reject&quot;);</span><br><span class="line">          &#125;, 2000);</span><br><span class="line">        &#125;).then(null, (err) &#x3D;&gt; err);</span><br><span class="line">        let p3 &#x3D; Promise.all([p1, p2])</span><br><span class="line">          .then((result) &#x3D;&gt; console.log(result))</span><br><span class="line">          .catch((err) &#x3D;&gt; console.log(&quot;æœ‰promiseçŠ¶æ€ä¸ºrejected&quot;));</span><br><span class="line">          </span><br><span class="line">        &#x2F;&#x2F;Â [&quot;p1 state: fulfilled&quot;, &quot;p2 state: reject&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ç”¨æˆ·åè·å–ç”¨æˆ·ï¼Œæœ‰ä»»ä½•ä¸€ä¸ªç”¨æˆ·è·å–ä¸åˆ°æ—¶ <code>promise.all</code> çŠ¶æ€å¤±è´¥ï¼Œæ‰§è¡Œ <code>catch</code> æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function ajax(url) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    let xhr = new XMLHttpRequest();</span><br><span class="line">    xhr.open(&quot;GET&quot;, url);</span><br><span class="line">    xhr.send();</span><br><span class="line">    xhr.onload = function() &#123;</span><br><span class="line">      if (this.status == 200) &#123;</span><br><span class="line">        resolve(JSON.parse(this.response));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        reject(this);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const api = &quot;http://localhost:8083&quot;;</span><br><span class="line">const promises = [&quot;é˜¿é¡º&quot;, &quot;å¼ ä¸‰&quot;].map(name =&gt; &#123;</span><br><span class="line">  return ajax(`$&#123;api&#125;/users?name=$&#123;name&#125;`);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Promise.all(promises)</span><br><span class="line">  .then(response =&gt; &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(error =&gt; &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°†å…¶ä»–<code>épromise</code> æ•°æ®æ·»åŠ åˆ° <code>all</code> ä¸­ï¼Œå®ƒå°†è¢«å¤„ç†æˆ <code>Promise.resolve</code>ï¼Œæ•°æ®æœ¬èº«ä¼šè¢«å½“åš<code>Promise.resolve</code>çš„è¿”å›å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let getName = () =&gt; &quot;Ashun&quot;;</span><br><span class="line">        let Age = 18;</span><br><span class="line">        let promise = new Promise((resolve) =&gt; resolve(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;));</span><br><span class="line">        Promise.all([getName, Age, promise]).then((result) =&gt;</span><br><span class="line">          console.log(result)</span><br><span class="line">        );</span><br><span class="line">        //Â [Æ’, 18, &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="allSettled"><a href="#allSettled" class="headerlink" title="allSettled"></a>allSettled</h4><p><code>Promise.allSettled(PromsieArr)</code>ï¼Œ<strong>ä¼šå°†æ‰€æœ‰çš„Promsieè§†ä¸ºå·²è§£å†³çŠ¶æ€</strong>ï¼Œä¼š<code>å¿½ç•¥æ‹’ç»çŠ¶æ€</code>çš„Promiseï¼Œ</p>
<p>æ‹’ç»çŠ¶æ€çš„Promiseä¿¡æ¯ï¼Œä¹Ÿä¼šè¿”å›åˆ°æœ€ç»ˆçš„ç»“æœä¸­ã€‚</p>
<ul>
<li>è¿”å›åŒ…å«PromiseçŠ¶æ€å’Œç»“æœçš„æœ‰åºæ•°ç»„</li>
<li><code>[&#123;status:resolve/reject,value/reason&#125;,&#123;â€¦&#125;]</code></li>
</ul>
<p>ä¸‹é¢çš„p2 è¿”å›çŠ¶æ€ä¸º <code>rejected</code> ï¼Œä½†<code>promise.allSettled</code> ä¸å…³å¿ƒï¼Œ<code>promise.allSettled</code>å§‹ç»ˆå°†è‡ªèº«çŠ¶æ€è®¾ç½®ä¸º <code>fulfilled</code> ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        const p1 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">          resolve(&quot;p1 resolved&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        const p2 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">          reject(&quot;p2 rejected&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        Promise.allSettled([p1, p2]).then((msg) =&gt; &#123;</span><br><span class="line">          console.log(msg);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"># æ‰§è¡Œç»“æœ</span><br><span class="line"> [</span><br><span class="line">	 &#123;status: &quot;fulfilled&quot;, value: &quot;p1 resolve&quot;&#125;,</span><br><span class="line">	 &#123;status: &quot;rejected&quot;, reason: &quot;p2 rejected&quot;&#125;</span><br><span class="line"> ]</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œä½†ä¸å…³æ³¨æŸä¸ªç”¨æˆ·æ˜¯å¦è·å–ä¸æˆåŠŸ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const api = &quot;http://localhost:8083&quot;;</span><br><span class="line">const promises = [</span><br><span class="line">  ajax(`$&#123;api&#125;/users?name=é˜¿é¡º`),</span><br><span class="line">  ajax(`$&#123;api&#125;/users?name=å¼ ä¸‰`)</span><br><span class="line">];</span><br><span class="line">Promise.allSettled(promises).then(response =&gt; &#123;</span><br><span class="line">  console.log(response);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­è‹¥ä¼ å…¥épromiseæ•°æ®ç±»å‹ï¼Œå†…éƒ¨ä¼šè½¬åŒ–ä¸º<code>Promise.resolve</code>,æ•°æ®æœ¬èº«ä½œä¸ºè¿”å›å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr &#x3D; [</span><br><span class="line">          function () &#123;</span><br><span class="line">            return &quot;ashun&quot;;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123; name: &quot;ASHUN&quot; &#125;,</span><br><span class="line">          18,</span><br><span class="line">				];</span><br><span class="line">Promise.allSettled(arr).then((result) &#x3D;&gt; console.log(result));</span><br><span class="line"></span><br><span class="line"># ç»“æœ</span><br><span class="line">[</span><br><span class="line">	&#123;status: &quot;fulfilled&quot;, value: Æ’&#125;,</span><br><span class="line">	&#123;status: &quot;fulfilled&quot;, value: &#123;â€¦&#125;&#125;,</span><br><span class="line">	&#123;status: &quot;fulfilled&quot;, value: 18&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>





<h4 id="race"><a href="#race" class="headerlink" title="race"></a>race</h4><p>ä½¿ç”¨<code>Promise.race(promiseArr)</code> èƒ½å¤Ÿå¤„ç†å®¹é”™å¼‚æ­¥ï¼Œä¸”è¿”å›æœ€å¿«ç¡®å®šçŠ¶æ€çš„Promiseç»“æœï¼Œå’Œ<code>race</code>å•è¯ä¸€æ ·å“ªä¸ªPromiseå¿«ç”¨å“ªä¸ªï¼Œå“ªä¸ªå…ˆè¿”å›ç”¨å“ªä¸ªã€‚</p>
<ul>
<li>ä»¥æœ€å¿«è¿”å›çš„promiseä¸ºå‡†</li>
<li>å¦‚æœæœ€å¿«è¿”åŠ çš„çŠ¶æ€ä¸º<code>rejected</code> é‚£æ•´ä¸ª<code>Promise.rece</code>çŠ¶æ€ä¸º<code>rejected</code>æ‰§è¡Œcache</li>
<li>å¦‚æœå‚æ•°ä¸æ˜¯promiseï¼Œå†…éƒ¨å°†è‡ªåŠ¨è½¬ä¸º<code>Promise.resolve</code></li>
</ul>
<p>ä¸‹ä¾‹ä½“ç°<code>Promise.rece</code>çš„ç‰¹æ€§ï¼Œå“ªä¸ªPromiseæœ€å…ˆç¡®å®šçŠ¶æ€ï¼Œå°±è¿”å›è°çš„å¤„ç†ç»“æœã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const p1 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    resolve(&quot;ç¬¬ä¸€ä¸ªPromise&quot;);</span><br><span class="line">  &#125;, 2000);</span><br><span class="line">&#125;);</span><br><span class="line">const p2 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    resolve(&quot;ç¬¬äºŒä¸ªå¼‚æ­¥&quot;);</span><br><span class="line">  &#125;, 1000);</span><br><span class="line">&#125;);</span><br><span class="line">Promise.race([p1, p2])</span><br><span class="line">.then(results =&gt; &#123;</span><br><span class="line">  console.log(results);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(msg =&gt; &#123;</span><br><span class="line">  console.log(msg);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// &quot;ç¬¬äºŒä¸ªå¼‚æ­¥&quot;</span><br></pre></td></tr></table></figure>

<p>å¯ç”¨å…¶è®¾ç½®è¯·æ±‚æœ€é•¿ç›¸åº”æ—¶é—´ï¼Œä¸‹ä¾‹ï¼šè‹¥è¯·æ±‚åœ¨2ç§’å†…æ²¡æœ‰è¿”å›ç»“æœï¼Œåˆ™<code>promise.race</code> çŠ¶æ€å¤±è´¥,å°†ä¼šæ‰§è¡Œ<code>catch</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const api &#x3D; &quot;http:&#x2F;&#x2F;localhost:8083&quot;;</span><br><span class="line">const promises &#x3D; [</span><br><span class="line">  ajax(&#96;$&#123;api&#125;&#x2F;users.php?name&#x3D;é˜¿é¡º&#96;),</span><br><span class="line">  new Promise((a, b) &#x3D;&gt;</span><br><span class="line">    setTimeout(() &#x3D;&gt; b(new Error(&quot;request fail&quot;)), 2000)</span><br><span class="line">  )</span><br><span class="line">];</span><br><span class="line">Promise.race(promises)</span><br><span class="line">.then(response &#x3D;&gt; &#123;</span><br><span class="line">  console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(error &#x3D;&gt; &#123;</span><br><span class="line">  console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promises &#x3D; [</span><br><span class="line">          new Promise((resolve) &#x3D;&gt; &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">              resolve(&quot;è¯·æ±‚æˆåŠŸ&quot;);</span><br><span class="line">            &#125;, 1200);</span><br><span class="line">          &#125;),</span><br><span class="line">          new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">              reject(&quot;è¯·æ±‚è¶…æ—¶&quot;);</span><br><span class="line">            &#125;, 1100);</span><br><span class="line">          &#125;),</span><br><span class="line">        ];</span><br><span class="line">        Promise.race(promises)</span><br><span class="line">          .then((result) &#x3D;&gt; console.log(result))</span><br><span class="line">          .catch((reason) &#x3D;&gt; console.log(reason));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‚æ•°ä¸æ˜¯promiseï¼Œå†…éƒ¨å°†è‡ªåŠ¨è½¬ä¸º<code>Promise.resolve</code>,ä¸”æ•°æ®æœ¬èº«ä½œä¸º<code>Promise.resolve</code>çš„è¿”å›å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let arr &#x3D; [</span><br><span class="line">          function () &#123;</span><br><span class="line">            return &quot;ashun&quot;;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123; name: &quot;ASHUN&quot; &#125;,</span><br><span class="line">          18,</span><br><span class="line">        ];</span><br><span class="line">        Promise.race(arr).then((result) &#x3D;&gt; console.log(result())); &#x2F;&#x2F;ashun</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h3><h4 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h4><ul>
<li>å¦‚æœåœ¨<code>then</code>ä¸­æ‰‹åŠ¨è¿”å›<code>promise</code> æ—¶ï¼Œåé¢çš„<code>then</code> å°±æ˜¯å¯¹è¿”å›çš„ <code>promise</code> çš„å¤„ç†</li>
<li>é€šè¿‡é“¾å¼è°ƒç”¨thenï¼Œä¸æ–­å¤„ç†è¿”å›çš„Promsieï¼Œè§£å†³ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let promise = Promise.resolve();</span><br><span class="line">let p1 = promise.then(() =&gt; &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      console.log(`p1`);</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">p1.then(() =&gt; &#123;</span><br><span class="line">  return new Promise((a, b) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      console.log(`p2`);</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let promise &#x3D; Promise.resolve();</span><br><span class="line">        promise &#x3D; promise.then((result) &#x3D;&gt; &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&quot;ç¬¬ä¸€ä¸ªthen&quot;);</span><br><span class="line">            resolve(2);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        promise &#x3D; promise.then((index) &#x3D;&gt; &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#96;ç¬¬$&#123;index&#125;ä¸ªthen&#96;);</span><br><span class="line">            resolve(3);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        promise &#x3D; promise.then((index) &#x3D;&gt; &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#96;ç¬¬$&#123;index&#125;ä¸ªthen&#96;);</span><br><span class="line">            resolve(4);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨ <code>Array.map</code> æ„å»ºçš„é˜Ÿåˆ—ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦è¯´æ˜</p>
<ul>
<li><code>then</code> å†…éƒ¨è¿”å›çš„ <code>Promise</code> æ›´æ”¹å¤–éƒ¨çš„ <code>promise</code> å˜é‡</li>
<li>ä¸ºäº†è®©ä»»åŠ¡ç»§ç»­ä¸‹å»ï¼Œæ‰§è¡Œå®Œä»»åŠ¡éœ€è¦å°† <code>promise</code> çŠ¶æ€ä¿®æ”¹ä¸º <code>fulfilled</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function queue(tasks) &#123;</span><br><span class="line">          let promise = Promise.resolve();</span><br><span class="line">          tasks.map((val, index) =&gt; &#123;</span><br><span class="line">            promise = promise.then((result) =&gt; &#123;</span><br><span class="line">              result &amp;&amp; console.log(result);</span><br><span class="line">              return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">                console.log(val);</span><br><span class="line">                resolve(</span><br><span class="line">                  `ç¬¬$&#123;index + 1&#125;ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç¬¬$&#123;index + 2&#125;ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ`</span><br><span class="line">                );</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        queue([&quot;shun-1&quot;, &quot;Ashun-2&quot;, &quot;Ashuntefannao-3&quot;]);</span><br><span class="line">&#125;</span><br><span class="line"># æ‰§è¡Œç»“æœ</span><br><span class="line">shun-1</span><br><span class="line">ç¬¬1ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç¬¬2ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Ashun-2</span><br><span class="line">ç¬¬2ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç¬¬3ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Ashuntefannao-3</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å†æ¥é€šè¿‡ <code>reduce</code> æ¥å®ç°é˜Ÿåˆ—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function queue(tasks) &#123;</span><br><span class="line">          tasks.reduce((promise, val, index) =&gt; &#123;</span><br><span class="line">            promise = promise.then((result) =&gt; &#123;</span><br><span class="line">              result &amp;&amp; console.log(result);</span><br><span class="line">              return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">                console.log(val);</span><br><span class="line">                resolve(</span><br><span class="line">                  `ç¬¬$&#123;index + 1&#125;ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç¬¬$&#123;index + 2&#125;ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ`</span><br><span class="line">                );</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">            return promise;</span><br><span class="line">          &#125;, Promise.resolve());</span><br><span class="line">        &#125;</span><br><span class="line">        queue([&quot;shun-1&quot;, &quot;Ashun-2&quot;, &quot;Ashuntefannao-3&quot;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="é«˜å¯ç”¨å°è£…"><a href="#é«˜å¯ç”¨å°è£…" class="headerlink" title="é«˜å¯ç”¨å°è£…"></a>é«˜å¯ç”¨å°è£…</h4><p>ä¸Šä¾‹ä¸­å¤„ç†æ˜¯åœ¨é˜Ÿåˆ—ä¸­å®Œæˆï¼Œä¸æ–¹ä¾¿ä¸šåŠ¡å®šåˆ¶ï¼Œä¸‹é¢å°†Promiseå¤„ç†åœ¨å‰¥ç¦»åˆ°å¤–éƒ¨</p>
<p><strong>åå°è¯·æ±‚å¤„ç†ç±»</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export default function(url) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    let xhr = new XMLHttpRequest()</span><br><span class="line">    xhr.open(&#x27;GET&#x27;, url)</span><br><span class="line">    xhr.send()</span><br><span class="line">    xhr.onload = function() &#123;</span><br><span class="line">      if (this.status === 200) &#123;</span><br><span class="line">        resolve(this.response)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        reject(this)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é˜Ÿåˆ—å¤„ç†ç±»</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">export default function(promises) &#123;</span><br><span class="line">  promises.reduce((promise, next) =&gt; promise.then(next), Promise.resolve())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åå°è„šæœ¬</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$users = [</span><br><span class="line">    1 =&gt; &quot;å°æ˜&quot;,</span><br><span class="line">    2 =&gt; &quot;æå››&quot;,</span><br><span class="line">    3 =&gt; &quot;å¼ ä¸‰&quot;</span><br><span class="line">];</span><br><span class="line">sleep(1);</span><br><span class="line">echo $users[$_GET[&#x27;id&#x27;]];</span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨é˜Ÿåˆ—</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">  import queue from &#x27;./queue.js&#x27;</span><br><span class="line">  import axios from &#x27;./axios.js&#x27;</span><br><span class="line">  queue(</span><br><span class="line">    [1, 2, 3].map(v =&gt; () =&gt;</span><br><span class="line">      axios(`user.php?id=$&#123;v&#125;`).then(user =&gt; console.log(user))</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h3><p> <code>async/await</code> æ˜¯promise çš„è¯­æ³•ç³–ï¼Œå¯ä»¥è®©ç¼–å†™ promise æ›´æ¸…æ™°æ˜“æ‡‚ï¼Œä¹Ÿæ˜¯æ¨èç¼–å†™promise çš„æ–¹å¼ã€‚</p>
<ul>
<li><code>async/await</code> æœ¬è´¨è¿˜æ˜¯promiseï¼Œåªæ˜¯æ›´ç®€æ´çš„è¯­æ³•ç³–ä¹¦å†™</li>
<li><code>async/await</code> ä½¿ç”¨æ›´æ¸…æ™°çš„ç»“æ„æ¥æ›¿æ¢ promise.then/catch çš„æ–¹å¼</li>
<li><code>async/await</code>èƒ½å¤Ÿè®©å¼‚æ­¥ä»£ç ï¼Œä»¥<strong>åŒæ­¥çš„å½¢å¼</strong>æŒ‰é¡ºåºæ‰§è¡Œ</li>
<li><code>async</code>å£°æ˜çš„å‡½æ•°ï¼Œä¼šè‡ªåŠ¨è¿”å›ä¸€ä¸ªPromiseã€‚</li>
<li><code>await</code>å¿…é¡»åœ¨<code>async</code>å£°æ˜çš„å‡½æ•°ä¸­ä½¿ç”¨ã€‚</li>
</ul>
<h4 id="async"><a href="#async" class="headerlink" title="async"></a>async</h4><p>ä¸‹é¢åœ¨ <code>fun</code> å‡½æ•°å‰åŠ ä¸Šasyncï¼Œå‡½æ•°å°†é»˜è®¤è¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºfulfilledçš„promiseï¼Œå‡½æ•°ä½“ä¸­ä½¿ç”¨returnè¿”å›çš„æ•°æ®ï¼Œå¯ä»¥åœ¨åç»­çš„thenä¸­æ¥æ”¶åˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">async function fun() &#123;</span><br><span class="line">				return &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">fun().then((result) &#x3D;&gt; console.log(result));</span><br></pre></td></tr></table></figure>

<p>è‹¥è¦æŒ‰é¡ºåºå¤„ç†å¤šä¸ªå¼‚æ­¥ä»£ç å—ï¼Œä½¿ç”¨ä¼ ç»Ÿçš„<code>promise.then/catch</code>åœ¨æ•´ä¸ªä»£ç ç»“æ„ä¸Šï¼Œä¸å¦‚ä½¿ç”¨<code>async/await</code>æ¸…æ™°ã€‚</p>
<p>ä¸‹ä¾‹é€šè¿‡å¤„ç†ç›¸åŒçš„é—®é¢˜ï¼Œè¿›è¡Œå¯¹æ¯”</p>
<p>ä½¿ç”¨ä¼ ç»Ÿ<code>Promise</code>å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        function promise(text) &#123;</span><br><span class="line">          return new Promise((resolve, reject) &#x3D;&gt; &#123;</span><br><span class="line">            resolve(text || &quot;ç¬¬ä¸€ä¸ªthen&quot;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        promise()</span><br><span class="line">          .then((result) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(result);</span><br><span class="line">            return promise(&quot;ç¬¬äºŒä¸ªthen&quot;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .then((result) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(result);</span><br><span class="line">            return promise(&quot;ç¬¬ä¸‰ä¸ªthen&quot;);</span><br><span class="line">          &#125;)</span><br><span class="line">          .then((result) &#x3D;&gt; &#123;</span><br><span class="line">            console.log(result);</span><br><span class="line">          &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>async/await</code>å¤„ç†å¯è§‚å¯Ÿåˆ°ï¼Œä»£ç æ˜¯æŒ‰ç…§åŒæ­¥å½¢å¼æ‰§è¡Œçš„ï¼Œç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä»£ç é‡ä¹Ÿå‡å°‘äº†è®¸å¤šã€‚</p>
<ul>
<li><code>await</code>ç›¸å½“äº<code>then</code>ï¼Œèƒ½å¤Ÿä¼ é€’Promiseçš„è¿”å›å€¼</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        async function promise(text) &#123;</span><br><span class="line">          return text || &quot;ç¬¬ä¸€ä¸ªthen&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        async function run() &#123;</span><br><span class="line">          let result1 &#x3D; await promise();</span><br><span class="line">          console.log(result1);</span><br><span class="line">          let result2 &#x3D; await promise(&quot;ç¬¬äºŒä¸ªthen&quot;);</span><br><span class="line">          console.log(result2);</span><br><span class="line">          let result3 &#x3D; await promise(&quot;ç¬¬ä¸‰ä¸ªthen&quot;);</span><br><span class="line">          console.log(result3);</span><br><span class="line">        &#125;</span><br><span class="line">        run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="await"><a href="#await" class="headerlink" title="await"></a>await</h4><p><code>await</code>å…³é”®è¯åé¢ç´§è·ŸPromiseï¼Œä½¿ç”¨ <code>await</code> å…³é”®è¯ï¼Œå¯ä»¥æ¥æ”¶æ‰€å¤„ç†çš„Promiseçš„è¿”å›å€¼ï¼Œå¹¶ä¸”ç­‰å¾…è¯¥Promiseç¡®å®šçŠ¶æ€åï¼Œæ‰å¯æ‰§è¡Œåé¢çš„ä»£ç ã€‚</p>
<ul>
<li><code>await</code> åé¢ä¸€èˆ¬æ˜¯promiseï¼Œå¦‚æœä¸æ˜¯ç›´æ¥è¿”å›</li>
<li><code>await</code> å¿…é¡»æ”¾åœ¨ async å®šä¹‰çš„å‡½æ•°ä¸­ä½¿ç”¨</li>
<li><code>await</code> ç”¨äºæ›¿ä»£ <code>then</code> ä½¿ç¼–ç æ›´ä¼˜é›…</li>
</ul>
<p>ä¸‹ä¾‹ä¼šåœ¨ await è¿™è¡Œç­‰å¾…promiseæ‰§è¡Œï¼Œç›´åˆ° promise ç¡®è®¤çŠ¶æ€åæ‰æ‰§è¡Œåç»­ä»£ç ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function fun() &#123;</span><br><span class="line">  const promise = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(&quot;Ashuntefannao&quot;);</span><br><span class="line">    &#125;, 2000);</span><br><span class="line">  &#125;);</span><br><span class="line">  let result = await promise;</span><br><span class="line">  console.log(result);</span><br><span class="line">&#125;</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çŸ¥é“ï¼šåœ¨thenä¸­ä¸èƒ½å¤Ÿè¿”å›æ‰€å¤„ç†çš„Promiseæœ¬èº«ï¼Œä¼šäº§ç”Ÿæ­»å¾ªç¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let p1 &#x3D; Promise.resolve().then((_) &#x3D;&gt; p1);</span><br></pre></td></tr></table></figure>

<p>åŒç†åœ¨<code>async</code>å£°æ˜çš„å‡½æ•°ä¸­ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨<code>await</code>å¤„ç†å‡½æ•°æœ¬èº«ã€‚</p>
<ul>
<li>ç­‰å¾…funè¿”å›çš„promiseç¡®è®¤çŠ¶æ€ï¼Œè€Œfunåœ¨è°ƒç”¨æ—¶ï¼Œåˆä¼šç­‰å¾…è‡ªèº«ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">async function fun() &#123;</span><br><span class="line">	await fun();</span><br><span class="line">&#125;</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯è¯·æ±‚åå°è·å–ç”¨æˆ·è¯¾ç¨‹æˆç»©çš„ç¤ºä¾‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function user() &#123;</span><br><span class="line">  let user = await ajax(`http://localhost:8083/users?name=å‘å†›`);</span><br><span class="line">  let lessons = await ajax(</span><br><span class="line">    `http://localhost:8083/lessons?id=$&#123;user.id&#125;`</span><br><span class="line">  );</span><br><span class="line">  console.log(lessons);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å°†æ“ä½œæ”¾åœ¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸­å®Œæˆ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">(async () =&gt; &#123;</span><br><span class="line">  let user = await ajax(`http://localhost:8083/users?name=å‘å†›`);</span><br><span class="line">  let lessons = await ajax(</span><br><span class="line">    `http://localhost:8083/lessons?id=$&#123;user.id&#125;`</span><br><span class="line">  );</span><br><span class="line">  console.log(lessons);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨async è®¾ç½®å®šæ—¶å™¨ï¼Œå¹¶é—´éš”æ—¶é—´æ¥è¾“å‡ºå†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function sleep(ms = 2000) &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(resolve, ms);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">async function run() &#123;</span><br><span class="line">  for (const value of [&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;, &quot;Ashun&quot;]) &#123;</span><br><span class="line">    await sleep();</span><br><span class="line">    console.log(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">run();</span><br></pre></td></tr></table></figure>



<h4 id="åŠ è½½è¿›åº¦"><a href="#åŠ è½½è¿›åº¦" class="headerlink" title="åŠ è½½è¿›åº¦"></a>åŠ è½½è¿›åº¦</h4><p>ä¸‹é¢æ˜¯æ¨¡æ‹Ÿè¯·æ±‚åå°æŸ¥çœ‹è¿›åº¦ï¼Œè¿›åº¦æ¡å±•ç¤ºçš„æ•ˆæœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">      div &#123;</span><br><span class="line">        width: 0px;</span><br><span class="line">        height: 30px;</span><br><span class="line">        border-radius: 3px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        background-color: yellowgreen;</span><br><span class="line">        color: white;</span><br><span class="line">        text-align: center;</span><br><span class="line">      &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;loading&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"> &#123;			</span><br><span class="line"> 				//éšæœºäº§ç”Ÿå°äº3ç§’çš„è¯·æ±‚æ—¶é—´ã€‚</span><br><span class="line">        function randomTime() &#123;</span><br><span class="line">          let max = 3;</span><br><span class="line">          let min = 1;</span><br><span class="line">          let multiple = Math.floor(Math.random() * (1000 - 100 + 1) + 100);</span><br><span class="line">          return Math.floor(Math.random() * (max - min + 1) + min) * multiple;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">				//æ¨¡æ‹Ÿè¯·æ±‚å»¶æ—¶ã€‚</span><br><span class="line">        async function request() &#123;</span><br><span class="line">          return new Promise((resolve) =&gt; setTimeout(resolve, randomTime()));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        let div = document.querySelector(&quot;.loading&quot;);</span><br><span class="line">        //è¯·æ±‚ä»»åŠ¡é˜Ÿåˆ—</span><br><span class="line">        let requsets = [request, request, request, request, request];</span><br><span class="line">        let sum = 0;</span><br><span class="line">        requsets.map(async (req) =&gt; &#123;</span><br><span class="line">          await req();</span><br><span class="line">          let percent = ++sum / requsets.length;</span><br><span class="line">          div.style.width = percent * 200 + &quot;px&quot;;</span><br><span class="line">          if (percent == 1) &#123;</span><br><span class="line">            div.innerHTML = &quot;åŠ è½½å®Œæ¯•&quot;;</span><br><span class="line">          &#125; else &#123;</span><br><span class="line">            div.innerHTML = percent * 100 + &quot;%&quot;;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="then-able"><a href="#then-able" class="headerlink" title="then able"></a>then able</h4><p>å’Œ Promise ä¸€æ ·ï¼Œawait ä¹Ÿå¯ä»¥æ“ä½œ<code>then able</code> å¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  then(resolve, reject) &#123;</span><br><span class="line">    let user = ajax(`http://localhost:8083/user?name=$&#123;this.name&#125;`);</span><br><span class="line">    resolve(user);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">async function get() &#123;</span><br><span class="line">  let user = await new User(&quot;é˜¿é¡º&quot;);</span><br><span class="line">  console.log(user);</span><br><span class="line">&#125;</span><br><span class="line">get();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let user &#x3D; &#123;</span><br><span class="line">          name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">          then(resolve, reject) &#123;</span><br><span class="line">            return Promise.resolve().then((_) &#x3D;&gt;</span><br><span class="line">              setTimeout(resolve.bind(null, this.name), 1000)</span><br><span class="line">            );</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        async function run() &#123;</span><br><span class="line">          let result &#x3D; await user;</span><br><span class="line">          console.log(result);</span><br><span class="line">        &#125;</span><br><span class="line">        run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡ã€ç±»ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨<code>async/await</code>å¤„ç†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let user &#x3D; &#123;</span><br><span class="line">          name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">          then(resolve, reject) &#123;</span><br><span class="line">            return Promise.resolve().then((_) &#x3D;&gt;</span><br><span class="line">              setTimeout(resolve.bind(null, this.name), 1000)</span><br><span class="line">            );</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        let obj &#x3D; &#123;</span><br><span class="line">          async getName() &#123;</span><br><span class="line">            let result &#x3D; await user;</span><br><span class="line">            console.log(result);</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        obj.getName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  constructor() &#123;&#125;</span><br><span class="line">  async get(name) &#123;</span><br><span class="line">    let user &#x3D; await ajax(</span><br><span class="line">      &#96;http:&#x2F;&#x2F;localhost:8083&#x2F;users?name&#x3D;$&#123;name&#125;&#96;</span><br><span class="line">    );</span><br><span class="line">    user.name +&#x3D; &quot;-Ashuntefannao&quot;;</span><br><span class="line">    return user;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">new User().get(&quot;é˜¿é¡º&quot;).then(resolve &#x3D;&gt; &#123;</span><br><span class="line">  console.log(resolve);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="å£°æ˜å½¢å¼"><a href="#å£°æ˜å½¢å¼" class="headerlink" title="å£°æ˜å½¢å¼"></a>å£°æ˜å½¢å¼</h4><p>å‡½æ•°å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function get(name) &#123;</span><br><span class="line">  return await ajax(`http://localhost:8083/users?name=$&#123;name&#125;`);</span><br><span class="line">&#125;</span><br><span class="line">get(&quot;é˜¿é¡º&quot;).then(user =&gt; &#123;</span><br><span class="line">  console.log(user);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°è¡¨è¾¾å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let get = async function(name) &#123;</span><br><span class="line">  return await ajax(`http://localhost:8083/users?name=$&#123;name&#125;`);</span><br><span class="line">&#125;;</span><br><span class="line">get(&quot;é˜¿é¡º&quot;).then(user =&gt; &#123;</span><br><span class="line">  console.log(user);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡æ–¹æ³•å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  async get(name) &#123;</span><br><span class="line">  	return await ajax(`http://localhost:8083/users?name=$&#123;name&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">as.get(&quot;é˜¿é¡º&quot;).then(user =&gt; &#123;</span><br><span class="line">  console.log(user);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ç«‹å³æ‰§è¡Œå‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">(async () =&gt; &#123;</span><br><span class="line">  let user = await ajax(`http://localhost:8083/users?name=&quot;é˜¿é¡º&quot;`);</span><br><span class="line">  let lessons = await ajax( </span><br><span class="line">    `http://localhost:8083/lessons?id=$&#123;user.id&#125;`</span><br><span class="line">  );</span><br><span class="line">  console.log(lessons);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>ç±»æ–¹æ³•ä¸­çš„ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">class User &#123;</span><br><span class="line">  async get(name) &#123;</span><br><span class="line">    return await ajax(`http://localhost:8083/users?name=$&#123;name&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">let user = new User().get(&quot;é˜¿é¡º&quot;).then(user =&gt; &#123;</span><br><span class="line">  console.log(user);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h4><p>async å†…éƒ¨å‘ç”Ÿé”™è¯¯ï¼Œä¼šå°†è¿”å›çš„promiseçŠ¶æ€ç½®ä¸ºrejected çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>catch</code> æ¥å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function as() &#123;</span><br><span class="line">  console.log(shun);</span><br><span class="line">&#125;</span><br><span class="line">as().catch(error =&gt; &#123;</span><br><span class="line">  throw new Error(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯å¼‚æ­¥è¯·æ±‚æ•°æ®ä¸å­˜åœ¨æ—¶çš„é”™è¯¯å¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function get(name) &#123;</span><br><span class="line">  return await ajax(`http://localhost:8083/users?name=$&#123;name&#125;`);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">get(&quot;é˜¿é¡ºå°å“¥&quot;).catch(error =&gt; &#123;</span><br><span class="line">  alert(&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>è‹¥awaitåçš„<code>promise</code> è¢«æ‹’ç»ï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨<code>then\catch</code>å¤„ç†ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ <code>try...catch</code> å¤„ç†é”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        let users = [&quot;é˜¿é¡º&quot;, &quot;Ashun&quot;, &quot;shun&quot;];</span><br><span class="line"></span><br><span class="line">        async function getUser(name) &#123;</span><br><span class="line">        	let test = users.includes(name);</span><br><span class="line">          try &#123;</span><br><span class="line">            await new Promise((res, rej) =&gt; &#123;</span><br><span class="line">              console.log(test);</span><br><span class="line">              test ? res(test) : rej(`$&#123;name&#125; not find`);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125; catch (err) &#123;</span><br><span class="line">            console.log(err);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        getUser(&quot;é˜¿é¡ºA&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤šä¸ª await æ—¶å½“å‰é¢çš„å‡ºç°å¤±è´¥ä¸”æœªå¤„ç†ï¼Œåé¢çš„å°†ä¸å¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function promiseQueue() &#123;</span><br><span class="line">  await Promise.reject(&quot;fail&quot;);</span><br><span class="line">  await Promise.resolve(&quot;success&quot;).then(value =&gt; &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">promiseQueue();</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¯¹å‰ä¸€ä¸ªé”™è¯¯è¿›è¡Œäº†å¤„ç†ï¼Œåé¢çš„ await å¯ä»¥ç»§ç»­æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function promiseQueue() &#123;</span><br><span class="line">  await Promise.reject(&quot;fail&quot;).catch(e =&gt; console.log(e));</span><br><span class="line">  await Promise.resolve(&quot;success&quot;).then(value =&gt; &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">promiseQueue();</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>try...catch</code> ç‰¹æ€§å¿½ç•¥ä¸å¿…è¦çš„é”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function promiseQueue() &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    await Promise.reject(&quot;fail&quot;);</span><br><span class="line">  &#125; catch (error) &#123;&#125;</span><br><span class="line">  await Promise.resolve(&quot;success&quot;).then(value =&gt; &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">promiseQueue();</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å°†å¤šä¸ª await æ”¾åœ¨ tryâ€¦catch ä¸­ç»Ÿä¸€å¤„ç†é”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function get(type) &#123;</span><br><span class="line">  const host = &quot;http://localhost:8083/&quot;</span><br><span class="line">  try &#123;</span><br><span class="line">    const goods = await ajax(`$&#123;host&#125;/goodsList?type=$&#123;type&#125;`);</span><br><span class="line">    const category = await ajax(`$&#123;host&#125;/category?id=$&#123;goods.id&#125;`);</span><br><span class="line">    console.log(lessons);</span><br><span class="line">  &#125; catch (error) &#123;</span><br><span class="line">    console.log(&quot;å•†å“ä¸å­˜åœ¨&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">get(&quot;new&quot;);</span><br></pre></td></tr></table></figure>



<h4 id="å¹¶å‘æ‰§è¡Œ"><a href="#å¹¶å‘æ‰§è¡Œ" class="headerlink" title="å¹¶å‘æ‰§è¡Œ"></a>å¹¶å‘æ‰§è¡Œ</h4><p>æœ‰æ—¶éœ€è¦å¤šä¸ªawait åŒæ—¶æ‰§è¡Œï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•å¤„ç†ï¼Œä¸‹é¢å¤šä¸ªawait å°†äº§ç”Ÿç­‰å¾…</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function p1() &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      console.log(&quot;Ashuntefannao&quot;);</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;, 2000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">async function p2() &#123;</span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      console.log(&quot;Ashun&quot;);</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;, 2000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">async function promises() &#123;</span><br><span class="line">  await p1();</span><br><span class="line">  await p2();</span><br><span class="line">&#125;</span><br><span class="line">promises();</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Promise.all()</code> å¤„ç†å¤šä¸ªpromiseå¹¶è¡Œæ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">async function promises() &#123;</span><br><span class="line">  await Promise.all([p1(), p2()]);</span><br><span class="line">&#125;</span><br><span class="line">promises();</span><br></pre></td></tr></table></figure>

<p>å…ˆæ‰§è¡Œè¿”å›promiseï¼Œå†ä½¿ç”¨awaitå¤„ç†ç»“æœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">async function promises() &#123;</span><br><span class="line">  let a1 = p1();</span><br><span class="line">  let a2 = p2();</span><br><span class="line">  await a1;</span><br><span class="line">  await a2;</span><br><span class="line">&#125;</span><br><span class="line">promises();</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>å¯¹è±¡</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>å¯¹è±¡æ˜¯åŒ…æ‹¬å±æ€§ä¸æ–¹æ³•çš„æ•°æ®ç±»å‹ï¼ŒJSä¸­å¤§éƒ¨åˆ†ç±»å‹éƒ½æ˜¯å¯¹è±¡å¦‚ <code>String/Number/Math/RegExp/Date</code> ç­‰ç­‰ã€‚</p>
<p>ä¼ ç»Ÿçš„å‡½æ•°ç¼–ç¨‹ä¼šæœ‰é”™ä¸­å¤æ‚çš„ä¾èµ–å¾ˆå®¹æ˜“åˆ›é€ æ„å¤§åˆ©å¼é¢æ¡ä»£ç ã€‚</p>
<p><strong>é¢å‘è¿‡ç¨‹ç¼–ç¨‹</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let name = &quot;é˜¿é¡º&quot;;</span><br><span class="line">let grade = [</span><br><span class="line">  &#123; lesson: &quot;js&quot;, score: 99 &#125;,</span><br><span class="line">  &#123; lesson: &quot;vue&quot;, score: 85 &#125;</span><br><span class="line">];</span><br><span class="line">function average(grade, name) &#123;</span><br><span class="line">  const total = grade.reduce((t, a) =&gt; t + a.score, 0);</span><br><span class="line">  return name + &quot;:&quot; + total / grade.length + &quot;åˆ†&quot;;</span><br><span class="line">&#125;</span><br><span class="line">console.log(average(grade, name));</span><br></pre></td></tr></table></figure>

<p><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong></p>
<p>ä¸‹é¢ä½¿ç”¨å¯¹è±¡ç¼–ç¨‹çš„ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¹Ÿå‡å°‘äº†å‡½æ•°çš„å‚æ•°ä¼ é€’ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒå‡½æ•°åçš„è¦†ç›–</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  grade: [</span><br><span class="line">    &#123; lesson: &quot;js&quot;, score: 99 &#125;,</span><br><span class="line">    &#123; lesson: &quot;vue&quot;, score: 85 &#125;</span><br><span class="line">  ],</span><br><span class="line">  average() &#123;</span><br><span class="line">    const total = this.grade.reduce((t, a) =&gt; t + a.score, 0);</span><br><span class="line">    return this.name + &quot;:&quot; + total / this.grade.length + &quot;åˆ†&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(user.average());</span><br></pre></td></tr></table></figure>



<h4 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h4><p>OOPï¼š**Object Oriented Programming **</p>
<p>ç‰¹ç‚¹ï¼šå°è£…ã€ç»§æ‰¿ã€æŠ½è±¡ã€å¤šæ€</p>
<ul>
<li>å¯¹è±¡æ˜¯å±æ€§å’Œæ–¹æ³•çš„é›†åˆå³å°è£…</li>
<li>å°†å¤æ‚åŠŸèƒ½éšè—åœ¨å†…éƒ¨ï¼Œåªå¼€æ”¾ç»™å¤–éƒ¨å°‘é‡æ–¹æ³•ï¼Œæ›´æ”¹å¯¹è±¡å†…éƒ¨çš„å¤æ‚é€»è¾‘ä¸ä¼šå¯¹å¤–éƒ¨è°ƒç”¨é€ æˆå½±å“å³æŠ½è±¡</li>
<li>ç»§æ‰¿æ˜¯é€šè¿‡ä»£ç å¤ç”¨å‡å°‘å†—ä½™ä»£ç </li>
<li>æ ¹æ®ä¸åŒå½¢æ€çš„å¯¹è±¡äº§ç”Ÿä¸åŒç»“æœå³å¤šæ€</li>
</ul>
<h4 id="åŸºæœ¬å£°æ˜"><a href="#åŸºæœ¬å£°æ˜" class="headerlink" title="åŸºæœ¬å£°æ˜"></a>åŸºæœ¬å£°æ˜</h4><p>ä½¿ç”¨å­—é¢é‡å½¢å¼å£°æ˜å¯¹è±¡æ˜¯æœ€ç®€å•çš„æ–¹å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">  name: &#x27;é˜¿é¡º&#x27;,</span><br><span class="line">  getName:function() &#123;</span><br><span class="line">  	return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(obj.getName()); //é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p><code>ES6</code>å±æ€§ä¸æ–¹æ³•ç®€å†™</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let name = &quot;é˜¿é¡º&quot;;</span><br><span class="line">let obj = &#123;</span><br><span class="line">  name,</span><br><span class="line">  get() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj.get()); //é˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>å…¶å®å­—é¢é‡å½¢å¼åœ¨ç³»ç»Ÿå†…éƒ¨ä¹Ÿæ˜¯ä½¿ç”¨æ„é€ å‡½æ•° <code>new Object</code>åˆ›å»ºçš„ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;&#125;;</span><br><span class="line">let Ashun = new Object();</span><br><span class="line">console.log(as, Ashun);</span><br><span class="line">console.log(as.constructor);</span><br><span class="line">console.log(Ashun.constructor);</span><br></pre></td></tr></table></figure>



<h4 id="å±æ€§æ–¹æ³•"><a href="#å±æ€§æ–¹æ³•" class="headerlink" title="å±æ€§æ–¹æ³•"></a>å±æ€§æ–¹æ³•</h4><p>Objectä¸­åŒ…å«å±æ€§å’Œæ–¹æ³•ï¼Œå±æ€§ç”¨æ¥æ ‡è®°Objectçš„ç‰¹ç‚¹æˆ–çŠ¶æ€ï¼Œæ–¹æ³•ç”¨æ¥æ“ä½œå±æ€§æˆ–å®Œæˆå…¶å®ƒåŠŸèƒ½ã€‚</p>
<p>å®šä¹‰åœ¨å¯¹è±¡ä¸­çš„å‡½æ•°æˆ‘ä»¬ç§°ä¸ºæ–¹æ³•ï¼Œä¸‹é¢å®šä¹‰äº†å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æä¾›äº†è®¡ç®—å¹³å‡æˆç»©çš„æ–¹æ³•ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let ashun = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  age: 21,</span><br><span class="line">  grade: &#123;</span><br><span class="line">    math: 88,</span><br><span class="line">    english: 67</span><br><span class="line">  &#125;,</span><br><span class="line">  //å¹³å‡æˆç»©</span><br><span class="line">  avgGrade: function() &#123;</span><br><span class="line">    let total = 0;</span><br><span class="line">    for (const key in this.grade) &#123;</span><br><span class="line">      total += this.grade[key];</span><br><span class="line">    &#125;</span><br><span class="line">    return total / this.propertyCount(&quot;grade&quot;);</span><br><span class="line">  &#125;,</span><br><span class="line">  //è·å–å±æ€§æ•°é‡</span><br><span class="line">  propertyCount: function(property) &#123;</span><br><span class="line">		return Object.keys(this[property]).reduce((pre, val) =&gt; (pre += 1),0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(ashun.avgGrade());</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€ä¸ªå­¦ç”Ÿéœ€è¦æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè®¾ç½®å¯¹åº”çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å®é™…çš„ï¼Œåé¢ç« èŠ‚æ„é€ å‡½æ•°å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
</blockquote>
<hr>
<h4 id="å¼•ç”¨ç‰¹æ€§"><a href="#å¼•ç”¨ç‰¹æ€§" class="headerlink" title="å¼•ç”¨ç‰¹æ€§"></a>å¼•ç”¨ç‰¹æ€§</h4><p>å¯¹è±¡å’Œå‡½æ•°ã€æ•°ç»„ä¸€æ ·æ˜¯å¼•ç”¨ç±»å‹ï¼Œå³å¤åˆ¶åªä¼šå¤åˆ¶å¼•ç”¨åœ°å€ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123; name: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">let user = as;</span><br><span class="line">user.name = &quot;Ashun&quot;;</span><br><span class="line">console.log(as.name); //Ashun</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡åšä¸ºå‡½æ•°å‚æ•°ä½¿ç”¨æ—¶ä¹Ÿä¸ä¼šäº§ç”Ÿå®Œå…¨èµ‹å€¼ï¼Œä¼ é€’çš„ä¾æ—§æ˜¯å†…å­˜åœ°å€ï¼Œå†…å¤–å…±ç”¨ä¸€ä¸ªå¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123; age: 15 &#125;;</span><br><span class="line">function as(user) &#123;</span><br><span class="line">  user.age += 3;</span><br><span class="line">&#125;</span><br><span class="line">as(user);</span><br><span class="line">console.log(user.age); //18</span><br></pre></td></tr></table></figure>

<p><code>å¼•ç”¨ç±»å‹å˜é‡</code>ä¹‹é—´çš„æ¯”è¾ƒæ˜¯å¯¹<code>å†…å­˜åœ°å€</code>çš„æ¯”è¾ƒæ‰€ä»¥ä½¿ç”¨ <code>==</code> æˆ– <code>===</code> ç»“æœä¸€æ ·ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;&#125;;</span><br><span class="line">let js = as;</span><br><span class="line">let tfn = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">console.log(as == js); //true</span><br><span class="line">console.log(as === js); //true</span><br><span class="line"></span><br><span class="line">console.log(as == tfn); //false</span><br><span class="line">console.log(as === tfn); //false</span><br></pre></td></tr></table></figure>

<h6 id="Object-is-arg1-arg2"><a href="#Object-is-arg1-arg2" class="headerlink" title="Object.is(arg1,arg2)"></a>Object.is(arg1,arg2)</h6><p>è¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­äºŒè€…æ˜¯å¦æ’ç­‰ï¼Œå…¶ä¸­æ³¨æ„çš„æ˜¯ï¼Œ<code>Object.is</code>æ–¹æ³•åœ¨<code>===</code>çš„åŸºç¡€ä¸Šï¼Œåšäº†ä¸€äº›ç‰¹æ®Šæƒ…å†µçš„ä¼˜åŒ–ã€‚å…·ä½“æ¥è¯´å°±æ˜¯+0å’Œ-0ï¼ŒNaNå’ŒNaNã€‚</p>
<p><code>0===-0</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(-0 &#x3D;&#x3D;&#x3D; 0); &#x2F;&#x2F;true</span><br><span class="line">console.log(Object.is(0, -0));&#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>

<p><code>NaN===NaN</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(NaN &#x3D;&#x3D; NaN); &#x2F;&#x2F;false</span><br><span class="line">console.log(NaN &#x3D;&#x3D;&#x3D; NaN); &#x2F;&#x2F;false</span><br><span class="line">console.log(Object.is(NaN, NaN));&#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨å…¨å±€é™æ€æ–¹æ³•<code>isNaN</code>è¿›è¡Œåˆ¤æ–­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a&#x3D; 1 &#x2F; &quot;s&quot;</span><br><span class="line">console.log(isNaN(a)); &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><p><code>this</code> æŒ‡å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼Œå§‹ç»ˆå»ºè®®åœ¨ä»£ç å†…éƒ¨ä½¿ç”¨<code>this</code> è€Œä¸è¦ä½¿ç”¨å¯¹è±¡åï¼Œä¸åŒå¯¹è±¡çš„thisåªæŒ‡å‘å½“å‰å¯¹è±¡ã€‚</p>
<p>ä¸‹ä¾‹æ˜¯ä¸ä½¿ç”¨ <code>this</code> æ—¶å‘ç”Ÿé”™è¯¯çš„åœºæ™¯</p>
<ul>
<li>åˆ é™¤äº†<code>as</code> å˜é‡ï¼Œä½†åœ¨å‡½æ•°ä½“å†…è¿˜åœ¨ä½¿ç”¨<code>as</code>å˜é‡é€ æˆé”™è¯¯</li>
<li>ä½¿ç”¨ <code>this</code> åï¼Œå§‹ç»ˆæŒ‡å‘åˆ°å½“å‰å¼•ç”¨åœ°å€ï¼Œå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	show() &#123;</span><br><span class="line">		return as.name;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">let user = as;</span><br><span class="line">as = null;</span><br><span class="line">console.log(user.show()); //TypeError: Cannot read property &#x27;name&#x27; of null</span><br></pre></td></tr></table></figure>

<p>æ”¹ç”¨<code>this</code> åä¸€åˆ‡æ­£å¸¸</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	show() &#123;</span><br><span class="line">		return this.name;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">let user = as;</span><br><span class="line">as = null;</span><br><span class="line">console.log(user.show());	//é˜¿é¡º</span><br></pre></td></tr></table></figure>



<h4 id="å±•å¼€è¯­æ³•"><a href="#å±•å¼€è¯­æ³•" class="headerlink" title="å±•å¼€è¯­æ³•"></a>å±•å¼€è¯­æ³•</h4><p>ä½¿ç”¨<code>...</code>å¯ä»¥å°†å¯¹è±¡çš„å„ä¸ªå±æ€§å±•å¼€ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function upload(params) &#123;</span><br><span class="line">  let config &#x3D; &#123;</span><br><span class="line">    type: &quot;*.jpeg,*.png&quot;,</span><br><span class="line">    size: 10000</span><br><span class="line">  &#125;;</span><br><span class="line">  params &#x3D; &#123; ...config, ...params &#125;;	&#x2F;&#x2F;ä¼ å‚è¦†ç›–é»˜è®¤å€¼</span><br><span class="line">  console.log(params);</span><br><span class="line">&#125;</span><br><span class="line">upload(&#123; size: 999 &#125;);</span><br></pre></td></tr></table></figure>

<p><code>...</code>ç”¨ä½œæ”¶é›†æ—¶ï¼Œè¿˜æ˜¯ç”¨æ•°ç»„å½¢å¼<code>[]</code>åŒ…è£¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;ashun&quot; &#125;;</span><br><span class="line">function test(...obj) &#123;</span><br><span class="line">		console.log(obj);</span><br><span class="line">&#125;</span><br><span class="line">test(as);	&#x2F;&#x2F;[&#123;â€¦&#125;]</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="å¯¹è±¡è½¬æ¢"><a href="#å¯¹è±¡è½¬æ¢" class="headerlink" title="å¯¹è±¡è½¬æ¢"></a>å¯¹è±¡è½¬æ¢</h3><h5 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h5><p>å¯¹è±¡ç›´æ¥å‚ä¸è®¡ç®—æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®è®¡ç®—çš„åœºæ™¯åœ¨ <code>string/number/default</code> é—´è½¬æ¢ã€‚</p>
<ul>
<li>å¦‚æœå£°æ˜éœ€è¦å­—ç¬¦ä¸²ç±»å‹ï¼Œè°ƒç”¨é¡ºåºä¸º <code>toString &gt; valueOf</code></li>
<li>å¦‚æœåœºæ™¯éœ€è¦æ•°å€¼ç±»å‹ï¼Œè°ƒç”¨é¡ºåºä¸º <code>valueOf &gt; toString</code></li>
<li>å£°æ˜ä¸ç¡®å®šæ—¶ä½¿ç”¨ <code>default</code> ï¼Œå¤§éƒ¨åˆ†å¯¹è±¡çš„ <code>default</code> ä¼šå½“æ•°å€¼ä½¿ç”¨</li>
<li>è‹¥å¯¹è±¡ä¸­åŒæ—¶å®šä¹‰äº†<code>Symbol.toPrimitive</code>æ–¹æ³•ï¼Œåˆ™ä¼šä¼˜å…ˆæ‰§è¡Œå…¶ä¸­å¯¹æ•°æ®ç±»å‹è½¬åŒ–çš„å¤„ç†</li>
</ul>
<p>ä¸‹é¢çš„æ•°å€¼å¯¹è±¡ä¼šåœ¨æ•°å­¦è¿ç®—æ—¶è½¬æ¢ä¸º <code>number</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let ashun = new Number(1);</span><br><span class="line">console.log(ashun + 5); //6</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå‚æ•°å­—ç¬¦ä¸²è¿é•¿æ—¶ä¼šè½¬æ¢ä¸º <code>string</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let ashun = new Number(1);</span><br><span class="line">console.log(ashun + &quot;5&quot;); //15</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å½“ä¸ç¡®å®šè½¬æ¢å£°æ˜æ—¶ä½¿ç”¨ <code>default</code> ï¼Œå¤§éƒ¨åˆ†<code>default</code>è½¬æ¢ä½¿ç”¨ <code>number</code> è½¬æ¢ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let ashun = new Number(1);</span><br><span class="line">console.log(ashun == &quot;1&quot;); //true</span><br></pre></td></tr></table></figure>



<h5 id="Symbol-toPrimitive"><a href="#Symbol-toPrimitive" class="headerlink" title="Symbol.toPrimitive"></a>Symbol.toPrimitive</h5><p>å†…éƒ¨è‡ªå®šä¹‰<code>Symbol.toPrimitive</code>æ–¹æ³•ç”¨æ¥å¤„ç†æ‰€æœ‰çš„è½¬æ¢åœºæ™¯</p>
<p><code>Symbol.toPrimitive</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„ Symbol å€¼ï¼Œå®ƒæ˜¯ä½œä¸ºå¯¹è±¡çš„å‡½æ•°å€¼å±æ€§å­˜åœ¨çš„ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¯¹åº”çš„åŸå§‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123;</span><br><span class="line">	num: 1,</span><br><span class="line">	str: &quot;ashun&quot;,</span><br><span class="line">	[Symbol.toPrimitive]: function (hint) &#123;</span><br><span class="line">		if (hint &#x3D;&#x3D; &quot;number&quot;) return this.num;</span><br><span class="line">		if (hint &#x3D;&#x3D; &quot;string&quot;) return this.str;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(+as); &#x2F;&#x2F;1</span><br><span class="line">console.log(String(as)); &#x2F;&#x2F;ashun</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  num: 1,</span><br><span class="line">  [Symbol.toPrimitive]: function() &#123;</span><br><span class="line">    return this.num;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(as+ 1); //2</span><br><span class="line">console.log(as+&quot;1&quot;)	//11</span><br></pre></td></tr></table></figure>



<h5 id="valueOf-toString"><a href="#valueOf-toString" class="headerlink" title="valueOf/toString"></a>valueOf/toString</h5><p>å¯ä»¥è‡ªå®šä¹‰<code>valueOf</code> ä¸ <code>toString</code> æ–¹æ³•ç”¨æ¥è½¬æ¢ï¼Œè½¬æ¢å¹¶ä¸é™åˆ¶è¿”å›ç±»å‹ã€‚</p>
<p>ä¸‹ä¾‹èƒ½éªŒè¯:</p>
<ul>
<li>å¦‚æœå£°æ˜éœ€è¦å­—ç¬¦ä¸²ç±»å‹ï¼Œè°ƒç”¨é¡ºåºä¸º <code>toString &gt; valueOf</code></li>
<li>å¦‚æœåœºæ™¯éœ€è¦æ•°å€¼ç±»å‹ï¼Œè°ƒç”¨é¡ºåºä¸º <code>valueOf &gt; toString</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = &#123;</span><br><span class="line">  name: &quot;Ashun&quot;,</span><br><span class="line">  num: 1,</span><br><span class="line">  valueOf: function() &#123;</span><br><span class="line">    console.log(&quot;valueOf&quot;);</span><br><span class="line">    return this.num;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString: function() &#123;</span><br><span class="line">    console.log(&quot;toString&quot;);</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(as + 5); //valueOf 4</span><br><span class="line">console.log(`$&#123;as&#125;é˜¿é¡º`); //toString Ashuné˜¿é¡º</span><br></pre></td></tr></table></figure>

<p>è‹¥å¯¹è±¡ä¸­åœ¨å®šä¹‰<code>toString/valueOf</code>æ–¹æ³•çš„åŒæ—¶ï¼Œåˆå®šä¹‰äº†<code>Symbol.toPrimitive</code>æ–¹æ³•ï¼Œåˆ™ä¼šä¼˜å…ˆæ‰§è¡Œå…¶ä¸­å¯¹æ•°æ®ç±»å‹è½¬åŒ–çš„å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123;</span><br><span class="line">  value: 123,</span><br><span class="line">  name: &quot;Ashun&quot;,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    return this.value;</span><br><span class="line">  &#125;,</span><br><span class="line">  [Symbol.toPrimitive]: function (hint) &#123;</span><br><span class="line">    if (hint &#x3D;&#x3D; &quot;string&quot;) return &quot;Ashuntefannao&quot;;</span><br><span class="line">    if (hint &#x3D;&#x3D; &quot;number&quot;) return 7;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(String(obj)); &#x2F;&#x2F;Ashuntefannao</span><br><span class="line">console.log(++obj);   &#x2F;&#x2F;8</span><br></pre></td></tr></table></figure>



<h5 id="ä¸"><a href="#ä¸" class="headerlink" title="==ä¸==="></a><code>==</code>ä¸<code>===</code></h5><p>å¯¹äº==ä¸===ï¼Œæˆ‘ä»¬å·²ç»ä¸é™Œç”Ÿäº†ï¼Œ==åˆ¤å®šçš„æ˜¯ç­‰å¼ä¸¤è¾¹çš„å€¼æ˜¯å¦ç›¸åŒï¼Œä½†===æ˜¯ä¸¥æ ¼ç­‰äºï¼Œä¸ä»…è¦æ±‚å€¼ç›¸ç­‰ï¼Œè¿˜è¦æ»¡è¶³ç±»å‹ç›¸åŒã€‚</p>
<p>ä½†æ˜¯å¯¹äºä½¿ç”¨==åˆ¤æ–­æ—¶ï¼Œå¯¹äºä¸åŒçš„åœºæ™¯ï¼Œä¹Ÿæ¶‰åŠåˆ°äº†ç±»å‹çš„è½¬æ¢</p>
<ul>
<li>ç­‰å¼ä¸¤è¾¹ç±»å‹ç›¸åŒï¼Œå°±æ¯”è¾ƒå€¼çš„å¤§å°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(1 &#x3D;&#x3D; 2) &#x2F;&#x2F;false</span><br><span class="line">console.log(&quot;abc&quot; &#x3D;&#x3D; &quot;abc&quot;) &#x2F;&#x2F;true</span><br></pre></td></tr></table></figure>

<ul>
<li>ç­‰å¼ä¸¤è¾¹ä¸º<code>null</code>|<code>undefined</code>æ—¶ï¼Œè¿”å›<code>true</code><ul>
<li>aaå·²å®šä¹‰ï¼Œä½†æ˜¯æœªèµ‹å€¼ï¼Œä¸º<code>null</code></li>
<li>ç”±äº<code>null==undefined</code>å¾—<code>aa == undefined</code></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let aa;</span><br><span class="line">console.log(aa &#x3D;&#x3D; null);</span><br><span class="line">console.log(aa &#x3D;&#x3D; undefined);</span><br><span class="line">console.log(null &#x3D;&#x3D; undefined);</span><br></pre></td></tr></table></figure>

<ul>
<li>å…¶ä¸­ä¸€æ–¹ä¸ºNumberï¼Œåˆ™ä¼šå…ˆè½¬åŒ–ä¸ºNumberå†æ¯”è¾ƒ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123;</span><br><span class="line">  value: 123,</span><br><span class="line">  name: &quot;Ashun&quot;,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    return this.value;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(obj &#x3D;&#x3D; 123);</span><br><span class="line">console.log(1 &#x3D;&#x3D; true);</span><br><span class="line">console.log(1 &#x3D;&#x3D; &quot;1&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ¤æ–­å…¶ä¸­ä¸€æ–¹æ˜¯å¦æ˜¯Booleanï¼Œæ˜¯çš„è¯å°±æŠŠBooleanè½¬æ¢æˆNumberï¼Œå†è¿›è¡Œæ¯”è¾ƒ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123;</span><br><span class="line">  value: 1,</span><br><span class="line">  name: &quot;Ashun&quot;,</span><br><span class="line">  toString() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    return this.value;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(true &#x3D;&#x3D; obj);</span><br></pre></td></tr></table></figure>

<h6 id="å¦‚ä½•è®©if-a-1-amp-amp-a-2-æ¡ä»¶æˆç«‹ï¼Ÿ"><a href="#å¦‚ä½•è®©if-a-1-amp-amp-a-2-æ¡ä»¶æˆç«‹ï¼Ÿ" class="headerlink" title="å¦‚ä½•è®©if(a == 1 &amp;&amp; a == 2)æ¡ä»¶æˆç«‹ï¼Ÿ"></a>å¦‚ä½•è®©if(a == 1 &amp;&amp; a == 2)æ¡ä»¶æˆç«‹ï¼Ÿ</h6><p>å…¶å®å°±æ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„åº”ç”¨ï¼Œåˆ©ç”¨ç±»å‹è½¬åŒ–çš„è¿‡ç¨‹ï¼Œåœ¨å…¶ä¸­åšæ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let a = &#123;</span><br><span class="line">  num: 1,</span><br><span class="line">  valueOf() &#123;</span><br><span class="line">    return this.num++;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(a == 1 &amp;&amp; a == 2);</span><br></pre></td></tr></table></figure>




<hr>
<h3 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h3><p>è§£æ„æ˜¯ä¸€ç§æ›´ç®€æ´çš„èµ‹å€¼ç‰¹æ€§ï¼Œå¯ä»¥ç†è§£ä¸ºåˆ†è§£ä¸€ä¸ªæ•°æ®çš„ç»“æ„ï¼Œåœ¨æ•°ç»„ç« èŠ‚å·²ç»ä»‹ç»è¿‡ã€‚</p>
<ul>
<li>å»ºè®¾ä½¿ç”¨ <code>var/let/const</code> å£°æ˜</li>
</ul>
<h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>ä¸‹é¢æ˜¯åŸºæœ¬ä½¿ç”¨è¯­æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let info = &#123; name: &quot;é˜¿é¡º&quot;, site: &quot;Ashuntefannao.com&quot; &#125;;</span><br><span class="line">	let &#123; name: n, site: u &#125; = info;</span><br><span class="line">	console.log(n, u); // é˜¿é¡º Ashuntefannao.com</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">//å¦‚æœå±æ€§åä¸å˜é‡ç›¸åŒå¯ä»¥çœç•¥å±æ€§å®šä¹‰`ES6ç®€å†™å½¢å¼`ã€‚</span><br><span class="line">	let info = &#123; name: &quot;é˜¿é¡º&quot;, site: &quot;Ashuntefannao.com&quot; &#125;;</span><br><span class="line">	let &#123; name &#125; = info;</span><br><span class="line">	console.log(name); // é˜¿é¡º</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°è¿”å›å€¼ç›´æ¥è§£æ„åˆ°å˜é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function user(&#123; name, type &#125;) &#123;</span><br><span class="line">	console.log(name, type);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let as = &#123; name: &quot;Ashun&quot;, type: &quot;Controller&quot; &#125;;</span><br><span class="line">user(as);</span><br></pre></td></tr></table></figure>

<p>ç³»ç»Ÿå‡½æ•°è§£æ„ç»ƒä¹ ï¼Œè¿™æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰åªæ˜¯åŠ æ·±è§£æ„å°è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const &#123;random,min,max&#125; =Math;</span><br><span class="line">console.log(random,max);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡èµ‹å€¼å¯¹è±¡å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let name = &quot;é˜¿é¡º&quot;,url = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">//æ ‡å‡†å†™æ³•å¦‚ä¸‹</span><br><span class="line">&#123;</span><br><span class="line">	let as = &#123; name: name, url: url &#125;;</span><br><span class="line">	console.log(as);  //&#123;name: &quot;é˜¿é¡º&quot;, url: &quot;Ashuntefannao.com&quot;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ES6ç®€å†™å½¢å¼</span><br><span class="line">&#123;</span><br><span class="line">	let as = &#123; name, url &#125;;</span><br><span class="line">	console.log(as); //&#123;name: &quot;é˜¿é¡º&quot;, url: &quot;Ashuntefannao.com&quot;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="åµŒå¥—è§£æ„"><a href="#åµŒå¥—è§£æ„" class="headerlink" title="åµŒå¥—è§£æ„"></a>åµŒå¥—è§£æ„</h4><p>å¯ä»¥æ“ä½œå¤šå±‚å¤æ‚æ•°æ®ç»“æ„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &#123;</span><br><span class="line">  name:&#x27;é˜¿é¡º&#x27;,</span><br><span class="line">  lessons:&#123;</span><br><span class="line">    title:&#x27;JS&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">const &#123;name,lessons:&#123;title&#125;&#125;  = as;</span><br><span class="line">console.log(name,title); //é˜¿é¡º JS</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h4><p>éä¸¥æ ¼æ¨¡å¼å¯ä»¥ä¸ä½¿ç”¨å£°æ˜æŒ‡ä»¤ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹å¿…é¡»ä½¿ç”¨å£°æ˜ã€‚æ‰€ä»¥å»ºè®®ä½¿ç”¨ let ç­‰å£°æ˜ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">// &quot;use strict&quot;;</span><br><span class="line">(&#123; name, url &#125; = &#123; name: &quot;é˜¿é¡º&quot;, url: &quot;Ashuntefannao.com&quot; &#125;);</span><br><span class="line">console.log(name, url);</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯å»ºè®®ä½¿ç”¨<code>let</code>ç­‰èµ‹å€¼å£°æ˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">let &#123; name, url &#125; = &#123; name: &quot;é˜¿é¡º&quot;, url: &quot;Ashuntefannao.com&quot; &#125;;</span><br><span class="line">console.log(name, url);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><p>ä¸ºå˜é‡è®¾ç½®é»˜è®¤å€¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let [Name, site = &quot;Ashuntefannao.com&quot;] = [&quot;é˜¿é¡º&quot;];</span><br><span class="line">console.log(site); //Ashuntefannao.com</span><br><span class="line"></span><br><span class="line">let &#123; name, url, type = &quot;Controller&quot; &#125; = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	url: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(type); //Controller</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨é»˜è®¤å€¼ç‰¹æ€§å¯ä»¥æ–¹ä¾¿çš„å¯¹å‚æ•°é¢„è®¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function createElement(options) &#123;</span><br><span class="line">	let &#123;</span><br><span class="line">		name = &quot;div&quot;,</span><br><span class="line">		width = &quot;200px&quot;,</span><br><span class="line">		height = &quot;100px&quot;,</span><br><span class="line">		backgroundColor = &quot;red&quot;,</span><br><span class="line">	&#125; = options;</span><br><span class="line"></span><br><span class="line">	const dom = document.createElement(name);</span><br><span class="line">	dom.style.width = width;</span><br><span class="line">	dom.style.height = height;</span><br><span class="line">	dom.style.backgroundColor = backgroundColor;</span><br><span class="line">	document.body.appendChild(dom);</span><br><span class="line">&#125;</span><br><span class="line">createElement(&#123;</span><br><span class="line">backgroundColor: &quot;green&quot;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä½¿ç”¨<code>å±•å¼€è¯­æ³•</code>æˆ–<code>Object.assign</code>ï¼Œå°†é»˜è®¤objä¸ä¼ å…¥çš„optionsåˆå¹¶ã€‚ï¼ˆ<code>Object.assign</code>åé¢ç« èŠ‚ä¼šè¯¦ç»†ä»‹ç»ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function createElement(options) &#123;</span><br><span class="line">	let preset &#x3D; &#123;</span><br><span class="line">		name: &quot;div&quot;,</span><br><span class="line">		width: &quot;200px&quot;,</span><br><span class="line">		height: &quot;100px&quot;,</span><br><span class="line">		backgroundColor: &quot;red&quot;,</span><br><span class="line">	&#125;;</span><br><span class="line">	preset &#x3D; Object.assign(preset, options);</span><br><span class="line">	&#x2F;&#x2F;preset &#x3D; &#123; ...preset, ...options &#125;;</span><br><span class="line">	const dom &#x3D; document.createElement(preset.name);</span><br><span class="line">	for (const key in preset) &#123;</span><br><span class="line">		key !&#x3D; &quot;name&quot; &amp;&amp; (dom.style[key] &#x3D; preset[key]);</span><br><span class="line">	&#125;</span><br><span class="line">	document.body.appendChild(dom);</span><br><span class="line">&#125;</span><br><span class="line">createElement(&#123;</span><br><span class="line">	backgroundColor: &quot;#16a085&quot;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h4><hr>
<p>æ•°ç»„å‚æ•°çš„ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function as([a, b]) &#123;</span><br><span class="line">	console.log(a, b);</span><br><span class="line">&#125;</span><br><span class="line">as([&#x27;é˜¿é¡º&#x27;, &#x27;SHUN&#x27;]);</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡å‚æ•°ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function getUser(&#123;name,url,type=&#x27;Controller&#x27;&#125;) &#123;</span><br><span class="line">	console.log(name,url,type);</span><br><span class="line">&#125;</span><br><span class="line">getUser(&#123;name:&#x27;é˜¿é¡º&#x27;,url:&#x27;Ashuntefannao.com&#x27;&#125;); //é˜¿é¡º Ashuntefannao.com Controller</span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡è§£æ„ä¼ å‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function user(name, &#123; sex, age &#125; = &#123;&#125;) &#123;</span><br><span class="line">  console.log(name, sex, age); //é˜¿é¡º ç”· 18</span><br><span class="line">&#125;</span><br><span class="line">user(&quot;é˜¿é¡º&quot;, &#123; sex: &quot;ç”·&quot;, age: 18 &#125;);</span><br></pre></td></tr></table></figure>









<h3 id="æ“ä½œå±æ€§"><a href="#æ“ä½œå±æ€§" class="headerlink" title="æ“ä½œå±æ€§"></a>æ“ä½œå±æ€§</h3><h5 id="å±æ€§åç§°"><a href="#å±æ€§åç§°" class="headerlink" title="å±æ€§åç§°"></a>å±æ€§åç§°</h5><p><code>å¯¹è±¡çš„å±æ€§åç±»å‹ä¸º:String</code></p>
<p>å¯¹è±¡çš„å±æ€§åæœ€ç»ˆéƒ½ä¼šè½¬ä¸º<code>å­—ç¬¦ä¸²</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123; 1: &quot;ashun&quot;, &quot;1&quot;: &quot;Ashuntefannao&quot; &#125;;</span><br><span class="line">console.table(obj); //&#123;1:&quot;Ashuntefannao&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å¯¹è±¡åšä¸ºé”®åæ—¶ï¼Œä¹Ÿä¼šå°†å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²åä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123; 1: &quot;ashun&quot;, &quot;1&quot;: &quot;Ashuntefannao&quot; &#125;;</span><br><span class="line"></span><br><span class="line">let as = &#123; [obj]: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">console.table(as);</span><br><span class="line"></span><br><span class="line">console.log(as[obj.toString()]);</span><br><span class="line">console.log(as[&quot;[object Object]&quot;]);</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="æ·»åŠ å±æ€§"><a href="#æ·»åŠ å±æ€§" class="headerlink" title="æ·»åŠ å±æ€§"></a>æ·»åŠ å±æ€§</h5><ul>
<li><code>obj.prop</code></li>
<li><code>obj[prop]</code><ul>
<li>å½“å±æ€§åç§°ï¼šä¸åˆæ³•æ—¶ã€ä¸ºå˜é‡æ—¶ï¼Œå¯é€šè¿‡<code>[prop]</code>è¿›è¡Œè®¾ç½®ã€‚</li>
</ul>
</li>
<li><code>Object.defineProperty(obj,prop,&#123;descâ€¦&#125;)</code><ul>
<li>è®¾ç½®å±æ€§çš„æè¿°ï¼Œè‹¥è¯¥å±æ€§ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ è¯¥å±æ€§åˆ°objä¸Šã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">user.name &#x3D; &quot;Ashun&quot;;</span><br><span class="line">user[&quot;user-type&quot;] &#x3D; &quot;Controller&quot;;</span><br><span class="line">let like &#x3D; &quot;like&quot;;</span><br><span class="line">user[like] &#x3D; &quot;javascript&quot;;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(user, &quot;age&quot;, &#123;</span><br><span class="line">	value: 18,</span><br><span class="line">	writable: true,</span><br><span class="line">	enumerable: true,</span><br><span class="line">	configurable: true,</span><br><span class="line">&#125;);</span><br><span class="line">console.log(user);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#123;name: &quot;Ashun&quot;, user-type: &quot;Controller&quot;, like: &quot;javascript&quot;, age: 18&#125;</span><br></pre></td></tr></table></figure>





<h5 id="åˆ é™¤å±æ€§"><a href="#åˆ é™¤å±æ€§" class="headerlink" title="åˆ é™¤å±æ€§"></a>åˆ é™¤å±æ€§</h5><p><code>delete obj.prop</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">user.name &#x3D; &quot;Ashun&quot;;</span><br><span class="line">user[&quot;user-type&quot;] &#x3D; &quot;Controller&quot;;</span><br><span class="line">let like &#x3D; &quot;like&quot;;</span><br><span class="line">user[like] &#x3D; &quot;javascript&quot;;</span><br><span class="line"></span><br><span class="line">Object.defineProperty(user, &quot;age&quot;, &#123;</span><br><span class="line">	value: 18,</span><br><span class="line">	writable: true,</span><br><span class="line">	enumerable: true,</span><br><span class="line">	configurable: true,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">for (const key of Object.keys(user)) &#123;</span><br><span class="line">		key !&#x3D;&#x3D; &quot;name&quot; &amp;&amp; delete user[key];</span><br><span class="line">&#125;</span><br><span class="line">console.log(user);	&#x2F;&#x2F;&#123;name:&quot;Ashun&quot;&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ä¿®æ”¹å±æ€§"><a href="#ä¿®æ”¹å±æ€§" class="headerlink" title="ä¿®æ”¹å±æ€§"></a>ä¿®æ”¹å±æ€§</h5><ul>
<li>åœ¨è®¿é—®æŸå±æ€§çš„åŒæ—¶ï¼Œèµ‹å€¼å³å¯<ul>
<li><code>obj.prop=value</code></li>
<li><code>obj[prop]=value</code></li>
</ul>
</li>
<li><code>Object.defineProperty(obj,propName,&#123;â€¦desc&#125;)</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let type&#x3D;&quot;type&quot;;</span><br><span class="line">let user &#x3D; &#123;</span><br><span class="line">	name: &quot;defult&quot;,</span><br><span class="line">	age: &quot;18&quot;,</span><br><span class="line">	[type]: &quot;user&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">user.name &#x3D; &quot;Ashun&quot;;</span><br><span class="line">user[type] &#x3D; &quot;Controller&quot;;</span><br><span class="line">console.log(user);	&#x2F;&#x2F;&#123;name: &quot;Ashun&quot;, age: &quot;18&quot;, type: &quot;Controller&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;</span><br><span class="line">	name: &quot;Ashun&quot;,</span><br><span class="line">	age: &quot;18&quot;,</span><br><span class="line">	type: &quot;user&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">Object.defineProperty(user, &quot;type&quot;, &#123;</span><br><span class="line">	value: &quot;Controller&quot;,</span><br><span class="line">	writable: true,</span><br><span class="line">	enumerable: true,</span><br><span class="line">	configurable: true,</span><br><span class="line">&#125;);</span><br><span class="line">console.log(user.type); &#x2F;&#x2F;Controller</span><br></pre></td></tr></table></figure>



<h5 id="æ£€æµ‹å±æ€§"><a href="#æ£€æµ‹å±æ€§" class="headerlink" title="æ£€æµ‹å±æ€§"></a>æ£€æµ‹å±æ€§</h5><h6 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h6><p><code>obj.hasOwnProperty(prop)</code>æ£€æµ‹å¯¹è±¡<code>è‡ªèº«</code>æ˜¯å¦åŒ…å«æŒ‡å®šçš„å±æ€§ï¼Œ<code>ä¸æ£€æµ‹åŸå‹é“¾ä¸Šç»§æ‰¿çš„å±æ€§</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123; name: &#x27;é˜¿é¡º&#x27;&#125;;</span><br><span class="line">console.log(obj.hasOwnProperty(&#x27;name&#x27;)); //true</span><br></pre></td></tr></table></figure>

<p>ä¸æ£€æµ‹åŸå‹é“¾ä¸Šç»§æ‰¿çš„å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	let arr = [&quot;é˜¿é¡º&quot;];</span><br><span class="line">	console.log(arr.hasOwnProperty(&quot;length&quot;)); //true</span><br><span class="line">	console.log(arr.hasOwnProperty(&quot;concat&quot;)); //false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	let Admin=&#123;type:&quot;Controler&quot;&#125;</span><br><span class="line">	let as=&#123;name:&quot;é˜¿é¡º&quot;,age:18&#125;;</span><br><span class="line">	as.__proto__=Admin;</span><br><span class="line">	console.log(as.hasOwnProperty(&quot;age&quot;))//true</span><br><span class="line">	console.log(as.type);	//Controler</span><br><span class="line">	console.log(as.hasOwnProperty(&quot;type&quot;))//false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="in"><a href="#in" class="headerlink" title="in"></a>in</h6><p><code>prop in obj</code> ä½¿ç”¨<code>in</code>å…³é”®å­—ï¼Œèƒ½å¤Ÿåˆ¤æ–­æŸå±æ€§æ˜¯å¦åœ¨obj<code>æœ¬èº«æˆ–åŸå‹é“¾ä¸Š</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot; &#125;;</span><br><span class="line">let site &#x3D; &#123;</span><br><span class="line">	web: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è®¾ç½®siteä¸ºasçš„æ–°åŸå‹</span><br><span class="line">Object.setPrototypeOf(as, site);</span><br><span class="line">&#x2F;&#x2F; as.__proto__ &#x3D; site;</span><br><span class="line">console.dir(as);</span><br><span class="line"></span><br><span class="line">console.log(&quot;name&quot; in as); &#x2F;&#x2F;true</span><br><span class="line">console.log(&quot;web&quot; in as); &#x2F;&#x2F;true</span><br><span class="line">console.log(as.hasOwnProperty(&quot;web&quot;)); &#x2F;&#x2F;false</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="è·å–å±æ€§å"><a href="#è·å–å±æ€§å" class="headerlink" title="è·å–å±æ€§å"></a>è·å–å±æ€§å</h5><h6 id="è·å–æ™®é€šå±æ€§"><a href="#è·å–æ™®é€šå±æ€§" class="headerlink" title="è·å–æ™®é€šå±æ€§"></a>è·å–æ™®é€šå±æ€§</h6><p>ä»¥ä¸‹æ–¹å¼åªèƒ½å¤Ÿè·å–æ™®é€šå±æ€§ï¼Œä¸èƒ½å¤Ÿè·å–å±æ€§åä¸ºSymbolç±»å‹çš„å±æ€§ã€‚</p>
<ul>
<li><code>for/in</code></li>
<li><code>Object.getOwnPropertyNames(obj)</code></li>
<li><code>Object.keys(obj)</code></li>
</ul>
<p>ä½¿ç”¨<code>Objectçš„é™æ€æ–¹æ³•</code>æˆ–<code>Reflect</code>è·å¾—çš„å±æ€§åç§°ï¼Œéƒ½æ˜¯æŸ<strong>objæœ¬èº«çš„prop</strong>ï¼Œå¦‚æœä½¿ç”¨<code>for/in</code>ä¼šéå†åˆ°<code>åŸå‹ä¸Š</code>çš„æ™®é€šå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let Admin &#x3D; &#123; type: &quot;Controller&quot; ,[Symbol(&quot;Admin&quot;)]: &quot;Admin&quot;&#125;;</span><br><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol(&quot;as&quot;)]: &quot;ashun&quot; &#125;;</span><br><span class="line">Object.setPrototypeOf(as, Admin);</span><br><span class="line"></span><br><span class="line">for (const key in as) console.log(key);	&#x2F;&#x2F;name age type</span><br><span class="line"></span><br><span class="line">console.log(Object.getOwnPropertyNames(as));		 	&#x2F;&#x2F;[&quot;name&quot;,&quot;age&quot;]</span><br><span class="line">console.log(Object.keys(as));										 	&#x2F;&#x2F;[&quot;name&quot;,&quot;age&quot;]</span><br><span class="line">console.log(Object.getOwnPropertySymbols(as));		&#x2F;&#x2F;[Symbol(as)]</span><br><span class="line">console.log(Reflect.ownKeys(as));									&#x2F;&#x2F;[&quot;name&quot;, &quot;age&quot;, Symbol(as)]</span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘ä»¬ä½¿ç”¨ES6çš„<code>class</code>å£°æ˜æ„é€ å‡½æ•°æ—¶ï¼Œå°±ä¸ç”¨è€ƒè™‘<code>for/in</code>å¾ªç¯éå†åŸå‹å±æ€§çš„é—®é¢˜äº†</p>
<ul>
<li>å†…éƒ¨é»˜è®¤ä¸¥æ ¼æ¨¡å¼</li>
<li>classå£°æ˜çš„æ–¹æ³•è‡ªåŠ¨æ·»åŠ åˆ°åŸå‹é“¾ï¼Œä¸”è‡ªåŠ¨è®¾ç½®å„ä¸ªæ–¹æ³•çš„å±æ€§ç‰¹å¾æè¿°ä¸º<code>enumerable:false</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">          constructor(options) &#123;</span><br><span class="line">            for (let [key, val] of Object.entries(options)) &#123;</span><br><span class="line">              this[key] &#x3D; val;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          show() &#123;</span><br><span class="line">            return this.name;</span><br><span class="line">          &#125;</span><br><span class="line"> 				&#125;</span><br><span class="line">let p1 &#x3D; new Person(&#123; name: &quot;Ashun&quot;, age: 18, type: &quot;Controller&quot; &#125;);</span><br><span class="line">console.log(Object.keys(p1)); [&quot;name&quot;,&quot;age&quot;,&quot;type&quot;]</span><br><span class="line">for (let key in p1) &#123;</span><br><span class="line">	console.log(key);		&#x2F;&#x2F;name,age,type	è€Œæ²¡æœ‰show</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h6 id="è·å–Symbol"><a href="#è·å–Symbol" class="headerlink" title="è·å–Symbol"></a>è·å–Symbol</h6><ul>
<li><code>getOwnPropertySymbols</code> è¯¥æ–¹æ³•<code>åªè¿”å›</code>å±æ€§åç§°ç±»å‹ä¸ºSymbolçš„å±æ€§åã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol()]: &quot;ashun&quot; &#125;;</span><br><span class="line">console.log(Object.getOwnPropertySymbols(as)); &#x2F;&#x2F;[Symbol()]</span><br></pre></td></tr></table></figure>



<hr>
<h6 id="è·å–æ‰€æœ‰å±æ€§"><a href="#è·å–æ‰€æœ‰å±æ€§" class="headerlink" title="è·å–æ‰€æœ‰å±æ€§"></a>è·å–æ‰€æœ‰å±æ€§</h6><ul>
<li><code>Reflect.ownKeys</code>ï¼Œè¯¥æ–¹æ³•èƒ½å¤Ÿè¿”å›æ‰€æœ‰ç±»å‹çš„å±æ€§åï¼ŒåŒ…æ‹¬Symbolã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol()]: &quot;ashun&quot; &#125;;</span><br><span class="line">console.log(Reflect.ownKeys(as));	&#x2F;&#x2F;[&quot;name&quot;, &quot;age&quot;, Symbol()]</span><br></pre></td></tr></table></figure>



<h5 id="è·å–å±æ€§å€¼"><a href="#è·å–å±æ€§å€¼" class="headerlink" title="è·å–å±æ€§å€¼"></a>è·å–å±æ€§å€¼</h5><h6 id="æ™®é€šè®¿é—®"><a href="#æ™®é€šè®¿é—®" class="headerlink" title="æ™®é€šè®¿é—®"></a>æ™®é€šè®¿é—®</h6><ul>
<li><code>obj.prop</code></li>
<li><code>obj[prop]</code></li>
</ul>
<h6 id="æŸ¥çœ‹æè¿°"><a href="#æŸ¥çœ‹æè¿°" class="headerlink" title="æŸ¥çœ‹æè¿°"></a>æŸ¥çœ‹æè¿°</h6><ul>
<li><code>Object.getOwnPropertyDescriptors(obj)</code></li>
<li><code>Object.getOwnPropertyDescriptor(obj,&quot;propName&quot;)</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let Admin &#x3D; &#123; type: &quot;Controller&quot;, [Symbol(&quot;Admin&quot;)]: &quot;Admin&quot; &#125;;</span><br><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol(&quot;as&quot;)]: &quot;ashun&quot; &#125;;</span><br><span class="line">Object.setPrototypeOf(as, Admin);</span><br><span class="line"></span><br><span class="line">console.log(as.type); &#x2F;&#x2F;Controller</span><br><span class="line">console.log(as[&quot;age&quot;]); &#x2F;&#x2F;18</span><br><span class="line"></span><br><span class="line">console.log(Object.getOwnPropertyDescriptor(as, &quot;name&quot;));</span><br><span class="line">&#x2F;&#x2F;&#123;value: &quot;é˜¿é¡º&quot;, writable: true, enumerable: true, configurable: true&#125;</span><br><span class="line">console.log(Object.getOwnPropertyDescriptors(as));</span><br><span class="line">&#x2F;&#x2F;&#123;name: &#123;â€¦&#125;, age: &#123;â€¦&#125;, Symbol(as): &#123;â€¦&#125;&#125;</span><br></pre></td></tr></table></figure>



<h5 id="assign"><a href="#assign" class="headerlink" title="assign"></a>assign</h5><p>ä½¿ç”¨ <code>Object.assign()</code> é™æ€æ–¹æ³•ï¼Œèƒ½å¤Ÿå°†å¤šä¸ªObjectçš„å±æ€§å€¼è¿›è¡Œåˆå¹¶ã€‚å½“propçš„å€¼ä¸ºéå¼•ç”¨ç±»å‹æ—¶ï¼Œå¯ä»¥ç”¨æ¥åšæ·±æ‹·è´ã€‚</p>
<p>ä»ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡å¤åˆ¶å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line"></span><br><span class="line">let as = &#123; a: 1, b: 2 &#125;;</span><br><span class="line">as = Object.assign(as, &#123; a: 3 &#125;, &#123; m: 9 &#125;);</span><br><span class="line">console.log(as); 	//&#123;a: 3, b: 2, m: 9&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è®©ä¼ é€’çš„å‚æ•°è¦†ç›–é»˜è®¤å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function test(options) &#123;</span><br><span class="line">		let preset &#x3D; &#123;</span><br><span class="line">			name: &quot;default&quot;,</span><br><span class="line">			age: 18,</span><br><span class="line">			type: &quot;user&quot;,</span><br><span class="line">		&#125;;</span><br><span class="line">		return (preset &#x3D; Object.assign(preset, options));</span><br><span class="line">&#125;</span><br><span class="line">console.log(test(&#123; name: &quot;Ashun&quot;, type: &quot;Controller&quot; &#125;));</span><br><span class="line">&#x2F;&#x2F;&#123;name: &quot;Ashun&quot;, age: 18, type: &quot;Controller&quot;&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ä¼ å€æ“ä½œ"><a href="#ä¼ å€æ“ä½œ" class="headerlink" title="ä¼ å€æ“ä½œ"></a>ä¼ å€æ“ä½œ</h5><p>å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹èµ‹å€¼æ˜¯ä¼ å€æ“ä½œï¼Œåé¢ä¼šä»‹ç»å¯¹è±¡çš„æ·±ã€æµ…æ‹·è´æ“ä½œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123;</span><br><span class="line">	name: &#x27;é˜¿é¡º&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">let as = &#123;</span><br><span class="line">	stu: user</span><br><span class="line">&#125;;</span><br><span class="line">as.stu.name = &#x27;Ashun&#x27;;</span><br><span class="line">console.log(user.name);//Ashun</span><br></pre></td></tr></table></figure>



<h5 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h5><p>å¯¹è±¡å±æ€§å¯ä»¥é€šè¿‡<code>è¡¨è¾¾å¼è®¡ç®—</code>å®šä¹‰ï¼Œè¿™åœ¨åŠ¨æ€è®¾ç½®å±æ€§æˆ–æ‰§è¡Œå±æ€§æ–¹æ³•æ—¶å¾ˆå¥½ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let id = 0;</span><br><span class="line">const user = &#123;</span><br><span class="line">  [`id-$&#123;id++&#125;`]: id,</span><br><span class="line">  [`id-$&#123;id++&#125;`]: id,</span><br><span class="line">  [`id-$&#123;id++&#125;`]: id</span><br><span class="line">&#125;;</span><br><span class="line">console.log(user);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è®¡ç®—å±æ€§ä¸ºæ–‡ç« å®šä¹‰é”®å</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const lessons = [</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&quot;,</span><br><span class="line">    category: &quot;css&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;FLEX å¼¹æ€§ç›’æ¨¡å‹&quot;,</span><br><span class="line">    category: &quot;css&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: &quot;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&quot;,</span><br><span class="line">    category: &quot;mysql&quot;</span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line">let lessonObj = lessons.reduce((obj, cur, index) =&gt; &#123;</span><br><span class="line">  obj[`$&#123;cur[&quot;category&quot;]&#125;-$&#123;index&#125;`] = cur;</span><br><span class="line">  return obj;</span><br><span class="line">&#125;, &#123;&#125;);</span><br><span class="line">console.log(lessonObj); //&#123;css-0: &#123;â€¦&#125;, css-1: &#123;â€¦&#125;, mysql-2: &#123;â€¦&#125;&#125;</span><br><span class="line">console.log(lessonObj[&quot;css-1&quot;]); //&#123;title: &quot;FLEX å¼¹æ€§ç›’æ¨¡å‹&quot;, category: &quot;css&quot;&#125;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="éå†å¯¹è±¡"><a href="#éå†å¯¹è±¡" class="headerlink" title="éå†å¯¹è±¡"></a>éå†å¯¹è±¡</h3><h4 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h4><p>å¯ä»¥ä½¿ç”¨ç³»ç»Ÿæä¾›çš„è¿­ä»£å™¨APIï¼Œè¿­ä»£éå†Objectã€‚</p>
<p>è¿™äº›æ–¹æ³•ï¼Œåªèƒ½å¤Ÿå¾—åˆ°ï¼š<strong>å¯¹è±¡æœ¬èº«çš„ã€å¯æšä¸¾çš„å±æ€§</strong></p>
<ul>
<li><code>Object.keys(obj)</code></li>
<li><code>Object.values(obj)</code></li>
<li><code>Object.entries(obj)</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol(&quot;as&quot;)]: &quot;ashun&quot; &#125;;</span><br><span class="line">console.log(Object.keys(as));			&#x2F;&#x2F;[&quot;name&quot;, &quot;age&quot;]</span><br><span class="line">console.log(Object.values(as));		&#x2F;&#x2F;[&quot;é˜¿é¡º&quot;, 18]</span><br><span class="line">console.log(Object.entries(as));	&#x2F;&#x2F;[[&quot;name&quot;,&quot;é˜¿é¡º&quot;], [&quot;age&quot;,18]]</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¾ªç¯éå†"><a href="#å¾ªç¯éå†" class="headerlink" title="å¾ªç¯éå†"></a>å¾ªç¯éå†</h4><p>ä¹‹å‰å·²ç»æ¥è§¦è¿‡äº†Objectçš„å¾ªç¯éå†ã€‚</p>
<ul>
<li>å¯ä½¿ç”¨<code>for/in</code>éå†Keys (ä½†ä¼šéå†åˆ°åŸå‹ä¸Šçš„å±æ€§)</li>
<li>ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>for/of</code>éå†Object<ul>
<li>ç”±äºç³»ç»Ÿå†…éƒ¨æ²¡æœ‰ä¸ºObjectæä¾›<code>for/of</code>éå†çš„æ¥å£ (Objectä¸å¯è¿­ä»£)ï¼ˆéå†Objectçš„å±æ€§å€¼ï¼Œåº”è¯¥ç”±ç”¨æˆ·å†³å®šï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½å¤Ÿç›´æ¥ä½¿ç”¨<code>for/of</code>éå†ã€‚</li>
<li>ä½†æ˜¯<code>for/of</code>å¯ä»¥ç»“åˆè¿­ä»£å™¨ï¼Œå¯¹Objectè¿›è¡Œéå†ã€‚ï¼ˆå†…ç½®è¿­ä»£æ–¹æ³•ï¼Œè¿”å›çš„æ˜¯å¯è¿­ä»£æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨<code>for/of</code>è¿›è¡Œéå†ï¼‰</li>
</ul>
</li>
</ul>
<h5 id="for-in"><a href="#for-in" class="headerlink" title="for/in"></a>for/in</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol(&quot;as&quot;)]: &quot;ashun&quot; &#125;;</span><br><span class="line">for (const key in as) &#123;</span><br><span class="line">	console.log(key,as[key]);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; name ashun</span><br><span class="line">&#x2F;&#x2F;age 18</span><br></pre></td></tr></table></figure>



<h5 id="for-of"><a href="#for-of" class="headerlink" title="for/of"></a>for/of</h5><p>ç»“åˆ<code>Object.keys()</code>éå†å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let as &#x3D; &#123; name: &quot;é˜¿é¡º&quot;, age: 18, [Symbol(&quot;as&quot;)]: &quot;ashun&quot; &#125;;</span><br><span class="line">for (const key of Object.keys(as)) &#123;</span><br><span class="line">	console.log(key, as[key]);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;name é˜¿é¡º</span><br><span class="line">&#x2F;&#x2F;age 18</span><br></pre></td></tr></table></figure>

<p>ç»“åˆ<code>Object.values()</code>éå†å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">for (const val of Object.values(as)) &#123;</span><br><span class="line">  console.log(val);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;é˜¿é¡º 18</span><br></pre></td></tr></table></figure>

<p>ç»“åˆ<code>Object.entries()</code>åŒæ—¶è·å–keyã€value</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">for (const [key, val] of Object.entries(as)) &#123;</span><br><span class="line">	console.log(key, val);</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;name é˜¿é¡º</span><br><span class="line">&#x2F;&#x2F;age 18</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å…ƒç´ DOMç»ƒä¹ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let lessons = [</span><br><span class="line">  &#123; name: &quot;js&quot;, click: 23 &#125;,</span><br><span class="line">  &#123; name: &quot;node&quot;, click: 192 &#125;</span><br><span class="line">];</span><br><span class="line">let ul = document.createElement(&quot;ul&quot;);</span><br><span class="line">for (const val of lessons) &#123;</span><br><span class="line">  let li = document.createElement(&quot;li&quot;);</span><br><span class="line">  li.innerHTML = `è¯¾ç¨‹:$&#123;val.name&#125;,ç‚¹å‡»æ•°:$&#123;val.click&#125;`;</span><br><span class="line">  ul.appendChild(li);</span><br><span class="line">&#125;</span><br><span class="line">document.body.appendChild(ul);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="æ‹·è´å¯¹è±¡"><a href="#æ‹·è´å¯¹è±¡" class="headerlink" title="æ‹·è´å¯¹è±¡"></a>æ‹·è´å¯¹è±¡</h3><ul>
<li><p>æ·±æµ…æ‹·è´ä¸€èˆ¬åªè€ƒè™‘å¼•ç”¨ç±»å‹ï¼Œå› ä¸ºå¼•ç”¨ç±»å‹æœ‰ä¼ å€çš„æ¦‚å¿µã€‚</p>
<ul>
<li>æµ…æ‹·è´ï¼šç›´æ¥èµ‹å€¼ï¼Œèµ‹äºˆçš„æ˜¯å¼•ç”¨ç±»å‹çš„åœ°å€ï¼Œæ–°æ—§å˜é‡å¼•ç”¨åŒä¸€ä¸ªå†…å­˜ç©ºé—´</li>
<li>æ·±æ‹·è´ï¼šé€šè¿‡ä¸€äº›æ“ä½œï¼Œè®©æ–°å˜é‡åªæ˜¯copyå¼•ç”¨ç±»å‹æ•°æ®çš„å€¼ï¼Œè€Œä¸æ˜¯åœ°å€ï¼Œæ·±æ‹·è´è¿‡åï¼Œæ–°æ—§å˜é‡åªæ˜¯å†…å®¹ç›¸åŒï¼Œå†…å­˜åœ°å€ä¸åŒã€‚</li>
</ul>
</li>
<li><p>éå¼•ç”¨ç±»å‹çš„èµ‹å€¼ã€åˆå¹¶æ“ä½œéƒ½æ˜¯æ·±æ‹·è´ï¼Œå› ä¸ºéå¼•ç”¨ç±»å‹æ˜¯ä¼ å€¼ã€‚</p>
</li>
</ul>
<h4 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h4><p>ç®€å•çš„èµ‹å€¼ã€åˆå¹¶éƒ½æ˜¯æµ…æ‹·è´ã€‚</p>
<ul>
<li>éå†èµ‹å€¼</li>
<li><code>Object.assign()</code></li>
<li>å±•å¼€è¯­æ³•<code>...</code></li>
</ul>
<p>ä½¿ç”¨<code>for/in</code>æ‰§è¡Œå¯¹è±¡æµ…æ‹·è´</p>
<ul>
<li>obj.userä¸ºå¼•ç”¨ç±»å‹ï¼Œç›´æ¥èµ‹å€¼ä¼ å€</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let obj &#x3D; &#123; user: &#123; name: &quot;ASHUN&quot; &#125; &#125;;</span><br><span class="line"></span><br><span class="line">let as &#x3D; &#123;&#125;;</span><br><span class="line">for (const key in obj) &#123;</span><br><span class="line">	as[key] &#x3D; obj[key];  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">as.user.name &#x3D; &quot;shun&quot;;</span><br><span class="line">console.log(obj.user.name); &#x2F;&#x2F;shun</span><br></pre></td></tr></table></figure>



<p><code>Object.assign</code> å‡½æ•°å¯ç®€å•çš„å®ç°æµ…æ‹·è´ï¼Œå®ƒæ˜¯å°†ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å±æ€§å åŠ åï¼Œè¿½åŠ åˆ°å‰é¢çš„å¯¹è±¡ä¸­ï¼Œåé¢çš„å¯¹è±¡å±æ€§ä¼šè¦†ç›–å‰é¢å¯¹è±¡çš„åŒåå±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123; user: &#123; name: &quot;Ashun&quot; , type: &quot;Controller&quot;&#125; &#125;;</span><br><span class="line">let b &#x3D; &#123; user: &#123; name: &quot;SHUN&quot; &#125; &#125;;</span><br><span class="line">let c &#x3D; &#123; user: &#123; name: &quot;shun&quot; &#125; &#125;;</span><br><span class="line"></span><br><span class="line">Object.assign(a, b, c);</span><br><span class="line">console.log(a); 	&#x2F;&#x2F;&#123;user:&#123;name: &quot;shun&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">let newobj &#x3D; &#123;&#125;;</span><br><span class="line">newobj[&quot;user&quot;] &#x3D; Object.assign(a.user, b.user, c.user);</span><br><span class="line">console.log(newobj.user);	&#x2F;&#x2F;&#123;name: &quot;shun&quot;, type: &quot;Controller&quot;&#125;</span><br><span class="line">newobj.user.name &#x3D; &quot;SHUN&quot;;</span><br><span class="line">console.log(a.user.name); &#x2F;&#x2F; SHUN</span><br></pre></td></tr></table></figure>

<p>éå¼•ç”¨ç±»å‹æ·±æ‹·è´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">let as &#x3D; &#123;</span><br><span class="line">	stu: Object.assign(&#123;&#125;, user),</span><br><span class="line">&#125;;</span><br><span class="line">as.stu.name &#x3D; &quot;Ashun&quot;;</span><br><span class="line">console.log(user.name); &#x2F;&#x2F;é˜¿é¡º</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨å±•ç¤ºè¯­æ³•<code>...</code>ä¹Ÿå¯ä»¥å®ç°æµ…æ‹·è´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let a &#x3D; &#123; user: &#123; name: &quot;Ashun&quot;, type: &quot;Controller&quot; &#125; &#125;;</span><br><span class="line">let b &#x3D; &#123; user: &#123; name: &quot;SHUN&quot; &#125; &#125;;</span><br><span class="line">let c &#x3D; &#123; user: &#123; name: &quot;shun&quot; &#125; &#125;;</span><br><span class="line"></span><br><span class="line">a &#x3D; &#123; ...a, ...b, ...c &#125;;</span><br><span class="line">console.log(a); &#x2F;&#x2F;&#123;user:&#123;name: &quot;shun&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>éå¼•ç”¨ç±»å‹ä¸ºæ·±æ‹·è´ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">let as = &#123; ...obj &#125;;</span><br><span class="line">as.name = &quot;ashun&quot;;</span><br><span class="line"></span><br><span class="line">console.log(obj.name); //é˜¿é¡º</span><br></pre></td></tr></table></figure>





<hr>
<h4 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h4><p><strong>æ·±æ‹·è´</strong>æ˜¯å®Œå…¨çš„å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯å®Œå…¨ç‹¬ç«‹çš„å¯¹è±¡ï¼Œæ–°æ—§å¯¹è±¡ä»…ä»…æ˜¯å†…å®¹ç›¸åŒï¼Œä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€ä¸åŒã€‚</p>
<p>æ·±æ‹·è´æ–¹å¼ï¼š</p>
<ul>
<li>é€’å½’æ·±å…¥å±‚çº§ï¼Œè¿›è¡Œæ•°æ®æ·±æ‹·è´</li>
<li><code>JSON.parse(JSON.stringify(obj))</code><ul>
<li>è¯¥æ–¹å¼ç¼ºç‚¹: ä¸èƒ½æ‹·è´objä¸­çš„methodã€å±æ€§å€¼ä¸ºundefinedçš„å±æ€§ã€‚</li>
</ul>
</li>
</ul>
<p>æµ…æ‹·è´ä¸ä¼šå°†æ·±å±‚çš„éå¼•ç”¨ç±»å‹æ•°æ®å¤åˆ¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	user: &#123;</span><br><span class="line">		name: &quot;SHUN&quot;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function copy(object) &#123;</span><br><span class="line">	let obj = &#123;&#125;;</span><br><span class="line">	for (const key in object) &#123;</span><br><span class="line">		obj[key] = object[key];</span><br><span class="line">	&#125;</span><br><span class="line">	return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let newObj = copy(obj);</span><br><span class="line">newObj.user.name = &quot;Ashuntefannao.com&quot;;</span><br><span class="line">console.log(obj.user.name);//Ashuntefannao.com</span><br></pre></td></tr></table></figure>



<p><strong>é€’å½’æ·±å…¥å±‚çº§ï¼Œè¿›è¡Œæ•°æ®çš„æ·±æ‹·è´</strong>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function copy(obj) &#123;</span><br><span class="line">	let newObj &#x3D; obj instanceof Array ? [] : &#123;&#125;;</span><br><span class="line">	for (const key in obj) &#123;</span><br><span class="line">		newObj[key] &#x3D; typeof obj[key] &#x3D;&#x3D; &quot;object&quot; ? copy(obj[key]) : obj;</span><br><span class="line">	&#125;</span><br><span class="line">	return newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let obj &#x3D; &#123; </span><br><span class="line">	user: &#123; name: &quot;Ashun&quot;, Array: [1, 2, 3] &#125;,</span><br><span class="line">  test() &#123;&#125;,</span><br><span class="line">  type:undefined </span><br><span class="line">&#125;;</span><br><span class="line">let newobj &#x3D; copy(obj);</span><br><span class="line">newobj.user.name &#x3D; &quot;ASHUN&quot;;</span><br><span class="line">newobj.user.Array &#x3D; &#123;&#125;;</span><br><span class="line">newobj.test &#x3D; &#123;&#125;;</span><br><span class="line">console.log(obj);</span><br><span class="line">console.log(newobj);</span><br></pre></td></tr></table></figure>

<p><strong><code>JSON.parse(JSON.stringify(obj))</code></strong></p>
<ul>
<li>ä¸èƒ½æ‹·è´method</li>
<li>ä¸èƒ½æ‹·è´å±æ€§å€¼ä¸ºundefinedçš„å±æ€§ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function copy(obj) &#123;</span><br><span class="line">	return JSON.parse(JSON.stringify(obj));</span><br><span class="line">&#125;</span><br><span class="line">let obj &#x3D; &#123; </span><br><span class="line">	user: &#123; name: &quot;Ashun&quot;, Array: [1, 2, 3] &#125;,</span><br><span class="line">  test() &#123;&#125;,</span><br><span class="line">  type:undefined </span><br><span class="line">&#125;;</span><br><span class="line">let newobj &#x3D; copy(obj);</span><br><span class="line">newobj.user.name &#x3D; &quot;SHUN&quot;;</span><br><span class="line">newobj.user.Array &#x3D; &#123;&#125;;</span><br><span class="line">console.log(obj);</span><br><span class="line">console.log(newobj);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="æ„å»ºå‡½æ•°"><a href="#æ„å»ºå‡½æ•°" class="headerlink" title="æ„å»ºå‡½æ•°"></a>æ„å»ºå‡½æ•°</h3><p>å¯¹è±¡å¯ä»¥é€šè¿‡<code>è‡ªå®šä¹‰å·¥å‚å‡½æ•°</code>å’Œ<code>å†…ç½®æ„é€ å‡½æ•°</code>æˆ–<code>è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°</code>åˆ›å»ºã€‚</p>
<h4 id="å·¥å‚å‡½æ•°"><a href="#å·¥å‚å‡½æ•°" class="headerlink" title="å·¥å‚å‡½æ•°"></a>å·¥å‚å‡½æ•°</h4><p>åœ¨å‡½æ•°ä¸­<code>è¿”å›å¯¹è±¡</code>çš„å‡½æ•°ç§°ä¸ºå·¥å‚å‡½æ•°ï¼Œå·¥å‚å‡½æ•°æœ‰ä»¥ä¸‹ä¼˜ç‚¹</p>
<ul>
<li>å‡å°‘é‡å¤åˆ›å»ºç›¸åŒç±»å‹å¯¹è±¡çš„ä»£ç </li>
<li>ä¿®æ”¹å·¥å‚å‡½æ•°çš„æ–¹æ³•å½±å“æ‰€æœ‰åŒç±»å¯¹è±¡</li>
</ul>
<p>ä½¿ç”¨å­—é¢é‡åˆ›å»ºå¯¹è±¡éœ€è¦å¤åˆ¶å±æ€§ä¸æ–¹æ³•ç»“æ„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const as = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">const shun = &#123;</span><br><span class="line">  name: &quot;SHUN&quot;,</span><br><span class="line">  show() &#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å·¥å‚å‡½æ•°å¯ä»¥ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function stu(name) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    name,</span><br><span class="line">    show() &#123;</span><br><span class="line">      console.log(this.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">const as = stu(&quot;é˜¿é¡º&quot;);</span><br><span class="line">as.show();</span><br><span class="line">const shun = stu(&quot;SHUN&quot;);</span><br><span class="line">shun.show();</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>å’Œå·¥å‚å‡½æ•°ç›¸ä¼¼æ„é€ å‡½æ•°ä¹Ÿç”¨äº<code>åˆ›å»ºå¯¹è±¡</code>ï¼Œå®ƒçš„ä¸Šä¸‹æ–‡ä¸ºæ–°çš„å¯¹è±¡å®ä¾‹ã€‚</p>
<ul>
<li>å‘½åè§„èŒƒï¼šæ„é€ å‡½æ•°åæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™å³<code>Pascal</code> </li>
<li><code>this</code>æŒ‡å½“å‰åˆ›å»ºçš„å¯¹è±¡</li>
<li>ä¸éœ€è¦è¿”å›<code>this</code>ç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆ</li>
<li>éœ€è¦ä½¿ç”¨<code>new</code>å…³é”®è¯ç”Ÿæˆå¯¹è±¡</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function Student(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.show = function() &#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;;</span><br><span class="line">  //ä¸éœ€è¦è¿”å›ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿”å›</span><br><span class="line">  // return this;</span><br><span class="line">&#125;</span><br><span class="line">const ashun = new Student(&quot;é˜¿é¡º&quot;);</span><br><span class="line">ashun.show();</span><br><span class="line">const shun = new Student(&quot;SHUN&quot;);</span><br><span class="line">shun.show();</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ„é€ å‡½æ•°è¿”å›å¯¹è±¡ï¼Œé€šè¿‡newæ„é€ å‡½æ•°å®ä¾‹åŒ–åçš„å¯¹è±¡å°±æ˜¯è¿”å›çš„å¯¹è±¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function ArrayObject(...values) &#123;</span><br><span class="line">  const arr = new Array();</span><br><span class="line">  arr.push.apply(arr, values);</span><br><span class="line">  arr.string = function(sym = &quot;|&quot;) &#123;</span><br><span class="line">    return this.join(sym);</span><br><span class="line">  &#125;;</span><br><span class="line">  return arr;</span><br><span class="line">&#125;</span><br><span class="line">const array = new ArrayObject(1, 2, 3);</span><br><span class="line">console.log(array);</span><br><span class="line">console.log(array.string(&quot;-&quot;));</span><br></pre></td></tr></table></figure>

<h5 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h5><p>æ„é€ å‡½æ•°ä¸­çš„<code>this</code>é»˜è®¤æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç„¶åæ„é€ å‡½æ•°å¤„ç†åæŠŠè¿™ä¸ªç©ºå¯¹è±¡å˜å¾—æœ‰å€¼ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;é˜¿é¡º&quot;);</span><br></pre></td></tr></table></figure>

<p>æ„é€ å‡½æ•°çš„å®ä¾‹åŒ–è¿‡ç¨‹ï¼Œç›¸å½“äºåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶ä¸ºå…¶èµ‹äºˆå±æ€§ã€‚ç„¶åå†éšå¼è®¾ç½®è¿™ä¸ªå¯¹è±¡çš„åŸå‹ã€‚</p>
<p>å¯ä»¥æ”¹å˜æ„é€ å‡½æ•°ä¸­çš„ç©ºå¯¹è±¡ï¼Œå³è®©æ„é€ å‡½æ•°thisæŒ‡å‘åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚å†ä¸ºè¿™ä¸ªå¯¹è±¡è®¾ç½®åŸå‹å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User(name) &#123;</span><br><span class="line">	this.name &#x3D; name;</span><br><span class="line">&#125;</span><br><span class="line">let obj &#x3D; &#123;&#125;;</span><br><span class="line">User.call(obj, &quot;é˜¿é¡º&quot;);</span><br><span class="line">Object.setPrototypeOf(obj,User.prototype)</span><br><span class="line">console.log(obj);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ä¸¥æ ¼æ¨¡å¼-1"><a href="#ä¸¥æ ¼æ¨¡å¼-1" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h4><p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹<code>ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°</code>ä¸­çš„<code>this</code>å€¼ä¸ºundefinedï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢æ— æ„çš„ä¿®æ”¹windowå¯¹è±¡</p>
<p>æ³¨æ„: </p>
<ul>
<li>è¿™é‡Œè€ƒè™‘çš„thisï¼Œæ˜¯æ„é€ å‡½æ•°ç”Ÿæˆå¯¹è±¡çš„<code>æ–¹æ³•ä¸­å‡ºç°çš„this</code>ã€‚(ä¸‹ä¾‹ä¸­çš„showæ–¹æ³•)</li>
<li>ä¸æ˜¯è€ƒè™‘æ„é€ å‡½æ•°ä¸­çš„thisï¼Œå› ä¸ºæ„é€ å‡½æ•°è™½ç„¶ä¹Ÿæ˜¯ç‹¬ç«‹å­˜åœ¨çš„å‡½æ•°ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨<code>new</code>å®ä¾‹åŒ–åï¼Œå…¶ä¸­çš„thisä¼šè‡ªåŠ¨æŒ‡å‘å½“å‰çš„å®ä¾‹ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">function User() &#123;</span><br><span class="line">  this.show = function() &#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User();</span><br><span class="line">as.show(); //User</span><br><span class="line"></span><br><span class="line">let show = as.show;		//è®©as.showå‡½æ•°ä½“åœ¨å…¨å±€æ‰§è¡Œ,åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹,å…¶ä¸­çš„thisä¸ºundefined</span><br><span class="line">show(); //undefined</span><br></pre></td></tr></table></figure>

<p>å°†å‡½æ•°ä½“æ”¹ä¸ºç®­å¤´å‡½æ•°<code>()=&gt;&#123;&#125;</code>èƒ½å¤Ÿè§£å†³ã€‚å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªèº«çš„thisæŒ‡å‘ï¼Œä¼šè‡ªåŠ¨ç»§æ‰¿ä¸Šä¸‹æ–‡çš„thisã€‚åœ¨é€šè¿‡newæ„é€ å‡½æ•°å®ä¾‹åŒ–æ—¶ï¼Œé‡Œé¢çš„thiså·²ç»ç»‘å®šåˆ°äº†å½“å‰å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">function User() &#123;</span><br><span class="line">  this.show &#x3D; ()&#x3D;&gt; &#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">let as &#x3D; new User();</span><br><span class="line">as.show(); &#x2F;&#x2F;User</span><br><span class="line"></span><br><span class="line">let show &#x3D; as.show;</span><br><span class="line">show(); &#x2F;&#x2F;User</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å†…ç½®æ„é€ "><a href="#å†…ç½®æ„é€ " class="headerlink" title="å†…ç½®æ„é€ "></a>å†…ç½®æ„é€ </h4><p>JSä¸­å¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const num = new Number(99);</span><br><span class="line">console.log(num.valueOf());</span><br><span class="line"></span><br><span class="line">const string = new String(&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;);</span><br><span class="line">console.log(string.valueOf());</span><br><span class="line"></span><br><span class="line">const boolean = new Boolean(true);</span><br><span class="line">console.log(boolean.valueOf());</span><br><span class="line"></span><br><span class="line">const date = new Date();</span><br><span class="line">console.log(date.valueOf());</span><br><span class="line"></span><br><span class="line">const regexp = new RegExp(&quot;\\d+&quot;);</span><br><span class="line">console.log(regexp.test(99));	//true</span><br><span class="line"></span><br><span class="line">let as= new Object();</span><br><span class="line">as.name = &quot;é˜¿é¡º&quot;;</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>

<p>å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡ï¼Œå†…éƒ¨ä¹Ÿæ˜¯è°ƒç”¨äº†<code>Object</code>æ„é€ å‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//å­—é¢é‡åˆ›å»ºå¯¹è±¡</span><br><span class="line">const as = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">&#125;;</span><br><span class="line">console.log(as.constructor); //Æ’ Object() &#123; [native code] &#125;</span><br><span class="line"></span><br><span class="line">//æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</span><br><span class="line">const ashun = new Object();</span><br><span class="line">ashun.title = &quot;Ashuntefannao&quot;;</span><br><span class="line">console.log(ashun.constructor); //Æ’ Object() &#123; [native code] &#125;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å‡½æ•°å¯¹è±¡"><a href="#å‡½æ•°å¯¹è±¡" class="headerlink" title="å‡½æ•°å¯¹è±¡"></a>å‡½æ•°å¯¹è±¡</h4><p>åœ¨<code>JS</code>ä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function as(name) &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(as.toString());</span><br><span class="line">console.log(as.length);</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°æ˜¯ç”±ç³»ç»Ÿå†…ç½®çš„ <code>Function</code> æ„é€ å‡½æ•°åˆ›å»ºçš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function as(name) &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(as.constructor);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨å†…ç½®æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const User = new Function(`name`,`</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.show = function() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">  &#125;;</span><br><span class="line">`</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">const zs = new User(&quot;å¼ ä¸‰&quot;);</span><br><span class="line">console.log(zs.show());</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="æŠ½è±¡ç‰¹æ€§"><a href="#æŠ½è±¡ç‰¹æ€§" class="headerlink" title="æŠ½è±¡ç‰¹æ€§"></a>æŠ½è±¡ç‰¹æ€§</h3><p>å°†å¤æ‚åŠŸèƒ½éšè—åœ¨å†…éƒ¨ï¼Œåªå¼€æ”¾ç»™å¤–éƒ¨å°‘é‡æ–¹æ³•ï¼Œæ›´æ”¹å¯¹è±¡å†…éƒ¨çš„å¤æ‚é€»è¾‘ä¸ä¼šå¯¹å¤–éƒ¨è°ƒç”¨é€ æˆå½±å“å³æŠ½è±¡ã€‚</p>
<p>ä¸‹é¢çš„æ‰‹æœºå°±æ˜¯æŠ½è±¡çš„å¥½ä¾‹å­ï¼Œåªå¼€æ”¾å‡ ä¸ªæŒ‰é’®ç»™ç”¨æˆ·ï¼Œå¤æ‚çš„å·¥ä½œå°è£…åœ¨æ‰‹æœºå†…éƒ¨ï¼Œç¨‹åºä¹Ÿåº”è¯¥å¦‚æ­¤ã€‚</p>
<p>â€‹    ã€å¼•ç”¨å›¾ç‰‡ã€‘</p>
<h4 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h4><p>ä¸‹ä¾‹å°†å¯¹è±¡å±æ€§å°è£…åˆ°æ„é€ å‡½æ•°å†…éƒ¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name,type=&quot;user&quot;)&#123;</span><br><span class="line">	this.name=name;</span><br><span class="line">	this.type=type;</span><br><span class="line">	this.info=()=&gt;&#123;</span><br><span class="line">		return this.type==&quot;Controller&quot;?`ç®¡ç†å‘˜`:`æ™®é€šç”¨æˆ·`;</span><br><span class="line">	&#125;	</span><br><span class="line">	this.show=()=&gt;&#123;</span><br><span class="line">		return `$&#123;name&#125; æ˜¯ $&#123;this.info()&#125;`	</span><br><span class="line">	&#125;		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let as=new User(&quot;ashun&quot;,&quot;Controller&quot;);</span><br><span class="line">console.log( as.show())</span><br><span class="line">let lisi=new User(&quot;lisi&quot;);</span><br><span class="line">console.log(lisi.show())</span><br></pre></td></tr></table></figure>

<h4 id="æŠ½è±¡å°è£…"><a href="#æŠ½è±¡å°è£…" class="headerlink" title="æŠ½è±¡å°è£…"></a>æŠ½è±¡å°è£…</h4><p>ä¸Šä¾‹ä¸­çš„æ–¹æ³•å’Œå±æ€§ä»ç„¶å¯ä»¥åœ¨å¤–éƒ¨è®¿é—®åˆ°ï¼Œä½†æ˜¯ä¸ºäº†å®ç°æŠ½è±¡å’Œæ•°æ®çš„å®‰å…¨æ€§ï¼Œæœ‰äº›å±æ€§å’Œæ–¹æ³•ä¸éœ€è¦è¢«å¤–éƒ¨è®¿é—®ï¼Œæ¯”å¦‚ <code>info</code>æ–¹æ³•åªæ˜¯åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œä¸éœ€è¦è¢«å¤–éƒ¨è®¿é—®åˆ°ï¼Œè‹¥å¤–éƒ¨è®¿é—®ä¿®æ”¹ï¼Œè¿™ä¼šç ´åç¨‹åºçš„å†…éƒ¨é€»è¾‘ã€‚</p>
<ul>
<li>å°†ä¸éœ€è¦æš´éœ²çš„å±æ€§ã€æ–¹æ³•ï¼Œä½¿ç”¨æ™®é€šå£°æ˜å½¢å¼ï¼Œè€Œä¸æ˜¯è¿½åŠ åˆ°thisï¼ˆå®ä¾‹ï¼‰ä¸Šã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function User(name,type=&quot;user&quot;)&#123;</span><br><span class="line">	let data=&#123;name,type&#125;;</span><br><span class="line">	let info=()=&gt;&#123;</span><br><span class="line">		return data.type==&quot;Controller&quot;?`ç®¡ç†å‘˜`:`æ™®é€šç”¨æˆ·`;</span><br><span class="line">	&#125;	</span><br><span class="line">	 this.show=()=&gt;&#123;</span><br><span class="line">		return `$&#123;data.name&#125; æ˜¯ $&#123;info()&#125;`	</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line">let as=new User(&quot;ashun&quot;,&quot;Controller&quot;);</span><br><span class="line">console.log( as.show())</span><br><span class="line">let lisi=new User(&quot;lisi&quot;);</span><br><span class="line">console.log(lisi.show());</span><br><span class="line">console.log(lisi.info)//undefined</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§ç‰¹å¾"><a href="#å±æ€§ç‰¹å¾" class="headerlink" title="å±æ€§ç‰¹å¾"></a>å±æ€§ç‰¹å¾</h3><p>JSä¸­å¯ä»¥å¯¹å±æ€§çš„ç‰¹æ€§è¿›è¡Œè®¿é—®å’Œæ§åˆ¶ã€‚</p>
<h4 id="æŸ¥çœ‹ç‰¹å¾"><a href="#æŸ¥çœ‹ç‰¹å¾" class="headerlink" title="æŸ¥çœ‹ç‰¹å¾"></a>æŸ¥çœ‹ç‰¹å¾</h4><ul>
<li><code>Object.getOwnPropertyDescriptor(obj,&quot;prop&quot;)</code></li>
<li><code>Object.getOwnPropertyDescriptors(obj)</code></li>
</ul>
<p>ä½¿ç”¨ <code>Object.getOwnPropertyDescriptor</code>æŸ¥çœ‹å¯¹è±¡å±æ€§çš„æè¿°ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const as=&#123;</span><br><span class="line">	name:&quot;ashun&quot;,</span><br><span class="line">	age:18,</span><br><span class="line">	type:&quot;Controller&quot;	</span><br><span class="line">&#125;;</span><br><span class="line">console.log(JSON.stringify(Object.getOwnPropertyDescriptor(as,&quot;type&quot;),null,2));</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Object.getOwnPropertyDescriptors</code>æŸ¥çœ‹å¯¹è±¡æ‰€æœ‰å±æ€§çš„æè¿°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const as=&#123;</span><br><span class="line">	name:&quot;ashun&quot;,</span><br><span class="line">	age:18,</span><br><span class="line">	type:&quot;Controller&quot;	</span><br><span class="line">&#125;;</span><br><span class="line">let desc = Object.getOwnPropertyDescriptors(as);</span><br><span class="line">console.log(JSON.stringify(desc, null, 2));</span><br></pre></td></tr></table></figure>

<p>å±æ€§åŒ…æ‹¬ä»¥ä¸‹å››ç§ç‰¹æ€§</p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>configurable</td>
<td>æ˜¯å¦å¯åˆ é™¤è¯¥å±æ€§ã€æ˜¯å¦å¯ä»¥å†æ¬¡é…ç½®å±æ€§æè¿°ç‰¹å¾</td>
<td>true</td>
</tr>
<tr>
<td>enumerable</td>
<td>(æ˜¯å¦å¯æšä¸¾)å¯¹è±¡å±æ€§æ˜¯å¦å¯é€šè¿‡for-inå¾ªç¯ï¼Œæˆ–è¿­ä»£æ–¹æ³•è¯»å–</td>
<td>true</td>
</tr>
<tr>
<td>writable</td>
<td>å¯¹è±¡å±æ€§å€¼æ˜¯å¦å¯ä¿®æ”¹</td>
<td>true</td>
</tr>
<tr>
<td>value</td>
<td>å¯¹è±¡å±æ€§çš„é»˜è®¤å€¼</td>
<td>undefined</td>
</tr>
</tbody></table>
<h4 id="è®¾ç½®ç‰¹å¾"><a href="#è®¾ç½®ç‰¹å¾" class="headerlink" title="è®¾ç½®ç‰¹å¾"></a>è®¾ç½®ç‰¹å¾</h4><ul>
<li><code>Object.defineProperty(obj,&quot;prop&quot;,&#123;...desc&#125;)</code> </li>
<li><code>Object.defineProperties(obj,&#123; prop1:&#123;...desc&#125;, ...propN:&#123;...desc&#125;)</code> </li>
</ul>
<p>ä½¿ç”¨<code>Object.defineProperty</code> æ–¹æ³•ä¿®æ”¹æŸå±æ€§çš„å±æ€§ç‰¹æ€§ï¼Œé€šè¿‡ä¸‹é¢çš„è®¾ç½®ï¼Œå±æ€§nameå°†ä¸èƒ½è¢«åˆ é™¤ã€ä¿®æ”¹ã€<code>for/in</code>æˆ–è¿­ä»£æ–¹æ³•éå†ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.defineProperty(user, &quot;name&quot;, &#123;</span><br><span class="line">  value: &quot;Ashun&quot;,</span><br><span class="line">  writable: false,</span><br><span class="line">  enumerable: false,</span><br><span class="line">  configurable: false</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æ‰§è¡Œä»¥ä¸‹ä»£ç å¯¹ä¸Šé¢é…ç½®è¿›è¡Œæµ‹è¯•ï¼Œè¯·åˆ†åˆ«æ‰“å¼€æ³¨é‡Šè¿›è¡Œæµ‹è¯•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">// ä¸å…è®¸ä¿®æ”¹=&gt;writable</span><br><span class="line">// user.name = &quot;SHUN&quot;; //Error</span><br><span class="line"></span><br><span class="line">// ä¸èƒ½éå†=&gt;enumerable</span><br><span class="line">// console.log(Object.keys(user));</span><br><span class="line"></span><br><span class="line">//ä¸å…è®¸åˆ é™¤=&gt;configurable</span><br><span class="line">// delete user.name;</span><br><span class="line">// console.log(user);</span><br><span class="line"></span><br><span class="line">//ä¸å…è®¸é…ç½®=&gt;configurable</span><br><span class="line">// Object.defineProperty(user, &quot;name&quot;, &#123;</span><br><span class="line">//   value: &quot;é˜¿é¡º&quot;,</span><br><span class="line">//   writable: true,</span><br><span class="line">//   enumerable: false,</span><br><span class="line">//   configurable: false</span><br><span class="line">// &#125;);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>Object.defineProperties</code> å¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªå±æ€§çš„å±æ€§ç‰¹å¾ï¼Œå…·ä½“å‚æ•°å’Œä¸Šé¢ä»‹ç»çš„ä¸€æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">let user &#x3D; &#123;&#125;;</span><br><span class="line">Object.defineProperties(user, &#123;</span><br><span class="line">  name: &#123; value: &quot;é˜¿é¡º&quot;, writable: false &#125;,</span><br><span class="line">  age: &#123; value: 18 &#125;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(user);</span><br><span class="line">user.name &#x3D; &quot;SHUN&quot;; &#x2F;&#x2F;TypeError</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="ç¦æ­¢æ·»åŠ "><a href="#ç¦æ­¢æ·»åŠ " class="headerlink" title="ç¦æ­¢æ·»åŠ "></a>ç¦æ­¢æ·»åŠ </h4><p><code>Object.preventExtensions(obj)</code> ç¦æ­¢å‘objæ·»åŠ å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.preventExtensions(user);</span><br><span class="line">user.age = 18; //Error</span><br></pre></td></tr></table></figure>

<p><code>Object.isExtensible(obj)</code> åˆ¤æ–­æ˜¯å¦èƒ½å‘objä¸­æ·»åŠ å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.preventExtensions(user);</span><br><span class="line">console.log(Object.isExtensible(user)); //false</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å°é—­å¯¹è±¡"><a href="#å°é—­å¯¹è±¡" class="headerlink" title="å°é—­å¯¹è±¡"></a>å°é—­å¯¹è±¡</h4><p><code>Object.seal(obj)</code>æ–¹æ³•å°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>é˜»æ­¢æ·»åŠ æ–°å±æ€§</code>å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§çš„å±æ€§ç‰¹å¾çš„<code>configurable</code>é€‰é¡¹æ ‡è®°ä¸º <code>false</code></p>
<ul>
<li><p>ç›¸å½“äº<code>Object.preventExtensions(obj)</code>ä¸<code>configurable:false</code>çš„ç»“åˆã€‚</p>
</li>
<li><p>ä¸èƒ½å¤Ÿå¢åŠ ã€åˆ é™¤å±æ€§ã€‚</p>
</li>
<li><p>ä¸èƒ½å†æ¬¡é…ç½®å±æ€§çš„ç‰¹å¾æè¿°</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">let user &#x3D; &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Object.seal(user);</span><br><span class="line">console.log(Object.isSealed(user));</span><br><span class="line"></span><br><span class="line">console.log(</span><br><span class="line">  JSON.stringify(Object.getOwnPropertyDescriptors(user), null, 2)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">delete user.name; </span><br><span class="line">console.log(Object.keys(user));  &#x2F;&#x2F;[&quot;name&quot;,&quot;age&quot;]</span><br></pre></td></tr></table></figure>

<p><code>Object.isSealed(obj)</code> åˆ¤æ–­objæ˜¯å¦è¢«å°é—­ã€‚ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.seal(user);</span><br><span class="line">console.log(Object.isSealed(user)); //true</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å†»ç»“å¯¹è±¡"><a href="#å†»ç»“å¯¹è±¡" class="headerlink" title="å†»ç»“å¯¹è±¡"></a>å†»ç»“å¯¹è±¡</h4><p><code>Object.freeze(obj)</code> å†»ç»“å¯¹è±¡åä¸å…è®¸æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å±æ€§ï¼Œ<code>writableã€configurable</code>éƒ½æ ‡è®°ä¸º<code>false</code></p>
<ul>
<li>ç›¸å½“äº<code>Object.preventExtensions()</code>ä¸<code>writable:falseã€configurable:false</code>çš„ç»“åˆ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user &#x3D; &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.freeze(user);</span><br><span class="line">user.name &#x3D; &quot;Ashun&quot;; &#x2F;&#x2F;Error</span><br></pre></td></tr></table></figure>

<p><code>Object.isFrozen()</code>æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å†»ç»“</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">  name: &quot;é˜¿é¡º&quot;</span><br><span class="line">&#125;;</span><br><span class="line">Object.freeze(user);</span><br><span class="line">console.log(Object.isFrozen(user)); //true</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h3><h4 id="åŸºç¡€çŸ¥è¯†-2"><a href="#åŸºç¡€çŸ¥è¯†-2" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><h5 id="å±æ€§ç§ç±»"><a href="#å±æ€§ç§ç±»" class="headerlink" title="å±æ€§ç§ç±»"></a>å±æ€§ç§ç±»</h5><p>åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡çš„å±æ€§æœ‰ä¸¤ç§</p>
<ul>
<li>æ•°æ®å±æ€§</li>
<li>è®¿é—®å™¨å±æ€§</li>
<li>åŒåç§°å±æ€§åªèƒ½åœ¨è®¿é—®å™¨å±æ€§å’Œæ•°æ®å±æ€§ä»»é€‰å…¶ä¸€ï¼Œä¸èƒ½å…±åŒå­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šä¸€ä¸ªå±æ€§è‹¥ä¸æ˜¯æ•°æ®å±æ€§ï¼Œåˆ™å°±æ˜¯è®¿é—®å™¨å±æ€§ã€‚</li>
</ul>
<p>ä¸¤ç§ç±»å‹çš„å±æ€§åˆåˆ†åˆ«å¯¹åº”ç€ä¸åŒçš„å±æ€§ç‰¹å¾</p>
<ul>
<li>æ•°æ®å±æ€§-&gt;æ•°æ®å±æ€§ç‰¹å¾</li>
<li>è®¿é—®å™¨å±æ€§-&gt;è®¿é—®å™¨å±æ€§ç‰¹å¾</li>
</ul>
<p><strong>æ•°æ®å±æ€§:</strong> ç›´æ¥é…ç½®æ•°æ®çš„å±æ€§ã€‚èƒ½å¤Ÿè¢«å¤–éƒ¨ç›´æ¥è®¿é—®å’Œä¿®æ”¹ã€‚ä¸å…¶å¯¹åº”çš„æ•°æ®å±æ€§ç‰¹å¾ï¼Œå°±æ˜¯ä¹‹å‰ä»‹ç»åˆ°çš„å››ä¸ªå±æ€§ç‰¹å¾ï¼š<code>valueã€writableã€enumerableã€configurable</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const user&#x3D;&#123;</span><br><span class="line">	name:&quot;ashun&quot;</span><br><span class="line">&#125;</span><br><span class="line">console.log(Object.getOwnPropertyDescriptor(user,&quot;name&quot;));</span><br><span class="line">&#x2F;&#x2F;&#123;</span><br><span class="line">		value: &quot;ashun&quot;, </span><br><span class="line">		writable: true, </span><br><span class="line">		enumerable: true, </span><br><span class="line">		configurable: true</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è®¿é—®å™¨å±æ€§:</strong> è¯¥ç±»å‹çš„å±æ€§ï¼Œæ‰€æœ‰çš„è®¿é—®ã€ä¿®æ”¹æ“ä½œéƒ½éœ€è¦é€šè¿‡<code>getter/setter</code>è®¿é—®å™¨ï¼Œè¿›è¡Œå¤„ç†ã€‚å…·æœ‰çš„å±æ€§ç‰¹å¾:<code>getã€setã€enumerableã€configurable</code></p>
<ul>
<li>ç›¸å¯¹äº<strong>æ•°æ®å±æ€§</strong>ï¼Œ<strong>è®¿é—®å™¨å±æ€§</strong>ä¸å…·æœ‰<code>valueã€writable</code>ç‰¹å¾ï¼Œä¸ä¹‹æ›¿ä»£çš„æ˜¯<code>getã€set</code>ã€‚</li>
<li>å› ä¸ºè®¿é—®å™¨å±æ€§ï¼Œä¸åƒæ•°æ®å±æ€§ä¸€æ ·(ç›´æ¥è®¾ç½®å±æ€§å€¼)ï¼Œæ‰€ä»¥ä¸å…·æœ‰valueç‰¹å¾ï¼Œ</li>
<li>å¹¶ä¸”è®¿é—®å™¨å±æ€§å€¼æ˜¯å¦å¯æ”¹å†™ï¼Œä¸æ˜¯å¦æœ‰å¯¹åº”çš„setterç›´æ¥æŒ‚é’©ï¼ˆåªæœ‰getteråˆ™ä¸ºåªè¯»ï¼Œä¹Ÿå°±ä¸èƒ½æ”¹å†™ï¼‰,æ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰äº†writableç‰¹å¾ï¼Œå°†å…¶æ›¿ä»£ä¸ºäº†setç‰¹å¾ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const user&#x3D;&#123;</span><br><span class="line">	get name()&#123;</span><br><span class="line">		return this.name;</span><br><span class="line">	&#125;,</span><br><span class="line">	set name(name)&#123;</span><br><span class="line">		this.name&#x3D;name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(Object.getOwnPropertyDescriptor(user,&quot;name&quot;));</span><br><span class="line">&#x2F;&#x2F;&#123;enumerable: true, configurable: true, get: Æ’, set: Æ’&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h5 id="è®¿é—®å™¨å±æ€§ä¸èƒ½å¤Ÿç®¡ç†è‡ªèº«"><a href="#è®¿é—®å™¨å±æ€§ä¸èƒ½å¤Ÿç®¡ç†è‡ªèº«" class="headerlink" title="è®¿é—®å™¨å±æ€§ä¸èƒ½å¤Ÿç®¡ç†è‡ªèº«"></a>è®¿é—®å™¨å±æ€§ä¸èƒ½å¤Ÿç®¡ç†è‡ªèº«</h5><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå±æ€§è®¿é—®å™¨ä¸èƒ½å¤Ÿç®¡ç†è‡ªèº«ï¼Œå› ä¸ºä¼šå¯¼è‡´<code>æ­»å¾ªç¯è°ƒç”¨</code>ã€‚</p>
<ul>
<li>å¤–éƒ¨ä½¿ç”¨<code>user.name</code>è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šèµ°getè®¿é—®å™¨ï¼Œä½†æ˜¯åœ¨getçš„returnè¯­å¥ä¸­åˆè®¿é—®äº†è¯¥å±æ€§ï¼Œåˆä¼šè°ƒç”¨getè®¿é—®å™¨ï¼Œå‘¨è€Œå¤å§‹ï¼Œæ­»å¾ªç¯äº§ç”Ÿ</li>
<li>åŒç†ï¼Œå¤–éƒ¨ä½¿ç”¨<code>user.name=&quot;Ashun&quot;</code>è¿›è¡Œèµ‹å€¼ï¼Œä¼šèµ°setï¼Œä½†æ˜¯åœ¨setçš„èµ‹å€¼è¯­å¥ä¸­åˆä¼šè°ƒç”¨setè®¿é—®å™¨ã€‚</li>
<li>æ‰€ä»¥ï¼Œä¸€èˆ¬éƒ½ä¼šè®©è®¿é—®å™¨å±æ€§ç®¡ç†æ•°æ®å±æ€§æˆ–å˜é‡å¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const user &#x3D; &#123;</span><br><span class="line">	get name() &#123;</span><br><span class="line">		return this.name;</span><br><span class="line">	&#125;,</span><br><span class="line">	set name(name) &#123;</span><br><span class="line">		return (this.name &#x3D; name);</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.name; &#x2F;&#x2F;Error</span><br><span class="line">user.name&#x3D;&quot;Ashun&quot;&#x2F;&#x2F;Error</span><br></pre></td></tr></table></figure>





<hr>
<h4 id="getter-setter"><a href="#getter-setter" class="headerlink" title="getter/setter"></a>getter/setter</h4><p><code>getter</code>æ–¹æ³•ç”¨äº<code>è·å¾—å±æ€§å€¼</code>ï¼Œ<code>setter</code>æ–¹æ³•ç”¨äº<code>è®¾ç½®å±æ€§</code>ï¼Œè¿™æ˜¯JSæä¾›çš„å­˜å–å™¨ç‰¹æ€§å³ä½¿ç”¨å‡½æ•°æ¥ç®¡ç†å±æ€§ã€‚</p>
<ul>
<li>ç”¨äºé¿å…é”™è¯¯çš„èµ‹å€¼</li>
<li>éœ€è¦åŠ¨æ€ç›‘æµ‹å€¼çš„æ”¹å˜</li>
</ul>
<p>å‘å¯¹æ˜¯åœ°ç”¨æˆ·çš„å¹´é¾„æ•°æ®ä½¿ç”¨è®¿é—®å™¨ç›‘æ§æ§åˆ¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const User = &#123;</span><br><span class="line">	data: &#123;</span><br><span class="line">		name: &quot;Ashun&quot;,</span><br><span class="line">		age: null,</span><br><span class="line">	&#125;,</span><br><span class="line">	get age() &#123;</span><br><span class="line">		return `$&#123;this.data.name&#125;çš„å¹´é¾„ä¸º:$&#123;this.data.age&#125;`;</span><br><span class="line">	&#125;,</span><br><span class="line">	set age(value) &#123;</span><br><span class="line">		if (typeof value != &quot;number&quot; || value &gt; 100 || value &lt; 10)</span><br><span class="line">			throw new Error(&quot;å¹´é¾„æ ¼å¼é”™è¯¯ï¼&quot;);</span><br><span class="line">		this.data.age = value;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">User.age = 18;</span><br><span class="line">console.log(User.age);	//Ashunçš„å¹´é¾„ä¸º:18</span><br><span class="line">User.age = 7;	//Error: å¹´é¾„æ ¼å¼é”™è¯¯ï¼</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä½¿ç”¨getterè®¾ç½®åªè¯»çš„è¯¾ç¨‹æ€»ä»·</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Lesson = &#123;</span><br><span class="line">  lists: [</span><br><span class="line">    &#123; name: &quot;javascript&quot;, price: 100 &#125;,</span><br><span class="line">    &#123; name: &quot;mysql&quot;, price: 212 &#125;,</span><br><span class="line">    &#123; name: &quot;CSS3&quot;, price: 98 &#125;</span><br><span class="line">  ],</span><br><span class="line">  get total() &#123;</span><br><span class="line">    return this.lists.reduce((p, v) =&gt; p + v.price, 0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(Lesson.total); //410</span><br><span class="line">Lesson.total = 999; //æ— æ•ˆ</span><br><span class="line">console.log(Lesson.total); //410</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢é€šè¿‡è®¾ç½®ç«™ç½‘ç«™åç§°ä¸ç½‘å€ä½“éªŒ<code>getter/setter</code>æ‰¹é‡è®¾ç½®å±æ€§çš„ä½¿ç”¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let web = &#123;</span><br><span class="line">	name: &quot;é˜¿é¡º&quot;,</span><br><span class="line">	url: &quot;Ashuntefannao.com&quot;,</span><br><span class="line">	get site() &#123;</span><br><span class="line">		return `$&#123;this.name&#125;-$&#123;this.url&#125;`;</span><br><span class="line">	&#125;,</span><br><span class="line">	set site(message) &#123;</span><br><span class="line">		[this.name, this.url] = message.split(&quot;,&quot;);</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">console.log(web.site);</span><br><span class="line">web.site = &quot;é¡ºå­,Ashun.com&quot;;</span><br><span class="line">console.log(web.site);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯è®¾ç½®tokenå‚¨å–çš„ç¤ºä¾‹ï¼Œå°†ä¸šåŠ¡é€»è¾‘ä½¿ç”¨<code>getter/setter</code>å¤„ç†æ›´æ–¹ä¾¿ï¼Œä¹Ÿæ–¹ä¾¿å…¶ä»–ä¸šåŠ¡çš„å¤ç”¨ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Request = &#123;</span><br><span class="line">  get token() &#123;</span><br><span class="line">    let con = localStorage.getItem(&#x27;token&#x27;);</span><br><span class="line">    if (!con) &#123;</span><br><span class="line">    	alert(&#x27;è¯·ç™»å½•åè·å–token&#x27;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">    	return con;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  set token(con) &#123;</span><br><span class="line">  	localStorage.setItem(&#x27;token&#x27;, con);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">// Request.token = &#x27;ashun&#x27;</span><br><span class="line">console.log(Request.token);</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å†…éƒ¨ç§æœ‰å±æ€§</p>
<ul>
<li>ä½¿ç”¨setterã€getterå®šä¹‰ä¸€ä¸ªä¸å®é™…å±æ€§å¯¹åº”çš„å½¢å¼å±æ€§ï¼Œé€šè¿‡è¿™ä¸ªå½¢å¼å±æ€§åç§°è®©å¤–éƒ¨æ“ä½œã€‚</li>
<li>è¿™åªæ˜¯å½¢å¼ä¸Šçš„å†…éƒ¨ç§æœ‰å±æ€§ï¼Œç”¨æˆ·è¿˜æ˜¯èƒ½é€šè¿‡å®é™…å±æ€§åç§°è¿›è¡Œè®¿é—®ã€‚</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line">const user = &#123;</span><br><span class="line">	_name:&quot;user&quot;,</span><br><span class="line">  get name() &#123;</span><br><span class="line">    return this._name;</span><br><span class="line">  &#125;,</span><br><span class="line">  set name(value) &#123;</span><br><span class="line">    if (value.length &lt;= 3) &#123;</span><br><span class="line">      throw new Error(&quot;ç”¨æˆ·åä¸èƒ½å°äºä¸‰ä½&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    this._name = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">user.name = &quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot;;</span><br><span class="line">console.log(user.name);</span><br><span class="line">console.log(user._name);</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é€šè¿‡æè¿°è®¾ç½®è®¿é—®å™¨å±æ€§"><a href="#é€šè¿‡æè¿°è®¾ç½®è®¿é—®å™¨å±æ€§" class="headerlink" title="é€šè¿‡æè¿°è®¾ç½®è®¿é—®å™¨å±æ€§"></a>é€šè¿‡æè¿°è®¾ç½®è®¿é—®å™¨å±æ€§</h4><p>ä¸‹ä¾‹åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè®¾ç½®thisçš„è®¿é—®å™¨å±æ€§æè¿°<code>getter/setter</code>ï¼Œå½“å®ä¾‹åŒ–ä¸ºå¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨ä¸ºå¯¹è±¡é…ç½®å¯¹åº”è®¿é—®å™¨å±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function User(name, age) &#123;</span><br><span class="line">        let Data &#x3D; &#123; name, age &#125;;</span><br><span class="line">        Object.defineProperties(this, &#123;</span><br><span class="line">          name: &#123;</span><br><span class="line">            get() &#123;</span><br><span class="line">              return &#96;nameï¼š$&#123;Data.name&#125;&#96;;</span><br><span class="line">            &#125;,</span><br><span class="line">            set(value) &#123;</span><br><span class="line">              Data.name &#x3D; value;</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          age: &#123;</span><br><span class="line">            get() &#123;</span><br><span class="line">              return &#96;ageï¼š$&#123;Data.age&#125;&#96;;</span><br><span class="line">            &#125;,</span><br><span class="line">            set(value) &#123;</span><br><span class="line">              Data.age &#x3D; value;</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line">let as &#x3D; new User(&quot;é˜¿é¡º&quot;, 18);</span><br><span class="line">console.log(as.name);	&#x2F;&#x2F;nameï¼šé˜¿é¡º</span><br><span class="line">as.name &#x3D; &quot;SHUN&quot;;</span><br><span class="line">console.log(as.name);	&#x2F;&#x2F;ageï¼šSHUN</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥ä½¿ç”¨è¯­æ³•ç³– <code>class</code>å®šä¹‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let Data = Symbol();</span><br><span class="line">      class User &#123;</span><br><span class="line">        constructor(name, age) &#123;</span><br><span class="line">          this[Data] = &#123; name, age &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        get name() &#123;</span><br><span class="line">          return `name:$&#123;this[Data].name&#125;`;</span><br><span class="line">        &#125;</span><br><span class="line">        set name(val) &#123;</span><br><span class="line">          this[Data].name = val;</span><br><span class="line">        &#125;</span><br><span class="line">        get age() &#123;</span><br><span class="line">          return `age:$&#123;this[Data].age&#125;`;</span><br><span class="line">        &#125;</span><br><span class="line">        set age(val) &#123;</span><br><span class="line">          this[Data].age = val;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">let as = new User(&quot;Ashun&quot;, 18);</span><br><span class="line">console.log(as.age);	//age:18</span><br><span class="line">as.name = &quot;SHUN&quot;;</span><br><span class="line">console.log(as.name);	//name:SHUN</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="é—­åŒ…è®¿é—®å™¨"><a href="#é—­åŒ…è®¿é—®å™¨" class="headerlink" title="é—­åŒ…è®¿é—®å™¨"></a>é—­åŒ…è®¿é—®å™¨</h4><p>ä¸‹é¢ç»“åˆé—­åŒ…ç‰¹æ€§å¯¹å±æ€§è¿›è¡Œè®¿é—®æ§åˆ¶</p>
<ul>
<li>ä¸‹ä¾‹ä¸­è®¿é—®å™¨å®šä¹‰åœ¨å‡½æ•°ä¸­ï¼Œå¹¶æ¥æ”¶å‚æ•°v</li>
<li>åœ¨get() ä¸­é€šè¿‡é—­åŒ…è¿”å› v</li>
<li>åœ¨set() ä¸­ä¿®æ”¹äº†vï¼Œè¿™ä¼šå½±å“get()è®¿é—®çš„é—­åŒ…æ•°æ®v</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let user = &#123; name: &quot;Ashun&quot;, age: 18 &#125;;</span><br><span class="line">      function observer(obj, key, val) &#123;</span><br><span class="line">        Object.defineProperty(obj, key, &#123;</span><br><span class="line">          get() &#123;</span><br><span class="line">            console.log(val);</span><br><span class="line">            return val;</span><br><span class="line">          &#125;,</span><br><span class="line">          set(newVal) &#123;</span><br><span class="line">            val = newVal;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">for (let [key, val] of Object.entries(user)) &#123;</span><br><span class="line">	observer(user, key, val);</span><br><span class="line">&#125;</span><br><span class="line">user.name;	//Ashun</span><br><span class="line">user.name = &quot;SHUN&quot;;</span><br><span class="line">user.name;	//SHUN</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="ä»£ç†æ‹¦æˆª"><a href="#ä»£ç†æ‹¦æˆª" class="headerlink" title="ä»£ç†æ‹¦æˆª"></a>ä»£ç†æ‹¦æˆª</h3><p>ä»£ç†<code>proxy</code>ï¼ˆæ‹¦æˆªå™¨ï¼‰æ˜¯å¯¹è±¡çš„è®¿é—®æ§åˆ¶ï¼Œ<code>setter/getter</code> æ˜¯å¯¹å•ä¸ªå¯¹è±¡å±æ€§çš„æ§åˆ¶ï¼Œè€Œ<code>proxyæ˜¯å¯¹æ•´ä¸ªå¯¹è±¡çš„æ§åˆ¶</code>ã€‚</p>
<ul>
<li>è¯»å†™å±æ€§æ—¶ä»£ç æ›´ç®€æ´</li>
<li>å¯¹è±¡çš„å¤šä¸ªå±æ€§æ§åˆ¶ç»Ÿä¸€äº¤ç»™ä»£ç†å®Œæˆ</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹ <code>set</code> å¿…é¡»è¿”å›å¸ƒå°”å€¼</li>
<li>å¯ä»£ç†å¤šç§å¼•ç”¨ç±»å‹ï¼š<code>Object,Array,Functoin</code></li>
</ul>
<h4 id="ä»£ç†å¯¹è±¡å±æ€§"><a href="#ä»£ç†å¯¹è±¡å±æ€§" class="headerlink" title="ä»£ç†å¯¹è±¡å±æ€§"></a>ä»£ç†å¯¹è±¡å±æ€§</h4><p>ä¸‹ä¾‹ä¸ºä½¿ç”¨proxyä»£ç†å¯¹è±¡</p>
<ul>
<li><code>new Proxy(obj,&#123; get(obj,prop)&#123;â€¦&#125; , set(obj,prop,val)&#123;â€¦&#125; &#125;)</code></li>
<li>é€šè¿‡<code>set</code>è®¾ç½®å€¼åéœ€è¦è¿”å›Boolean</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let user &#x3D; &#123;</span><br><span class="line">	name: &quot;Ashun&quot;,</span><br><span class="line">	age: 18,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let proxy &#x3D; new Proxy(user, &#123;</span><br><span class="line">	get(obj, prop) &#123;</span><br><span class="line">		return &#96;é€šè¿‡proxyè®¿é—®ï¼š$&#123;obj[prop]&#125;&#96;;</span><br><span class="line">	&#125;,</span><br><span class="line">	set(obj, prop, value) &#123;</span><br><span class="line">		obj[prop] &#x3D; value;</span><br><span class="line">		return true;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(proxy.name);&#x2F;&#x2F;é€šè¿‡proxyè®¿é—®ï¼šAshun</span><br><span class="line">proxy.name &#x3D; &quot;SHUN&quot;;</span><br><span class="line">console.log(proxy.name);&#x2F;&#x2F;é€šè¿‡proxyè®¿é—®ï¼šSHUN</span><br></pre></td></tr></table></figure>

<h4 id="ä»£ç†å‡½æ•°"><a href="#ä»£ç†å‡½æ•°" class="headerlink" title="ä»£ç†å‡½æ•°"></a>ä»£ç†å‡½æ•°</h4><p>å¦‚æœä»£ç†ä»¥å‡½æ•°æ–¹å¼æ‰§è¡Œæ—¶ï¼Œä¼šæ‰§è¡Œä»£ç†ä¸­å®šä¹‰çš„ <code>apply</code> æ–¹æ³•ã€‚</p>
<ul>
<li>applyå‚æ•°è¯´æ˜ï¼šå‡½æ•°ï¼Œä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œä»£ç†å‡½æ•°æ¥æ”¶çš„å‚æ•°(<code>ç±»å‹å¿…é¡»ä¸ºArray</code>)</li>
</ul>
<p>ä¸‹é¢ä½¿ç”¨ <code>apply</code> è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function factorial(num) &#123;</span><br><span class="line">	return num == 1 ? 1 : num * factorial(num - 1);</span><br><span class="line">&#125;</span><br><span class="line">let proxy = new Proxy(factorial, &#123;</span><br><span class="line">	apply(func, context, args) &#123;</span><br><span class="line">		console.time(&quot;run&quot;);</span><br><span class="line">		console.log(func.call(context, ...args));</span><br><span class="line">		console.timeEnd(&quot;run&quot;);</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;);</span><br><span class="line">      </span><br><span class="line">proxy.apply(this, [3]);	//ä¼ å…¥çš„å‚æ•°ç±»å‹å¿…é¡»ä¸ºArray</span><br></pre></td></tr></table></figure>



<h4 id="ä»£ç†æ•°ç»„"><a href="#ä»£ç†æ•°ç»„" class="headerlink" title="ä»£ç†æ•°ç»„"></a>ä»£ç†æ•°ç»„</h4><p>ä¸‹ä¾‹ä¸­å¯¹æ•°ç»„è¿›è¡Œä»£ç†ï¼Œç”¨äºæˆªå–æ ‡é¢˜æ“ä½œï¼ŒåŒä»£ç†å¯¹è±¡ï¼šè®¾ç½®<code>get(arr,key)ã€set(arr,key,val)</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">const stringDot = &#123;</span><br><span class="line">	get(arr, key) &#123;</span><br><span class="line">		const maxLeng = 5;</span><br><span class="line">		let currentTitle = arr[key].title;</span><br><span class="line">		return currentTitle.length &gt; 5</span><br><span class="line">		 ? currentTitle.substr(0, maxLeng).concat(&quot;.&quot;.repeat(3))</span><br><span class="line"> 		 : currentTitle;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">      const lessons = [</span><br><span class="line">        &#123;</span><br><span class="line">          title: &quot;åª’ä½“æŸ¥è¯¢å“åº”å¼å¸ƒå±€&quot;,</span><br><span class="line">          category: &quot;css&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &quot;FLEX å¼¹æ€§ç›’æ¨¡å‹&quot;,</span><br><span class="line">          category: &quot;css&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          title: &quot;MYSQLå¤šè¡¨æŸ¥è¯¢éšæ„æ“ä½œ&quot;,</span><br><span class="line">          category: &quot;mysql&quot;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ];</span><br><span class="line">const stringDotProxy = new Proxy(lessons, stringDot);</span><br><span class="line">console.log(stringDotProxy[0]);	//åª’ä½“æŸ¥è¯¢å“...</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŒå‘ç»‘å®š"><a href="#åŒå‘ç»‘å®š" class="headerlink" title="åŒå‘ç»‘å®š"></a>åŒå‘ç»‘å®š</h4><img src="å¯¹è±¡.assets/Proxy_v-model.gif" alt="Proxy_v-model" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;label&gt; s-model&#x3D;&quot;test1&quot;&lt;input s-model&#x3D;&quot;test1&quot; &#x2F;&gt;&lt;&#x2F;label&gt;&lt;br &#x2F;&gt;</span><br><span class="line">    &lt;label&gt; s-bind&#x3D;&quot;test1&quot;&lt;input s-bind&#x3D;&quot;test1&quot; &#x2F;&gt;&lt;&#x2F;label&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;</span><br><span class="line">    &lt;label&gt; s-model&#x3D;&quot;test2&quot;&lt;input s-model&#x3D;&quot;test2&quot; &#x2F;&gt;&lt;&#x2F;label&gt;&lt;br &#x2F;&gt;</span><br><span class="line">    &lt;label&gt; s-bind&#x3D;&quot;test2&quot;&lt;input s-bind&#x3D;&quot;test2&quot; &#x2F;&gt;&lt;&#x2F;label&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let proxy &#x3D; new Proxy(</span><br><span class="line">        &#123;&#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          set(obj, prop, val) &#123;</span><br><span class="line">            obj[prop] &#x3D; val;</span><br><span class="line">            let doms &#x3D; document.querySelectorAll(</span><br><span class="line">              &#96;[s-model&#x3D;$&#123;prop&#125;],[s-bind&#x3D;$&#123;prop&#125;]&#96;</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            console.log(obj[prop]);</span><br><span class="line">            doms.forEach((v) &#x3D;&gt; (v.value &#x3D; obj[prop]));</span><br><span class="line">            return true;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">      let models &#x3D; document.querySelectorAll(&#96;[s-model]&#96;);</span><br><span class="line">      models.forEach((ele) &#x3D;&gt;</span><br><span class="line">        ele.addEventListener(&quot;input&quot;, function () &#123;</span><br><span class="line">          let prop &#x3D; this.getAttribute(&quot;s-model&quot;);</span><br><span class="line">          proxy[prop] &#x3D; this.value;</span><br><span class="line">        &#125;)</span><br><span class="line">      );</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="è¡¨å•éªŒè¯"><a href="#è¡¨å•éªŒè¯" class="headerlink" title="è¡¨å•éªŒè¯"></a>è¡¨å•éªŒè¯</h4><img src="å¯¹è±¡.assets/Proxy_formTest.gif" alt="Proxy_formTest" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">[validate]&#123;</span><br><span class="line">	border:3px dotted #ccc; </span><br><span class="line">	margin:5px 0px;</span><br><span class="line">	border-radius:5px;</span><br><span class="line">	outline:none;</span><br><span class="line">	height:20px;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">.err&#123;</span><br><span class="line">	border:3px dotted red; </span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; validate rule&#x3D;&quot;min:3,max:6&quot;  &#x2F;&gt;</span><br><span class="line">&lt;input type&#x3D;&quot;text&quot; validate rule&#x3D;&quot;isNumber,min:3&quot;  &#x2F;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">class Validate&#123;</span><br><span class="line">	static min(val,len)&#123;</span><br><span class="line">		return val.length&gt;len;</span><br><span class="line">	&#125;</span><br><span class="line">	static max(val,len)&#123;</span><br><span class="line">		return val.length&lt;len;</span><br><span class="line">	&#125;</span><br><span class="line">	static isNumber(val)&#123;</span><br><span class="line">		return &#x2F;^\d+$&#x2F;.test(val);</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function makePoxy(Arr)&#123;</span><br><span class="line">return new Proxy(Arr,&#123;</span><br><span class="line">	</span><br><span class="line">	get(arr,key)&#123;</span><br><span class="line">		return arr[key];</span><br><span class="line">	&#125;,</span><br><span class="line">	set(arr,key,val)&#123;</span><br><span class="line">		let rules&#x3D;arr[key].getAttribute(&quot;rule&quot;).split(&quot;,&quot;);</span><br><span class="line">		console.log(rules,key);</span><br><span class="line">		</span><br><span class="line">		let check&#x3D;rules.every((val)&#x3D;&gt;&#123;</span><br><span class="line">			let Switch&#x3D;val.split(&quot;:&quot;);</span><br><span class="line">			return 	Validate[Switch[0]](arr[key].value,Switch[1]);</span><br><span class="line">		&#125;);</span><br><span class="line">		arr[key].classList[check?&quot;remove&quot;:&quot;add&quot;](&quot;err&quot;);</span><br><span class="line">	&#125;,</span><br><span class="line">	</span><br><span class="line">&#125;);	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let doms&#x3D;document.querySelectorAll(&quot;[validate]&quot;);</span><br><span class="line">let proxy&#x3D;new makePoxy(doms);</span><br><span class="line"></span><br><span class="line">doms.forEach(function(ele,i)&#123;</span><br><span class="line">	ele.addEventListener(&quot;input&quot;,function()&#123;</span><br><span class="line">			proxy[i]&#x3D;this;	</span><br><span class="line">	&#125;);</span><br><span class="line">	</span><br><span class="line">&#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
  <entry>
    <title>DOM</title>
    <url>/2021/05/16/Web%E5%89%8D%E7%AB%AF/%E4%B8%89%E5%89%91%E5%AE%A2/JavaScript/JavaScript%E5%A4%A7%E6%80%BB%E7%BB%93/DOM/</url>
    <content><![CDATA[<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>DOM å³Document Object Model æ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚å¦‚æœå¯¹HTMLå¾ˆäº†è§£ä½¿ç”¨DOMå¹¶ä¸å¤æ‚ã€‚</p>
<p>é€šè¿‡jsæ“ä½œç•Œé¢å…ƒç´ ï¼Œæ“ä½œçš„å¯¹è±¡å³DOMã€‚</p>
<p>æµè§ˆå™¨åœ¨åŠ è½½é¡µé¢æ—¶ä¼šç”ŸæˆDOMå¯¹è±¡ï¼Œä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨JSæ§åˆ¶é¡µé¢å…ƒç´ ã€‚</p>
<h4 id="æ–‡æ¡£æ¸²æŸ“"><a href="#æ–‡æ¡£æ¸²æŸ“" class="headerlink" title="æ–‡æ¡£æ¸²æŸ“"></a>æ–‡æ¡£æ¸²æŸ“</h4><p>æµè§ˆå™¨ä¼šå°†HTMLæ–‡æœ¬å†…å®¹è¿›è¡Œæ¸²æŸ“ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„JSå¯¹è±¡ï¼ŒåŒæ—¶ä¼šå¯¹ä¸ç¬¦è§„åˆ™çš„æ ‡ç­¾è¿›è¡Œå¤„ç†ã€‚</p>
<ul>
<li>æµè§ˆå™¨ä¼šå°†æ ‡ç­¾è§„èŒƒåæ¸²æŸ“é¡µé¢</li>
<li>ç›®çš„ä¸€è®©é¡µé¢å¯ä»¥æ­£ç¡®å‘ˆç°</li>
<li>ç›®çš„äºŒå¯ä»¥ç”Ÿæˆç»Ÿä¸€çš„JSå¯æ“ä½œå¯¹è±¡</li>
</ul>
<h5 id="æ ‡ç­¾ä¿®å¤"><a href="#æ ‡ç­¾ä¿®å¤" class="headerlink" title="æ ‡ç­¾ä¿®å¤"></a>æ ‡ç­¾ä¿®å¤</h5><p>åœ¨htmlæ–‡ä»¶ä¸­ï¼Œè‹¥åªæœ‰å†…å®¹<code>é˜¿é¡ºç‰¹çƒ¦æ¼</code>è€Œ<strong>æ²¡æœ‰ä»»ä½•æ ‡ç­¾æ—¶</strong>ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä¿®å¤æˆä»¥ä¸‹æ ¼å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢H1æ ‡ç­¾ç»“æŸé”™è¯¯å¹¶ä¸”å±æ€§ä¹Ÿæ²¡æœ‰å¼•å·ï¼Œæµè§ˆå™¨åœ¨æ¸²æŸ“ä¸­ä¼šè¿›è¡Œä¿®å¤</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;h1 id=ashun&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>å¤„ç†åçš„ç»“æœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">    &lt;h1 id=&quot;ashun&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h5 id="è¡¨æ ¼å¤„ç†"><a href="#è¡¨æ ¼å¤„ç†" class="headerlink" title="è¡¨æ ¼å¤„ç†"></a>è¡¨æ ¼å¤„ç†</h5><p>è¡¨æ ¼tabelä¸­ä¸å…è®¸æœ‰å†…å®¹ï¼Œæµè§ˆå™¨åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ä¼šè¿›è¡Œå¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">  é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;th&gt;é˜¿é¡º&lt;/th&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>

<p>æ¸²æŸ“åä¼šæ·»åŠ tbodyæ ‡ç­¾å¹¶å°†tableä¸­çš„å­—ç¬¦ç§»å‡ºåˆ°tableæ ‡ç­¾å¤–éƒ¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tbody&gt;</span><br><span class="line">  	&lt;tr&gt;</span><br><span class="line">      &lt;th&gt;é˜¿é¡º&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">  &lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>

<h5 id="æ ‡ç­¾ç§»åŠ¨"><a href="#æ ‡ç­¾ç§»åŠ¨" class="headerlink" title="æ ‡ç­¾ç§»åŠ¨"></a>æ ‡ç­¾ç§»åŠ¨</h5><p>æ‰€æœ‰å†…å®¹è¦å†™åœ¨BODYæ ‡ç­¾ä¸­ï¼Œä¸‹é¢çš„SCRIPTæ ‡ç­¾å†™åœ¨äº†BODYåé¢ï¼Œæµè§ˆå™¨æ¸²æŸ“åä¹Ÿä¼šè¿›è¡Œå¤„ç†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  console.dir(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ¸²æŸ“åå¤„ç†çš„ç»“æœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    console.dir(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="æ“ä½œæ—¶æœº"><a href="#æ“ä½œæ—¶æœº" class="headerlink" title="æ“ä½œæ—¶æœº"></a>æ“ä½œæ—¶æœº</h4><p>éœ€è¦ä¿è¯æµè§ˆå™¨å·²ç»æ¸²æŸ“äº†å†…å®¹æ‰å¯ä»¥è¯»å–çš„èŠ‚ç‚¹å¯¹è±¡ï¼Œä¸‹ä¾‹å°†æ— æ³•è¯»å–åˆ°èŠ‚ç‚¹å¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.getElementById(&#x27;as&#x27;);</span><br><span class="line">  console.log(node); //null</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;h1 id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡æˆ‘ä»¬å¯ä»¥å°†è„šæœ¬é€šè¿‡äº‹ä»¶æ”¾åœ¨é¡µé¢æ¸²æŸ“å®Œæ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  window.onload = () =&gt; &#123;</span><br><span class="line">    const node = document.getElementById(&#x27;as&#x27;);</span><br><span class="line">    console.log(node);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;h1 id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ–ä½¿ç”¨å®šæ—¶å™¨å°†è„šæœ¬è®¾ç½®ä¸ºå¼‚æ­¥æ‰§è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">   	const node = document.getElementById(&#x27;as&#x27;);</span><br><span class="line">    console.log(node)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;h1 id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸ºè„šæœ¬è®¾ç½®<code>type=&quot;module&quot;</code>,ä¼šå»¶è¿Ÿè§£ææ¨¡å—è„šæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;module&quot;&gt;</span><br><span class="line">   	const node &#x3D; document.getElementById(&#39;as&#39;);</span><br><span class="line">    console.log(node)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;h1 id&#x3D;&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;h1&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ–å°†è„šæœ¬è®¾ç½®åœ¨å¤–éƒ¨æ–‡ä»¶å¹¶ä½¿ç”¨<code>defer/async</code>å±æ€§åŠ è½½ï¼Œå³ä¼šç­‰åˆ°DOMè§£æåè¿Ÿå»¶æ‰§è¡Œ</p>
<ul>
<li>ä»…å¼•å…¥å¤–éƒ¨è„šæœ¬æ—¶æœ‰æ•ˆ</li>
<li>å¤šä¸ªå¤–éƒ¨è„šæœ¬ä½¿ç”¨<code>defer/async</code>å±æ€§åŠ è½½ï¼Œä¸èƒ½å¤Ÿä¿è¯åŠ è½½çš„å‰åé¡ºåºï¼Œå½“æ¨¡å—ä¹‹é—´å­˜åœ¨ä¾èµ–æ—¶è¦æ³¨æ„</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script defer src=&quot;index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;div id=&quot;as&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script async src&#x3D;&quot;index.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;as&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="èŠ‚ç‚¹å¯¹è±¡"><a href="#èŠ‚ç‚¹å¯¹è±¡" class="headerlink" title="èŠ‚ç‚¹å¯¹è±¡"></a>èŠ‚ç‚¹å¯¹è±¡</h4><p>JSä¸­è·å–htmlå†…å®¹çš„å¯¹è±¡ï¼Œç§°ä¸ºDOMèŠ‚ç‚¹å¯¹è±¡ï¼ˆnode)ï¼Œå³ç„¶æ˜¯å¯¹è±¡å°±åŒ…æ‹¬æ“ä½œNODEçš„å±æ€§å’Œæ–¹æ³•</p>
<ul>
<li>åŒ…æ‹¬12ç§ç±»å‹çš„èŠ‚ç‚¹å¯¹è±¡</li>
<li>å¸¸ç”¨äº†èŠ‚ç‚¹ä¸ºdocumentã€æ ‡ç­¾å…ƒç´ èŠ‚ç‚¹ã€æ–‡æœ¬èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹</li>
<li>èŠ‚ç‚¹å‡ç»§æ‰¿è‡ªNodeç±»å‹ï¼Œæ‰€ä»¥æ‹¥æœ‰ç›¸åŒçš„å±æ€§æˆ–æ–¹æ³•</li>
<li>documentæ˜¯DOMæ“ä½œçš„èµ·å§‹èŠ‚ç‚¹</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;body id=&quot;as&quot;&gt;</span><br><span class="line">  &lt;!-- é˜¿é¡ºç‰¹çƒ¦æ¼ --&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	// documentèŠ‚ç‚¹ noteTypeä¸º9</span><br><span class="line">  console.log(document.nodeType)</span><br><span class="line">  </span><br><span class="line">  // ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¸º&lt;!DOCTYPE html&gt;ï¼Œä¸”nodetypeä¸º10</span><br><span class="line">  console.log(document.childNodes.item(0).nodeType)</span><br><span class="line">  </span><br><span class="line">  // body æ˜¯æ ‡ç­¾èŠ‚ç‚¹ nodeTypeä¸º1</span><br><span class="line">  console.log(document.body.nodeType) </span><br><span class="line">  </span><br><span class="line">  // bodyçš„å±æ€§èŠ‚ç‚¹nodeType ä¸º2</span><br><span class="line">  console.log(document.body.attributes[0].nodeType)</span><br><span class="line">  </span><br><span class="line">	// bodyçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæ–‡æœ¬èŠ‚ç‚¹ï¼ŒnodeTypeä¸º3</span><br><span class="line">  console.log(document.body.childNodes.item(0).nodeType)</span><br><span class="line">  </span><br><span class="line">  // bodyçš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ä¸ºæ³¨é‡Šï¼ŒnodeTypeç±»å‹ä¸º8</span><br><span class="line">  console.log(document.body.childNodes[1].nodeType)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h4><p>åœ¨æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ä¸­ä¼šå°†æ–‡æ¡£å†…å®¹ç”Ÿæˆä¸ºä¸åŒçš„å¯¹è±¡ï¼Œæ¥å¯¹ä¸‹ä¾‹ä¸­çš„h1æ ‡ç­¾è¿›è¡Œè®¨è®ºï¼Œå…¶ä»–èŠ‚ç‚¹æƒ…å†µç›¸ä¼¼</p>
<ul>
<li>ä¸åŒç±»å‹èŠ‚ç‚¹ç”±ä¸“æœ‰çš„æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</li>
<li>ä½¿ç”¨console.dir å¯ä»¥æ‰“å°å‡ºDOMèŠ‚ç‚¹å¯¹è±¡ç»“æ„</li>
<li>èŠ‚ç‚¹ä¹Ÿæ˜¯å¯¹è±¡æ‰€ä»¥ä¹Ÿå…·æœ‰JSå¯¹è±¡çš„ç‰¹å¾</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1 id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function prototype(el) &#123;</span><br><span class="line">    console.log(el.__proto__)</span><br><span class="line">    el.__proto__ ? prototype(el.__proto__) : &#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  const node = document.getElementById(&#x27;as&#x27;)</span><br><span class="line">  prototype(node)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆå¾—åˆ°çš„èŠ‚ç‚¹çš„åŸå‹é“¾ä¸º</p>
<table>
<thead>
<tr>
<th>åŸå‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Object</td>
<td>æ ¹å¯¹è±¡</td>
</tr>
<tr>
<td>EventTarget</td>
<td>æä¾›äº‹ä»¶æ”¯æŒ</td>
</tr>
<tr>
<td>Node</td>
<td>æä¾›parentNodeç­‰èŠ‚ç‚¹æ“ä½œæ–¹æ³•</td>
</tr>
<tr>
<td>Element</td>
<td>æä¾›getElementsByTagNameã€querySelectorç­‰æ–¹æ³•</td>
</tr>
<tr>
<td>HTMLElement</td>
<td>æ‰€æœ‰å…ƒç´ çš„åŸºç¡€ç±»ï¼Œæä¾›classNameã€nodeNameç­‰æ–¹æ³•</td>
</tr>
<tr>
<td>HTMLHeadingElement</td>
<td>Headæ ‡é¢˜å…ƒç´ ç±»</td>
</tr>
</tbody></table>
<p>ä¸ºæ ‡ç­¾å…ƒç´ å’Œè¡¨å•å…ƒç´ æ·»åŠ å†…å®¹æˆªå–æ–¹æ³•substr</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">    &lt;div id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; value=&quot;ashuntefannao&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      class Utils &#123;</span><br><span class="line">      	//æ£€æŸ¥æ˜¯å¦ä¸ºè¡¨å•å…ƒç´ </span><br><span class="line">        static isForm(node) &#123;</span><br><span class="line">          return node instanceof HTMLInputElement;</span><br><span class="line">        &#125;</span><br><span class="line">        //è·å–åŸå‹</span><br><span class="line">        static getPrototype(node) &#123;</span><br><span class="line">          let prototypes = [];</span><br><span class="line">          let test = node.__proto__;</span><br><span class="line">          if (test) &#123;</span><br><span class="line">            prototypes.push(test);</span><br><span class="line">            prototypes.push(...Utils.getPrototype(test));</span><br><span class="line">          &#125;</span><br><span class="line">          return prototypes;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      Node.prototype.substr = function (m, n) &#123;</span><br><span class="line">        if (Utils.isForm(this)) &#123;</span><br><span class="line">          return this.value.substr(m, n);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          return this.innerText.substr(m, n);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      //è¡¨å•æµ‹è¯•</span><br><span class="line">      let input = document.querySelector(&quot;input&quot;);</span><br><span class="line">      console.log(input.substr(0, 2));</span><br><span class="line">      console.log(Utils.getPrototype(input));</span><br><span class="line">      //æ ‡ç­¾æµ‹è¯•</span><br><span class="line">      let div = document.querySelector(&quot;div&quot;);</span><br><span class="line">      console.log(div.substr(0, 2));</span><br><span class="line">      console.log(Utils.getPrototype(div));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="å¯¹è±¡ç‰¹å¾"><a href="#å¯¹è±¡ç‰¹å¾" class="headerlink" title="å¯¹è±¡ç‰¹å¾"></a>å¯¹è±¡ç‰¹å¾</h4><p>å³ç„¶DOMä¸æˆ‘ä»¬å…¶ä»–JSåˆ›å»ºçš„å¯¹è±¡ç‰¹å¾ç›¸ä»¿ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä¸ºDOMå¯¹è±¡æ·»åŠ å±æ€§æˆ–æ–¹æ³•ã€‚</p>
<p>å¯¹äºç³»ç»Ÿåº”ç”¨çš„å±æ€§ï¼Œåº”è¯¥æ˜ç¡®å«ä¹‰ä¸åº”è¯¥éšæ„ä½¿ç”¨ï¼Œæ¯”å¦‚IDæ˜¯ç”¨äºæ ‡è¯†å…ƒç´ å”¯ä¸€å±æ€§ï¼Œä¸èƒ½ç”¨äºå…¶ä»–ç›®åœ°</p>
<ul>
<li>åä¼šä¼šè®²åˆ°å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œæ¥è‡ªå®šä¹‰å±æ€§ï¼Œä¸‹é¢çš„ç›´æ¥ä¿®æ”¹IDå±æ€§æ˜¯ä¸å»ºè®®çš„</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let as = document.getElementById(&quot;as&quot;);</span><br><span class="line">as.id = &quot;Ashun&quot;;</span><br><span class="line">console.log(as);</span><br></pre></td></tr></table></figure>

<p>titleç”¨äºé¼ æ ‡åœç•™æ—¶æ˜¾ç¤ºæç¤ºæ–‡æ¡£ä¹Ÿä¸åº”è¯¥ç”¨äºå…¶ä»–ç›®åœ°</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let as = document.getElementById(&#x27;as&#x27;)</span><br><span class="line">  as.title = &#x27;Ashun&#x27;</span><br><span class="line">  console.log(as)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä¸ºå¯¹è±¡åˆå¹¶å±æ€§çš„ç¤ºä¾‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let as = document.getElementById(&#x27;as&#x27;)</span><br><span class="line">  Object.assign(as, &#123;</span><br><span class="line">    color: &#x27;red&#x27;,</span><br><span class="line">    change() &#123;</span><br><span class="line">      this.innerHTML = &#x27;Ashun&#x27;</span><br><span class="line">      this.style.color = this.color</span><br><span class="line">    &#125;,</span><br><span class="line">    onclick() &#123;</span><br><span class="line">      this.change()</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆå¹¶å¯¹è±¡å±æ€§æ›´æ”¹æ ·å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let as = document.getElementById(&#x27;as&#x27;)</span><br><span class="line">  Object.assign(as.style, &#123;</span><br><span class="line">    color: &#x27;white&#x27;,</span><br><span class="line">    backgroundColor: &#x27;red&#x27;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="DOCUMENT"><a href="#DOCUMENT" class="headerlink" title="DOCUMENT"></a>DOCUMENT</h3><p>documentæ˜¯windowå¯¹è±¡çš„å±æ€§ï¼Œæ˜¯ç”±HTMLDocumentç±»å®ç°çš„å®ä¾‹ã€‚</p>
<ul>
<li>documentåŒ…å« DocumentTypeï¼ˆå”¯ä¸€ï¼‰æˆ– htmlå…ƒç´ ï¼ˆå”¯ä¸€ï¼‰æˆ– commentç­‰å…ƒç´ </li>
</ul>
<p>åŸå‹é“¾ä¸­ä¹ŸåŒ…å«Nodeï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æœ‰å…³èŠ‚ç‚¹æ“ä½œçš„æ–¹æ³•å¦‚nodeType/NodeNameç­‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.dir(document.nodeType)</span><br><span class="line">console.dir(document.nodeName)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æœ‰å…³ä½¿ç”¨Documentæ“ä½œcookieä¸æœ¬åœ°å‚¨å­˜å°†ä¼šåœ¨ç›¸åº”ç« èŠ‚ä¸­ä»‹ç»</p>
</blockquote>
<h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><p>ä¸‹é¢é€šè¿‡èŠ‚ç‚¹çš„<code>nodeType</code>æ¥è·å–htmlå…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let html = [...document.childNodes].filter((node) =&gt; &#123;</span><br><span class="line">  if (node.nodeType === 1) &#123;</span><br><span class="line">    return node</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)[0]</span><br><span class="line">console.log(html)</span><br></pre></td></tr></table></figure>

<p>è·å–æ•´ä¸ªhtmlå…ƒç´ ï¼š<code>document.documentElement</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(document.documentElement)</span><br></pre></td></tr></table></figure>

<h4 id="æ–‡æ¡£ä¿¡æ¯"><a href="#æ–‡æ¡£ä¿¡æ¯" class="headerlink" title="æ–‡æ¡£ä¿¡æ¯"></a>æ–‡æ¡£ä¿¡æ¯</h4><p>ä½¿ç”¨<code>title</code>è·å–å’Œè®¾ç½®æ–‡æ¡£æ ‡é¢˜</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">//è·å–æ–‡æ¡£æ ‡é¢˜å†…å®¹</span><br><span class="line">console.log(document.title)</span><br><span class="line"></span><br><span class="line">//è®¾ç½®æ–‡æ¡£æ ‡ç­¾å†…å®¹</span><br><span class="line">document.title = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼-Ashun&#x27;</span><br></pre></td></tr></table></figure>

<p>è·å–<code>body</code>æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">document.body</span><br></pre></td></tr></table></figure>

<p>è·å–å½“å‰<code>URL</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(document.URL)</span><br></pre></td></tr></table></figure>

<p><code>domain</code>è·å–åŸŸå</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">document.domain</span><br></pre></td></tr></table></figure>

<p><code>referrer</code>è·å–æ¥æºåœ°å€</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">console.log(document.referrer)</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="èŠ‚ç‚¹å±æ€§"><a href="#èŠ‚ç‚¹å±æ€§" class="headerlink" title="èŠ‚ç‚¹å±æ€§"></a>èŠ‚ç‚¹å±æ€§</h3><p>ä¸åŒç±»å‹çš„èŠ‚ç‚¹æ‹¥æœ‰ä¸åŒå±æ€§ï¼Œä¸‹é¢æ˜¯èŠ‚ç‚¹å±æ€§çš„è¯´æ˜ä¸ç¤ºä¾‹</p>
<h4 id="nodeType"><a href="#nodeType" class="headerlink" title="nodeType"></a>nodeType</h4><p>nodeTypeæŒ‡ä»¥æ•°å€¼è¿”å›èŠ‚ç‚¹ç±»å‹</p>
<table>
<thead>
<tr>
<th>nodeType</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>å…ƒç´ èŠ‚ç‚¹</td>
</tr>
<tr>
<td>2</td>
<td>å±æ€§èŠ‚ç‚¹</td>
</tr>
<tr>
<td>3</td>
<td>æ–‡æœ¬èŠ‚ç‚¹</td>
</tr>
<tr>
<td>8</td>
<td>æ³¨é‡ŠèŠ‚ç‚¹</td>
</tr>
<tr>
<td>9</td>
<td>documentå¯¹è±¡</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ˜¯èŠ‚ç‚¹nodeTypeçš„ç¤ºä¾‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;é˜¿é¡º&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;shun&quot;&gt;SHUN&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;ashun&quot;&gt;&lt;!-- é˜¿é¡ºç‰¹çƒ¦æ¼ --&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node &#x3D; document.querySelector(&#96;#app&#96;)</span><br><span class="line">  console.log(node.nodeType) &#x2F;&#x2F;1</span><br><span class="line">  console.log(node.firstChild);&#x2F;&#x2F; #text&#123;â€¦&#125;</span><br><span class="line">  console.log(node.firstChild.nodeType) &#x2F;&#x2F;3</span><br><span class="line"></span><br><span class="line">  const as &#x3D; document.querySelector(&#39;.ashun&#39;)</span><br><span class="line">  console.log(as.childNodes[0].nodeType) &#x2F;&#x2F;8</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡çš„åŸå‹æ£€æµ‹èŠ‚ç‚¹ç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">let h1 = document.querySelector(&#x27;h1&#x27;)</span><br><span class="line">let p = document.querySelector(&#x27;p&#x27;)</span><br><span class="line">console.log(h1 instanceof HTMLHeadingElement) //true</span><br><span class="line">console.log(p instanceof HTMLHeadingElement) //false</span><br><span class="line">console.log(p instanceof Element) //true</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢é€’å½’è·å–æ‰€æœ‰æ ‡ç­¾å…ƒç´ ï¼Œå¹¶è¿”å›ç¬¦åˆhtmlåµŒå¥—ç»“æ„çš„æ•°æ®ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">  &lt;div id=&quot;as&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li&gt;</span><br><span class="line">        &lt;strong&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/strong&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;p1&gt;ashun&lt;span&gt;ashuna&lt;/span&gt;&lt;/p1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">				function childTag(node) &#123;</span><br><span class="line">          let result = [];</span><br><span class="line">          [...node.childNodes].map((v) =&gt; &#123;</span><br><span class="line">            if (v.nodeType === 1) &#123;</span><br><span class="line">              result.push(&#123; node: v, childs: childTag(v) &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">          return result;</span><br><span class="line">        &#125;</span><br><span class="line">        let as = document.getElementById(&quot;as&quot;);</span><br><span class="line">        console.log(childTag(as));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¼˜åŒ–ï¼šå½“æ²¡æœ‰å­èŠ‚ç‚¹æ—¶ï¼Œchildsä¸ºnull</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€¦â€¦</span><br><span class="line">result.push(&#123; node: v, childs: childTag(v).length ? childTag(v) : null &#125;);</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="nodeName"><a href="#nodeName" class="headerlink" title="nodeName"></a>nodeName</h4><p>nodeNameæŒ‡å®šèŠ‚ç‚¹çš„åç§°</p>
<ul>
<li>è·å–å€¼ä¸ºå¤§å†™å½¢å¼</li>
</ul>
<table>
<thead>
<tr>
<th>nodeTypeç§ç±»</th>
<th>nodeNameè¿”å›ç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>å…ƒç´ åç§°å¦‚DIV</td>
</tr>
<tr>
<td>2</td>
<td>å±æ€§åç§°</td>
</tr>
<tr>
<td>3</td>
<td>#text</td>
</tr>
<tr>
<td>8</td>
<td>#comment</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ¥æ“ä½œ nodeName</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;é˜¿é¡º&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;ashun&quot;&gt;&lt;!-- é˜¿é¡ºç‰¹çƒ¦æ¼ --&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`#app`)</span><br><span class="line">  console.log(node.nodeName) //DIV</span><br><span class="line">  console.log(node.firstChild.nodeName) //#text</span><br><span class="line"></span><br><span class="line">  const as = document.querySelector(&#x27;.ashun&#x27;)</span><br><span class="line">  console.log(as.childNodes[0].nodeName) //#comment</span><br><span class="line">  console.log(as.attributes.class.nodeName);//calss</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="tagName"><a href="#tagName" class="headerlink" title="tagName"></a>tagName</h4><p>nodeNameå¯ä»¥è·å–ä¸é™äºèŠ‚ç‚¹ç§ç±»çš„åç§°ï¼ŒtagNameä»…èƒ½ç”¨äºè·å–æ ‡ç­¾å…ƒç´ èŠ‚ç‚¹åç§°</p>
<ul>
<li>tagNameå­˜åœ¨äºElementç±»çš„åŸå‹ä¸­</li>
<li>å…ƒç´ ä¸Šä½¿ç”¨tagNameä¸nodeNameæ— å¼‚</li>
<li>è·å–å€¼ä¸ºå¤§å†™å½¢å¼</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;ashun&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(&#x27;h1&#x27;)</span><br><span class="line">  console.log(node.tagName) //H1</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="nodeValue"><a href="#nodeValue" class="headerlink" title="nodeValue"></a>nodeValue</h4><p>ä½¿ç”¨nodeValueæˆ–dataå‡½æ•°è·å–èŠ‚ç‚¹å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨èŠ‚ç‚¹çš„dataå±æ€§è·å–èŠ‚ç‚¹å†…å®¹</p>
<table>
<thead>
<tr>
<th>nodeType</th>
<th>nodeValue</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>å±æ€§å€¼</td>
</tr>
<tr>
<td>3</td>
<td>æ–‡æœ¬å†…å®¹</td>
</tr>
<tr>
<td>8</td>
<td>æ³¨é‡Šå†…å®¹</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ¥çœ‹nodeValueçš„ç¤ºä¾‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;as&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;ashun&quot;&gt;&lt;!-- é˜¿é¡º --&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`#app`)</span><br><span class="line">  console.log(node.nodeValue) //null</span><br><span class="line">  console.log(node.innerHTML)</span><br><span class="line"></span><br><span class="line">  const as = document.querySelector(&#x27;.as&#x27;)</span><br><span class="line">  console.log(as.firstChild.nodeValue) //ASHUN</span><br><span class="line"></span><br><span class="line">  const ashun = document.querySelector(&#x27;.ashun&#x27;)</span><br><span class="line">  console.log(ashun.childNodes[0].nodeValue) // é˜¿é¡º</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨dataå±æ€§è·å–èŠ‚ç‚¹å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  console.log(app.childNodes[0].data)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="æ ‘çŠ¶èŠ‚ç‚¹"><a href="#æ ‘çŠ¶èŠ‚ç‚¹" class="headerlink" title="æ ‘çŠ¶èŠ‚ç‚¹"></a>æ ‘çŠ¶èŠ‚ç‚¹</h4><p>ä¸‹é¢è·å–æ ‡ç­¾æ ‘çŠ¶ç»“æ„å³å¤šçº§æ ‡ç­¾ç»“æ„ï¼Œæ¥åŠ æ·±ä¸€ä¸‹nodeType/nodeNameç­‰çŸ¥è¯†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function element(node) &#123;</span><br><span class="line">        if (node.nodeType != 1) return</span><br><span class="line"></span><br><span class="line">        return Array.from(node.childNodes)</span><br><span class="line">            .filter(node =&gt; node.nodeType == 1)</span><br><span class="line">            .map(node =&gt; (&#123;</span><br><span class="line">                name: node.nodeName,</span><br><span class="line">                children: element(node),</span><br><span class="line">            &#125;))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let nodes = element(document.documentElement)</span><br><span class="line">    console.log(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="èŠ‚ç‚¹é›†åˆ"><a href="#èŠ‚ç‚¹é›†åˆ" class="headerlink" title="èŠ‚ç‚¹é›†åˆ"></a>èŠ‚ç‚¹é›†åˆ</h3><p>Nodelistä¸HTMLCollectionéƒ½æ˜¯åŒ…å«å¤šä¸ªèŠ‚ç‚¹æ ‡ç­¾çš„é›†åˆï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</p>
<ul>
<li><code>getElementsBy...</code>ç­‰æ–¹æ³•ã€<code>node.children</code> è¿”å›çš„æ˜¯HTMLCollection</li>
<li><code>querySelectorAll </code>ã€<code>node.childNodes</code> è¿”å›çš„æ˜¯ NodeList</li>
<li>äºŒè€…éƒ½æ˜¯<code>ç±»æ•°ç»„</code>ç»“æ„ï¼Œå¯ç›´æ¥é€šè¿‡ä¸‹æ ‡è®¿é—®domï¼Œä½†ä¸èƒ½ç›´æ¥ä½¿ç”¨Arrayçš„æ–¹æ³•ï¼ŒäºŒè€…éƒ½å¯ä»¥è¿­ä»£ï¼ŒäºŒè€…ä¹Ÿå­˜åœ¨å·®å¼‚</li>
</ul>
<p><strong>HTMLCollection</strong></p>
<ul>
<li>ä¸å¯ä½¿ç”¨<code>for/each</code>éå†</li>
<li>åªæ˜¯å…ƒç´ é›†åˆï¼ŒåŒ…å«domå…ƒç´ </li>
</ul>
<p><strong>NodeList</strong></p>
<ul>
<li>å¯ä½¿ç”¨<code>for/each</code>éå†</li>
<li>querySelectorAll è¿”å›çš„è™½ç„¶æ˜¯ NodeList ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å…ƒç´ é›†åˆï¼ˆåªåŒ…å«å…ƒç´ ï¼‰ï¼Œå¹¶ä¸”æ˜¯é™æ€çš„ï¼ˆå…¶ä»–æ¥å£è¿”å›çš„HTMLCollectionå’ŒNodeListéƒ½æ˜¯liveçš„ï¼‰</li>
<li>NodeListæ˜¯èŠ‚ç‚¹é›†åˆï¼ˆå¯ä»¥åŒ…å«å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åŒ…å«æ–‡æœ¬èŠ‚ç‚¹ï¼‰</li>
</ul>
<p>nodeliståŒ…å«æ–‡æœ¬èŠ‚ç‚¹</p>
<img src="C:/Users/å¼ ä½³é¡º/Desktop/study1.assets/image-20210411170505383.png" alt="image-20210411170505383" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;a&quot;&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;cc&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">console.log(document.getElementsByClassName(&#39;a&#39;)[0].childNodes);&#x2F;&#x2F;nodelist</span><br><span class="line">console.log(document.getElementsByClassName(&#39;a&#39;)[0].children);&#x2F;&#x2F;Htmlcollection</span><br></pre></td></tr></table></figure>

<p>HTMLCollectionä¸å¯ä½¿ç”¨for/eachéå†æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let htmlCollection &#x3D; document.getElementsByClassName(&quot;shun&quot;);</span><br><span class="line">let nodeList &#x3D; document.querySelectorAll(&quot;.shun&quot;);</span><br><span class="line"></span><br><span class="line">nodeList.forEach((v) &#x3D;&gt; console.log(v));</span><br><span class="line">htmlCollection.forEach((v) &#x3D;&gt; console.log(v)); &#x2F;&#x2F;forEach is not a function</span><br></pre></td></tr></table></figure>



<h4 id="length"><a href="#length" class="headerlink" title="length"></a>length</h4><p>Nodelistä¸HTMLCollectionåŒ…å«lengthå±æ€§ï¼Œè®°å½•äº†èŠ‚ç‚¹å…ƒç´ çš„æ•°é‡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">    console.log(nodes[i])</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="è½¬æ¢æ•°ç»„"><a href="#è½¬æ¢æ•°ç»„" class="headerlink" title="è½¬æ¢æ•°ç»„"></a>è½¬æ¢æ•°ç»„</h4><p>æœ‰æ—¶ä½¿ç”¨æ•°ç»„æ–¹æ³•æ¥æ“ä½œèŠ‚ç‚¹é›†åˆï¼Œè¿™å°±éœ€è¦å°†èŠ‚ç‚¹é›†åˆè½¬åŒ–ä¸ºæ•°ç»„ç±»å‹ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼å¯ä»¥å®ç°ã€‚</p>
<ol>
<li>ä½¿ç”¨callè°ƒç”¨åŸå‹æ–¹æ³•</li>
</ol>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let elements = document.getElementsByTagName(&#x27;h1&#x27;)</span><br><span class="line">  console.log(elements)</span><br><span class="line">  let arr = Array.prototype.slice.call(elements, 0)</span><br><span class="line">  console.log(arr)</span><br><span class="line">  arr.map((item) =&gt; &#123;</span><br><span class="line">    item.style.color = &#x27;red&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨Array.fromè½¬æ¢</li>
</ol>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let elements = document.getElementsByTagName(&#x27;h1&#x27;)</span><br><span class="line">  console.log(elements)</span><br><span class="line">  console.log(Array.from(elements))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä¸‹é¢ä½¿ç”¨ç‚¹è¯­æ³•è½¬æ¢èŠ‚ç‚¹ä¸ºæ•°ç»„</li>
</ol>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let elements = document.getElementsByTagName(&#x27;h1&#x27;)</span><br><span class="line">  console.log(elements)</span><br><span class="line">  ;[...elements].map((item) =&gt; &#123;</span><br><span class="line">    item.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">      this.style.textTransform = &#x27;uppercase&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="item"><a href="#item" class="headerlink" title="item"></a>item</h4><p>Nodelistä¸HTMLCollectionæä¾›äº†item()æ–¹æ³•æ¥æ ¹æ®ç´¢å¼•è·å–å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  console.dir(nodes.item(0))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ•°ç»„ç´¢å¼•è·å–æ›´æ–¹ä¾¿</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  console.dir(nodes[0])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="namedItem"><a href="#namedItem" class="headerlink" title="namedItem"></a>namedItem</h4><p>HTMLCollectionå…·æœ‰namedItemæ–¹æ³•å¯ä»¥æŒ‰nameæˆ–idå±æ€§æ¥è·å–å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div name=&quot;as&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  console.dir(nodes.namedItem(&#x27;as&#x27;))</span><br><span class="line">   console.dir(nodes.namedItem(&#x27;astfn&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å±æ€§æ–¹å¼è·å–</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div name=&quot;as&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  console.dir(nodes[&#x27;as&#x27;]);</span><br><span class="line">  console.dir(nodes.astfn)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å³HTMLCollectionï¼Œå¯ä»¥é€šè¿‡å±æ€§çš„å½¢å¼ï¼Œè·å–å¯¹åº” <code>ç´¢å¼•ã€idå±æ€§ã€nameå±æ€§</code> çš„domå…ƒç´ ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;h1 id&#x3D;&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;h1 name&#x3D;&quot;as&quot;&gt;ASHUN&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let items &#x3D; document.getElementsByTagName(&#39;h1&#39;)</span><br><span class="line">  console.log(items[0])</span><br><span class="line">  console.log(items[&quot;astfn&quot;])</span><br><span class="line">  console.log(items[&#39;as&#39;])</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å¸¸ç”¨å…ƒç´ "><a href="#å¸¸ç”¨å…ƒç´ " class="headerlink" title="å¸¸ç”¨å…ƒç´ "></a>å¸¸ç”¨å…ƒç´ </h4><p>ç³»ç»Ÿé’ˆå¯¹ç‰¹å®šæ ‡ç­¾æä¾›äº†å¿«é€Ÿé€‰æ‹©çš„æ–¹å¼</p>
<p>ä¸‹é¢å±•ç¤ºçš„æ˜¯è·å–æ‰€æœ‰aæ ‡ç­¾<code>document.links</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;a href=&quot;&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/a&gt;</span><br><span class="line">  &lt;a href=&quot;&quot;&gt;Ashuntefannao&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.links;</span><br><span class="line">  console.dir(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è·å–ç‰¹å®šå…ƒç´ æ–¹æ³•å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>document.documentElement</td>
<td>æ–‡æ¡£èŠ‚ç‚¹å³htmlæ ‡ç­¾èŠ‚ç‚¹</td>
</tr>
<tr>
<td>document.body</td>
<td>bodyæ ‡ç­¾èŠ‚ç‚¹</td>
</tr>
<tr>
<td>document.head</td>
<td>headæ ‡ç­¾èŠ‚ç‚¹</td>
</tr>
<tr>
<td>document.links</td>
<td>è¶…é“¾æ¥é›†åˆ</td>
</tr>
<tr>
<td>document.anchors</td>
<td>æ‰€æœ‰é”šç‚¹é›†åˆ</td>
</tr>
<tr>
<td>document.forms</td>
<td>formè¡¨å•é›†åˆ</td>
</tr>
<tr>
<td>document.images</td>
<td>å›¾ç‰‡é›†åˆ</td>
</tr>
</tbody></table>
<hr>
<h3 id="èŠ‚ç‚¹å…³ç³»"><a href="#èŠ‚ç‚¹å…³ç³»" class="headerlink" title="èŠ‚ç‚¹å…³ç³»"></a>èŠ‚ç‚¹å…³ç³»</h3><p>èŠ‚ç‚¹æ˜¯çˆ¶å­çº§åµŒå¥—ä¸å‰åå…„å¼Ÿå…³ç³»ï¼Œä½¿ç”¨DOMæä¾›çš„APIå¯ä»¥è·å–è¿™ç§å…³ç³»çš„å…ƒç´ ã€‚</p>
<ul>
<li><strong>æ–‡æœ¬å’Œæ³¨é‡Šä¹Ÿæ˜¯èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¹Ÿåœ¨åŒ¹é…ç»“æœä¸­</strong></li>
<li>è‹¥åªæƒ³è·å–domå…ƒç´ ï¼Œè€Œä¸å¸Œæœ›è·å¾—å…¶å®ƒç±»å‹çš„èŠ‚ç‚¹ï¼Œå¯ä»¥å‚è€ƒåç»­çš„<strong>å…ƒç´ å…³ç³»</strong></li>
</ul>
<h4 id="åŸºç¡€çŸ¥è¯†-1"><a href="#åŸºç¡€çŸ¥è¯†-1" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h4><p>èŠ‚ç‚¹æ˜¯æ ¹æ®HTMLå†…å®¹äº§ç”Ÿçš„ï¼Œæ‰€ä»¥ä¹Ÿå­˜åœ¨çˆ¶å­ã€å…„å¼Ÿã€ç¥–å…ˆã€åä»£ç­‰èŠ‚ç‚¹å…³ç³»ï¼Œä¸‹ä¾‹ä¸­çš„ä»£ç å°±ä¼šäº§ç”Ÿè¿™ç§å¤šé‡å…³ç³»</p>
<ul>
<li>h1ä¸ulæ˜¯å…„å¼Ÿå…³ç³»</li>
<li>spanä¸liæ˜¯çˆ¶å­å…³ç³»</li>
<li>ulä¸spanæ˜¯åä»£å…³ç³»</li>
<li>spanä¸ulæ˜¯ç¥–å…ˆå…³ç³»</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;span&gt;Ashuntefannao&lt;/span&gt;</span><br><span class="line">    &lt;strong&gt;ashun&lt;/strong&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯é€šè¿‡èŠ‚ç‚¹å…³ç³»è·å–ç›¸åº”å…ƒç´ çš„æ–¹æ³•</p>
<table>
<thead>
<tr>
<th>èŠ‚ç‚¹å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>childNodes</td>
<td>è·å–æ‰€æœ‰å­èŠ‚ç‚¹</td>
</tr>
<tr>
<td>parentNode</td>
<td>è·å–çˆ¶èŠ‚ç‚¹</td>
</tr>
<tr>
<td>firstChild</td>
<td>å­èŠ‚ç‚¹ä¸­ç¬¬ä¸€ä¸ª</td>
</tr>
<tr>
<td>lastChild</td>
<td>å­èŠ‚ç‚¹ä¸­æœ€åä¸€ä¸ª</td>
</tr>
<tr>
<td>nextSibling</td>
<td>ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</td>
</tr>
<tr>
<td>previousSibling</td>
<td>ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</td>
</tr>
</tbody></table>
<p>å­èŠ‚ç‚¹é›†åˆä¸é¦–ã€å°¾èŠ‚ç‚¹è·å–</p>
<ul>
<li>æ–‡æœ¬ä¹Ÿæ˜¯nodeæ‰€ä»¥ä¹Ÿä¼šåœ¨åŒ¹é…å½“ä¸­</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;SHUN&lt;/div&gt;</span><br><span class="line">  &lt;div&gt;é˜¿é¡º&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`#app`)</span><br><span class="line">  console.log(node.childNodes) //æ‰€æœ‰å­èŠ‚ç‚¹</span><br><span class="line">  console.log(node.firstChild) //ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼ˆæ¢è¡Œç¬¦å’Œç©ºç™½å­—ç¬¦ï¼‰</span><br><span class="line">  console.log(node.lastChild) //æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ä¹Ÿæ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼ˆæ¢è¡Œç¬¦å’Œç©ºç™½å­—ç¬¦ï¼‰</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;astfn&quot; data&#x3D;&quot;as&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;shun&quot;&gt;SHUN&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;ashun&quot;&gt;é˜¿é¡º&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node &#x3D; app.querySelector(&#96;.shun&#96;)</span><br><span class="line">  console.log(node.parentNode) &#x2F;&#x2F;div#app</span><br><span class="line">  console.log(node.childNodes) &#x2F;&#x2F;æ–‡æœ¬èŠ‚ç‚¹</span><br><span class="line">  console.log(node.nextSibling) &#x2F;&#x2F;ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼ˆæ¢è¡Œç¬¦å’Œç©ºç™½å­—ç¬¦ï¼‰</span><br><span class="line">  console.log(node.previousSibling) &#x2F;&#x2F;ä¸Šä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿæ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼ˆæ¢è¡Œç¬¦å’Œç©ºç™½å­—ç¬¦ï¼‰</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>documentæ˜¯é¡¶çº§èŠ‚ç‚¹htmlæ ‡ç­¾çš„çˆ¶èŠ‚ç‚¹æ˜¯document</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(document.documentElement.parentNode === document)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¾‹æ˜¯æŸ¥æ‰¾å…ƒç´ çš„æ‰€æœ‰çˆ¶èŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;as&quot;&gt;ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function parentNodes(node) &#123;</span><br><span class="line">    let nodes &#x3D; []</span><br><span class="line">    while ((node &#x3D; node.parentNode)) nodes.push(node)</span><br><span class="line">    return nodes</span><br><span class="line">  &#125;</span><br><span class="line">  const el &#x3D; document.getElementById(&#39;as&#39;)</span><br><span class="line">  const nodes &#x3D; parentNodes(el)</span><br><span class="line">  console.log(nodes)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>è·å–æ‰€æœ‰çš„åä»£å…ƒç´ SPANçš„å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;span&gt;Ashuntefannao&lt;/span&gt;</span><br><span class="line">  &lt;h2&gt;</span><br><span class="line">    &lt;span&gt;ASHUN&lt;/span&gt;</span><br><span class="line">  &lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function getChildDom(parent, dom) &#123;</span><br><span class="line">  	let doms = [];</span><br><span class="line">  	for (let elem of parent.childNodes) &#123;</span><br><span class="line">   		if (elem.nodeName === dom.toUpperCase()) doms.push(elem);</span><br><span class="line">    	doms = doms.concat(getChildDom(elem, dom));</span><br><span class="line">      // doms.push(...getChildDom(elem, dom));</span><br><span class="line">  	&#125;</span><br><span class="line">   	return doms;</span><br><span class="line">  &#125;</span><br><span class="line">  const app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  const nodes = getChildNodeByName(app, &#x27;span&#x27;)</span><br><span class="line">  console.log(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="å…ƒç´ å…³ç³»"><a href="#å…ƒç´ å…³ç³»" class="headerlink" title="å…ƒç´ å…³ç³»"></a>å…ƒç´ å…³ç³»</h3><p>ä½¿ç”¨childNodesç­‰è·å–çš„èŠ‚ç‚¹<code>åŒ…æ‹¬æ–‡æœ¬ä¸æ³¨é‡Š</code>ï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ï¼Œç³»ç»Ÿä¹Ÿæä¾›äº†åªæ“ä½œå…ƒç´ çš„æ–¹æ³•ã€‚</p>
<table>
<thead>
<tr>
<th>èŠ‚ç‚¹å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>parentElement</td>
<td>è·å–çˆ¶å…ƒç´ </td>
</tr>
<tr>
<td>children</td>
<td>è·å–æ‰€æœ‰å­å…ƒç´ </td>
</tr>
<tr>
<td>childElementCount</td>
<td>å­æ ‡ç­¾å…ƒç´ çš„æ•°é‡</td>
</tr>
<tr>
<td>firstElementChild</td>
<td>ç¬¬ä¸€ä¸ªå­æ ‡ç­¾</td>
</tr>
<tr>
<td>lastElementChild</td>
<td>æœ€åä¸€ä¸ªå­æ ‡ç­¾</td>
</tr>
<tr>
<td>previousElementSibling</td>
<td>ä¸Šä¸€ä¸ªå…„å¼Ÿæ ‡ç­¾</td>
</tr>
<tr>
<td>nextElementSibling</td>
<td>ä¸‹ä¸€ä¸ªå…„å¼Ÿæ ‡ç­¾</td>
</tr>
<tr>
<td>contains</td>
<td>è¿”å›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­ä¼ å…¥çš„èŠ‚ç‚¹æ˜¯å¦ä¸ºè¯¥èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹</td>
</tr>
</tbody></table>
<p>ä»¥ä¸‹å®ä¾‹å±•ç¤ºæ€æ ·é€šè¿‡å…ƒç´ å…³ç³»è·å–å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;ashun&quot;&gt;&lt;!-- é˜¿é¡º --&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(`#app`)</span><br><span class="line">  console.log(app.children) //æ‰€æœ‰å­å…ƒç´ </span><br><span class="line">  console.log(app.firstElementChild) //ç¬¬ä¸€ä¸ªå­å…ƒç´  div.astfn</span><br><span class="line">  console.log(app.lastElementChild) //æœ€åä¸€ä¸ªå­å…ƒç´  div.ashun</span><br><span class="line"></span><br><span class="line">  const as = document.querySelector(&#x27;.ashun&#x27;)</span><br><span class="line">  console.log(as.parentElement) //çˆ¶å…ƒç´  div#app</span><br><span class="line"></span><br><span class="line">  console.log(as.previousElementSibling) //ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´  div.astfn</span><br><span class="line">  console.log(as.nextElementSibling) //ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´  div.ashun</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>htmlæ ‡ç­¾çš„çˆ¶èŠ‚ç‚¹æ˜¯documentï¼Œä½†çˆ¶æ ‡ç­¾èŠ‚ç‚¹ä¸å­˜åœ¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(document.documentElement.parentNode === document) //true</span><br><span class="line">  console.log(document.documentElement.parentElement) //null</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="é€‰å–èŠ‚ç‚¹"><a href="#é€‰å–èŠ‚ç‚¹" class="headerlink" title="é€‰å–èŠ‚ç‚¹"></a>é€‰å–èŠ‚ç‚¹</h3><p>ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„é€‰æ‹©èŠ‚ç‚¹ï¼ˆNODEï¼‰çš„æ“ä½œæ–¹æ³•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä¸€ä¸€è¯´æ˜</p>
<h4 id="getElementById"><a href="#getElementById" class="headerlink" title="getElementById"></a>getElementById</h4><p>ä½¿ç”¨IDé€‰æ‹©æ˜¯éå¸¸æ–¹ä¾¿çš„é€‰æ‹©å…·æœ‰IDå€¼çš„èŠ‚ç‚¹å…ƒç´ ï¼Œä½†æ³¨æ„IDåº”è¯¥æ˜¯å”¯ä¸€çš„</p>
<ul>
<li>åªèƒ½é€šè¿‡documentå¯¹è±¡è°ƒç”¨</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;as&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.getElementById(&#x27;as&#x27;)</span><br><span class="line">  console.dir(node)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è‡ªå®šä¹‰å‡½æ•°æ¥æ”¯æŒæ‰¹é‡æŒ‰IDé€‰æ‹©å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;as&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function getByElementIds(ids) &#123;</span><br><span class="line">    return ids.map((id) =&gt; document.getElementById(id))</span><br><span class="line">  &#125;</span><br><span class="line">  let nodes = getByElementIds([&#x27;as&#x27;, &#x27;app&#x27;])</span><br><span class="line">  console.dir(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ‹¥æœ‰IDçš„å…ƒç´ å¯åšä¸ºWINDOWçš„å±æ€§è¿›è¡Œè®¿é—®</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  console.log(app.innerHTML)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå£°æ˜äº†å˜é‡è¿™ç§è®¿é—®æ–¹å¼å°†æ— æ•ˆï¼Œæ‰€ä»¥å¹¶ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼è®¿é—®å¯¹è±¡</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = &#x27;ashun&#x27;</span><br><span class="line">  console.log(app.innerHTML)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>getElementByIdåªèƒ½é€šè¿‡documentè®¿é—®ï¼Œä¸èƒ½é€šè¿‡å…ƒç´ è¯»å–æ‹¥æœ‰IDçš„å­å…ƒç´ ï¼Œä¸‹é¢çš„æ“ä½œå°†äº§ç”Ÿé”™è¯¯</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">  &lt;div id=&quot;as&quot;&gt;é˜¿é¡º&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  const node = app.getElementById(&#x27;as&#x27;) //app.getElementById is not a function</span><br><span class="line">  console.log(node)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="getElementByName"><a href="#getElementByName" class="headerlink" title="getElementByName"></a>getElementByName</h4><p>ä½¿ç”¨getElementByNameè·å–<strong>è®¾ç½®äº†nameå±æ€§çš„å…ƒç´ </strong>ï¼Œè™½ç„¶åœ¨DIVç­‰å…ƒç´ ä¸ŠåŒæ ·æœ‰æ•ˆï¼Œä½†ä¸€èˆ¬ç”¨æ¥å¯¹è¡¨å•å…ƒç´ è¿›è¡Œæ“ä½œæ—¶ä½¿ç”¨ã€‚</p>
<ul>
<li>è¿”å›NodeListèŠ‚ç‚¹åˆ—è¡¨å¯¹è±¡</li>
<li>NodeListé¡ºåºä¸ºå…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„é¡ºåº</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const div = document.getElementsByName(&#x27;astfn&#x27;)</span><br><span class="line">  console.dir(div)</span><br><span class="line">  const input = document.getElementsByName(&#x27;username&#x27;)</span><br><span class="line">  console.dir(input)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="getElementsByTagName"><a href="#getElementsByTagName" class="headerlink" title="getElementsByTagName"></a>getElementsByTagName</h4><p>ä½¿ç”¨getElementsByTagNameç”¨äºæŒ‰æ ‡ç­¾åè·å–å…ƒç´ </p>
<ul>
<li>è¿”å›HTMLCollectionå…ƒç´ é›†åˆ</li>
<li>æ˜¯ä¸åŒºåˆ†å¤§å°çš„è·å–</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const divs = document.getElementsByTagName(&#x27;DIV&#x27;)</span><br><span class="line">  console.dir(divs)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>é€šé…ç¬¦</strong></p>
<p>å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ ***** è·å–æ‰€æœ‰å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;*&#x27;)</span><br><span class="line">  console.dir(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="getElementsByClassName"><a href="#getElementsByClassName" class="headerlink" title="getElementsByClassName"></a>getElementsByClassName</h4><p>getElementsByClassNameç”¨äºæŒ‰classæ ·å¼å±æ€§å€¼è·å–å…ƒç´ é›†åˆ</p>
<ul>
<li>è®¾ç½®å¤šä¸ªå€¼æ—¶é¡ºåºæ— å…³ï¼ŒæŒ‡åŒ…å«è¿™äº›classå±æ€§çš„å…ƒç´ </li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;astfn shun title&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByClassName(&#x27;shun&#x27;)</span><br><span class="line">  console.log(nodes.length) //2</span><br><span class="line"></span><br><span class="line">  //æŸ¥æ‰¾åŒ…å«classå±æ€§åŒ…æ‹¬ astfn ä¸ shun çš„å…ƒç´ </span><br><span class="line">  const tags = document.getElementsByClassName(&#x27;astfn shun&#x27;)</span><br><span class="line">  console.log(tags.length) //1</span><br></pre></td></tr></table></figure>



<h3 id="éå†èŠ‚ç‚¹"><a href="#éå†èŠ‚ç‚¹" class="headerlink" title="éå†èŠ‚ç‚¹"></a>éå†èŠ‚ç‚¹</h3><h4 id="length-1"><a href="#length-1" class="headerlink" title="length"></a>length</h4><p>ç»“åˆèŠ‚ç‚¹åˆ—è¡¨çš„lengthå±æ€§ï¼Œä½¿ç”¨foréå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div name=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div name=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  for (let i = 0; i &lt; nodes.length; i++) &#123;</span><br><span class="line">    console.log(nodes[i])</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>NodelistèŠ‚ç‚¹åˆ—è¡¨å¯ä»¥ä½¿ç”¨forEachæ¥è¿›è¡Œéå†ï¼Œä½†HTMLCollectionåˆ™ä¸å¯ä»¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div name=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.querySelectorAll(&#x27;div&#x27;)</span><br><span class="line">  nodes.forEach((node, key) =&gt; &#123;</span><br><span class="line">    console.log(node)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>èŠ‚ç‚¹é›†åˆå¯¹è±¡ä¸æ˜¯Arrayï¼ŒåŸå‹ä¸­ä¸å­˜åœ¨mapæ–¹æ³•ï¼Œä½†å¯ä»¥å€Ÿç”¨Arrayçš„åŸå‹mapæ–¹æ³•å®ç°éå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div name=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.querySelectorAll(&#x27;div&#x27;)</span><br><span class="line">  Array.prototype.map.call(nodes, (node, index) =&gt; &#123;</span><br><span class="line">    console.log(node, index)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h4><p>Array.fromç”¨äºå°†ç±»æ•°ç»„è½¬ä¸ºç»„ä»¶ï¼Œå¹¶æä¾›ç¬¬äºŒä¸ªè¿­ä»£å‡½æ•°ã€‚æ‰€ä»¥å¯ä»¥å€Ÿç”¨Array.fromå®ç°éå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div name=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  Array.from(nodes, (node, index) =&gt; &#123;</span><br><span class="line">    console.log(node, index)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å…ˆä½¿ç”¨Array.fromå°†èŠ‚ç‚¹åˆ—è¡¨è½¬ä¸ºArrayï¼Œå†ä½¿ç”¨Arrayçš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div name&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes &#x3D; document.getElementsByTagName(&#39;div&#39;)</span><br><span class="line">  let astfn&#x3D;Array.from(nodes).filter(v&#x3D;&gt;v.id&#x3D;&#x3D;&#x3D;&quot;astfn&quot;);</span><br><span class="line">  console.log(astfn)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="forOf"><a href="#forOf" class="headerlink" title="forOf"></a>forOf</h4><p>èŠ‚ç‚¹é›†åˆæ˜¯ç±»æ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡æ‰€ä»¥å¯ä»¥ä½¿ç”¨forâ€¦ofè¿›è¡Œéå†</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;div name=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  for (const item of nodes) &#123;</span><br><span class="line">    console.log(item)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h4><p>ä¹Ÿå¯ä½¿ç”¨<code>for/of</code>ç»“åˆObjectè¿­ä»£å™¨è¿›è¡Œéå†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;astfn&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div name&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes &#x3D; document.getElementsByTagName(&#39;div&#39;)</span><br><span class="line">  for (let [key, dom] of Object.entries(nodes)) &#123;</span><br><span class="line">        console.log(key, dom);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (let key of Object.keys(nodes)) console.log(key);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for (let dom of Object.values(nodes)) console.log(dom);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="æ ·å¼é€‰æ‹©å™¨"><a href="#æ ·å¼é€‰æ‹©å™¨" class="headerlink" title="æ ·å¼é€‰æ‹©å™¨"></a>æ ·å¼é€‰æ‹©å™¨</h3><p>åœ¨CSSä¸­å¯ä»¥é€šè¿‡æ ·å¼é€‰æ‹©å™¨ä¿®é¥°å…ƒç´ æ ·å¼ï¼Œåœ¨DOMæ“ä½œä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æŸ¥æ‰¾å…ƒç´ ã€‚ä½¿ç”¨è¿‡jQueryåº“çš„æœ‹å‹ï¼Œåº”è¯¥å¯¹è¿™ç§é€‰æ‹©æ–¹å¼å°è±¡æ·±åˆ»ã€‚</p>
<p>ä½¿ç”¨getElementsByTagNameç­‰æ–¹å¼é€‰æ‹©å…ƒç´ ä¸å¤Ÿçµæ´»ï¼Œå»ºè®®ä½¿ç”¨ä¸‹é¢çš„æ ·å¼é€‰æ‹©å™¨æ“ä½œï¼Œæ›´åŠ æ–¹ä¾¿çµæ´»</p>
<h4 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll"></a>querySelectorAll</h4><p>ä½¿ç”¨querySelectorAllæ ¹æ®CSSé€‰æ‹©å™¨è·å–NodelistèŠ‚ç‚¹åˆ—è¡¨</p>
<ul>
<li><code>è·å–çš„NodeListèŠ‚ç‚¹åˆ—è¡¨æ˜¯é™æ€çš„ï¼Œæ·»åŠ æˆ–åˆ é™¤å…ƒç´ åä¸å˜</code></li>
<li>å¯ä»¥é“¾å¼è°ƒç”¨ï¼Œå³ æ—¢æ˜¯documentçš„æ¥å£ï¼Œä¹Ÿæ˜¯domå…ƒç´ çš„æ¥å£ã€‚å¯ä»¥è·å–å¯¹åº”domçš„å­å­™dom</li>
</ul>
<p>è·å–æ‰€æœ‰divå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;title&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;astfn&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; document.getElementById(&#39;app&#39;)</span><br><span class="line">  const nodes &#x3D; app.querySelectorAll(&#39;div&#39;)</span><br><span class="line">  console.log(nodes.length) &#x2F;&#x2F;2</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åœ¨å…¶ä¸­åº”ç”¨cssé€‰æ‹©å™¨è§„åˆ™ï¼Œè·å–å¯¹åº”çš„èŠ‚ç‚¹åˆ—è¡¨</p>
<ul>
<li>è·å–idä¸ºappçš„domä¸­classä¸ºashunçš„å­èŠ‚ç‚¹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;title&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;astfn&quot; class&#x3D;&quot;ashun&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"> let nodes&#x3D;document.querySelectorAll(&quot;#app .ashun&quot;);</span><br><span class="line"> console.log(nodes.length);&#x2F;&#x2F;2</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ ¹æ®å±æ€§é€‰æ‹©å™¨è·å–å…ƒç´ </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;title&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;astfn&quot; data&#x3D;&quot;as&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"> let nodes&#x3D;document.querySelectorAll(&quot;#app [data&#x3D;&#39;as&#39;]&quot;);</span><br><span class="line"> console.log(nodes[0]);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="querySelector"><a href="#querySelector" class="headerlink" title="querySelector"></a>querySelector</h4><p>querySelectorä½¿ç”¨CSSé€‰æ‹©å™¨è·å–ä¸€ä¸ªå…ƒç´ ï¼Œä¸‹é¢æ˜¯æ ¹æ®å±æ€§è·å–å•ä¸ªå…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;astfn&quot; data=&quot;as&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">	&lt;div class=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = app.querySelector(`#astfn[data=&#x27;as&#x27;]`)</span><br><span class="line">  console.log(node)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è‹¥å­˜åœ¨å¤šä¸ªç›¸åŒå±æ€§çš„å…ƒç´ ï¼Œåˆ™åªè·å–ç¬¬ä¸€ä¸ª</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;astfn&quot; class&#x3D;&quot;ashun&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;div class&#x3D;&quot;ashun&quot;&gt;ASHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node &#x3D; app.querySelector(&#96;.ashun&#96;)</span><br><span class="line">  console.log(node)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="matches"><a href="#matches" class="headerlink" title="matches"></a>matches</h4><p><code>node.matches(cssSelector)</code>ç”¨äºæ£€æµ‹<strong>æŸå…ƒç´ </strong>æ˜¯å¦ä¸ <strong>æŒ‡å®šçš„æ ·å¼é€‰æ‹©å™¨åŒ¹é…</strong>ï¼Œä¸‹é¢è¿‡æ»¤æ‰æ‰€æœ‰nameå±æ€§çš„LIå…ƒç´ ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;li&gt;Ashuntefannao&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;ASHUN&lt;/li&gt;</span><br><span class="line">  &lt;li name=&quot;as&quot;&gt;é˜¿é¡º&lt;/li&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  const nodes = [...app.querySelectorAll(&#x27;li&#x27;)].filter((node) =&gt; &#123;</span><br><span class="line">    return !node.matches(`[name]`)</span><br><span class="line">  &#125;)</span><br><span class="line">  console.log(nodes)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="closest"><a href="#closest" class="headerlink" title="closest"></a>closest</h4><p>æŸ¥æ‰¾æœ€è¿‘çš„ç¬¦åˆé€‰æ‹©å™¨çš„ç¥–å…ˆå…ƒç´ ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰ï¼Œä¸‹ä¾‹æŸ¥æ‰¾çˆ¶çº§æ‹¥æœ‰ <code>.comment</code>ç±»çš„å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;comment&quot;&gt;</span><br><span class="line">  &lt;ul class=&quot;comment&quot;&gt;</span><br><span class="line">    &lt;li&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const li = document.getElementsByTagName(&#x27;li&#x27;)[0]</span><br><span class="line">  const node = li.closest(`.comment`)</span><br><span class="line">  console.log(node)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="åŠ¨æ€ä¸é™æ€è·å–"><a href="#åŠ¨æ€ä¸é™æ€è·å–" class="headerlink" title="åŠ¨æ€ä¸é™æ€è·å–"></a>åŠ¨æ€ä¸é™æ€è·å–</h3><ul>
<li><p>ä¸‹é¢è®¨è®ºçš„æ˜¯ å…ƒç´ /èŠ‚ç‚¹<strong>é›†åˆ</strong> çš„åŠ¨æ€ä¸é™æ€ï¼Œè€Œä¸æ˜¯æŸä¸ªå…ƒç´ /èŠ‚ç‚¹çš„åŠ¨æ€ä¸é™æ€ã€‚</p>
</li>
<li><p>è·å–æŸä¸ªå…ƒç´ éƒ½æ˜¯é™æ€çš„ã€‚</p>
</li>
</ul>
<p>é€šè¿‡ getElementsByTagname ç­‰getElementsByâ€¦ å‡½æ•°è·å–çš„Nodelistä¸HTMLCollectioné›†åˆæ˜¯åŠ¨æ€çš„ï¼Œå³æœ‰å…ƒç´ æ·»åŠ æˆ–ç§»åŠ¨æ“ä½œå°†å®æ—¶åæ˜ æœ€æ–°çŠ¶æ€ã€‚</p>
<ul>
<li>ä½¿ç”¨getElementâ€¦è¿”å›çš„éƒ½æ˜¯åŠ¨æ€çš„é›†åˆ</li>
<li>ä½¿ç”¨querySelectorAllè¿”å›çš„æ˜¯é™æ€é›†åˆ</li>
</ul>
<h4 id="åŠ¨æ€ç‰¹æ€§"><a href="#åŠ¨æ€ç‰¹æ€§" class="headerlink" title="åŠ¨æ€ç‰¹æ€§"></a>åŠ¨æ€ç‰¹æ€§</h4><p>ä¸‹ä¾‹ä¸­é€šè¿‡æŒ‰é’®åŠ¨æ€æ·»åŠ å…ƒç´ åï¼Œè·å–çš„å…ƒç´ é›†åˆæ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸æ˜¯ä¸Šæ¬¡è·å–çš„å›ºå®šå¿«ç…§ã€‚</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡º&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;button id=&quot;add&quot;&gt;æ·»åŠ å…ƒç´ &lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let elements = document.getElementsByTagName(&#x27;h1&#x27;)</span><br><span class="line">  console.log(elements)</span><br><span class="line">  let button = document.querySelector(&#x27;#add&#x27;)</span><br><span class="line">  button.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">    document.querySelector(&#x27;body&#x27;).insertAdjacentHTML(&#x27;beforeend&#x27;, &#x27;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&#x27;)</span><br><span class="line">    console.log(elements)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt; </span><br></pre></td></tr></table></figure>

<p>document.querySelectorAllè·å–çš„é›†åˆæ˜¯é™æ€çš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡º&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;button id=&quot;add&quot;&gt;æ·»åŠ å…ƒç´ &lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let elements = document.querySelectorAll(&#x27;h1&#x27;)</span><br><span class="line">  </span><br><span class="line">  console.log(elements.length)</span><br><span class="line">  let button = document.querySelector(&#x27;#add&#x27;)</span><br><span class="line">  button.addEventListener(&#x27;click&#x27;, () =&gt; &#123;</span><br><span class="line">    document.querySelector(&#x27;body&#x27;).insertAdjacentHTML(&#x27;beforeend&#x27;, &#x27;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&#x27;)</span><br><span class="line">    console.log(elements.length)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="ä½¿ç”¨é™æ€"><a href="#ä½¿ç”¨é™æ€" class="headerlink" title="ä½¿ç”¨é™æ€"></a>ä½¿ç”¨é™æ€</h4><p>å¦‚æœéœ€è¦ä¿å­˜é™æ€é›†åˆï¼Œåˆ™éœ€è¦å¯¹é›†åˆè¿›è¡Œå¤åˆ¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;astfn&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;ashun&quot;&gt;ASHUN&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const nodes = document.getElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">  const clone = Array.prototype.slice.call(nodes)</span><br><span class="line">  console.log(nodes.length);//2</span><br><span class="line">  document.body.appendChild(document.createElement(&#x27;div&#x27;))</span><br><span class="line">  console.log(nodes.length);//3</span><br><span class="line">  console.log(clone.length);//2</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="æ ‡å‡†å±æ€§"><a href="#æ ‡å‡†å±æ€§" class="headerlink" title="æ ‡å‡†å±æ€§"></a>æ ‡å‡†å±æ€§</h3><p>å³åœ¨jsä¸­èƒ½å¤Ÿç›´æ¥é€šè¿‡å±æ€§çš„æ–¹å¼ï¼Œè®¿é—®/æ“ä½œDOMå…ƒç´ çš„å±æ€§ã€‚å…ƒç´ çš„æ ‡å‡†å±æ€§å…·æœ‰ç›¸å¯¹åº”çš„DOMå¯¹è±¡å±æ€§</p>
<ul>
<li>æ“ä½œå±æ€§<code>åŒºåˆ†å¤§å°å†™</code></li>
<li>å¤šä¸ªå•è¯å±æ€§å‘½åè§„åˆ™ä¸ºç¬¬ä¸€ä¸ªå•è¯å°å†™ï¼Œå…¶ä»–å•è¯é©¼å³°å¼å‘½å</li>
<li>å±æ€§å€¼æ˜¯å¤šç±»å‹å¹¶ä¸å…¨æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯å¯¹è±¡ç­‰</li>
<li>äº‹ä»¶å¤„ç†ç¨‹åºå±æ€§å€¼ä¸ºå‡½æ•°</li>
<li>styleå±æ€§ä¸ºCSSStyleDeclarationå¯¹è±¡</li>
<li>DOMå¯¹è±¡ä¸åŒç”Ÿæˆçš„å±æ€§ä¹Ÿä¸åŒ</li>
</ul>
<h4 id="å±æ€§åˆ«å"><a href="#å±æ€§åˆ«å" class="headerlink" title="å±æ€§åˆ«å"></a>å±æ€§åˆ«å</h4><p>æœ‰äº›å±æ€§åä¸JSå…³é”®è¯å†²çªï¼Œç³»ç»Ÿå·²ç»èµ·äº†åˆ«å</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>åˆ«å</th>
</tr>
</thead>
<tbody><tr>
<td>class</td>
<td>className</td>
</tr>
<tr>
<td>for</td>
<td>htmlFor</td>
</tr>
</tbody></table>
<h4 id="æ“ä½œå±æ€§"><a href="#æ“ä½œå±æ€§" class="headerlink" title="æ“ä½œå±æ€§"></a>æ“ä½œå±æ€§</h4><p>å…ƒç´ çš„æ ‡å‡†å±æ€§å¯ä»¥ç›´æ¥è¿›è¡Œæ“ä½œï¼Œä¸‹é¢æ˜¯ç›´æ¥è®¾ç½®å…ƒç´ çš„className</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;astfn&quot; data=&quot;as&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;ashun&quot;&gt;Ashun&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(`#app`)</span><br><span class="line">  app.className = &#x27;astfn ashun&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è®¾ç½®å›¾åƒå…ƒç´ çš„æ ‡å‡†å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let img = document.images[0]</span><br><span class="line">  img.src = &#x27;https://www.Ashuntefannao.com/icon.jpg&#x27;</span><br><span class="line">  img.alt = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨hiddenéšè—å…ƒç´ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    this.hidden = true</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡styleå±æ€§æ”¹å˜è¡Œå†…æ ·å¼</p>
<ul>
<li>jsæ“ä½œDomå±æ€§æ—¶ï¼Œå¤šä¸ªå•è¯å±æ€§å‘½åè§„åˆ™ä¸ºç¬¬ä¸€ä¸ªå•è¯å°å†™ï¼Œå…¶ä»–å•è¯é©¼å³°å¼å‘½å</li>
<li>jsä¸­çš„èƒŒæ™¯é¢œè‰²<code>backgroundColor</code>,cssä¸­<code>backgorund-color</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app &#x3D; document.querySelector(&#39;#app&#39;)</span><br><span class="line">  app.addEventListener(&#39;click&#39;, function () &#123;</span><br><span class="line">    this.style.backgroundColor &#x3D; &quot;red&quot;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å¤šç±»å‹å€¼"><a href="#å¤šç±»å‹å€¼" class="headerlink" title="å¤šç±»å‹å€¼"></a>å¤šç±»å‹å€¼</h4><p>å¤§éƒ¨åˆ†å±æ€§å€¼æ˜¯éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä½†å¹¶ä¸æ˜¯å…¨éƒ¨ï¼Œä¸‹ä¾‹ä¸­éœ€è¦è½¬æ¢ä¸ºæ•°å€¼åè¿›è¡Œæ•°æ®è¿ç®—</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;number&quot; name=&quot;age&quot; value=&quot;88&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let input = document.getElementsByName(&#x27;age&#x27;).item(0)</span><br><span class="line">  input.value = parseInt(input.value) + 100</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è¡¨å•checkedå±æ€§å€¼ä¸ºBooleanç±»å‹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;label for=&quot;hot&quot;&gt; &lt;input id=&quot;hot&quot; type=&quot;checkbox&quot; name=&quot;hot&quot; /&gt;çƒ­é—¨ &lt;/label&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`[name=&#x27;hot&#x27;]`)</span><br><span class="line">  node.addEventListener(&#x27;change&#x27;, function () &#123;</span><br><span class="line">    console.log(this.checked)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å±æ€§å€¼<code>å¹¶é</code>éƒ½ä¸HTMLå®šä¹‰çš„å€¼ä¸€æ ·ï¼Œä¸‹é¢è¿”å›çš„hrefå±æ€§å€¼æ˜¯å®Œæ•´é“¾æ¥</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;#Ashuntefannao&quot; id=&quot;home&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/a&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`#home`)</span><br><span class="line">  console.log(node.href)	</span><br><span class="line">  //http://127.0.0.1:5500/dom.html#Ashuntefannao</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="å…ƒç´ ç‰¹å¾"><a href="#å…ƒç´ ç‰¹å¾" class="headerlink" title="å…ƒç´ ç‰¹å¾"></a>å…ƒç´ ç‰¹å¾</h3><h4 id="åŸºæœ¬æ–¹æ³•"><a href="#åŸºæœ¬æ–¹æ³•" class="headerlink" title="åŸºæœ¬æ–¹æ³•"></a>åŸºæœ¬æ–¹æ³•</h4><p>å¯¹äºæ ‡å‡†çš„å±æ€§å¯ä»¥ç›´æ¥é€šè¿‡DOMå±æ€§çš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œä½†å¯¹äºæ ‡ç­¾çš„ éæ ‡å‡†çš„å®šåˆ¶å±æ€§ åˆ™ä¸å¯ä»¥ã€‚ä½†JSæä¾›äº†æ–¹æ³•æ¥æ§åˆ¶æ ‡å‡†æˆ–éæ ‡å‡†çš„å±æ€§</p>
<p>å¯ä»¥ç†è§£ä¸ºå…ƒç´ çš„å±æ€§åˆ†ä¸¤ä¸ªåœ°æ–¹ä¿å­˜ï¼ŒDOMå±æ€§ä¸­è®°å½•æ ‡å‡†å±æ€§ï¼Œç‰¹å¾ä¸­è®°å½•æ ‡å‡†å’Œå®šåˆ¶å±æ€§</p>
<ul>
<li>ä½¿ç”¨ç‰¹å¾æ“ä½œæ—¶å±æ€§åç§°ä¸åŒºåˆ†å¤§å°å†™</li>
<li>ç‰¹å¾å€¼éƒ½ä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>getAttribute(â€œpropâ€)</td>
<td>è·å–å±æ€§å€¼</td>
</tr>
<tr>
<td>setAttribute(â€œpropâ€,â€valueâ€)</td>
<td>è®¾ç½®å±æ€§/æ·»åŠ å±æ€§</td>
</tr>
<tr>
<td>removeAttribute(â€œpropâ€)</td>
<td>åˆ é™¤å±æ€§</td>
</tr>
<tr>
<td>hasAttribute(â€œpropâ€)</td>
<td>å±æ€§æ£€æµ‹</td>
</tr>
</tbody></table>
<p>ç‰¹å¾æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä¸‹é¢ä½¿ç”¨forâ€¦ofæ¥è¿›è¡Œéå†æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">&lt;button id&#x3D;&quot;add&quot; class&#x3D;&quot;add&quot;&gt;æ·»åŠ å…ƒç´ &lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">     let attrs &#x3D; document.querySelector(&quot;#add&quot;).attributes;</span><br><span class="line">      console.log(attrs);	&#x2F;&#x2F;NamedNodeMapÂ &#123;â€¦&#125;</span><br><span class="line">      for (const &#123; name, value &#125; of nameNodeMap) &#123;</span><br><span class="line">        console.log(name, value);</span><br><span class="line">      &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>getAttribute</code>è·å–çš„å±æ€§å€¼éƒ½ä¸º<code>å­—ç¬¦ä¸²</code>ï¼Œæ‰€ä»¥è‹¥è¦è·å–æ•°å€¼ç±»å‹éœ€è¦è¿›è¡Œè½¬æ¢</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;number&quot; name=&quot;age&quot; value=&quot;88&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let input = document.getElementsByName(&#x27;age&#x27;).item(0)</span><br><span class="line">  let value = input.getAttribute(&#x27;value&#x27;) * 1 + 100</span><br><span class="line">  input.setAttribute(&#x27;value&#x27;, value)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨removeAttributeåˆ é™¤å…ƒç´ çš„classå±æ€§ï¼Œå¹¶é€šè¿‡hasAttributeè¿›è¡Œæ£€æµ‹åˆ é™¤ç»“æœ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;ashun&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let as = document.querySelector(&#x27;.ashun&#x27;)</span><br><span class="line">  as.removeAttribute(&#x27;class&#x27;)</span><br><span class="line">  console.log(as.hasAttribute(&#x27;class&#x27;)) //false</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ç‰¹å¾å€¼ä¸HTMLå®šä¹‰çš„å€¼æ˜¯<code>ä¸€è‡´çš„</code>ï¼Œè¿™å’Œæ ‡å‡†å±æ€§è¿›è¡Œè®¿é—®æ˜¯ä¸åŒçš„</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;a href=&quot;#Ashuntefannao&quot; id=&quot;home&quot;&gt;åç›¾äºº&lt;/a&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const node = document.querySelector(`#home`)</span><br><span class="line">  </span><br><span class="line">  // http://127.0.0.1:5500/dom.html#Ashuntefannao</span><br><span class="line">  console.log(node.href)</span><br><span class="line">  </span><br><span class="line">  // #Ashuntefannao</span><br><span class="line">  console.log(node.getAttribute(&#x27;href&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="attributes"><a href="#attributes" class="headerlink" title="attributes"></a>attributes</h4><p>å…ƒç´ æä¾›äº†attributes å±æ€§å¯ä»¥åªè¯»çš„è·å–å…ƒç´ çš„å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;astfn&quot; data-content=&quot;é˜¿é¡º&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let astfn = document.querySelector(&#x27;.astfn&#x27;)ï¼›</span><br><span class="line">  console.log(astfn.attributes);</span><br><span class="line">  console.dir(astfn.attributes[&#x27;class&#x27;].nodeValue) //astfn</span><br><span class="line">  console.dir(astfn.attributes[&#x27;data-content&#x27;].nodeValue) //é˜¿é¡º</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="è‡ªå®šä¹‰ç‰¹å¾"><a href="#è‡ªå®šä¹‰ç‰¹å¾" class="headerlink" title="è‡ªå®šä¹‰ç‰¹å¾"></a>è‡ªå®šä¹‰ç‰¹å¾</h4><p>è™½ç„¶å¯ä»¥éšæ„å®šä¹‰ç‰¹å¾å¹¶ä½¿ç”¨getAttributeç­‰æ–¹æ³•ç®¡ç†ï¼Œä½†å¾ˆå®¹æ˜“é€ æˆä¸æ ‡ç­¾çš„ç°åœ¨æˆ–æœªæ¥å±æ€§é‡åã€‚å»ºè®®ä½¿ç”¨ä»¥data-ä¸ºå‰ç¼€çš„è‡ªå®šä¹‰ç‰¹å¾å¤„ç†ï¼Œé’ˆå¯¹è¿™ç§å®šä¹‰æ–¹å¼JSä¹Ÿæä¾›äº†æ¥å£æ–¹ä¾¿æ“ä½œã€‚</p>
<ul>
<li>å…ƒç´ ä¸­ä»¥data-ä¸ºå‰ç¼€çš„å±æ€§ä¼šæ·»åŠ åˆ°å†…ç½®çš„dataå±æ€§é›†ä¸­</li>
<li>ä½¿ç”¨<code>dom.dataset</code>å¯è·å–å¯¹åº”domçš„dataå±æ€§é›†</li>
<li>æ”¹å˜datasetçš„å€¼ä¹Ÿä¼šå½±å“åˆ°å…ƒç´ ä¸Š</li>
</ul>
<p>ä¸‹é¢æ¼”ç¤ºä½¿ç”¨å±æ€§é›†è®¾ç½®DIVæ ‡ç­¾å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;astfn&quot; data-content=&quot;é˜¿é¡ºç‰¹çƒ¦æ¼&quot; data-color=&quot;red&quot;&gt;ashun&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let astfn = document.querySelector(&#x27;.astfn&#x27;)</span><br><span class="line">  let content = astfn.dataset.content</span><br><span class="line">  console.log(content) //é˜¿é¡ºç‰¹çƒ¦æ¼</span><br><span class="line">  astfn.innerHTML = `&lt;span style=&quot;color:$&#123;astfn.dataset.color&#125;&quot;&gt;$&#123;content&#125;&lt;/span&gt;`</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¤šä¸ªå•è¯çš„ç‰¹å¾ä½¿ç”¨é©¼å³°å‘½åæ–¹å¼è¯»å–</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;astfn&quot; data-title-color=&quot;red&quot;&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let astfn = document.querySelector(&#x27;.astfn&#x27;)</span><br><span class="line">  astfn.innerHTML = `</span><br><span class="line">    &lt;span style=&quot;color:$&#123;astfn.dataset.titleColor&#125;&quot;&gt;$&#123;astfn.innerHTML&#125;&lt;/span&gt;</span><br><span class="line">  `</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ”¹å˜datasetå€¼ä¹Ÿä¼šå½±å“åˆ°é¡µé¢å…ƒç´ ä¸Š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">div class=&quot;astfn&quot; data-title-color=&quot;red&quot;&gt;ashun&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let astfn = document.querySelector(&#x27;.astfn&#x27;)</span><br><span class="line">  astfn.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    this.dataset.titleColor = [&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;][Math.floor(Math.random() * 3)]</span><br><span class="line">    this.style.color = this.dataset.titleColor</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å±æ€§åŒæ­¥"><a href="#å±æ€§åŒæ­¥" class="headerlink" title="å±æ€§åŒæ­¥"></a>å±æ€§åŒæ­¥</h4><p>ç‰¹å¾å’Œæ ‡å‡†å±æ€§ï¼Œæ˜¯è®°å½•å…ƒç´ å±æ€§çš„ä¸¤ä¸ªä¸åŒåœºæ‰€ï¼Œ<code>å¤§éƒ¨åˆ†æ›´æ”¹ä¼šè¿›è¡ŒåŒæ­¥æ“ä½œ</code>ã€‚</p>
<ul>
<li>æœ‰äº›æƒ…å†µï¼Œé€šè¿‡æ ‡å‡†å±æ€§æ›´æ”¹ï¼Œä¸èƒ½åŒæ­¥åˆ°å…ƒç´ ç‰¹å¾ï¼Œä½†å…ƒç´ ç‰¹å¾çš„æ›´æ”¹ï¼Œèƒ½å¤ŸåŒæ­¥åˆ°æ ‡å‡†å±æ€§</li>
<li>æ¨èä½¿ç”¨å±æ€§ç‰¹å¾æ–¹æ³•</li>
</ul>
<p>ä¸‹é¢ä½¿ç”¨å±æ€§æ›´æ”¹äº†classNameï¼Œä¼šè‡ªåŠ¨åŒæ­¥åˆ°äº†ç‰¹å¾é›†ä¸­ï¼Œåä¹‹äº¦ç„¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;red&quot;&gt;ASHUNTEFANNAO&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.className = &#x27;astfn&#x27;</span><br><span class="line">  console.log(app.getAttribute(&#x27;class&#x27;)) //astfn</span><br><span class="line">  app.setAttribute(&#x27;class&#x27;, &#x27;blue&#x27;)</span><br><span class="line">  console.log(app.className) //blue</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å¯¹inputå€¼ä½¿ç”¨æ ‡å‡†å±æ€§è®¾ç½®ï¼Œ<strong>ä½†å¹¶æ²¡æœ‰åŒæ­¥åˆ°ç‰¹å¾</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; name=&quot;package&quot; value=&quot;Ashuntefannao&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const package = document.querySelector(`[name=&#x27;package&#x27;]`)</span><br><span class="line">  package.value = &#x27;é˜¿é¡º&#x27;</span><br><span class="line">  console.log(package.getAttribute(&#x27;value&#x27;))//Ashuntefannao</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½†æ”¹å˜inputçš„ç‰¹å¾valueä¼šåŒæ­¥åˆ°DOMå¯¹è±¡çš„æ ‡å‡†å±æ€§</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; name=&quot;package&quot; value=&quot;Ashuntefannao&quot; /&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const package = document.querySelector(`[name=&#x27;package&#x27;]`)</span><br><span class="line">  package.setAttribute(&#x27;value&#x27;, &#x27;é˜¿é¡º&#x27;)</span><br><span class="line">  console.log(package.value) //é˜¿é¡º</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="åˆ›å»ºèŠ‚ç‚¹"><a href="#åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºèŠ‚ç‚¹"></a>åˆ›å»ºèŠ‚ç‚¹</h3><p>åˆ›å»ºèŠ‚ç‚¹çš„å°±æ˜¯æ„å»ºå‡ºDOMå¯¹è±¡ï¼Œç„¶åæ ¹æ®éœ€è¦æ·»åŠ åˆ°å…¶ä»–èŠ‚ç‚¹ä¸­</p>
<h4 id="createTextNode"><a href="#createTextNode" class="headerlink" title="createTextNode"></a>createTextNode</h4><p>åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹å¹¶æ·»åŠ åˆ°å…ƒç´ ä¸­</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let text = document.createTextNode(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  app.append(text)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="createElement"><a href="#createElement" class="headerlink" title="createElement"></a>createElement</h4><p>ä½¿ç”¨createElementæ–¹æ³•å¯ä»¥æ ‡ç­¾èŠ‚ç‚¹ï¼Œä¸‹ä¾‹åˆ›å»ºspanæ ‡ç­¾æ–°èŠ‚ç‚¹å¹¶æ·»åŠ åˆ°div#app</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let span = document.createElement(&#x27;span&#x27;)</span><br><span class="line">  span.innerHTML = &#x27;Ashun&#x27;</span><br><span class="line">  app.append(span)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨PROMISEç»“åˆèŠ‚ç‚¹æ“ä½œæ¥åŠ è½½å¤–éƒ¨JAVASCRIPTæ–‡ä»¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function js(file) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    let js = document.createElement(&#x27;script&#x27;)</span><br><span class="line">    js.type = &#x27;text/javascript&#x27;</span><br><span class="line">    js.src = file</span><br><span class="line">    js.onload = resolve</span><br><span class="line">    js.onerror = reject</span><br><span class="line">    document.head.appendChild(js)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">js(&#x27;11.js&#x27;)</span><br><span class="line">  .then(() =&gt; console.log(&#x27;åŠ è½½æˆåŠŸ&#x27;))</span><br><span class="line">  .catch((error) =&gt; console.log(`$&#123;error.target.src&#125; åŠ è½½å¤±è´¥`))</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åŒæ ·çš„é€»è¾‘æ¥å®ç°åŠ è½½CSSæ–‡ä»¶</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">function css(file) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    let css = document.createElement(&#x27;link&#x27;)</span><br><span class="line">    css.rel = &#x27;stylesheet&#x27;</span><br><span class="line">    css.href = file</span><br><span class="line">    css.onload = resolve</span><br><span class="line">    css.onerror = reject</span><br><span class="line">    document.head.appendChild(css)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">css(&#x27;1.css&#x27;).then(() =&gt; &#123;</span><br><span class="line">  console.log(&#x27;åŠ è½½æˆåŠŸ&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="cloneNode-amp-importNode"><a href="#cloneNode-amp-importNode" class="headerlink" title="cloneNode&amp;importNode"></a>cloneNode&amp;importNode</h4><p>ä½¿ç”¨cloneNodeå’Œdocument.importNodeç”¨äºå¤åˆ¶èŠ‚ç‚¹å¯¹è±¡æ“ä½œ</p>
<ul>
<li>cloneNodeæ˜¯èŠ‚ç‚¹çš„æ–¹æ³•ï¼š<code>dom.cloneNode(boolean)</code></li>
<li>cloneNode å‚æ•°ä¸ºtrueæ—¶é€’å½’å¤åˆ¶å­èŠ‚ç‚¹å³æ·±æ‹·è´</li>
<li>importNodeæ˜¯documetå¯¹è±¡æ–¹æ³•ï¼š<code>document.importNode(elem,boolean)</code></li>
</ul>
<p><code>dom.cloneNode(true)</code>å¤åˆ¶div#appèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ï¼Œå¹¶æ·»åŠ åˆ°bodyå…ƒç´ ä¸­</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;span&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let newApp = app.cloneNode(true)</span><br><span class="line">  document.body.appendChild(newApp)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><code>dom.cloneNode(false)</code>åªcloneç›®æ ‡èŠ‚ç‚¹æœ¬èº«,ä¸é€’å½’å¤åˆ¶å­èŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;&lt;span&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;span&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	const node &#x3D; document.querySelector(&#96;#app&#96;);</span><br><span class="line">	let newNode &#x3D; node.cloneNode(false);</span><br><span class="line">	console.log(newNode);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><code>document.importNode(elem,boolean)</code>æ–¹æ³•æ˜¯ä½ç‰ˆæœ¬IEæµè§ˆå™¨ä¸æ”¯æŒçš„ï¼Œä¹Ÿæ˜¯å¤åˆ¶èŠ‚ç‚¹å¯¹è±¡çš„æ–¹æ³•</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèŠ‚ç‚¹å¯¹è±¡</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºtrueæ—¶é€’å½’å¤åˆ¶</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;span&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let newApp = document.importNode(app, true)</span><br><span class="line">  document.body.appendChild(newApp)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<hr>
<h3 id="èŠ‚ç‚¹å†…å®¹"><a href="#èŠ‚ç‚¹å†…å®¹" class="headerlink" title="èŠ‚ç‚¹å†…å®¹"></a>èŠ‚ç‚¹å†…å®¹</h3><h4 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h4><p>inneHTMLç”¨äºå‘æ ‡ç­¾ä¸­æ·»åŠ htmlå†…å®¹ï¼ŒåŒæ—¶è§¦å‘æµè§ˆå™¨çš„è§£æå™¨<code>é‡ç»˜DOM</code>ã€‚</p>
<p>ä¸‹ä¾‹ä½¿ç”¨innerHTMLè·å–å’Œè®¾ç½®divå†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;span&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/span&gt;</span><br><span class="line">  &lt;div class=&quot;as&quot;&gt;Ashun&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  console.log(app.innerHTML)</span><br><span class="line"></span><br><span class="line">  app.innerHTML = &#x27;&lt;h1&gt;é˜¿é¡º&lt;/h1&gt;&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>é‡ç»˜èŠ‚ç‚¹</strong></p>
<p>ä½¿ç”¨innertHTMLæ“ä½œä¼šé‡ç»˜å…ƒç´ ï¼Œä¸‹é¢åœ¨ç‚¹å‡»ç¬¬äºŒæ¬¡å°±æ²¡æœ‰æ•ˆæœäº†</p>
<ul>
<li>å› ä¸ºå¯¹#appå†…å®¹è¿›è¡Œäº†é‡ç»˜ï¼Œå³åˆ é™¤åŸå†…å®¹ç„¶åè®¾ç½®æ–°å†…å®¹</li>
<li>é‡ç»˜åäº§ç”Ÿçš„buttonå¯¹è±¡<code>ä¹Ÿæ²¡æœ‰äº†äº‹ä»¶</code></li>
<li>é‡ç»˜ååˆäº§ç”Ÿäº†æ–°imgå¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ§åˆ¶å°ä¸­å¯çœ‹åˆ°æ–°å›¾ç‰‡åœ¨åŠ è½½</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;button&gt;Ashuntefannao&lt;/button&gt;</span><br><span class="line">  &lt;img src=&quot;1.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.querySelector(&#x27;button&#x27;).addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    alert(this.innerHTML)</span><br><span class="line">    this.parentElement.innerHTML += &#x27;&lt;hr/&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="outerHTML"><a href="#outerHTML" class="headerlink" title="outerHTML"></a>outerHTML</h4><p>outerHTMLä¸innerHTMLçš„åŒºåˆ«æ˜¯åŒ…å«çˆ¶æ ‡ç­¾</p>
<ul>
<li>outerHTMLä¸ä¼šåˆ é™¤åŸæ¥çš„æ—§å…ƒç´ </li>
<li>åªæ˜¯ç”¨æ–°å†…å®¹æ›¿æ¢æ›¿æ¢æ—§å†…å®¹ï¼Œæ—§å†…å®¹ï¼ˆæ ‡ç­¾å…ƒç´ ï¼‰ä¾ç„¶å­˜åœ¨<ul>
<li>è®¾ç½®åï¼Œå†æ¬¡æ‰“å°è·å–domæˆ–outerHTMLè¿˜æ˜¯åŸæ¥çš„æ—§å†…å®¹ï¼Œä½†ç•Œé¢å·²ç»å‘ç”Ÿäº†æ›´æ”¹</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢å°†div#appæ›¿æ¢ä¸ºæ–°å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;astfn&quot; data=&quot;as&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.outerHTML = &#x27;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨innerHTMLå†…å®¹æ˜¯è¢«åˆ é™¤ç„¶åä½¿ç”¨æ–°å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  console.log(app)</span><br><span class="line">  app.innerHTML = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">  console.log(app)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è€Œä½¿ç”¨outerHTMLæ˜¯ä¿ç•™æ—§å†…å®¹ï¼Œé¡µé¢ä¸­ä½¿ç”¨æ–°å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  console.log(app,app.outerHTML)</span><br><span class="line">  app.outerHTML = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">  console.log(app,app.outerHTML)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="innerTextä¸textContent"><a href="#innerTextä¸textContent" class="headerlink" title="innerTextä¸textContent"></a>innerTextä¸textContent</h4><p>textContentä¸innerTextæ˜¯è®¿é—®æˆ–æ·»åŠ æ–‡æœ¬å†…å®¹åˆ°å…ƒç´ ä¸­</p>
<ul>
<li>textContentéƒ¨åˆ†IEæµè§ˆå™¨ç‰ˆæœ¬ä¸æ”¯æŒ</li>
<li>innerTextéƒ¨åˆ†FireFoxæµè§ˆå™¨ç‰ˆæœ¬ä¸æ”¯æŒ</li>
<li>è·å–æ—¶å¿½ç•¥æ‰€æœ‰æ ‡ç­¾,åªè·å–æ–‡æœ¬å†…å®¹</li>
<li>è®¾ç½®æ—¶å°†å†…å®¹ä¸­çš„æ ‡ç­¾å½“æ–‡æœ¬å¯¹å¾…ä¸è¿›è¡Œæ ‡ç­¾è§£æ</li>
</ul>
<p>è·å–æ—¶å¿½ç•¥å†…å®¹ä¸­çš„æ‰€æœ‰æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  console.log(app.textContent)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®å†…å®¹æ—¶ä¼šå°†æ ‡ç­¾å½“æ™®é€šæ–‡æœ¬å¯¹å¾…ï¼Œå³è½¬ä¸ºHTMLå®ä½“å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.textContent=&quot;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="outerText"><a href="#outerText" class="headerlink" title="outerText"></a>outerText</h4><p>ä¸innerTextå·®åˆ«æ˜¯ï¼šouterTextä¼šæ‰€æ“ä½œæ ‡ç­¾æœ¬èº«ï¼ŒinnerTextæ“ä½œæ ‡ç­¾å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;Ashuntefannao&lt;/h1&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let h1 = document.querySelector(&#x27;h1&#x27;)</span><br><span class="line">  h1.outerText = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">  console.log(document.querySelector(&#x27;h1&#x27;)); //null</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="insertAdjacentText"><a href="#insertAdjacentText" class="headerlink" title="insertAdjacentText"></a>insertAdjacentText</h4><p><code>insertAdjacentText(position,str)</code></p>
<p>å°†æ–‡æœ¬æ’å…¥åˆ°å…ƒç´ æŒ‡å®šä½ç½®ï¼Œä¸ä¼šå¯¹æ–‡æœ¬ä¸­çš„æ ‡ç­¾è¿›è¡Œè§£æï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä½ç½®</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>beforebegin</td>
<td>å…ƒç´ æœ¬èº«å‰é¢</td>
</tr>
<tr>
<td>afterend</td>
<td>å…ƒç´ æœ¬èº«åé¢</td>
</tr>
<tr>
<td>afterbegin</td>
<td>å…ƒç´ å†…éƒ¨å‰é¢</td>
</tr>
<tr>
<td>beforeend</td>
<td>å…ƒç´ å†…éƒ¨åé¢</td>
</tr>
</tbody></table>
<p>æ·»åŠ æ–‡æœ¬å†…å®¹åˆ°div#appå‰é¢</p>
<ul>
<li>ä½¿ç”¨<code>insertAdjacentText</code>æ–¹æ³•ï¼Œåªèƒ½è¿½åŠ æ™®é€šæ–‡æœ¬ï¼Œä¸ä¼šè§£æå…¶ä¸­çš„HTMLæ ‡ç­¾</li>
<li>è‹¥æƒ³è¦è¿½åŠ åŒ…å«HTMLæ ‡ç­¾çš„æ–‡æœ¬ï¼Œå¹¶å¸Œæœ›å¯¹å…¶è§£æï¼Œå¯ä»¥ä½¿ç”¨åç»­ç« èŠ‚<strong>èŠ‚ç‚¹ç®¡ç†</strong>ä¸­çš„<code>insertAdjacentHTML</code></li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;astfn&quot; data=&quot;hd&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.insertAdjacentText(&#x27;beforebegin&#x27;, &#x27;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&#x27;)  //ä¸ä¼šè§£æHTMLæ ‡ç­¾</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="èŠ‚ç‚¹ç®¡ç†"><a href="#èŠ‚ç‚¹ç®¡ç†" class="headerlink" title="èŠ‚ç‚¹ç®¡ç†"></a>èŠ‚ç‚¹ç®¡ç†</h3><p>ç°åœ¨æˆ‘ä»¬æ¥è®¨è®ºä¸‹èŠ‚ç‚¹å…ƒç´ çš„ç®¡ç†ï¼ŒåŒ…æ‹¬æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢ç­‰æ“ä½œ</p>
<h4 id="æ¨èæ–¹æ³•"><a href="#æ¨èæ–¹æ³•" class="headerlink" title="æ¨èæ–¹æ³•"></a>æ¨èæ–¹æ³•</h4><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>dom.append(elem/str)</code></td>
<td>èŠ‚ç‚¹å†…å°¾éƒ¨æ·»åŠ æ–°èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>dom.prepend(elem/str)</code></td>
<td>èŠ‚ç‚¹å†…å¼€å¤´æ·»åŠ æ–°èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>dom.before(elem/str)</code></td>
<td>èŠ‚ç‚¹å‰é¢æ·»åŠ æ–°èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>dom.after(elem/str)</code></td>
<td>èŠ‚ç‚¹åé¢æ·»åŠ æ–°èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>dom.replaceWith(elem/str)</code></td>
<td>å°†èŠ‚ç‚¹æ›¿æ¢ä¸ºæ–°èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>dom.remove()</code></td>
<td>åˆ é™¤èŠ‚ç‚¹</td>
</tr>
</tbody></table>
<p>åœ¨æ ‡ç­¾å†…å®¹åé¢æ·»åŠ æ–°å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.append(&#x27;-é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶æ·»åŠ å¤šä¸ªå†…å®¹ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ä¸å…ƒç´ æ ‡ç­¾</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let h1 = document.createElement(&#x27;h1&#x27;)</span><br><span class="line">  h1.append(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  app.append(&#x27;@&#x27;, h1)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å°†æ ‡ç­¾æ›¿æ¢ä¸ºæ–°å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let h1 = document.createElement(&#x27;h1&#x27;)</span><br><span class="line">  h1.append(&#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;)</span><br><span class="line">  app.replaceWith(h1)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ æ–°å…ƒç´ h1åˆ°ç›®æ ‡å…ƒç´ div#appé‡Œé¢</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  let h1 = document.createElement(&#x27;h1&#x27;)</span><br><span class="line">  h1.innerHTML = &#x27;é˜¿é¡ºç‰¹çƒ¦æ¼&#x27;</span><br><span class="line">  app.append(h1)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å°†h2ç§»åŠ¨åˆ°h1ä¹‹å‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;</span><br><span class="line">&lt;h2&gt;Ashuntefannao&lt;/h2&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let h1 = document.querySelector(&#x27;h1&#x27;)</span><br><span class="line">  let h2 = document.querySelector(&#x27;h2&#x27;)</span><br><span class="line">  h1.before(h2)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨removeæ–¹æ³•å¯ä»¥åˆ é™¤èŠ‚ç‚¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  Ashuntefannao</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.remove()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="insertAdjacentHTML"><a href="#insertAdjacentHTML" class="headerlink" title="insertAdjacentHTML"></a>insertAdjacentHTML</h4><p><code>insertAdjacentHTML(position,str)</code></p>
<p>å°†htmlæ–‡æœ¬æ’å…¥åˆ°å…ƒç´ æŒ‡å®šä½ç½®ï¼Œæµè§ˆå™¨ä¼šå¯¹æ–‡æœ¬è¿›è¡Œæ ‡ç­¾è§£æï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä½ç½®</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>beforebegin</td>
<td>å…ƒç´ æœ¬èº«å‰é¢</td>
</tr>
<tr>
<td>afterend</td>
<td>å…ƒç´ æœ¬èº«åé¢</td>
</tr>
<tr>
<td>afterbegin</td>
<td>å…ƒç´ å†…éƒ¨å‰é¢</td>
</tr>
<tr>
<td>beforeend</td>
<td>å…ƒç´ å†…éƒ¨åé¢</td>
</tr>
</tbody></table>
<p>åœ¨div#appå‰æ·»åŠ HTMLæ–‡æœ¬</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;astfn&quot; data=&quot;hd&quot;&gt;Ashuntefannao&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;shun&quot;&gt;SHUN&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.querySelector(&#x27;#app&#x27;)</span><br><span class="line">  app.insertAdjacentHTML(&#x27;beforebegin&#x27;, &#x27;&lt;h1&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/h1&gt;&#x27;)  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="insertAdjacentElement"><a href="#insertAdjacentElement" class="headerlink" title="insertAdjacentElement"></a>insertAdjacentElement</h4><p><code>insertAdjacentElement(position,elem)</code></p>
<p>insertAdjacentElement() æ–¹æ³•å°†æŒ‡å®šå…ƒç´ æ’å…¥åˆ°å…ƒç´ çš„æŒ‡å®šä½ç½®ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä½ç½®</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ç½®</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸º<strong>æ–°å…ƒç´ èŠ‚ç‚¹</strong></li>
</ul>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>beforebegin</td>
<td>å…ƒç´ æœ¬èº«å‰é¢</td>
</tr>
<tr>
<td>afterend</td>
<td>å…ƒç´ æœ¬èº«åé¢</td>
</tr>
<tr>
<td>afterbegin</td>
<td>å…ƒç´ å†…éƒ¨å‰é¢</td>
</tr>
<tr>
<td>beforeend</td>
<td>å…ƒç´ å†…éƒ¨åé¢</td>
</tr>
</tbody></table>
<p>åœ¨div#app æ ‡ç­¾å‰æ’å…¥spanæ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;astfn&quot;&gt;Ashuntefannao&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;shun&quot;&gt;SHUN&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app &#x3D; document.querySelector(&#39;#app&#39;)</span><br><span class="line">  let span &#x3D; document.createElement(&#39;span&#39;)</span><br><span class="line">  span.innerHTML &#x3D; &#39;é˜¿é¡ºç‰¹çƒ¦æ¼&#39;</span><br><span class="line">  app.insertAdjacentElement(&#39;beforebegin&#39;, span)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="å¤è€æ–¹æ³•"><a href="#å¤è€æ–¹æ³•" class="headerlink" title="å¤è€æ–¹æ³•"></a>å¤è€æ–¹æ³•</h4><p>ä¸‹é¢åˆ—è¡¨è¿‡å»ä½¿ç”¨çš„æ“ä½œèŠ‚ç‚¹çš„æ–¹æ³•ï¼Œç°åœ¨ä¸å»ºè®®ä½¿ç”¨äº†ã€‚ä½†åœ¨é˜…è¯»è€ä»£ç æ—¶å¯æ¥æ­¤æŸ¥çœ‹è¯­æ³•</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>appendChild</td>
<td>æ·»åŠ èŠ‚ç‚¹</td>
</tr>
<tr>
<td>insertBefore</td>
<td>ç”¨äºæ’å…¥å…ƒç´ åˆ°å¦ä¸€ä¸ªå…ƒç´ çš„å‰é¢</td>
</tr>
<tr>
<td>removeChild</td>
<td>åˆ é™¤èŠ‚ç‚¹</td>
</tr>
<tr>
<td>replaceChild</td>
<td>è¿›è¡ŒèŠ‚ç‚¹çš„æ›¿æ¢æ“ä½œ</td>
</tr>
</tbody></table>
<h4 id="DocumentFragment"><a href="#DocumentFragment" class="headerlink" title="DocumentFragment"></a>DocumentFragment</h4><p>åœ¨äº†è§£DocumentFragmentä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹é¡µé¢çš„å‘ˆç°ã€å›æµã€é‡ç»˜çš„è¿‡ç¨‹ã€‚</p>
<h5 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h5><p>é¡µé¢å‘ˆç°ã€é‡ç»˜ã€å›æµã€‚</p>
<h6 id="ç•Œé¢å‘ˆç°"><a href="#ç•Œé¢å‘ˆç°" class="headerlink" title="ç•Œé¢å‘ˆç°"></a>ç•Œé¢å‘ˆç°</h6><blockquote>
<p>è·å–htmlè§£æä¸ºDom treeâ€“&gt;è·å–cssæ ·å¼è§£æä¸ºæ ·å¼ç»“æ„ä½“â€“&gt;Dom treeä¸æ ·å¼ç»“æ„ä½“ç»“åˆå½¢æˆrender tree</p>
</blockquote>
<ol>
<li><p>```<br>æµè§ˆå™¨æŠŠè·å–åˆ°çš„htmlä»£ç è§£ææˆ1ä¸ªDomæ ‘ï¼Œhtmlä¸­çš„æ¯ä¸ªtagéƒ½æ˜¯Domæ ‘ä¸­çš„1ä¸ªèŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„documentå¯¹è±¡(<html> tag)ã€‚domæ ‘å°±æ˜¯æˆ‘ä»¬ç”¨å¼€å‘è€…å·¥å…·çœ‹åˆ°çš„htmlç»“æ„ï¼Œé‡Œé¢åŒ…å«äº†æ‰€æœ‰çš„html tag</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">2. &#96;&#96;&#96;</span><br><span class="line">   æµè§ˆå™¨æŠŠæ‰€æœ‰æ ·å¼(ä¸»è¦åŒ…æ‹¬csså’Œæµè§ˆå™¨çš„æ ·å¼è®¾ç½®)è§£ææˆæ ·å¼ç»“æ„ä½“ï¼Œåœ¨è§£æçš„è¿‡ç¨‹ä¸­ä¼šå»æ‰æµè§ˆå™¨ä¸èƒ½è¯†åˆ«çš„æ ·å¼ï¼Œæ¯”å¦‚IEä¼šå»æ‰-mozå¼€å¤´çš„æ ·å¼ï¼Œè€Œfirefoxä¼šå»æ‰_å¼€å¤´çš„æ ·å¼ã€‚</span><br></pre></td></tr></table></figure></li>
<li><p>```<br>dom treeå’Œ æ ·å¼ç»“æ„ä½“ ç»“åˆåæ„å»º å‘ˆç°æ ‘(render tree)<br>render treeæœ‰ç‚¹ç±»ä¼¼äºdom treeï¼Œä½†å…¶å®åŒºåˆ«æœ‰å¾ˆå¤§ï¼Œrender treeèƒ½è¯†åˆ«æ ·å¼ï¼Œrender treeä¸­æ¯ä¸ªnodeéƒ½æœ‰è‡ªå·±çš„styleï¼Œè€Œä¸”render treeä¸åŒ…å«éšè—çš„èŠ‚ç‚¹(æ¯”å¦‚display:noneçš„èŠ‚ç‚¹ï¼Œè¿˜æœ‰headèŠ‚ç‚¹)ï¼Œå› ä¸ºè¿™äº›èŠ‚ç‚¹ä¸ä¼šç”¨äºå‘ˆç°ï¼Œæ‰€ä»¥å°±ä¸ä¼šåŒ…å«åˆ°render treeä¸­ã€‚<br>æ³¨æ„ visibility:hiddenéšè—çš„å…ƒç´ è¿˜æ˜¯ä¼šåŒ…å«åˆ°render treeä¸­çš„ï¼Œå› ä¸ºvisibility:hidden ä¼šå½±å“å¸ƒå±€(layout)ï¼Œä¼šå æœ‰ç©ºé—´ã€‚æ ¹æ®css2çš„æ ‡å‡†ï¼Œrender treeä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½ç§°ä¸ºboxï¼Œboxæ‰€æœ‰å±æ€§ï¼šwidth,height,margin,padding,left,top,borderç­‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">4. &#96;&#96;&#96;</span><br><span class="line">   ä¸€æ—¦render treeæ„å»ºå®Œæ¯•åï¼Œæµè§ˆå™¨å°±å¯ä»¥æ ¹æ®render treeæ¥ç»˜åˆ¶é¡µé¢äº†ã€‚</span><br></pre></td></tr></table></figure></li>
</ol>
<h6 id="ç•Œé¢å›æµ"><a href="#ç•Œé¢å›æµ" class="headerlink" title="ç•Œé¢å›æµ"></a>ç•Œé¢å›æµ</h6><p>å½“render treeä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚è¿™å°±ç§°ä¸ºå›æµ(å…¶å®æˆ‘è§‰å¾—å«é‡æ–°å¸ƒå±€æ›´ç®€å•æ˜äº†äº›)ã€‚æ¯ä¸ªé¡µé¢è‡³å°‘éœ€è¦ä¸€æ¬¡å›æµï¼Œå°±æ˜¯åœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ã€‚</p>
<p>å½±å“å¸ƒå±€çš„æ“ä½œéƒ½ä¼šäº§ç”Ÿå›æµï¼Œå‘ç”Ÿå›æµ(èŠ‚ç‚¹é‡æ–°æ„å»º)ä¸€å®šä¼šè§¦å‘é‡ç»˜ã€‚</p>
<h6 id="ç•Œé¢é‡ç»˜"><a href="#ç•Œé¢é‡ç»˜" class="headerlink" title="ç•Œé¢é‡ç»˜"></a>ç•Œé¢é‡ç»˜</h6><p>å½“render treeä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚background-colorã€‚åˆ™å°±å«ç§°ä¸ºé‡ç»˜ã€‚</p>
<p>ç•Œé¢é‡ç»˜ä¸ä¸€å®šå­˜åœ¨ç•Œé¢å›æµã€‚</p>
<hr>
<h5 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h5><p>å½“å¯¹èŠ‚ç‚¹è¿›è¡Œæ·»åŠ ã€åˆ é™¤ç­‰æ“ä½œæ—¶ï¼Œéƒ½ä¼šå¼•èµ·é¡µé¢å›æµæ¥é‡æ–°æ„å»ºDOMæ¸²æŸ“é¡µé¢,</p>
<p><strong>è§£å†³ä»¥ä¸Šé—®é¢˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹å¼</strong></p>
<ol>
<li>å¯ä»¥å°†DOMå†™æˆhtmlå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨innerHTMLæ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œä½†è¿™ç§æ“ä½œä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œä¸”ä¸æ–¹ä¾¿ä½¿ç”¨èŠ‚ç‚¹æ“ä½œçš„ç›¸å…³æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨createDocumentFragmentæ¥ç®¡ç†èŠ‚ç‚¹æ—¶ï¼Œæ­¤æ—¶èŠ‚ç‚¹éƒ½åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯DOMæ ‘ä¸­ã€‚å¯¹èŠ‚ç‚¹çš„æ“ä½œä¸ä¼šå¼•å‘é¡µé¢å›æµ,å¸¦æ¥æ¯”è¾ƒå¥½çš„æ€§èƒ½ä½“éªŒã€‚</li>
</ol>
<p><strong>DocumentFragmentç‰¹ç‚¹</strong></p>
<ul>
<li>createDocumentFragmentçˆ¶èŠ‚ç‚¹ä¸ºnull</li>
<li>ç»§æ‰¿è‡ªnodeæ‰€ä»¥å¯ä»¥ä½¿ç”¨NODEçš„å±æ€§å’Œæ–¹æ³•</li>
<li>createDocumentFragmentåˆ›å»ºçš„æ˜¯æ–‡æ¡£ç¢ç‰‡ï¼ŒèŠ‚ç‚¹ç±»å‹nodeTypeä¸º11ã€‚å› ä¸ºä¸åœ¨DOMæ ‘ä¸­æ‰€ä»¥åªèƒ½é€šè¿‡JSè¿›è¡Œæ“ä½œ</li>
<li>æ·»åŠ createDocumentFragmentæ·»åŠ åˆ°DOMå,å°±ä¸å¯ä»¥å†æ“ä½œcreateDocumentFragmentå…ƒç´ äº†,è¿™ä¸DOMæ“ä½œæ˜¯ä¸åŒçš„</li>
<li>å°†æ–‡æ¡£DOMæ·»åŠ åˆ°createDocumentFragmentæ—¶,ä¼šç§»é™¤æ–‡æ¡£ä¸­çš„DOMå…ƒç´ </li>
<li>createDocumentFragmentåˆ›å»ºçš„èŠ‚ç‚¹æ·»åŠ åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šæ—¶ï¼Œä¼šå°†å­èŠ‚ç‚¹ä¸€å¹¶æ·»åŠ </li>
<li>createDocumentFragmentæ˜¯è™šæ‹ŸèŠ‚ç‚¹å¯¹è±¡ï¼Œä¸ç›´æ¥æ“ä½œDOMæ‰€ä»¥æ€§èƒ½æ›´å¥½</li>
<li>åœ¨æ’åº/ç§»åŠ¨ç­‰å¤§é‡DOMæ“ä½œæ—¶å»ºè®®ä½¿ç”¨createDocumentFragment</li>
</ul>
<h3 id="è¡¨å•æ§åˆ¶"><a href="#è¡¨å•æ§åˆ¶" class="headerlink" title="è¡¨å•æ§åˆ¶"></a>è¡¨å•æ§åˆ¶</h3><p>è¡¨å•æ˜¯é«˜é¢‘æ“ä½œçš„å…ƒç´ ï¼Œä¸‹é¢æ¥æŒæ¡è¡¨å•é¡¹çš„DOMæ“ä½œ</p>
<h4 id="è¡¨å•æŸ¥æ‰¾"><a href="#è¡¨å•æŸ¥æ‰¾" class="headerlink" title="è¡¨å•æŸ¥æ‰¾"></a>è¡¨å•æŸ¥æ‰¾</h4><p>JSä¸ºè¡¨å•çš„æ“ä½œæä¾›äº†å•ç‹¬çš„é›†åˆæ§åˆ¶</p>
<ul>
<li>ä½¿ç”¨<code>document.forms</code>è·å–è¡¨å•é›†åˆ</li>
<li>ä½¿ç”¨<code>document.forms.formName</code>è·å–å¯¹åº”nameå±æ€§çš„formè¡¨å•</li>
<li>ä½¿ç”¨<code>form.elements.inputName\form.inputName</code>è·å–formä¸­å¯¹åº”nameå±æ€§çš„inputè¡¨å•å…ƒç´ </li>
<li>é’ˆå¯¹radio/checkboxè·å–çš„è¡¨å•é¡¹æ˜¯ä¸€ä¸ªé›†åˆ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;form action&#x3D;&quot;&quot; name&#x3D;&quot;from1&quot;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;form1_input&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const form &#x3D; document.forms.form1</span><br><span class="line">  console.log(form.elements.form1_input)</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¡¨å•é¡¹å¯ä»¥åå‘æŸ¥æ‰¾FORM</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;form action=&quot;&quot; name=&quot;form1&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; name=&quot;form1_input&quot; /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const form = document.forms.form1</span><br><span class="line">  console.log(form.form1_input.form === form) //true</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="æ ·å¼ç®¡ç†"><a href="#æ ·å¼ç®¡ç†" class="headerlink" title="æ ·å¼ç®¡ç†"></a>æ ·å¼ç®¡ç†</h3><p>é€šè¿‡DOMä¿®æ”¹æ ·å¼å¯ä»¥é€šè¿‡æ›´æ”¹å…ƒç´ çš„classå±æ€§æˆ–é€šè¿‡styleå¯¹è±¡è®¾ç½®è¡Œæ ·å¼æ¥å®Œæˆã€‚</p>
<ul>
<li>å»ºè®®ä½¿ç”¨classæ§åˆ¶æ ·å¼ï¼Œå°†ä»»åŠ¡äº¤ç»™CSSå¤„ç†ï¼Œæ›´ç®€å•é«˜æ•ˆ</li>
</ul>
<h4 id="æ‰¹é‡è®¾ç½®"><a href="#æ‰¹é‡è®¾ç½®" class="headerlink" title="æ‰¹é‡è®¾ç½®"></a>æ‰¹é‡è®¾ç½®</h4><ul>
<li>ä½¿ç”¨<code>className</code>æˆ–<code>setAttribute</code>è®¾ç½®calsså±æ€§ï¼Œ<strong>ä¼šè¦†ç›–åŸæ¥çš„ç±»å</strong></li>
</ul>
<p>ä½¿ç”¨JSçš„classNameå¯ä»¥æ‰¹é‡è®¾ç½®æ ·å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  </span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">  app.className = &#x27;astfn&#x27;</span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡ç‰¹å¾çš„æ–¹å¼æ¥æ›´æ”¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  </span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">  app.setAttribute(&#x27;class&#x27;, &#x27;astfn&#x27;)</span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="classList"><a href="#classList" class="headerlink" title="classList"></a>classList</h4><p>classListæ“ä½œçš„æ˜¯classå±æ€§åˆ—è¡¨ï¼Œç”¨äºæ“ä½œå•ä¸ªclassNameï¼Œä¸ä¼šå½±å“å…¶å®ƒçš„classNameã€‚å¦‚æœå¯¹ç±»å•ç‹¬è¿›è¡Œæ§åˆ¶ä½¿ç”¨ classListå±æ€§æ“ä½œ</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>node.classList.add</td>
<td>æ·»åŠ ç±»å</td>
</tr>
<tr>
<td>node.classList.remove</td>
<td>åˆ é™¤ç±»å</td>
</tr>
<tr>
<td>node.classList.toggle</td>
<td>åˆ‡æ¢ç±»å</td>
</tr>
<tr>
<td>node.classList.contains</td>
<td>ç±»åæ£€æµ‹</td>
</tr>
</tbody></table>
<p>åœ¨å…ƒç´ çš„åŸæœ‰classä¸Šæ·»åŠ æ–°class</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  </span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">  app.classList.add(&quot;ashun&quot;)</span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨classListä¹Ÿå¯ä»¥ç§»é™¤classåˆ—è¡¨ä¸­çš„æŸä¸ªclass</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  </span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">  app.classList.remove(&#x27;container&#x27;)</span><br><span class="line">  console.log(app.getAttribute(&quot;class&quot;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨toggleåˆ‡æ¢ç±»ï¼Œå³ç±»å·²ç»å­˜åœ¨æ—¶åˆ é™¤ï¼Œä¸å­˜åœ¨æ—¶æ·»åŠ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  app.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">    this.classList.toggle(&#x27;astfn&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨containsæ£€æŸ¥classæ˜¯å¦å­˜åœ¨</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  console.log(app.classList.contains(&#x27;container&#x27;)) //true</span><br><span class="line">  console.log(app.classList.contains(&#x27;as&#x27;)) //false</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="è®¾ç½®è¡Œæ ·å¼"><a href="#è®¾ç½®è¡Œæ ·å¼" class="headerlink" title="è®¾ç½®è¡Œæ ·å¼"></a>è®¾ç½®è¡Œæ ·å¼</h4><p>é€šè¿‡styleå¯¹è±¡å¯ä»¥å¯¹è¡Œå†…æ ·å¼å±æ€§å•ç‹¬è®¾ç½®ï¼Œä½¿ç”¨cssTextå¯ä»¥æ‰¹é‡è®¾ç½®è¡Œå†…æ ·å¼</p>
<blockquote>
<p>ç›´æ¥é€šè¿‡dom.propèƒ½å¤Ÿè®¿é—®/ä¿®æ”¹èŠ‚ç‚¹çš„å¯¹åº”å±æ€§,é‚£ä¹ˆè¿™ä¸ªå±æ€§å°±æ˜¯ä¹‹å‰è®²åˆ°çš„æ ‡å‡†å±æ€§.</p>
<p>é€šè¿‡styleèƒ½å¤Ÿç›´æ¥è®¿é—®/ä¿®æ”¹ èŠ‚ç‚¹çš„æ ·å¼å±æ€§ , å³æ“ä½œçš„éƒ½æ˜¯è¡Œå†…æ ·å¼.</p>
</blockquote>
<p><strong>æ ·å¼å±æ€§è®¾ç½®</strong></p>
<p>ä½¿ç”¨èŠ‚ç‚¹çš„styleå¯¹è±¡æ¥è®¾ç½®è¡Œæ ·å¼</p>
<ul>
<li>å¤šä¸ªå•è¯çš„å±æ€§ä½¿ç”¨é©¼å³°è¿›è¡Œå‘½å</li>
</ul>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  app.style.backgroundColor = &#x27;red&#x27;</span><br><span class="line">  app.style.color = &#x27;yellow&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>æ‰¹é‡è®¾ç½®è¡Œæ ·å¼</strong></p>
<p>ä½¿ç”¨ <code>cssText=&quot;...cssStr&quot;</code>å±æ€§å¯ä»¥æ‰¹é‡è®¾ç½®è¡Œæ ·å¼ï¼Œ<strong>å±æ€§åå’Œå†™CSSä¸€æ ·ä¸éœ€è¦è€ƒè™‘é©¼å³°å‘½å</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  app.style.cssText = `background-color:red;color:yellow`</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>setAttribute</code>æ”¹å˜styleç‰¹å¾æ¥æ‰¹é‡è®¾ç½®æ ·å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot; class=&quot;d-flex container&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  let app = document.getElementById(&#x27;app&#x27;)</span><br><span class="line">  app.setAttribute(&#x27;style&#x27;, `background-color:red;color:yellow;`)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h4 id="è·å–æ ·å¼"><a href="#è·å–æ ·å¼" class="headerlink" title="è·å–æ ·å¼"></a>è·å–æ ·å¼</h4><ul>
<li>å¯é€šè¿‡<code>dom.style.prop</code>æˆ–<code>getAttribute</code>è·å–è¡Œå†…æ ·å¼</li>
<li>å¯é€šè¿‡<code>window.getComputedStyle(dom).prop</code>å¯¹è±¡è·å–æ ·å¼å±æ€§ï¼Œä¸‹é¢è¿›è¡Œè¯´æ˜</li>
</ul>
<p><code>style</code>å’Œ<code>getAttribute</code>åªèƒ½è·å–è¡Œæ ·å¼</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div &#123;</span><br><span class="line">    background-color: black;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;&lt;div id=&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;/div&gt;&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let app = document.getElementById(&quot;app&quot;);</span><br><span class="line"></span><br><span class="line">      function getLineStyle(dom) &#123;</span><br><span class="line">        console.log(`getAttribute---$&#123;dom.getAttribute(&quot;style&quot;)&#125;`);</span><br><span class="line">        console.log(`dom.stype.prop---$&#123;dom.style.backgroundColor&#125;`);</span><br><span class="line">      &#125;</span><br><span class="line">      app.addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">        getLineStyle(app);</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          app.style.backgroundColor = &quot;yellowgreen&quot;;</span><br><span class="line">          getLineStyle(app);</span><br><span class="line">        &#125;, 100);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<p><strong>getComputedStyle</strong></p>
<p>ä½¿ç”¨window.getComputedStyleå¯è·å–æ‰€æœ‰åº”ç”¨åœ¨å…ƒç´ ä¸Šçš„æ ·å¼å±æ€§</p>
<ul>
<li>å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…ƒç´ </li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ªç±»</li>
<li>è·å–è®¡ç®—åçš„æ ·å¼å±æ€§ï¼Œæ˜¯æ‰€æœ‰æ ·å¼å¤åˆçš„ç»“æœ , æ‰€ä»¥å–å¾—çš„å•ä½å’Œå®šä¹‰æ—¶çš„å¯èƒ½ä¼šæœ‰ä¸åŒ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  div &#123;</span><br><span class="line">    background-color: black;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;&lt;div id&#x3D;&quot;app&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let app &#x3D; document.getElementById(&quot;app&quot;);</span><br><span class="line">      app.addEventListener(&quot;click&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">        console.log(window.getComputedStyle(app).backgroundColor);</span><br><span class="line">        setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          app.style.backgroundColor &#x3D; &quot;yellowgreen&quot;;</span><br><span class="line">          console.log(window.getComputedStyle(app).backgroundColor);</span><br><span class="line">        &#125;, 100);</span><br><span class="line">      &#125;);</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>window.getComputedStyleè·å–çš„æ˜¯è®¡ç®—åçš„æ ·å¼å±æ€§ , æ˜¯æ‰€æœ‰æ ·å¼å¤åˆçš„ç»“æœ</p>
<ul>
<li>ç”±äºè¡Œå†…æ ·å¼ä¼˜å…ˆçº§åˆ«é«˜ , æ‰€ä»¥æ‰“å°çš„æ˜¯è“è‰²å¯¹åº”çš„rgbå€¼</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">div &#123;</span><br><span class="line">	background-color: black;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;body&gt;&lt;div id&#x3D;&quot;app&quot; style&#x3D;&quot;background-color: blue&quot;&gt;é˜¿é¡ºç‰¹çƒ¦æ¼&lt;&#x2F;div&gt;&lt;&#x2F;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">      let app &#x3D; document.getElementById(&quot;app&quot;);</span><br><span class="line">      console.log(window.getComputedStyle(app).backgroundColor);  &#x2F;&#x2F;rgb(0,0,255)</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Webå‰ç«¯</category>
        <category>JavaScriptå¤§æ€»ç»“</category>
      </categories>
  </entry>
</search>
